diff --git a/dist/browser/coder/borsh/accounts.d.ts b/dist/browser/coder/borsh/accounts.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e4face153c399b71d6e5d066299889432cae2524
--- /dev/null
+++ b/dist/browser/coder/borsh/accounts.d.ts
@@ -0,0 +1,34 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { Idl, IdlTypeDef } from "../../idl.js";
+import { AccountsCoder } from "../index.js";
+/**
+ * Number of bytes of the account discriminator.
+ */
+export declare const ACCOUNT_DISCRIMINATOR_SIZE = 8;
+/**
+ * Encodes and decodes account objects.
+ */
+export declare class BorshAccountsCoder<A extends string = string> implements AccountsCoder {
+    /**
+     * Maps account type identifier to a layout.
+     */
+    private accountLayouts;
+    /**
+     * IDL whose acconts will be coded.
+     */
+    private idl;
+    constructor(idl: Idl);
+    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
+    decode<T = any>(accountName: A, data: Buffer): T;
+    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
+    memcmp(accountName: A, appendData?: Buffer): any;
+    size(idlAccount: IdlTypeDef): number;
+    /**
+     * Calculates and returns a unique 8 byte discriminator prepended to all anchor accounts.
+     *
+     * @param name The name of the account to calculate the discriminator.
+     */
+    static accountDiscriminator(name: string): Buffer;
+}
+//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/accounts.d.ts.map b/dist/browser/coder/borsh/accounts.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..5750b072a82e5bfcf54de48196ca1dcef6d44808
--- /dev/null
+++ b/dist/browser/coder/borsh/accounts.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAI5C;;GAEG;AACH,eAAO,MAAM,0BAA0B,IAAI,CAAC;AAE5C;;GAEG;AACH,qBAAa,kBAAkB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACvD,YAAW,aAAa;IAExB;;OAEG;IACH,OAAO,CAAC,cAAc,CAAuC;IAE7D;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAsBd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAYlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC;IAShD,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAUvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG;IAUhD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;IAM3C;;;;OAIG;WACW,oBAAoB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;CAIzD"}
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/event.d.ts b/dist/browser/coder/borsh/event.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..a76e7d3e3830445d82ed3b7c21d3de1073311869
--- /dev/null
+++ b/dist/browser/coder/borsh/event.d.ts
@@ -0,0 +1,19 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { Idl, IdlEvent } from "../../idl.js";
+import { Event } from "../../program/event.js";
+import { EventCoder } from "../index.js";
+export declare class BorshEventCoder implements EventCoder {
+    /**
+     * Maps account type identifier to a layout.
+     */
+    private layouts;
+    /**
+     * Maps base64 encoded event discriminator to event name.
+     */
+    private discriminators;
+    constructor(idl: Idl);
+    decode<E extends IdlEvent = IdlEvent, T = Record<string, never>>(log: string): Event<E, T> | null;
+}
+export declare function eventDiscriminator(name: string): Buffer;
+//# sourceMappingURL=event.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/event.d.ts.map b/dist/browser/coder/borsh/event.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..f2220dd8e398aea4df08e226d8168d4e941c1ef2
--- /dev/null
+++ b/dist/browser/coder/borsh/event.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/event.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAc,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,KAAK,EAAa,MAAM,wBAAwB,CAAC;AAE1D,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC,qBAAa,eAAgB,YAAW,UAAU;IAChD;;OAEG;IACH,OAAO,CAAC,OAAO,CAAsB;IAErC;;OAEG;IACH,OAAO,CAAC,cAAc,CAAsB;gBAEzB,GAAG,EAAE,GAAG;IA6BpB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,EACpE,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CA2BtB;AAED,wBAAgB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEvD"}
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/idl.d.ts b/dist/browser/coder/borsh/idl.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..fe606f24bec5e6b0d737833f38565b43df77e79d
--- /dev/null
+++ b/dist/browser/coder/borsh/idl.d.ts
@@ -0,0 +1,9 @@
+import { Layout } from "buffer-layout";
+import { IdlField, IdlTypeDef } from "../../idl.js";
+export declare class IdlCoder {
+    static fieldLayout(field: {
+        name?: string;
+    } & Pick<IdlField, "type">, types?: IdlTypeDef[]): Layout;
+    static typeDefLayout(typeDef: IdlTypeDef, types?: IdlTypeDef[], name?: string): Layout;
+}
+//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/idl.d.ts.map b/dist/browser/coder/borsh/idl.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..df659f1b4f59a9098e6cf4489fb7730f2a52c2d2
--- /dev/null
+++ b/dist/browser/coder/borsh/idl.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEvC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAA2B,MAAM,cAAc,CAAC;AAI7E,qBAAa,QAAQ;WACL,WAAW,CACvB,KAAK,EAAE;QAAE,IAAI,CAAC,EAAE,MAAM,CAAA;KAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,EACjD,KAAK,CAAC,EAAE,UAAU,EAAE,GACnB,MAAM;WAwGK,aAAa,CACzB,OAAO,EAAE,UAAU,EACnB,KAAK,GAAE,UAAU,EAAO,EACxB,IAAI,CAAC,EAAE,MAAM,GACZ,MAAM;CAqCV"}
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/index.d.ts b/dist/browser/coder/borsh/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f2dc711ec807ff67d435845a593780566c04ec87
--- /dev/null
+++ b/dist/browser/coder/borsh/index.d.ts
@@ -0,0 +1,39 @@
+import { Idl } from "../../idl.js";
+import { BorshInstructionCoder } from "./instruction.js";
+import { BorshAccountsCoder } from "./accounts.js";
+import { BorshEventCoder } from "./event.js";
+import { BorshStateCoder } from "./state.js";
+import { BorshTypesCoder } from "./types.js";
+import { Coder } from "../index.js";
+export { BorshInstructionCoder } from "./instruction.js";
+export { BorshAccountsCoder, ACCOUNT_DISCRIMINATOR_SIZE } from "./accounts.js";
+export { BorshEventCoder, eventDiscriminator } from "./event.js";
+export { BorshStateCoder, stateDiscriminator } from "./state.js";
+/**
+ * BorshCoder is the default Coder for Anchor programs implementing the
+ * borsh based serialization interface.
+ */
+export declare class BorshCoder<A extends string = string, T extends string = string> implements Coder {
+    /**
+     * Instruction coder.
+     */
+    readonly instruction: BorshInstructionCoder;
+    /**
+     * Account coder.
+     */
+    readonly accounts: BorshAccountsCoder<A>;
+    /**
+     * Coder for state structs.
+     */
+    readonly state?: BorshStateCoder | undefined;
+    /**
+     * Coder for events.
+     */
+    readonly events: BorshEventCoder;
+    /**
+     * Coder for user-defined types.
+     */
+    readonly types: BorshTypesCoder<T>;
+    constructor(idl: Idl);
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/index.d.ts.map b/dist/browser/coder/borsh/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..2e22da9f0ddc9113d01fe1eafc206deaa18e295a
--- /dev/null
+++ b/dist/browser/coder/borsh/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,0BAA0B,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AACjE,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEjE;;;GAGG;AACH,qBAAa,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1E,YAAW,KAAK;IAEhB;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,qBAAqB,CAAC;IAE5C;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAEzC;;OAEG;IACH,QAAQ,CAAC,KAAK,CAAC,EAAE,eAAe,GAAG,SAAS,CAAC;IAE7C;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,eAAe,CAAC;IAEjC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;gBAEvB,GAAG,EAAE,GAAG;CASrB"}
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/instruction.d.ts b/dist/browser/coder/borsh/instruction.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0a36a142a386d6d9c7bb711b9fa9e5aea43bcc44
--- /dev/null
+++ b/dist/browser/coder/borsh/instruction.d.ts
@@ -0,0 +1,59 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { AccountMeta, PublicKey } from "@solana/web3.js";
+import { Idl } from "../../idl.js";
+import { InstructionCoder } from "../index.js";
+/**
+ * Namespace for state method function signatures.
+ */
+export declare const SIGHASH_STATE_NAMESPACE = "state";
+/**
+ * Namespace for global instruction function signatures (i.e. functions
+ * that aren't namespaced by the state or any of its trait implementations).
+ */
+export declare const SIGHASH_GLOBAL_NAMESPACE = "global";
+/**
+ * Encodes and decodes program instructions.
+ */
+export declare class BorshInstructionCoder implements InstructionCoder {
+    private idl;
+    private ixLayout;
+    private sighashLayouts;
+    constructor(idl: Idl);
+    /**
+     * Encodes a program instruction.
+     */
+    encode(ixName: string, ix: any): Buffer;
+    /**
+     * Encodes a program state instruction.
+     */
+    encodeState(ixName: string, ix: any): Buffer;
+    private _encode;
+    private static parseIxLayout;
+    /**
+     * Decodes a program instruction.
+     */
+    decode(ix: Buffer | string, encoding?: "hex" | "base58"): Instruction | null;
+    /**
+     * Returns a formatted table of all the fields in the given instruction data.
+     */
+    format(ix: Instruction, accountMetas: AccountMeta[]): InstructionDisplay | null;
+}
+export declare type Instruction = {
+    name: string;
+    data: Object;
+};
+export declare type InstructionDisplay = {
+    args: {
+        name: string;
+        type: string;
+        data: string;
+    }[];
+    accounts: {
+        name?: string;
+        pubkey: PublicKey;
+        isSigner: boolean;
+        isWritable: boolean;
+    }[];
+};
+//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/instruction.d.ts.map b/dist/browser/coder/borsh/instruction.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..810b504d061680cc1bc56d9e8dada3d73cd5af36
--- /dev/null
+++ b/dist/browser/coder/borsh/instruction.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAKhC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EACL,GAAG,EAYJ,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAG/C;;GAEG;AACH,eAAO,MAAM,uBAAuB,UAAU,CAAC;AAC/C;;;GAGG;AACH,eAAO,MAAM,wBAAwB,WAAW,CAAC;AAEjD;;GAEG;AACH,qBAAa,qBAAsB,YAAW,gBAAgB;IAOzC,OAAO,CAAC,GAAG;IAL9B,OAAO,CAAC,QAAQ,CAAsB;IAGtC,OAAO,CAAC,cAAc,CAAgD;gBAE3C,GAAG,EAAE,GAAG;IAyBnC;;OAEG;IACI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAI9C;;OAEG;IACI,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAInD,OAAO,CAAC,OAAO;IAYf,OAAO,CAAC,MAAM,CAAC,aAAa;IA6B5B;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,MAAM,GAAG,MAAM,EACnB,QAAQ,GAAE,KAAK,GAAG,QAAgB,GACjC,WAAW,GAAG,IAAI;IAgBrB;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,WAAW,EACf,YAAY,EAAE,WAAW,EAAE,GAC1B,kBAAkB,GAAG,IAAI;CAG7B;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd,CAAC;AAEF,oBAAY,kBAAkB,GAAG;IAC/B,IAAI,EAAE;QAAE,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAA;KAAE,EAAE,CAAC;IACrD,QAAQ,EAAE;QACR,IAAI,CAAC,EAAE,MAAM,CAAC;QACd,MAAM,EAAE,SAAS,CAAC;QAClB,QAAQ,EAAE,OAAO,CAAC;QAClB,UAAU,EAAE,OAAO,CAAC;KACrB,EAAE,CAAC;CACL,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/state.d.ts b/dist/browser/coder/borsh/state.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..745a2181207253a0a032a4502aaa980072babaee
--- /dev/null
+++ b/dist/browser/coder/borsh/state.d.ts
@@ -0,0 +1,12 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { Idl } from "../../idl.js";
+export declare class BorshStateCoder {
+    private layout;
+    private maxSize;
+    constructor(idl: Idl);
+    encode<T = any>(name: string, account: T): Promise<Buffer>;
+    decode<T = any>(ix: Buffer): T;
+}
+export declare function stateDiscriminator(name: string): Promise<Buffer>;
+//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/state.d.ts.map b/dist/browser/coder/borsh/state.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..a13b9eebf9708d5b2dffaff2d57d329bfa1d4a98
--- /dev/null
+++ b/dist/browser/coder/borsh/state.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAMnC,qBAAa,eAAe;IAC1B,OAAO,CAAC,MAAM,CAAS;IACvB,OAAO,CAAC,OAAO,CAAqB;gBAEjB,GAAG,EAAE,GAAG;IAQd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAUhE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;CAKtC;AAGD,wBAAsB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAGtE"}
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/types.d.ts b/dist/browser/coder/borsh/types.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0a09c326441770296acf873dd7cd942b2c5bebab
--- /dev/null
+++ b/dist/browser/coder/borsh/types.d.ts
@@ -0,0 +1,21 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { Idl } from "../../idl.js";
+import { TypesCoder } from "../index.js";
+/**
+ * Encodes and decodes user-defined types.
+ */
+export declare class BorshTypesCoder<N extends string = string> implements TypesCoder {
+    /**
+     * Maps type name to a layout.
+     */
+    private typeLayouts;
+    /**
+     * IDL whose types will be coded.
+     */
+    private idl;
+    constructor(idl: Idl);
+    encode<T = any>(typeName: N, type: T): Buffer;
+    decode<T = any>(typeName: N, typeData: Buffer): T;
+}
+//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/borsh/types.d.ts.map b/dist/browser/coder/borsh/types.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..8beee5ba0ec2f265e7005b00f8d31def8e15c11a
--- /dev/null
+++ b/dist/browser/coder/borsh/types.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../src/coder/borsh/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAGzC;;GAEG;AACH,qBAAa,eAAe,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAAE,YAAW,UAAU;IAC3E;;OAEG;IACH,OAAO,CAAC,WAAW,CAAuC;IAE1D;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAqBpB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM;IAW7C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC;CAQzD"}
\ No newline at end of file
diff --git a/dist/browser/coder/common.d.ts b/dist/browser/coder/common.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e6532db54ce6ef89977d3757fcd047956bb62ba1
--- /dev/null
+++ b/dist/browser/coder/common.d.ts
@@ -0,0 +1,5 @@
+import { Idl, IdlTypeDef } from "../idl.js";
+import * as BufferLayout from "buffer-layout";
+export declare function layoutSize(layout: BufferLayout.Layout): number;
+export declare function accountSize(idl: Idl, idlAccount: IdlTypeDef): number;
+//# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/common.d.ts.map b/dist/browser/coder/common.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..6e86e9ae7f124b176893c31c8590d9a6365aefe7
--- /dev/null
+++ b/dist/browser/coder/common.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../src/coder/common.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAY,UAAU,EAA2B,MAAM,WAAW,CAAC;AAE/E,OAAO,KAAK,YAAY,MAAM,eAAe,CAAC;AAsB9C,wBAAgB,UAAU,CAAC,MAAM,EAAE,YAAY,CAAC,MAAM,GAAG,MAAM,CA4B9D;AAED,wBAAgB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,GAAG,MAAM,CAyBpE"}
\ No newline at end of file
diff --git a/dist/browser/coder/index.d.ts b/dist/browser/coder/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..4749bace77292d175f189ddb6dbe50094406cdf6
--- /dev/null
+++ b/dist/browser/coder/index.d.ts
@@ -0,0 +1,54 @@
+/// <reference types="node" />
+import { IdlEvent, IdlTypeDef } from "../idl.js";
+import { Event } from "../program/event.js";
+export * from "./borsh/index.js";
+export * from "./spl-token/index.js";
+export * from "./system/index.js";
+/**
+ * Coder provides a facade for encoding and decoding all IDL related objects.
+ */
+export interface Coder<A extends string = string, T extends string = string> {
+    /**
+     * Instruction coder.
+     */
+    readonly instruction: InstructionCoder;
+    /**
+     * Account coder.
+     */
+    readonly accounts: AccountsCoder<A>;
+    /**
+     * Coder for state structs.
+     */
+    readonly state?: StateCoder | undefined;
+    /**
+     * Coder for events.
+     */
+    readonly events: EventCoder;
+    /**
+     * Coder for user-defined types.
+     */
+    readonly types: TypesCoder<T>;
+}
+export interface StateCoder {
+    encode<T = any>(name: string, account: T): Promise<Buffer>;
+    decode<T = any>(ix: Buffer): T;
+}
+export interface AccountsCoder<A extends string = string> {
+    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
+    decode<T = any>(accountName: A, ix: Buffer): T;
+    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
+    memcmp(accountName: A, appendData?: Buffer): any;
+    size(idlAccount: IdlTypeDef): number;
+}
+export interface InstructionCoder {
+    encode(ixName: string, ix: any): Buffer;
+    encodeState(ixName: string, ix: any): Buffer;
+}
+export interface EventCoder {
+    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(log: string): Event<E, T> | null;
+}
+export interface TypesCoder<N extends string = string> {
+    encode<T = any>(typeName: N, type: T): Buffer;
+    decode<T = any>(typeName: N, typeData: Buffer): T;
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/index.d.ts.map b/dist/browser/coder/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..1efcdf5e6a6bf5846ae103c8e16e19ffbb7ff02c
--- /dev/null
+++ b/dist/browser/coder/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/coder/index.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAE5C,cAAc,kBAAkB,CAAC;AACjC,cAAc,sBAAsB,CAAC;AACrC,cAAc,mBAAmB,CAAC;AAElC;;GAEG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM;IACzE;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC;IAEvC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;IAEpC;;OAEG;IACH,QAAQ,CAAC,KAAK,CAAC,EAAE,UAAU,GAAG,SAAS,CAAC;IAExC;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC;IAE5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;CAC/B;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,aAAa,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACtD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IAC/C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IACxD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM,CAAC;CACtC;AAED,MAAM,WAAW,gBAAgB;IAC/B,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;IACxC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;CAC9C;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;CACvB;AAED,MAAM,WAAW,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACnD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC;IAC9C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;CACnD"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/accounts.d.ts b/dist/browser/coder/spl-associated-token/accounts.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..ee5fef19537012769dde3d9efb547af58dc0ba2d
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/accounts.d.ts
@@ -0,0 +1,13 @@
+/// <reference types="node" />
+import { AccountsCoder } from "../index.js";
+import { Idl, IdlTypeDef } from "../../idl.js";
+export declare class SplAssociatedTokenAccountsCoder<A extends string = string> implements AccountsCoder {
+    private idl;
+    constructor(idl: Idl);
+    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
+    decode<T = any>(accountName: A, ix: Buffer): T;
+    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
+    memcmp(accountName: A, _appendData?: Buffer): any;
+    size(idlAccount: IdlTypeDef): number;
+}
+//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/accounts.d.ts.map b/dist/browser/coder/spl-associated-token/accounts.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..70afa868653effcfdb00e0ec79bc76f7868582f5
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/accounts.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-associated-token/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,+BAA+B,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACpE,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAQlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IASvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAQjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/events.d.ts b/dist/browser/coder/spl-associated-token/events.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..3ff9bad920f4e8c89c3bfd61bc27732b2a5222be
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/events.d.ts
@@ -0,0 +1,9 @@
+import { EventCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { Event } from "../../program/event";
+import { IdlEvent } from "../../idl";
+export declare class SplAssociatedTokenEventsCoder implements EventCoder {
+    constructor(_idl: Idl);
+    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(_log: string): Event<E, T> | null;
+}
+//# sourceMappingURL=events.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/events.d.ts.map b/dist/browser/coder/spl-associated-token/events.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..4e1a0b89075730ae91c5ec9e02f46ff0109da5b4
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/events.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"events.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-associated-token/events.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAErC,qBAAa,6BAA8B,YAAW,UAAU;gBAClD,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,IAAI,EAAE,MAAM,GACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CAGtB"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/index.d.ts b/dist/browser/coder/spl-associated-token/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b970a61e01da52c65e5fa6ca11972f1f57d88e3d
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/index.d.ts
@@ -0,0 +1,19 @@
+import { Idl } from "../../idl.js";
+import { Coder } from "../index.js";
+import { SplAssociatedTokenInstructionCoder } from "./instruction.js";
+import { SplAssociatedTokenStateCoder } from "./state.js";
+import { SplAssociatedTokenAccountsCoder } from "./accounts.js";
+import { SplAssociatedTokenEventsCoder } from "./events.js";
+import { SplAssociatedTokenTypesCoder } from "./types.js";
+/**
+ * Coder for the SPL token program.
+ */
+export declare class SplAssociatedTokenCoder implements Coder {
+    readonly instruction: SplAssociatedTokenInstructionCoder;
+    readonly accounts: SplAssociatedTokenAccountsCoder;
+    readonly state: SplAssociatedTokenStateCoder;
+    readonly events: SplAssociatedTokenEventsCoder;
+    readonly types: SplAssociatedTokenTypesCoder;
+    constructor(idl: Idl);
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/index.d.ts.map b/dist/browser/coder/spl-associated-token/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..f705511ef44b95af29e34fe65ced665f5b8d2e27
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-associated-token/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAE,kCAAkC,EAAE,MAAM,kBAAkB,CAAC;AACtE,OAAO,EAAE,4BAA4B,EAAE,MAAM,YAAY,CAAC;AAC1D,OAAO,EAAE,+BAA+B,EAAE,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,6BAA6B,EAAE,MAAM,aAAa,CAAC;AAC5D,OAAO,EAAE,4BAA4B,EAAE,MAAM,YAAY,CAAC;AAE1D;;GAEG;AACH,qBAAa,uBAAwB,YAAW,KAAK;IACnD,QAAQ,CAAC,WAAW,EAAE,kCAAkC,CAAC;IACzD,QAAQ,CAAC,QAAQ,EAAE,+BAA+B,CAAC;IACnD,QAAQ,CAAC,KAAK,EAAE,4BAA4B,CAAC;IAC7C,QAAQ,CAAC,MAAM,EAAE,6BAA6B,CAAC;IAC/C,QAAQ,CAAC,KAAK,EAAE,4BAA4B,CAAC;gBAEjC,GAAG,EAAE,GAAG;CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/instruction.d.ts b/dist/browser/coder/spl-associated-token/instruction.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..41064e297d2bdd450101fe151f1834e204efdae0
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/instruction.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { Idl } from "../../idl.js";
+import { InstructionCoder } from "../index.js";
+export declare class SplAssociatedTokenInstructionCoder implements InstructionCoder {
+    constructor(_: Idl);
+    encode(ixName: string, _: any): Buffer;
+    encodeState(_ixName: string, _ix: any): Buffer;
+}
+//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/instruction.d.ts.map b/dist/browser/coder/spl-associated-token/instruction.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..92e86897c7283f631f833b8f5d85b1f400cd22dc
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/instruction.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-associated-token/instruction.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C,qBAAa,kCAAmC,YAAW,gBAAgB;gBAC7D,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,GAAG,MAAM;IAWtC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/state.d.ts b/dist/browser/coder/spl-associated-token/state.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..a50f68a9ed8f33d8d7f1408da18519380dc31ea2
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/state.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { StateCoder } from "../index.js";
+import { Idl } from "../../idl";
+export declare class SplAssociatedTokenStateCoder implements StateCoder {
+    constructor(_idl: Idl);
+    encode<T = any>(_name: string, _account: T): Promise<Buffer>;
+    decode<T = any>(_ix: Buffer): T;
+}
+//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/state.d.ts.map b/dist/browser/coder/spl-associated-token/state.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..6e79c64fb4d5a59a9a52bbeed2bdd4f3aa964e15
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/state.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-associated-token/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAEhC,qBAAa,4BAA6B,YAAW,UAAU;gBACjD,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAG5D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,MAAM,GAAG,CAAC;CAGhC"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/types.d.ts b/dist/browser/coder/spl-associated-token/types.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..007771c700be42864fb44478e98497dc6c3191de
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/types.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { TypesCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+export declare class SplAssociatedTokenTypesCoder implements TypesCoder {
+    constructor(_idl: Idl);
+    encode<T = any>(_name: string, _type: T): Buffer;
+    decode<T = any>(_name: string, _typeData: Buffer): T;
+}
+//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-associated-token/types.d.ts.map b/dist/browser/coder/spl-associated-token/types.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..6a353578957bbf81871f31896548eb16fd5de9e4
--- /dev/null
+++ b/dist/browser/coder/spl-associated-token/types.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-associated-token/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,4BAA6B,YAAW,UAAU;gBACjD,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,MAAM;IAGhD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC;CAGrD"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/accounts.d.ts b/dist/browser/coder/spl-token/accounts.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..651e825adf104d731aa4b63368a13638994fe867
--- /dev/null
+++ b/dist/browser/coder/spl-token/accounts.d.ts
@@ -0,0 +1,13 @@
+/// <reference types="node" />
+import { AccountsCoder } from "../index.js";
+import { Idl, IdlTypeDef } from "../../idl.js";
+export declare class SplTokenAccountsCoder<A extends string = string> implements AccountsCoder {
+    private idl;
+    constructor(idl: Idl);
+    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
+    decode<T = any>(accountName: A, ix: Buffer): T;
+    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
+    memcmp(accountName: A, _appendData?: Buffer): any;
+    size(idlAccount: IdlTypeDef): number;
+}
+//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/accounts.d.ts.map b/dist/browser/coder/spl-token/accounts.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..5e194681bc378fcd71f929e918c45c40e648586b
--- /dev/null
+++ b/dist/browser/coder/spl-token/accounts.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,qBAAqB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1D,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAoBlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAevD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAkBjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/buffer-layout.d.ts b/dist/browser/coder/spl-token/buffer-layout.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..9d9eecf0f6b367db7f856524978ba698ff7e2cdd
--- /dev/null
+++ b/dist/browser/coder/spl-token/buffer-layout.d.ts
@@ -0,0 +1,27 @@
+/// <reference types="node" />
+import BN from "bn.js";
+import { Layout } from "buffer-layout";
+import { PublicKey } from "@solana/web3.js";
+export declare function uint64(property?: string): Layout<u64>;
+export declare function bool(property?: string): Layout<boolean>;
+export declare function publicKey(property?: string): Layout<PublicKey>;
+export declare function coption<T>(layout: Layout<T>, property?: string): Layout<T | null>;
+export declare class COptionLayout<T> extends Layout<T | null> {
+    layout: Layout<T>;
+    discriminator: Layout<number>;
+    constructor(layout: Layout<T>, property?: string);
+    encode(src: T | null, b: Buffer, offset?: number): number;
+    decode(b: Buffer, offset?: number): T | null;
+    getSpan(b: Buffer, offset?: number): number;
+}
+export declare class u64 extends BN {
+    /**
+     * Convert to Buffer representation
+     */
+    toBuffer(): Buffer;
+    /**
+     * Construct a u64 from Buffer representation
+     */
+    static fromBuffer(buffer: Buffer): u64;
+}
+//# sourceMappingURL=buffer-layout.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/buffer-layout.d.ts.map b/dist/browser/coder/spl-token/buffer-layout.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..5a6aee01a6b673474a5b5e40e238fa563b4b02f6
--- /dev/null
+++ b/dist/browser/coder/spl-token/buffer-layout.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer-layout.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvB,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,wBAAgB,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAOrD;AAED,wBAAgB,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAEvD;AAED,wBAAgB,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAO9D;AAED,wBAAgB,OAAO,CAAC,CAAC,EACvB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EACjB,QAAQ,CAAC,EAAE,MAAM,GAChB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAElB;AAgCD,qBAAa,aAAa,CAAC,CAAC,CAAE,SAAQ,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IACpD,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAClB,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM;IAMhD,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;IAQpD,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,CAAC,GAAG,IAAI;IAUvC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;CAGvC;AAeD,qBAAa,GAAI,SAAQ,EAAE;IACzB;;OAEG;IACH,QAAQ,IAAI,MAAM;IAQlB;;OAEG;IACH,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,GAAG;CAMvC"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/events.d.ts b/dist/browser/coder/spl-token/events.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..9a862790acaaaa51d9553b45f384e2f447834175
--- /dev/null
+++ b/dist/browser/coder/spl-token/events.d.ts
@@ -0,0 +1,9 @@
+import { EventCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { Event } from "../../program/event";
+import { IdlEvent } from "../../idl";
+export declare class SplTokenEventsCoder implements EventCoder {
+    constructor(_idl: Idl);
+    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(_log: string): Event<E, T> | null;
+}
+//# sourceMappingURL=events.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/events.d.ts.map b/dist/browser/coder/spl-token/events.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..dce99d57b320a5ccb8ec80b98a8f8cb7dc62760d
--- /dev/null
+++ b/dist/browser/coder/spl-token/events.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"events.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/events.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAErC,qBAAa,mBAAoB,YAAW,UAAU;gBACxC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,IAAI,EAAE,MAAM,GACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CAGtB"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/index.d.ts b/dist/browser/coder/spl-token/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e96df49422f0f9be95d68be02703557bfc8d0cf8
--- /dev/null
+++ b/dist/browser/coder/spl-token/index.d.ts
@@ -0,0 +1,19 @@
+import { Idl } from "../../idl.js";
+import { Coder } from "../index.js";
+import { SplTokenInstructionCoder } from "./instruction.js";
+import { SplTokenStateCoder } from "./state.js";
+import { SplTokenAccountsCoder } from "./accounts.js";
+import { SplTokenEventsCoder } from "./events.js";
+import { SplTokenTypesCoder } from "./types.js";
+/**
+ * Coder for the SPL token program.
+ */
+export declare class SplTokenCoder implements Coder {
+    readonly instruction: SplTokenInstructionCoder;
+    readonly accounts: SplTokenAccountsCoder;
+    readonly state: SplTokenStateCoder;
+    readonly events: SplTokenEventsCoder;
+    readonly types: SplTokenTypesCoder;
+    constructor(idl: Idl);
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/index.d.ts.map b/dist/browser/coder/spl-token/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..3fa74d37896f94e24b32c07843ef6a20807b078e
--- /dev/null
+++ b/dist/browser/coder/spl-token/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAE,wBAAwB,EAAE,MAAM,kBAAkB,CAAC;AAC5D,OAAO,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAChD,OAAO,EAAE,qBAAqB,EAAE,MAAM,eAAe,CAAC;AACtD,OAAO,EAAE,mBAAmB,EAAE,MAAM,aAAa,CAAC;AAClD,OAAO,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEhD;;GAEG;AACH,qBAAa,aAAc,YAAW,KAAK;IACzC,QAAQ,CAAC,WAAW,EAAE,wBAAwB,CAAC;IAC/C,QAAQ,CAAC,QAAQ,EAAE,qBAAqB,CAAC;IACzC,QAAQ,CAAC,KAAK,EAAE,kBAAkB,CAAC;IACnC,QAAQ,CAAC,MAAM,EAAE,mBAAmB,CAAC;IACrC,QAAQ,CAAC,KAAK,EAAE,kBAAkB,CAAC;gBAEvB,GAAG,EAAE,GAAG;CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/instruction.d.ts b/dist/browser/coder/spl-token/instruction.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..7c5f951603c90d6e07996cded8abf995ff590654
--- /dev/null
+++ b/dist/browser/coder/spl-token/instruction.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { InstructionCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+export declare class SplTokenInstructionCoder implements InstructionCoder {
+    constructor(_: Idl);
+    encode(ixName: string, ix: any): Buffer;
+    encodeState(_ixName: string, _ix: any): Buffer;
+}
+//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/instruction.d.ts.map b/dist/browser/coder/spl-token/instruction.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..b92cbd165387fcd480429bdbb8c043e35667d633
--- /dev/null
+++ b/dist/browser/coder/spl-token/instruction.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAGnC,qBAAa,wBAAyB,YAAW,gBAAgB;gBACnD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAuEvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/state.d.ts b/dist/browser/coder/spl-token/state.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..2aba1fa6d2fed49229cd344e951ec53d5822cd96
--- /dev/null
+++ b/dist/browser/coder/spl-token/state.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { StateCoder } from "../index.js";
+import { Idl } from "../../idl";
+export declare class SplTokenStateCoder implements StateCoder {
+    constructor(_idl: Idl);
+    encode<T = any>(_name: string, _account: T): Promise<Buffer>;
+    decode<T = any>(_ix: Buffer): T;
+}
+//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/state.d.ts.map b/dist/browser/coder/spl-token/state.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..c5963923f0ea72b4b284f22773c8734918b8945a
--- /dev/null
+++ b/dist/browser/coder/spl-token/state.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAEhC,qBAAa,kBAAmB,YAAW,UAAU;gBACvC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAG5D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,MAAM,GAAG,CAAC;CAGhC"}
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/types.d.ts b/dist/browser/coder/spl-token/types.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..75c7c3c1ef7a37289ae6c5e472fcd6218048c6aa
--- /dev/null
+++ b/dist/browser/coder/spl-token/types.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { TypesCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+export declare class SplTokenTypesCoder implements TypesCoder {
+    constructor(_idl: Idl);
+    encode<T = any>(_name: string, _type: T): Buffer;
+    decode<T = any>(_name: string, _typeData: Buffer): T;
+}
+//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/spl-token/types.d.ts.map b/dist/browser/coder/spl-token/types.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..2b1b53ac8300404ac27e821e926a0d017a023bc8
--- /dev/null
+++ b/dist/browser/coder/spl-token/types.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../src/coder/spl-token/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,kBAAmB,YAAW,UAAU;gBACvC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,MAAM;IAGhD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC;CAGrD"}
\ No newline at end of file
diff --git a/dist/browser/coder/system/accounts.d.ts b/dist/browser/coder/system/accounts.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..1265aa72655eeec47b1f6895c9cf979506d54f82
--- /dev/null
+++ b/dist/browser/coder/system/accounts.d.ts
@@ -0,0 +1,13 @@
+/// <reference types="node" />
+import { AccountsCoder } from "../index.js";
+import { Idl, IdlTypeDef } from "../../idl.js";
+export declare class SystemAccountsCoder<A extends string = string> implements AccountsCoder {
+    private idl;
+    constructor(idl: Idl);
+    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
+    decode<T = any>(accountName: A, ix: Buffer): T;
+    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
+    memcmp(accountName: A, _appendData?: Buffer): any;
+    size(idlAccount: IdlTypeDef): number;
+}
+//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/system/accounts.d.ts.map b/dist/browser/coder/system/accounts.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..2ba864ebe22f4b5d26542c011fe5638c16fc0ee9
--- /dev/null
+++ b/dist/browser/coder/system/accounts.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../src/coder/system/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAO/C,qBAAa,mBAAmB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACxD,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAalE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAYvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAajD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/coder/system/events.d.ts b/dist/browser/coder/system/events.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f171db3039b4e3b6b32c6ad1ed3dcf571006f7b9
--- /dev/null
+++ b/dist/browser/coder/system/events.d.ts
@@ -0,0 +1,9 @@
+import { EventCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { Event } from "../../program/event";
+import { IdlEvent } from "../../idl";
+export declare class SystemEventsCoder implements EventCoder {
+    constructor(_idl: Idl);
+    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(_log: string): Event<E, T> | null;
+}
+//# sourceMappingURL=events.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/system/events.d.ts.map b/dist/browser/coder/system/events.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..0bc82172254c29399a211a6fd42c3a311ac02a81
--- /dev/null
+++ b/dist/browser/coder/system/events.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"events.d.ts","sourceRoot":"","sources":["../../../src/coder/system/events.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAErC,qBAAa,iBAAkB,YAAW,UAAU;gBACtC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,IAAI,EAAE,MAAM,GACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CAGtB"}
\ No newline at end of file
diff --git a/dist/browser/coder/system/index.d.ts b/dist/browser/coder/system/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..20f04b4e8098ac198f6050a3becba327b471a61d
--- /dev/null
+++ b/dist/browser/coder/system/index.d.ts
@@ -0,0 +1,19 @@
+import { Idl } from "../../idl.js";
+import { Coder } from "../index.js";
+import { SystemInstructionCoder } from "./instruction.js";
+import { SystemStateCoder } from "./state.js";
+import { SystemAccountsCoder } from "./accounts.js";
+import { SystemEventsCoder } from "./events.js";
+import { SystemTypesCoder } from "./types.js";
+/**
+ * Coder for the System program.
+ */
+export declare class SystemCoder implements Coder {
+    readonly instruction: SystemInstructionCoder;
+    readonly accounts: SystemAccountsCoder;
+    readonly state: SystemStateCoder;
+    readonly events: SystemEventsCoder;
+    readonly types: SystemTypesCoder;
+    constructor(idl: Idl);
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/system/index.d.ts.map b/dist/browser/coder/system/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..36e004a643dd522a73d5907c454239014354a2ba
--- /dev/null
+++ b/dist/browser/coder/system/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/system/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAE,sBAAsB,EAAE,MAAM,kBAAkB,CAAC;AAC1D,OAAO,EAAE,gBAAgB,EAAE,MAAM,YAAY,CAAC;AAC9C,OAAO,EAAE,mBAAmB,EAAE,MAAM,eAAe,CAAC;AACpD,OAAO,EAAE,iBAAiB,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAAE,gBAAgB,EAAE,MAAM,YAAY,CAAC;AAE9C;;GAEG;AACH,qBAAa,WAAY,YAAW,KAAK;IACvC,QAAQ,CAAC,WAAW,EAAE,sBAAsB,CAAC;IAC7C,QAAQ,CAAC,QAAQ,EAAE,mBAAmB,CAAC;IACvC,QAAQ,CAAC,KAAK,EAAE,gBAAgB,CAAC;IACjC,QAAQ,CAAC,MAAM,EAAE,iBAAiB,CAAC;IACnC,QAAQ,CAAC,KAAK,EAAE,gBAAgB,CAAC;gBAErB,GAAG,EAAE,GAAG;CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/coder/system/instruction.d.ts b/dist/browser/coder/system/instruction.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e57e332afd81c3891687b912e5ba02242ce9ce3d
--- /dev/null
+++ b/dist/browser/coder/system/instruction.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { Idl } from "../../idl.js";
+import { InstructionCoder } from "../index.js";
+export declare class SystemInstructionCoder implements InstructionCoder {
+    constructor(_: Idl);
+    encode(ixName: string, ix: any): Buffer;
+    encodeState(_ixName: string, _ix: any): Buffer;
+}
+//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/system/instruction.d.ts.map b/dist/browser/coder/system/instruction.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..ee157c9ccd879287c92d3bb449ce2e9da72dca0c
--- /dev/null
+++ b/dist/browser/coder/system/instruction.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../src/coder/system/instruction.ts"],"names":[],"mappings":";AAIA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAG/C,qBAAa,sBAAuB,YAAW,gBAAgB;gBAEjD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IA4CvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/browser/coder/system/state.d.ts b/dist/browser/coder/system/state.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..64c0b293449848003d25f41c55dbe31948928b14
--- /dev/null
+++ b/dist/browser/coder/system/state.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { StateCoder } from "../index.js";
+import { Idl } from "../../idl";
+export declare class SystemStateCoder implements StateCoder {
+    constructor(_idl: Idl);
+    encode<T = any>(_name: string, _account: T): Promise<Buffer>;
+    decode<T = any>(_ix: Buffer): T;
+}
+//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/system/state.d.ts.map b/dist/browser/coder/system/state.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..f9280aa5c45d00988815e99540ab190e53ac4d32
--- /dev/null
+++ b/dist/browser/coder/system/state.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../src/coder/system/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAEhC,qBAAa,gBAAiB,YAAW,UAAU;gBAErC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAG5D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,MAAM,GAAG,CAAC;CAGhC"}
\ No newline at end of file
diff --git a/dist/browser/coder/system/types.d.ts b/dist/browser/coder/system/types.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..26b129ee81f5993625f827edcffe43531eeb0fef
--- /dev/null
+++ b/dist/browser/coder/system/types.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { TypesCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+export declare class SystemTypesCoder implements TypesCoder {
+    constructor(_idl: Idl);
+    encode<T = any>(_name: string, _type: T): Buffer;
+    decode<T = any>(_name: string, _typeData: Buffer): T;
+}
+//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/coder/system/types.d.ts.map b/dist/browser/coder/system/types.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..556512ba054f64a42bb5205f663e87e7120c780d
--- /dev/null
+++ b/dist/browser/coder/system/types.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../src/coder/system/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,gBAAiB,YAAW,UAAU;gBACrC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,MAAM;IAGhD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC;CAGrD"}
\ No newline at end of file
diff --git a/dist/browser/error.d.ts b/dist/browser/error.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..edc9bf74224d337c660ce8e0c540546d4d536651
--- /dev/null
+++ b/dist/browser/error.d.ts
@@ -0,0 +1,108 @@
+import { PublicKey } from "@solana/web3.js";
+export declare class IdlError extends Error {
+    constructor(message: string);
+}
+interface ErrorCode {
+    code: string;
+    number: number;
+}
+interface FileLine {
+    file: string;
+    line: number;
+}
+declare type Origin = string | FileLine;
+declare type ComparedAccountNames = [string, string];
+declare type ComparedPublicKeys = [PublicKey, PublicKey];
+declare type ComparedValues = ComparedAccountNames | ComparedPublicKeys;
+export declare class ProgramErrorStack {
+    readonly stack: PublicKey[];
+    constructor(stack: PublicKey[]);
+    static parse(logs: string[]): ProgramErrorStack;
+}
+export declare class AnchorError extends Error {
+    readonly errorLogs: string[];
+    readonly logs: string[];
+    readonly error: {
+        errorCode: ErrorCode;
+        errorMessage: string;
+        comparedValues?: ComparedValues;
+        origin?: Origin;
+    };
+    private readonly _programErrorStack;
+    constructor(errorCode: ErrorCode, errorMessage: string, errorLogs: string[], logs: string[], origin?: Origin, comparedValues?: ComparedValues);
+    static parse(logs: string[]): AnchorError | null;
+    get program(): PublicKey;
+    get programErrorStack(): PublicKey[];
+    toString(): string;
+}
+export declare class ProgramError extends Error {
+    readonly code: number;
+    readonly logs?: string[] | undefined;
+    private readonly _programErrorStack?;
+    constructor(code: number, msg: string, logs?: string[] | undefined);
+    static parse(err: any, idlErrors: Map<number, string>): ProgramError | null;
+    get msg(): string;
+    get program(): PublicKey | undefined;
+    get programErrorStack(): PublicKey[] | undefined;
+    toString(): string;
+}
+export declare function translateError(err: any, idlErrors: Map<number, string>): any;
+export declare enum LangErrorCode {
+    InstructionMissing = 100,
+    InstructionFallbackNotFound = 101,
+    InstructionDidNotDeserialize = 102,
+    InstructionDidNotSerialize = 103,
+    IdlInstructionStub = 1000,
+    IdlInstructionInvalidProgram = 1001,
+    ConstraintMut = 2000,
+    ConstraintHasOne = 2001,
+    ConstraintSigner = 2002,
+    ConstraintRaw = 2003,
+    ConstraintOwner = 2004,
+    ConstraintRentExempt = 2005,
+    ConstraintSeeds = 2006,
+    ConstraintExecutable = 2007,
+    ConstraintState = 2008,
+    ConstraintAssociated = 2009,
+    ConstraintAssociatedInit = 2010,
+    ConstraintClose = 2011,
+    ConstraintAddress = 2012,
+    ConstraintZero = 2013,
+    ConstraintTokenMint = 2014,
+    ConstraintTokenOwner = 2015,
+    ConstraintMintMintAuthority = 2016,
+    ConstraintMintFreezeAuthority = 2017,
+    ConstraintMintDecimals = 2018,
+    ConstraintSpace = 2019,
+    RequireViolated = 2500,
+    RequireEqViolated = 2501,
+    RequireKeysEqViolated = 2502,
+    RequireNeqViolated = 2503,
+    RequireKeysNeqViolated = 2504,
+    RequireGtViolated = 2505,
+    RequireGteViolated = 2506,
+    AccountDiscriminatorAlreadySet = 3000,
+    AccountDiscriminatorNotFound = 3001,
+    AccountDiscriminatorMismatch = 3002,
+    AccountDidNotDeserialize = 3003,
+    AccountDidNotSerialize = 3004,
+    AccountNotEnoughKeys = 3005,
+    AccountNotMutable = 3006,
+    AccountOwnedByWrongProgram = 3007,
+    InvalidProgramId = 3008,
+    InvalidProgramExecutable = 3009,
+    AccountNotSigner = 3010,
+    AccountNotSystemOwned = 3011,
+    AccountNotInitialized = 3012,
+    AccountNotProgramData = 3013,
+    AccountNotAssociatedTokenAccount = 3014,
+    AccountSysvarMismatch = 3015,
+    AccountReallocExceedsLimit = 3016,
+    AccountDuplicateReallocs = 3017,
+    StateInvalidAddress = 4000,
+    DeclaredProgramIdMismatch = 4100,
+    Deprecated = 5000
+}
+export declare const LangErrorMessage: Map<LangErrorCode, string>;
+export {};
+//# sourceMappingURL=error.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/error.d.ts.map b/dist/browser/error.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..a1abe230d4a855287b95ad94f690af1d2c8d6b62
--- /dev/null
+++ b/dist/browser/error.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"error.d.ts","sourceRoot":"","sources":["../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/idl.d.ts b/dist/browser/idl.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..865a26d6879177dd8238a93d24ddc0dff52eb909
--- /dev/null
+++ b/dist/browser/idl.d.ts
@@ -0,0 +1,123 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { PublicKey } from "@solana/web3.js";
+export declare type Idl = {
+    version: string;
+    name: string;
+    docs?: string[];
+    instructions: IdlInstruction[];
+    state?: IdlState;
+    accounts?: IdlAccountDef[];
+    types?: IdlTypeDef[];
+    events?: IdlEvent[];
+    errors?: IdlErrorCode[];
+    constants?: IdlConstant[];
+    metadata?: IdlMetadata;
+};
+export declare type IdlMetadata = any;
+export declare type IdlConstant = {
+    name: string;
+    type: IdlType;
+    value: string;
+};
+export declare type IdlEvent = {
+    name: string;
+    fields: IdlEventField[];
+};
+export declare type IdlEventField = {
+    name: string;
+    type: IdlType;
+    index: boolean;
+};
+export declare type IdlInstruction = {
+    name: string;
+    docs?: string[];
+    accounts: IdlAccountItem[];
+    args: IdlField[];
+    returns?: IdlType;
+};
+export declare type IdlState = {
+    struct: IdlTypeDef;
+    methods: IdlStateMethod[];
+};
+export declare type IdlStateMethod = IdlInstruction;
+export declare type IdlAccountItem = IdlAccount | IdlAccounts;
+export declare type IdlAccount = {
+    name: string;
+    isMut: boolean;
+    isSigner: boolean;
+    docs?: string[];
+    pda?: IdlPda;
+};
+export declare type IdlPda = {
+    seeds: IdlSeed[];
+    programId?: IdlSeed;
+};
+export declare type IdlSeed = any;
+export declare type IdlAccounts = {
+    name: string;
+    docs?: string[];
+    accounts: IdlAccountItem[];
+};
+export declare type IdlField = {
+    name: string;
+    docs?: string[];
+    type: IdlType;
+};
+export declare type IdlTypeDef = {
+    name: string;
+    docs?: string[];
+    type: IdlTypeDefTy;
+};
+export declare type IdlAccountDef = {
+    name: string;
+    docs?: string[];
+    type: IdlTypeDefTyStruct;
+};
+export declare type IdlTypeDefTyStruct = {
+    kind: "struct";
+    fields: IdlTypeDefStruct;
+};
+export declare type IdlTypeDefTyEnum = {
+    kind: "enum";
+    variants: IdlEnumVariant[];
+};
+export declare type IdlTypeDefTy = IdlTypeDefTyEnum | IdlTypeDefTyStruct;
+export declare type IdlTypeDefStruct = Array<IdlField>;
+export declare type IdlType = "bool" | "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "u64" | "i64" | "f64" | "u128" | "i128" | "bytes" | "string" | "publicKey" | IdlTypeDefined | IdlTypeOption | IdlTypeCOption | IdlTypeVec | IdlTypeArray;
+export declare type IdlTypeDefined = {
+    defined: string;
+};
+export declare type IdlTypeOption = {
+    option: IdlType;
+};
+export declare type IdlTypeCOption = {
+    coption: IdlType;
+};
+export declare type IdlTypeVec = {
+    vec: IdlType;
+};
+export declare type IdlTypeArray = {
+    array: [idlType: IdlType, size: number];
+};
+export declare type IdlEnumVariant = {
+    name: string;
+    fields?: IdlEnumFields;
+};
+export declare type IdlEnumFields = IdlEnumFieldsNamed | IdlEnumFieldsTuple;
+export declare type IdlEnumFieldsNamed = IdlField[];
+export declare type IdlEnumFieldsTuple = IdlType[];
+export declare type IdlErrorCode = {
+    code: number;
+    name: string;
+    msg?: string;
+};
+export declare function idlAddress(programId: PublicKey): Promise<PublicKey>;
+export declare function seed(): string;
+export interface IdlProgramAccount {
+    authority: PublicKey;
+    data: Buffer;
+}
+export declare function decodeIdlAccount(data: Buffer): IdlProgramAccount;
+export declare function encodeIdlAccount(acc: IdlProgramAccount): Buffer;
+//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/idl.d.ts.map b/dist/browser/idl.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..0823f43b8f59ba5490b5b1d268b11c0d52f07046
--- /dev/null
+++ b/dist/browser/idl.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../src/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/index.d.ts b/dist/browser/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..8eef719b1aa3f3ad4ade9cd155b01e4cbeb6f053
--- /dev/null
+++ b/dist/browser/index.d.ts
@@ -0,0 +1,14 @@
+export { default as BN } from "bn.js";
+export * as web3 from "@solana/web3.js";
+export { default as Provider, getProvider, setProvider, AnchorProvider, } from "./provider.js";
+export * from "./error.js";
+export { Instruction } from "./coder/borsh/instruction.js";
+export { Idl } from "./idl.js";
+export * from "./coder/index.js";
+export * as utils from "./utils/index.js";
+export * from "./program/index.js";
+export * from "./spl/index.js";
+export * from "./native/index.js";
+export declare const workspace: any;
+export { Wallet } from "./wallet";
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/index.d.ts.map b/dist/browser/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..db36a10ee87bd5f6e73225b25eb27b5b47acd9e6
--- /dev/null
+++ b/dist/browser/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EACL,OAAO,IAAI,QAAQ,EACnB,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAC3B,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAC/B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,SAAS,EAAE,GAAG,CAAC;AAEpC,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/index.js b/dist/browser/index.js
index 35d7022413eab9ae94d2589543ec6e57a7f9907f..35047907e8c137fc95115d6f8a19ed7eb77a6e8d 100644
--- a/dist/browser/index.js
+++ b/dist/browser/index.js
@@ -1,17 +1,2 @@
-import{Buffer as t}from"buffer";import{PublicKey as e,Transaction as n,TransactionInstruction as r,SendTransactionError as o,NONCE_ACCOUNT_LENGTH as i,SystemProgram as s,SYSVAR_RENT_PUBKEY as a}from"@solana/web3.js";import*as c from"@solana/web3.js";export{c as web3};import u from"bn.js";export{default as BN}from"bn.js";import d from"bs58";import*as l from"base64-js";import h from"camelcase";import{sha256 as p}from"js-sha256";import*as f from"@project-serum/borsh";import{inflate as m}from"pako";import y from"eventemitter3";import*as g from"assert";var w=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let n=e.match(/.{2}/g);return null===n?t.from([]):t.from(n.map((t=>parseInt(t,16))))}});function v(t){return new TextDecoder("utf-8").decode(t)}function b(t){return(new TextEncoder).encode(t)}var A=Object.freeze({__proto__:null,decode:v,encode:b});function _(t){return d.encode(t)}var S=Object.freeze({__proto__:null,encode:_,decode:function(t){return d.decode(t)}});function E(e){return t.from(l.toByteArray(e))}var I=Object.freeze({__proto__:null,encode:function(t){return l.fromByteArray(t)},decode:E}),k=Object.freeze({__proto__:null,hex:w,utf8:A,bs58:S,base64:I});function M(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function x(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function P(t,e={}){t.forEach((t=>{if("accounts"in t)P(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function L(t){return t instanceof e?t:new e(t)}class T extends TypeError{constructor(t,e){let n;const{message:r,...o}=t,{path:i}=t;super(0===i.length?r:"At path: "+i.join(".")+" -- "+r),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var r;return null!=(r=n)?r:n=[t,...e()]}}}function C(t){return"object"==typeof t&&null!=t}function z(t){return"string"==typeof t?JSON.stringify(t):""+t}function B(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:o,branch:i}=e,{type:s}=n,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+z(r)+"`"}=t;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*O(t,e,n,r){var o;C(o=t)&&"function"==typeof o[Symbol.iterator]||(t=[t]);for(const o of t){const t=B(o,e,n,r);t&&(yield t)}}function*D(t,e,n){void 0===n&&(n={});const{path:r=[],branch:o=[t],coerce:i=!1,mask:s=!1}=n,a={path:r,branch:o};if(i&&(t=e.coercer(t,a),s&&"type"!==e.type&&C(e.schema)&&C(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c=!0;for(const n of e.validator(t,a))c=!1,yield[n,void 0];for(let[n,u,d]of e.entries(t,a)){const e=D(u,d,{path:void 0===n?r:[...r,n],branch:void 0===n?o:[...o,u],coerce:i,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):i&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):C(t)&&(t[n]=u))}if(c)for(const n of e.refiner(t,a))c=!1,yield[n,void 0];c&&(yield[void 0,t])}class N{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:o,coercer:i=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=i,this.validator=r?(t,e)=>O(r(t,e),e,this,t):()=>[],this.refiner=o?(t,e)=>O(o(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=U(t,e);if(n[0])throw n[0]}(t,this)}create(t){return R(t,this)}is(t){return V(t,this)}mask(t){return function(t,e){const n=U(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),U(t,this,e)}}function R(t,e){const n=U(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function V(t,e){return!U(t,e)[0]}function U(t,e,n){void 0===n&&(n={});const r=D(t,e,n),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(o[0]){return[new T(o[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,o[1]]}function j(t,e){return new N({type:t,schema:null,validator:e})}function $(t){return new N({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+z(t)})}function K(t){const e=z(t),n=typeof t;return new N({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||"Expected the literal `"+e+"`, but received: "+z(n)})}function q(t){return new N({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function F(){return j("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+z(t)))}function W(t){return new N({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function G(){return j("string",(t=>"string"==typeof t||"Expected a string, but received: "+z(t)))}function H(t){const e=Object.keys(t);return new N({type:"type",schema:t,*entries(n){if(C(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>C(t)||"Expected an object, but received: "+z(t)})}function J(t){const e=t.map((t=>t.type)).join(" | ");return new N({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||Z()).coercer(e,n),validator(n,r){const o=[];for(const e of t){const[...t]=D(n,e,r),[i]=t;if(!i[0])return[];for(const[e]of t)e&&o.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+z(n),...o]}})}function Z(){return j("unknown",(()=>!0))}async function X(t,e,n){if(e.length<=99)return await Q(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,99);return(await Promise.all(r.map((e=>Q(t,e,n))))).flat()}}async function Q(t,e,n){const r=null!=n?n:t.commitment;return(await t.getMultipleAccountsInfo(e,r)).map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}async function Y(t,e,n,r,i){n&&n.length>0&&e.sign(...n);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=r?r:t.commitment};if(i){const t=(Array.isArray(i)?i:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}n&&(u.sigVerify=!0);const d=[c,u],l=R(await t._rpcRequest("simulateTransaction",d),rt);if("error"in l){let t;if("data"in l.error&&(t=l.error.data.logs,t&&Array.isArray(t))){const e="\n    ",n=e+t.join(e);console.error(l.error.message,n)}throw new o("failed to simulate transaction: "+l.error.message,t)}return l.result}function tt(t){return function(t,e,n){return new N({...t,coercer:(r,o)=>V(r,e)?t.coercer(n(r,o),o):t.coercer(r,o)})}(nt(t),et,(e=>"error"in e?e:{...e,result:R(e.result,t)}))}const et=nt(Z());function nt(t){return J([H({jsonrpc:K("2.0"),id:G(),result:t}),H({jsonrpc:K("2.0"),id:G(),error:H({code:Z(),message:G(),data:W(j("any",(()=>!0)))})})])}const rt=(ot=H({err:q(J([H({}),G()])),logs:q($(G())),accounts:W(q($(q(H({executable:j("boolean",(t=>"boolean"==typeof t)),owner:G(),lamports:F(),data:$(G()),rentEpoch:W(F())}))))),unitsConsumed:W(F())}),tt(H({context:H({slot:F()}),value:ot})));var ot,it=Object.freeze({__proto__:null,invoke:async function(t,e,o,i){t=L(t),i||(i=lt());const s=new n;if(s.add(new r({programId:t,keys:null!=e?e:[],data:o})),void 0===i.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await i.sendAndConfirm(s,[])},getMultipleAccounts:X,simulateTransaction:Y});class st{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var r;void 0===n&&(n=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(n.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),(null!=e?e:[]).forEach((e=>{t.partialSign(e)}));const i=t.serialize();try{return await ct(this.connection,i,n)}catch(e){if(e instanceof ut){const n=await this.connection.getTransaction(_(t.signature),{commitment:"confirmed"});if(n){const t=null===(r=n.meta)||void 0===r?void 0:r.logMessages;throw t?new o(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{var e;let r=t.tx,o=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=this.wallet.publicKey,r.recentBlockhash=n.blockhash,o.forEach((t=>{r.partialSign(t)})),r}));const o=await this.wallet.signAllTransactions(r),i=[];for(let t=0;t<r.length;t+=1){const n=o[t].serialize();i.push(await ct(this.connection,n,e))}return i}async simulate(t,e,n,r){t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash,t=await this.wallet.signTransaction(t);const o=await Y(this.connection,t,e,n,r);if(o.value.err)throw new at(o.value);return o.value}}class at extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function ct(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},o=await t.sendRawTransaction(e,r),i=(await t.confirmTransaction(o,n&&n.commitment)).value;if(i.err)throw new ut(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}class ut extends Error{constructor(t){super(t)}}function dt(t){ht=t}function lt(){return null===ht?st.local():ht}let ht=null;const pt=new Set(["anchor-deprecated-state","debug-logs"]),ft=new Map;function mt(t){return void 0!==ft.get(t)}var yt=Object.freeze({__proto__:null,set:function(t){if(!pt.has(t))throw new Error("Invalid feature");ft.set(t,!0)},isSet:mt});class gt extends Error{constructor(t){super(t),this.name="IdlError"}}class wt{constructor(t){this.stack=t}static parse(t){var n;const r=/^Program (\w*) invoke/,o=/^Program \w* success/,i=[];for(let s=0;s<t.length;s++){if(o.exec(t[s])){i.pop();continue}const a=null===(n=r.exec(t[s]))||void 0===n?void 0:n[1];a&&i.push(new e(a))}return new wt(i)}}class vt extends Error{constructor(t,e,n,r,o,i){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:i,origin:o},this._programErrorStack=wt.parse(r)}static parse(t){if(!t)return null;const n=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===n)return null;const r=t[n],o=[r];let i;if(n+1<t.length)if("Program log: Left:"===t[n+1]){const r=/^Program log: (.*)$/,s=r.exec(t[n+2])[1],a=r.exec(t[n+4])[1];i=[new e(s),new e(a)],o.push(...t.slice(n+1,n+5))}else if(t[n+1].startsWith("Program log: Left:")){const e=/^Program log: (Left|Right): (.*)$/,r=e.exec(t[n+1])[2],s=e.exec(t[n+2])[2];o.push(...t.slice(n+1,n+3)),i=[r,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[e,n,r]=s.slice(1,4),a={code:e,number:parseInt(n)};return new vt(a,r,o,t,void 0,i)}if(a){const[e,n,r,s,c]=a.slice(1,6),u={code:r,number:parseInt(s)},d={file:e,line:parseInt(n)};return new vt(u,c,o,t,d,i)}if(c){const[e,n,r,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(r)};return new vt(u,s,o,t,a,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class bt extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=wt.parse(n))}static parse(t,e){const n=t.toString();let r,o;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{o=parseInt(r)}catch(t){return null}let i=e.get(o);return void 0!==i?new bt(o,i,t.logs):(i=St.get(o),void 0!==i?new bt(o,i,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function At(t,e){mt("debug-logs")&&console.log("Translating error:",t);const n=vt.parse(t.logs);if(n)return n;const r=bt.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=wt.parse(t.logs),new Proxy(t,e)}return t}const _t={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},St=new Map([[_t.InstructionMissing,"8 byte instruction identifier not provided"],[_t.InstructionFallbackNotFound,"Fallback functions are not supported"],[_t.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[_t.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[_t.IdlInstructionStub,"The program was compiled without idl instructions"],[_t.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[_t.ConstraintMut,"A mut constraint was violated"],[_t.ConstraintHasOne,"A has_one constraint was violated"],[_t.ConstraintSigner,"A signer constraint was violated"],[_t.ConstraintRaw,"A raw constraint was violated"],[_t.ConstraintOwner,"An owner constraint was violated"],[_t.ConstraintRentExempt,"A rent exemption constraint was violated"],[_t.ConstraintSeeds,"A seeds constraint was violated"],[_t.ConstraintExecutable,"An executable constraint was violated"],[_t.ConstraintState,"A state constraint was violated"],[_t.ConstraintAssociated,"An associated constraint was violated"],[_t.ConstraintAssociatedInit,"An associated init constraint was violated"],[_t.ConstraintClose,"A close constraint was violated"],[_t.ConstraintAddress,"An address constraint was violated"],[_t.ConstraintZero,"Expected zero account discriminant"],[_t.ConstraintTokenMint,"A token mint constraint was violated"],[_t.ConstraintTokenOwner,"A token owner constraint was violated"],[_t.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[_t.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[_t.ConstraintMintDecimals,"A mint decimals constraint was violated"],[_t.ConstraintSpace,"A space constraint was violated"],[_t.RequireViolated,"A require expression was violated"],[_t.RequireEqViolated,"A require_eq expression was violated"],[_t.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[_t.RequireNeqViolated,"A require_neq expression was violated"],[_t.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[_t.RequireGtViolated,"A require_gt expression was violated"],[_t.RequireGteViolated,"A require_gte expression was violated"],[_t.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[_t.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[_t.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[_t.AccountDidNotDeserialize,"Failed to deserialize the account"],[_t.AccountDidNotSerialize,"Failed to serialize the account"],[_t.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[_t.AccountNotMutable,"The given account is not mutable"],[_t.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[_t.InvalidProgramId,"Program ID was not as expected"],[_t.InvalidProgramExecutable,"Program account is not executable"],[_t.AccountNotSigner,"The given account did not sign"],[_t.AccountNotSystemOwned,"The given account is not owned by the system program"],[_t.AccountNotInitialized,"The program expected this account to be already initialized"],[_t.AccountNotProgramData,"The given account is not a program data account"],[_t.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[_t.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[_t.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[_t.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[_t.StateInvalidAddress,"The given state account does not have the correct address"],[_t.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[_t.Deprecated,"The API being used is deprecated and should no longer be used"]]);
-/*! *****************************************************************************
-Copyright (c) Microsoft Corporation.
-
-Permission to use, copy, modify, and/or distribute this software for any
-purpose with or without fee is hereby granted.
-
-THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
-REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
-AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
-INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
-LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
-OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
-PERFORMANCE OF THIS SOFTWARE.
-***************************************************************************** */
-var Et=function(){return Et=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Et.apply(this,arguments)};function It(t){return t.toLowerCase()}var kt=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Mt=/[^A-Z0-9]+/gi;function xt(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce((function(t,e){return t.replace(e,n)}),t)}function Pt(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var n=e.splitRegexp,r=void 0===n?kt:n,o=e.stripRegexp,i=void 0===o?Mt:o,s=e.transform,a=void 0===s?It:s,c=e.delimiter,u=void 0===c?" ":c,d=xt(xt(t,r,"$1\0$2"),i,"\0"),l=0,h=d.length;"\0"===d.charAt(l);)l++;for(;"\0"===d.charAt(h-1);)h--;return d.slice(l,h).split("\0").map(a).join(u)}(t,Et({delimiter:"."},e))}class Lt{static fieldLayout(t,e){const n=void 0!==t.name?h(t.name):void 0;switch(t.type){case"bool":return f.bool(n);case"u8":return f.u8(n);case"i8":return f.i8(n);case"u16":return f.u16(n);case"i16":return f.i16(n);case"u32":return f.u32(n);case"i32":return f.i32(n);case"f32":return f.f32(n);case"u64":return f.u64(n);case"i64":return f.i64(n);case"f64":return f.f64(n);case"u128":return f.u128(n);case"i128":return f.i128(n);case"bytes":return f.vecU8(n);case"string":return f.str(n);case"publicKey":return f.publicKey(n);default:if("vec"in t.type)return f.vec(Lt.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return f.option(Lt.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new gt("User defined types not provided");const o=e.filter((t=>t.name===r));if(1!==o.length)throw new gt(`Type not found: ${JSON.stringify(t)}`);return Lt.typeDefLayout(o[0],e,n)}if("array"in t.type){let r=t.type.array[0],o=t.type.array[1],i=Lt.fieldLayout({name:void 0,type:r},e);return f.array(i,o,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>Lt.fieldLayout(t,e)));return f.struct(r,n)}if("enum"===t.type.kind){let r=t.type.variants.map((t=>{const n=h(t.name);if(void 0===t.fields)return f.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Lt.fieldLayout(t,e)}));return f.struct(r,n)}));return void 0!==n?f.rustEnum(r).replicate(n):f.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class Tt{constructor(t){this.idl=t,this.ixLayout=Tt.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=zt("global",t.name);e.set(d.encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=zt("state",t.name);e.set(d.encode(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(e,n,r){const o=t.alloc(1e3),i=h(n),s=this.ixLayout.get(i);if(!s)throw new Error(`Unknown method: ${i}`);const a=s.encode(r,o),c=o.slice(0,a);return t.concat([zt(e,n),c])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return Lt.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=h(e.name);return[r,f.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return Lt.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=h(e.name);return[r,f.struct(n,r)]})));return new Map(e)}decode(e,n="hex"){"string"==typeof e&&(e="hex"===n?t.from(e,"hex"):d.decode(e));let r=d.encode(e.slice(0,8)),o=e.slice(8);const i=this.sighashLayouts.get(r);return i?{data:i.layout.decode(o),name:i.name}:null}format(t,e){return Ct.format(t,e,this.idl)}}class Ct{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const o=r.args.map((e=>({name:e.name,type:Ct.formatIdlType(e.type),data:Ct.formatIdlData(e,t.data[e.name],n.types)}))),i=Ct.flattenIdlAccounts(r.accounts);return{args:o,accounts:e.map(((t,e)=>e<i.length?{name:i[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return Ct.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const o=r.fields.filter((e=>e.name===t))[0];if(void 0===o)throw new Error("Unable to find type");return t+": "+Ct.formatIdlData(o,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,o=Object.keys(e)[0],i=e[o],s=Object.keys(i).map((t=>{var e;const s=i[t],a=null===(e=r[o])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Ct.formatIdlData(a,s,n)})).join(", "),a=h(o,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return Ct.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function zt(e,n){var r;let o=`${e}:${void 0===r&&(r={}),Pt(n,Et({delimiter:"_"},r))}`;return t.from(p.digest(o)).slice(0,8)}function Bt(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return Ot(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>Ot(t,e.type))).reduce(((t,e)=>t+e),0)}function Ot(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Ot(t,e.option);if("coption"in e)return 4+Ot(t,e.coption);if("defined"in e){const o=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==o.length)throw new gt(`Type not found: ${JSON.stringify(e)}`);return Bt(t,o[0])}if("array"in e){let n=e.array[0],r=e.array[1];return Ot(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Dt=8;class Nt{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,Lt.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(e,n){const r=t.alloc(1e3),o=this.accountLayouts.get(e);if(!o)throw new Error(`Unknown account: ${e}`);const i=o.encode(n,r);let s=r.slice(0,i),a=Nt.accountDiscriminator(e);return t.concat([a,s])}decode(t,e){if(Nt.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=e.slice(8),r=this.accountLayouts.get(t);if(!r)throw new Error(`Unknown account: ${t}`);return r.decode(n)}memcmp(e,n){const r=Nt.accountDiscriminator(e);return{offset:0,bytes:d.encode(n?t.concat([r,n]):r)}}size(t){var e;return 8+(null!==(e=Bt(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(e){return t.from(p.digest(`account:${h(e,{pascalCase:!0})}`)).slice(0,8)}}class Rt{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,Lt.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[l.fromByteArray(Vt(t.name)),t.name])))}decode(e){let n;try{n=t.from(l.toByteArray(e))}catch(t){return null}const r=l.fromByteArray(n.slice(0,8)),o=this.discriminators.get(r);if(void 0===o)return null;const i=this.layouts.get(o);if(!i)throw new Error(`Unknown event: ${o}`);return{data:i.decode(n.slice(8)),name:o}}}function Vt(e){return t.from(p.digest(`event:${e}`)).slice(0,8)}class Ut{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=Lt.typeDefLayout(t.state.struct,t.types)}async encode(e,n){const r=t.alloc(1e3),o=this.layout.encode(n,r),i=await jt(e),s=r.slice(0,o);return t.concat([i,s])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function jt(e){let n=mt("anchor-deprecated-state")?"account":"state";return t.from(p.digest(`${n}:${e}`)).slice(0,8)}class $t{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>[e.name,Lt.typeDefLayout(e,t.types)]));this.typeLayouts=new Map(e),this.idl=t}encode(e,n){const r=t.alloc(1e3),o=this.typeLayouts.get(e);if(!o)throw new Error(`Unknown type: ${e}`);const i=o.encode(n,r);return r.slice(0,i)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class Kt{constructor(t){this.instruction=new Tt(t),this.accounts=new Nt(t),this.events=new Rt(t),t.state&&(this.state=new Ut(t)),this.types=new $t(t)}}var qt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}class Wt{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Gt=Wt;class Ht extends Wt{isCount(){throw new Error("ExternalLayout is abstract")}}class Jt extends Ht{constructor(t,e,n){if(!(t instanceof Wt))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Zt||this.layout instanceof Xt}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return void 0===n&&(n=0),this.layout.encode(t,e,n+this.offset)}}class Zt extends Wt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class Xt extends Wt{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return void 0===n&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Qt=Math.pow(2,32);function Yt(t){const e=Math.floor(t/Qt);return{hi32:e,lo32:t-e*Qt}}function te(t,e){return t*Qt+e}class ee extends Wt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return te(t.readUInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Yt(t);return e.writeUInt32LE(r.lo32,n),e.writeUInt32LE(r.hi32,n+4),8}}class ne extends Wt{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const n=t.readUInt32LE(e);return te(t.readInt32LE(e+4),n)}encode(t,e,n){void 0===n&&(n=0);const r=Yt(t);return e.writeUInt32LE(r.lo32,n),e.writeInt32LE(r.hi32,n+4),8}}class re extends Wt{constructor(t,e,n){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Wt),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===n&&(n=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(r,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;try{n=this.fields.reduce(((n,r)=>{const o=r.getSpan(t,e);return e+=o,n+o}),0)}catch(t){throw new RangeError("indeterminate span")}return n}decode(t,e){void 0===e&&(e=0);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(t,e)),e+=r.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){void 0===n&&(n=0);const r=n;let o=0,i=0;for(const r of this.fields){let s=r.span;if(i=0<s?s:0,void 0!==r.property){const o=t[r.property];void 0!==o&&(i=r.encode(o,e,n),0>s&&(s=r.getSpan(e,n)))}o=n,n+=s}return o+i-r}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class oe{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class ie extends oe{constructor(t,e){if(!(t instanceof Ht&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class se extends Wt{constructor(t,e,n){const r=t instanceof Zt||t instanceof Xt;if(r)t=new ie(new Jt(t));else if(t instanceof Ht&&t.isCount())t=new ie(t);else if(!(t instanceof oe))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Wt))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&r&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=r,this.defaultLayout=e,this.registry={};let i=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return i(t)},this.configGetSourceVariant=function(t){i=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){let n;void 0===e&&(e=0);const r=this.discriminator,o=r.decode(t,e);let i=this.registry[o];if(void 0===i){let s=0;i=this.defaultLayout,this.usesPrefixDiscriminator&&(s=r.layout.span),n=this.makeDestinationObject(),n[r.property]=o,n[i.property]=this.defaultLayout.decode(t,e+s)}else n=i.decode(t,e);return n}encode(t,e,n){void 0===n&&(n=0);const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,o=this.defaultLayout;let i=0;return this.usesPrefixDiscriminator&&(i=r.layout.span),r.encode(t[r.property],e,n),i+o.encode(t[o.property],e,n+i)}return r.encode(t,e,n)}addVariant(t,e,n){const r=new ae(this,t,e,n);return this.registry[t]=r,r}getVariant(t,e){let n=t;return Buffer.isBuffer(t)&&(void 0===e&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class ae extends Wt{constructor(t,e,n,r){if(!(t instanceof se))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof Wt))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof r)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,r),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){void 0===n&&(n=0);let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=r;if(this.layout&&(this.layout.encode(t[this.property],e,n+r),o+=this.layout.getSpan(e,n+r),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class ce extends Wt{constructor(t,e){if(!(t instanceof Ht&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Ht||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){void 0===e&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let r=this.length;if(this.length instanceof Ht&&(r=t.length),!Buffer.isBuffer(t)||r!==t.length)throw new TypeError((o="Blob.encode",((i=this).property?o+"["+i.property+"]":o)+" requires (length "+r+") Buffer as src"));var o,i;if(n+r>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,r,"hex"),this.length instanceof Ht&&this.length.encode(r,e,n),r}}var ue=(t,e,n)=>new Jt(t,e,n),de=t=>new Zt(1,t),le=t=>new Zt(4,t),he=t=>new ee(t),pe=t=>new ne(t),fe=(t,e,n)=>new re(t,e,n),me=(t,e,n)=>new se(t,e,n),ye=(t,e)=>new ce(t,e);class ge{constructor(t){}encode(t,n){switch(h(t)){case"initializeMint":return function({decimals:t,mintAuthority:n,freezeAuthority:r}){return be({initializeMint:{decimals:t,mintAuthority:n.toBuffer(),freezeAuthorityOption:!!r,freezeAuthority:(r||e.default).toBuffer()}})}(n);case"initializeAccount":return be({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return be({initializeMultisig:{m:t}})}(n);case"transfer":return function({amount:t}){return be({transfer:{amount:t}})}(n);case"approve":return function({amount:t}){return be({approve:{amount:t}})}(n);case"revoke":return be({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return be({setAuthority:{authorityType:t,newAuthority:e}})}(n);case"mintTo":return function({amount:t}){return be({mintTo:{amount:t}})}(n);case"burn":return function({amount:t}){return be({burn:{amount:t}})}(n);case"closeAccount":return be({closeAccount:{}});case"freezeAccount":return be({freezeAccount:{}});case"thawAccount":return be({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return be({transferChecked:{amount:t,decimals:e}})}(n);case"approvedChecked":return function({amount:t,decimals:e}){return be({approveChecked:{amount:t,decimals:e}})}(n);case"mintToChecked":return function({amount:t,decimals:e}){return be({mintToChecked:{amount:t,decimals:e}})}(n);case"burnChecked":return function({amount:t,decimals:e}){return be({burnChecked:{amount:t,decimals:e}})}(n);case"intializeAccount2":return function({authority:t}){return be({initilaizeAccount2:{authority:t}})}(n);case"syncNative":return be({syncNative:{}});case"initializeAccount3":return function({authority:t}){return be({initializeAccount3:{authority:t}})}(n);case"initializeMultisig2":return function({m:t}){return be({initializeMultisig2:{m:t}})}(n);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return be({encodeInitializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(n);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const we=me(de("instruction"));function ve(t){return ye(32,t)}function be(t){let e=Buffer.alloc(Ae),n=we.encode(t,e);return e.slice(0,n)}we.addVariant(0,fe([de("decimals"),ye(32,"mintAuthority"),de("freezeAuthorityOption"),ve("freezeAuthority")]),"initializeMint"),we.addVariant(1,fe([]),"initializeAccount"),we.addVariant(2,fe([de("m")]),"initializeMultisig"),we.addVariant(3,fe([he("amount")]),"transfer"),we.addVariant(4,fe([he("amount")]),"approve"),we.addVariant(5,fe([]),"revoke"),we.addVariant(6,fe([de("authorityType"),de("newAuthorityOption"),ve("newAuthority")]),"setAuthority"),we.addVariant(7,fe([he("amount")]),"mintTo"),we.addVariant(8,fe([he("amount")]),"burn"),we.addVariant(9,fe([]),"closeAccount"),we.addVariant(10,fe([]),"freezeAccount"),we.addVariant(11,fe([]),"thawAccount"),we.addVariant(12,fe([he("amount"),de("decimals")]),"transferChecked"),we.addVariant(13,fe([he("amount"),de("decimals")]),"approvedChecked"),we.addVariant(14,fe([he("amount"),de("decimals")]),"mintToChecked"),we.addVariant(15,fe([he("amount"),de("decimals")]),"burnedChecked"),we.addVariant(16,fe([ve("authority")]),"InitializeAccount2"),we.addVariant(17,fe([]),"syncNative"),we.addVariant(18,fe([ve("authority")]),"initializeAccount3"),we.addVariant(19,fe([de("m")]),"initializeMultisig2"),we.addVariant(20,fe([de("decimals"),ve("mintAuthority"),de("freezeAuthorityOption"),ve("freezeAuthority")]),"initializeMint2");const Ae=Math.max(...Object.values(we.registry).map((t=>t.span)));class _e{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function Se(t){return new ke(ye(8),(t=>Le.fromBuffer(t)),(t=>t.toBuffer()),t)}function Ee(t){return new ke(ye(32),(t=>new e(t)),(t=>t.toBuffer()),t)}function Ie(t,e){return new Me(t,e)}class ke extends Gt{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Me extends Gt{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=le()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function xe(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function Pe(t){return t?1:0}class Le extends u{toBuffer(){const t=super.toArray().reverse(),e=Buffer.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const n=Buffer.alloc(8);return e.copy(n),n}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new Le([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class Te{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=Buffer.alloc(165),n=Be.encode(e,t);return t.slice(0,n)}case"mint":{const t=Buffer.alloc(82),n=Ce.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return Be.decode(t)}(e);case"mint":return function(t){return Ce.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=Bt(this.idl,t))&&void 0!==e?e:0}}const Ce=fe([Ie(Ee(),"mintAuthority"),Se("supply"),de("decimals"),(ze="isInitialized",new ke(de(),xe,Pe,ze)),Ie(Ee(),"freezeAuthority")]);var ze;const Be=fe([Ee("mint"),Ee("authority"),Se("amount"),Ie(Ee(),"delegate"),de("state"),Ie(Se(),"isNative"),Se("delegatedAmount"),Ie(Ee(),"closeAuthority")]);class Oe{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class De{constructor(t){}encode(t,e){throw new Error("SPL token does not have user-defined types")}decode(t,e){throw new Error("SPL token does not have user-defined types")}}class Ne{constructor(t){this.instruction=new ge(t),this.accounts=new Te(t),this.events=new Oe(t),this.state=new _e(t),this.types=new De(t)}}class Re{constructor(t){}encode(t,e){switch(h(t)){case"createAccount":return function({lamports:t,space:e,owner:n}){return Ke({createAccount:{lamports:t,space:e,owner:n.toBuffer()}})}(e);case"assign":return function({owner:t}){return Ke({assign:{owner:t.toBuffer()}})}(e);case"transfer":return function({lamports:t}){return Ke({transfer:{lamports:t}})}(e);case"createAccountWithSeed":return function({base:t,seed:e,lamports:n,space:r,owner:o}){return Ke({createAccountWithSeed:{base:t.toBuffer(),seed:e,lamports:n,space:r,owner:o.toBuffer()}},$e.getVariant(3).span+e.length)}(e);case"advanceNonceAccount":return function({authorized:t}){return Ke({advanceNonceAccount:{authorized:t.toBuffer()}})}(e);case"withdrawNonceAccount":return function({lamports:t}){return Ke({withdrawNonceAccount:{lamports:t}})}(e);case"initializeNonceAccount":return function({authorized:t}){return Ke({initializeNonceAccount:{authorized:t.toBuffer()}})}(e);case"authorizeNonceAccount":return function({authorized:t}){return Ke({authorizeNonceAccount:{authorized:t.toBuffer()}})}(e);case"allocate":return function({space:t}){return Ke({allocate:{space:t}})}(e);case"allocateWithSeed":return function({base:t,seed:e,space:n,owner:r}){return Ke({allocateWithSeed:{base:t.toBuffer(),seed:e,space:n,owner:r.toBuffer()}},$e.getVariant(9).span+e.length)}(e);case"assignWithSeed":return function({base:t,seed:e,owner:n}){return Ke({assignWithSeed:{base:t.toBuffer(),seed:e,owner:n.toBuffer()}},$e.getVariant(10).span+e.length)}(e);case"transferWithSeed":return function({lamports:t,seed:e,owner:n}){return Ke({transferWithSeed:{lamports:t,seed:e,owner:n.toBuffer()}},$e.getVariant(11).span+e.length)}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class Ve extends Gt{constructor(t){super(-1,t),this.property=t,this.layout=fe([le("length"),le("lengthPadding"),ye(ue(le(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:Buffer.from(t,"utf8")};return this.layout.encode(r,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return le().span+le().span+new u(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function Ue(t){return new Ve(t)}function je(t){return ye(32,t)}const $e=me(le("instruction"));function Ke(t,e){const n=Buffer.alloc(null!=e?e:qe),r=$e.encode(t,n);return void 0===e?n.slice(0,r):n}$e.addVariant(0,fe([pe("lamports"),pe("space"),je("owner")]),"createAccount"),$e.addVariant(1,fe([je("owner")]),"assign"),$e.addVariant(2,fe([pe("lamports")]),"transfer"),$e.addVariant(3,fe([je("base"),Ue("seed"),pe("lamports"),pe("space"),je("owner")]),"createAccountWithSeed"),$e.addVariant(4,fe([je("authorized")]),"advanceNonceAccount"),$e.addVariant(5,fe([pe("lamports")]),"withdrawNonceAccount"),$e.addVariant(6,fe([je("authorized")]),"initializeNonceAccount"),$e.addVariant(7,fe([je("authorized")]),"authorizeNonceAccount"),$e.addVariant(8,fe([pe("space")]),"allocate"),$e.addVariant(9,fe([je("base"),Ue("seed"),pe("space"),je("owner")]),"allocateWithSeed"),$e.addVariant(10,fe([je("base"),Ue("seed"),je("owner")]),"assignWithSeed"),$e.addVariant(11,fe([pe("lamports"),Ue("seed"),je("owner")]),"transferWithSeed");const qe=Math.max(...Object.values($e.registry).map((t=>t.span)));class Fe{constructor(t){}encode(t,e){throw new Error("System does not have state")}decode(t){throw new Error("System does not have state")}}class We{constructor(t){this.idl=t}async encode(t,e){if("nonce"===t){const t=Buffer.alloc(i),n=Je.encode(e,t);return t.slice(0,n)}throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){if("nonce"===t)return function(t){return Je.decode(t)}(e);throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){if("nonce"===t)return{dataSize:i};throw new Error(`Invalid account name: ${t}`)}size(t){var e;return null!==(e=Bt(this.idl,t))&&void 0!==e?e:0}}class Ge extends Gt{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function He(t){return new Ge(ye(32),(t=>new e(t)),(t=>t.toBuffer()),t)}const Je=fe([le("version"),le("state"),He("authorizedPubkey"),He("nonce"),fe([he("lamportsPerSignature")],"feeCalculator")]);class Ze{constructor(t){}decode(t){throw new Error("System program does not have events")}}class Xe{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class Qe{constructor(t){this.instruction=new Re(t),this.accounts=new We(t),this.events=new Ze(t),this.state=new Fe(t),this.types=new Xe(t)}}var Ye=Object.freeze({__proto__:null,hash:function(t){return p(t)}});function tn(n,r,o){const i=t.concat([n.toBuffer(),t.from(r),o.toBuffer()]),s=p.digest(i);return new e(t.from(s))}function en(n,r){let o=t.alloc(0);n.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");o=t.concat([o,rn(e)])})),o=t.concat([o,r.toBuffer(),t.from("ProgramDerivedAddress")]);let i=p(new Uint8Array(o)),s=new u(i,16).toArray(void 0,32);if(e.isOnCurve(new Uint8Array(s)))throw new Error("Invalid seeds, address must fall off the curve");return new e(s)}function nn(e,n){let r,o=255;for(;0!=o;){try{r=en(e.concat(t.from([o])),n)}catch(t){if(t instanceof TypeError)throw t;o--;continue}return[r,o]}throw new Error("Unable to find a viable program address nonce")}const rn=e=>e instanceof t?e:e instanceof Uint8Array?t.from(e.buffer,e.byteOffset,e.byteLength):t.from(e);async function on(n,...r){let o=[t.from([97,110,99,104,111,114])];r.forEach((e=>{o.push(e instanceof t?e:L(e).toBuffer())}));const[i]=await e.findProgramAddress(o,L(n));return i}var sn=Object.freeze({__proto__:null,createWithSeedSync:tn,createProgramAddressSync:en,findProgramAddressSync:nn,associated:on});const an=new e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),cn=new e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var un=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:an,ASSOCIATED_PROGRAM_ID:cn,associatedAddress:async function({mint:t,owner:n}){return(await e.findProgramAddress([n.toBuffer(),an.toBuffer(),t.toBuffer()],cn))[0]}}),dn={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:qt,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function p(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function m(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t=p(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=d(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=d(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),l(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),l(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n,r,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];A.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,i){var s=new v(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new A(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=h,t.Request=v,t.Response=A),e.Headers=h,e.Request=v,e.Response=A,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}(dn,dn.exports);var ln=Ft(dn.exports);async function hn(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=fn(n.data),o=await t.getAccountInfo(r.programdataAddress);if(null===o)throw new Error("program data account not found");const{programData:i}=fn(o.data);return i}const pn=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function fn(t){return pn.decode(t)}var mn=Object.freeze({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[o,i]=await Promise.all([hn(t,e),ln(r)]),s=(await i.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return o.slot.toNumber()!==a.verified_slot?null:a},fetchData:hn,decodeUpgradeableLoaderState:fn}),yn=Object.freeze({__proto__:null,sha256:Ye,rpc:it,publicKey:sn,bytes:k,token:un,features:yt,registry:mn});const gn=f.struct([f.publicKey("authority"),f.vecU8("data")]);function wn(t,e){var n,r;let o={};const i=t.args?t.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);o=e.pop()}return[e,o]}class vn{static build(t,e,n){if("_inner"===t.name)throw new gt("the _inner name is reserved");const o=(...i)=>{const[s,a]=wn(t,[...i]);P(t.accounts,a.accounts);const c=o.accounts(a.accounts);return void 0!==a.remainingAccounts&&c.push(...a.remainingAccounts),mt("debug-logs")&&console.log("Outgoing account metas:",c),new r({keys:c,programId:n,data:e(t.name,x(t,...s))})};return o.accounts=e=>vn.accountsArray(e,t.accounts,t.name),o}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return vn.accountsArray(r,e.accounts,n).flat()}{const r=e;let o;try{o=L(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class bn{static build(t,e,n,r){return async(...o)=>{var i;const s=e(...o),[,a]=wn(t,[...o]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(i=a.signers)&&void 0!==i?i:[],a.options)}catch(t){throw At(t,n)}}}}class An{static build(t,e){return(...r)=>{var o,i,s;const[,a]=wn(t,[...r]),c=new n;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(o=a.preInstructions)||void 0===o||o.forEach((t=>c.add(t))),null===(i=a.instructions)||void 0===i||i.forEach((t=>c.add(t))),c.add(e(...r)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>c.add(t))),c}}}class _n{constructor(t,e,n=lt(),r=new Kt(t)){this.provider=n,this.coder=r,this._idl=t,this._programId=e,this._address=Sn(e),this._sub=null;const[o,i,a]=(()=>{var o;let i={},a={},c={};return null===(o=t.state)||void 0===o||o.methods.forEach((o=>{const u=vn.build(o,((t,e)=>r.instruction.encodeState(t,e)),e);u.accounts=t=>{const r=function(t,e,n,r){if("new"===n.name){const[n]=nn([],t);if(void 0===e.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Sn(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:s.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return P(n.accounts,r),[{pubkey:Sn(t),isWritable:!0,isSigner:!1}]}(e,n,o,t);return r.concat(vn.accountsArray(t,o.accounts,o.name))};const d=An.build(o,u),l=bn.build(o,d,M(t),n),p=h(o.name);i[p]=u,a[p]=d,c[p]=l})),[i,a,c]})();this.instruction=o,this.transaction=i,this.rpc=a}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await jt(n.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new y,n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Sn(t){let[e]=nn([],t);return tn(e,"unversioned",t)}class En{constructor(t,e,n,r,o){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:lt(),this._coder=null!=o?o:new Kt(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){return(await X(this._provider.connection,t.map((t=>L(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0)},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=In.get(t.toString());if(n)return n.ee;const r=new y;t=L(t);const o=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return In.set(t.toString(),{ee:r,listener:o}),r}async unsubscribe(t){let e=In.get(t.toString());e?In&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{In.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return s.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await on(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(L(t),e)}}const In=new Map,kn="Program log: ".length,Mn="Program data: ".length;class xn{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Pn(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const o=this._eventCallbacks.get(r);if(o){const[,r]=o;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(g.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Pn{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t){const e=new Tn(t),n=new Ln;let r=e.next();for(;null!==r;){let[t,o,i]=this.handleLog(n,r);t&&(yield t),o&&n.push(o),i&&n.pop(),r=e.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log: ")||t.startsWith("Program data: ")){const e=t.startsWith("Program log: ")?t.slice(kn):t.slice(Mn);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class Ln{constructor(){this.stack=[]}program(){return g.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){g.ok(this.stack.length>0),this.stack.pop()}}class Tn{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}const Cn=new e("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function zn(){return new Ne(Bn)}const Bn={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class On{constructor(t,e,n,r,o,i){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=o,this._accountStore=new Dn(n,i)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=h(e.name);if(!e.isSigner||this._accounts[n])Reflect.has(On.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=On.CONST_ACCOUNTS[n]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=h(e.name);e.pda&&e.pda.seeds.length>0&&!this._accounts[n]&&await this.autoPopulatePda(e)}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const n=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),r=await this.parseProgramId(t),[o]=await e.findProgramAddress(n,r);this._accounts[h(t.name)]=o}async parseProgramId(t){var n;if(!(null===(n=t.pda)||void 0===n?void 0:n.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new e(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=h(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[h(n)];if(1===e.length)return r;const o=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(o,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[h(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return Buffer.from([e]);case"u16":let n=Buffer.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=Buffer.alloc(4);return r.writeUInt32LE(e),r;case"u64":let o=Buffer.alloc(8);return o.writeBigUInt64LE(BigInt(e)),o;case"string":return Buffer.from(b(e));case"publicKey":return e.toBuffer();default:if(t.array)return Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}On.CONST_ACCOUNTS={associatedTokenProgram:cn,rent:a,systemProgram:s.programId,tokenProgram:an};class Dn{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(!this._cache.has(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=zn().accounts.decode("token",t.data);this._cache.set(n,r)}else{const r=this._accounts[h(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}class Nn{static build(t,e,n,r,o,i,s,a,c){return(...u)=>new Rn(u,r,o,i,s,a,t,e,n,c)}}class Rn{constructor(t,e,n,r,o,i,s,a,c,u){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=o,this._viewFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new On(t,this._accounts,s,a,c,u)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,Object.assign(this._accounts,t),this}accountsStrict(t){return this._autoResolveAccounts=!1,Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Vn{constructor(t,e,n,r){e=L(e),n||(n=lt()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new Kt(t),this._events=new xn(this._programId,n,this._coder);const[o,i,s,a,c,u,d,l]=class{static build(t,e,n,r){const o={},i={},s={},a={},c={},u={},d=M(t),l=t.accounts?class{static build(t,e,n,r){var o;const i={};return null===(o=t.accounts)||void 0===o||o.forEach((o=>{const s=h(o.name);i[s]=new En(t,o,n,r,e)})),i}}.build(t,e,n,r):{},p=class{static build(t,e,n,r){if(void 0!==t.state)return new _n(t,n,r,e)}}.build(t,e,n,r);return t.instructions.forEach((p=>{const f=vn.build(p,((t,n)=>e.instruction.encode(t,n)),n),m=An.build(p,f),y=bn.build(p,m,d,r),g=class{static build(t,e,n,r,o,i,s){return async(...a)=>{var c;const u=e(...a),[,d]=wn(t,[...a]);let l;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{l=await r.simulate(u,d.signers,null===(c=d.options)||void 0===c?void 0:c.commitment)}catch(t){throw At(t,n)}if(void 0===l)throw new Error("Unable to simulate transaction");const h=l.logs;if(!h)throw new Error("Simulated logs not found");const p=[];if(s.events){let t=new Pn(i,o);for(const e of t.parseLogs(h))p.push(e)}return{events:p,raw:h}}}}.build(p,m,d,r,e,n,t),w=class{static build(t,e,n,r){const o=e.accounts.find((t=>t.isMut)),i=!!e.returns;if(!o&&i)return async(...o)=>{var i,s;let a=await n(...o);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let d=E(u.slice(c.length)),l=e.returns;if(!l)throw new Error("View expected return type");return Lt.fieldLayout({type:l},Array.from([...null!==(i=r.accounts)&&void 0!==i?i:[],...null!==(s=r.types)&&void 0!==s?s:[]])).decode(d)}}}.build(n,p,g,t),v=Nn.build(r,n,p,f,m,y,g,w,l),b=h(p.name);i[b]=f,s[b]=m,o[b]=y,a[b]=g,c[b]=v,w&&(u[b]=w)})),[o,i,s,l,a,c,p,u]}}.build(t,this._coder,e,n);this.rpc=o,this.instruction=i,this.transaction=s,this.account=a,this.simulate=c,this.methods=u,this.state=d,this.views=l}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=L(t),r=await Vn.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new Vn(r,n,e)}static async fetchIdl(t,n){n=null!=n?n:lt();const r=L(t),o=await async function(t){const n=(await e.findProgramAddress([],t))[0];return await e.createWithSeed(n,"anchor:idl",t)}(r),i=await n.connection.getAccountInfo(o);if(!i)return null;let s=(a=i.data.slice(8),gn.decode(a));var a;const c=m(s.data);return JSON.parse(v(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class Un{constructor(t){}encode(t,e){if("create"===h(t))return Buffer.alloc(0);throw new Error(`Invalid instruction: ${t}`)}encodeState(t,e){throw new Error("SPL associated token does not have state")}}class jn{constructor(t){}encode(t,e){throw new Error("SPL associated token does not have state")}decode(t){throw new Error("SPL associated token does not have state")}}class $n{constructor(t){this.idl=t}async encode(t,e){throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){throw new Error(`Invalid account name: ${t}`)}size(t){var e;return null!==(e=Bt(this.idl,t))&&void 0!==e?e:0}}class Kn{constructor(t){}decode(t){throw new Error("SPL associated token program does not have events")}}class qn{constructor(t){}encode(t,e){throw new Error("SPL associated token does not have user-defined types")}decode(t,e){throw new Error("SPL associated token does not have user-defined types")}}class Fn{constructor(t){this.instruction=new Un(t),this.accounts=new $n(t),this.events=new Kn(t),this.state=new jn(t),this.types=new qn(t)}}const Wn=new e("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function Gn(t){return new Vn(Hn,Wn,t,new Fn(Hn))}const Hn={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class Jn{static token(t){return function(t){return new Vn(Bn,Cn,t,zn())}(t)}static associatedToken(t){return Gn(t)}}const Zn=new e("11111111111111111111111111111111");function Xn(t){return new Vn(Qn,Zn,t,new Qe(Qn))}const Qn={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class Yn{static system(t){return Xn(t)}}export{Dt as ACCOUNT_DISCRIMINATOR_SIZE,En as AccountClient,vt as AnchorError,st as AnchorProvider,Nt as BorshAccountsCoder,Kt as BorshCoder,Rt as BorshEventCoder,Tt as BorshInstructionCoder,Ut as BorshStateCoder,xn as EventManager,Pn as EventParser,gt as IdlError,_t as LangErrorCode,St as LangErrorMessage,Nn as MethodsBuilderFactory,Yn as Native,Vn as Program,bt as ProgramError,wt as ProgramErrorStack,Jn as Spl,Ne as SplTokenCoder,_n as StateClient,Qe as SystemCoder,Vt as eventDiscriminator,lt as getProvider,M as parseIdlErrors,dt as setProvider,wn as splitArgsAndCtx,jt as stateDiscriminator,x as toInstruction,L as translateAddress,At as translateError,yn as utils,P as validateAccounts};
+import t from"bn.js";export{default as BN}from"bn.js";import{Transaction as e,SendTransactionError as n,PublicKey as r,PACKET_DATA_SIZE as o,NONCE_ACCOUNT_LENGTH as i,TransactionInstruction as s,SystemProgram as a,SYSVAR_RENT_PUBKEY as c}from"@solana/web3.js";import*as u from"@solana/web3.js";export{u as web3};import d from"bs58";import{sha256 as l}from"js-sha256";import{Buffer as h}from"buffer";import*as m from"base64-js";import*as p from"@project-serum/borsh";import{inflate as f}from"pako";import{camelCase as y,pascalCase as g,snakeCase as w}from"@juici/case";import v from"eventemitter3";import*as b from"buffer-layout";import{Layout as A}from"buffer-layout";import*as _ from"assert";const S=Object.freeze(Object.defineProperty({__proto__:null,encode:function(t){return h.isBuffer(t)?"0x"+t.toString("hex"):t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){return 0===t.indexOf("0x")&&(t=t.slice(2)),t.length%2==1&&(t="0"+t),h.from(t,"hex")}},Symbol.toStringTag,{value:"Module"}));let I,E;function M(t){return E.decode(t)}function k(t){const e=I.encode(t);return Buffer.from(e.buffer,e.byteOffset,e.byteLength)}I=new TextEncoder,E=new TextDecoder("utf-8");const x=Object.freeze(Object.defineProperty({__proto__:null,decode:M,encode:k},Symbol.toStringTag,{value:"Module"}));function P(t){return d.encode(t)}function C(t){const e=d.decode(t);return Buffer.from(e.buffer,e.byteOffset,e.byteLength)}const T=Object.freeze(Object.defineProperty({__proto__:null,encode:P,decode:C},Symbol.toStringTag,{value:"Module"}));function z(t){const e=m.toByteArray(t);return h.from(e.buffer,e.byteOffset,e.byteLength)}const L=Object.freeze(Object.defineProperty({__proto__:null,encode:function(t){return m.fromByteArray(t)},decode:z},Symbol.toStringTag,{value:"Module"}));function O(t){return Buffer.isBuffer(t)?t:t instanceof Uint8Array?Buffer.from(t.buffer,t.byteOffset,t.byteLength):Buffer.from(t)}const B=Object.freeze(Object.defineProperty({__proto__:null,hex:S,utf8:x,bs58:T,base64:L,toBuffer:O},Symbol.toStringTag,{value:"Module"}));class N extends TypeError{constructor(t,e){let n;const{message:r,...o}=t,{path:i}=t;super(0===i.length?r:`At path: ${i.join(".")} -- ${r}`),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...e()])}}function D(t){return"object"==typeof t&&null!=t}function R(t){return"symbol"==typeof t?t.toString():"string"==typeof t?JSON.stringify(t):`${t}`}function V(t,e,n,r){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:o,branch:i}=e,{type:s}=n,{refinement:a,message:c=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${R(r)}\``}=t;return{value:r,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*K(t,e,n,r){var o;D(o=t)&&"function"==typeof o[Symbol.iterator]||(t=[t]);for(const o of t){const t=V(o,e,n,r);t&&(yield t)}}function*$(t,e,n){void 0===n&&(n={});const{path:r=[],branch:o=[t],coerce:i=!1,mask:s=!1}=n,a={path:r,branch:o};if(i&&(t=e.coercer(t,a),s&&"type"!==e.type&&D(e.schema)&&D(t)&&!Array.isArray(t)))for(const n in t)void 0===e.schema[n]&&delete t[n];let c="valid";for(const n of e.validator(t,a))c="not_valid",yield[n,void 0];for(let[n,u,d]of e.entries(t,a)){const e=$(u,d,{path:void 0===n?r:[...r,n],branch:void 0===n?o:[...o,u],coerce:i,mask:s});for(const r of e)r[0]?(c=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):i&&(u=r[1],void 0===n?t=u:t instanceof Map?t.set(n,u):t instanceof Set?t.add(u):D(t)&&(void 0!==u||n in t)&&(t[n]=u))}if("not_valid"!==c)for(const n of e.refiner(t,a))c="not_refined",yield[n,void 0];"valid"===c&&(yield[void 0,t])}class j{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:r,refiner:o,coercer:i=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=n,this.entries=s,this.coercer=i,this.validator=r?(t,e)=>K(r(t,e),e,this,t):()=>[],this.refiner=o?(t,e)=>K(o(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const n=F(t,e);if(n[0])throw n[0]}(t,this)}create(t){return q(t,this)}is(t){return U(t,this)}mask(t){return function(t,e){const n=F(t,e,{coerce:!0,mask:!0});if(n[0])throw n[0];return n[1]}(t,this)}validate(t,e){return void 0===e&&(e={}),F(t,this,e)}}function q(t,e){const n=F(t,e,{coerce:!0});if(n[0])throw n[0];return n[1]}function U(t,e){return!F(t,e)[0]}function F(t,e,n){void 0===n&&(n={});const r=$(t,e,n),o=function(t){const{done:e,value:n}=t.next();return e?void 0:n}(r);if(o[0]){return[new N(o[0],(function*(){for(const t of r)t[0]&&(yield t[0])})),void 0]}return[void 0,o[1]]}function W(t,e){return new j({type:t,schema:null,validator:e})}function G(t){return new j({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||`Expected an array value, but received: ${R(t)}`})}function H(t){const e=R(t),n=typeof t;return new j({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?t:null,validator:n=>n===t||`Expected the literal \`${e}\`, but received: ${R(n)}`})}function J(t){return new j({...t,validator:(e,n)=>null===e||t.validator(e,n),refiner:(e,n)=>null===e||t.refiner(e,n)})}function Z(){return W("number",(t=>"number"==typeof t&&!isNaN(t)||`Expected a number, but received: ${R(t)}`))}function X(t){return new j({...t,validator:(e,n)=>void 0===e||t.validator(e,n),refiner:(e,n)=>void 0===e||t.refiner(e,n)})}function Q(){return W("string",(t=>"string"==typeof t||`Expected a string, but received: ${R(t)}`))}function Y(t){const e=Object.keys(t);return new j({type:"type",schema:t,*entries(n){if(D(n))for(const r of e)yield[r,n[r],t[r]]},validator:t=>D(t)||`Expected an object, but received: ${R(t)}`})}function tt(t){const e=t.map((t=>t.type)).join(" | ");return new j({type:"union",schema:null,coercer:(e,n)=>(t.find((t=>{const[n]=t.validate(e,{coerce:!0});return!n}))||et()).coercer(e,n),validator(n,r){const o=[];for(const e of t){const[...t]=$(n,e,r),[i]=t;if(!i[0])return[];for(const[e]of t)e&&o.push(e)}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${R(n)}`,...o]}})}function et(){return W("unknown",(()=>!0))}async function nt(t,r,o,i,s){const a=new e;a.feePayer=r.feePayer,a.instructions=r.instructions,a.nonceInfo=r.nonceInfo,a.signatures=r.signatures,o&&a.sign(...o);const c=r._compile(),u=c.serialize(),d=r._serialize(u).toString("base64"),l={encoding:"base64",commitment:null!=i?i:t.commitment};s&&(l.accounts={encoding:"base64",addresses:(Array.isArray(s)?s:c.nonProgramIds()).map((t=>t.toBase58()))}),o&&(l.sigVerify=!0);const h=[d,l],m=q(await t._rpcRequest("simulateTransaction",h),st);if("error"in m){let t;throw"data"in m.error&&"logs"in m.error.data&&Array.isArray(m.error.data.logs)&&(t=m.error.data.logs),new n(`failed to simulate transaction: ${m.error.message}`,t)}return m.result}function rt(t){return e=it(t),n=ot,r=e=>"error"in e?e:{...e,result:q(e.result,t)},new j({...e,coercer:(t,o)=>U(t,n)?e.coercer(r(t,o),o):e.coercer(t,o)});var e,n,r}const ot=it(et());function it(t){return tt([Y({jsonrpc:H("2.0"),id:Q(),result:t}),Y({jsonrpc:H("2.0"),id:Q(),error:Y({code:et(),message:Q(),data:X(W("any",(()=>!0)))})})])}const st=(at=Y({err:J(tt([Y({}),Q()])),logs:J(G(Q())),accounts:X(J(G(J(Y({executable:W("boolean",(t=>"boolean"==typeof t)),owner:Q(),lamports:Z(),data:G(Q()),rentEpoch:X(Z())}))))),unitsConsumed:X(Z())}),rt(Y({context:Y({slot:Z()}),value:at})));var at;class ct{constructor(t){this.payer=t}static local(){throw new Error("Local wallet not supported in browser")}async signTransaction(t){return t.partialSign(this.payer),t}async signAllTransactions(t){return t.map((t=>(t.partialSign(this.payer),t)))}get publicKey(){return this.payer.publicKey}}class ut{constructor(t,e,n){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var o;void 0===r&&(r=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),(null!=e?e:[]).forEach((e=>{t.partialSign(e)}));const i=t.serialize();try{return await lt(this.connection,i,r)}catch(e){if(e instanceof ht){const r=await this.connection.getTransaction(P(t.signature),{commitment:"confirmed"});if(r){const t=null===(o=r.meta)||void 0===o?void 0:o.logMessages;throw t?new n(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const n=await this.connection.getRecentBlockhash(e.preflightCommitment);let r=t.map((t=>{var e;let r=t.tx,o=null!==(e=t.signers)&&void 0!==e?e:[];return r.feePayer=this.wallet.publicKey,r.recentBlockhash=n.blockhash,o.forEach((t=>{r.partialSign(t)})),r}));const o=await this.wallet.signAllTransactions(r),i=[];for(let t=0;t<r.length;t+=1){const n=o[t].serialize();i.push(await lt(this.connection,n,e))}return i}async simulate(t,e,n,r){t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(null!=n?n:this.connection.commitment)).blockhash,t=await this.wallet.signTransaction(t);const o=await nt(this.connection,t,e,n,r);if(o.value.err)throw new dt(o.value);return o.value}}class dt extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function lt(t,e,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},o=await t.sendRawTransaction(e,r),i=(await t.confirmTransaction(o,n&&n.commitment)).value;if(i.err)throw new ht(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}class ht extends Error{constructor(t){super(t)}}function mt(t){ft=t}function pt(){return null===ft?ut.local():ft}let ft=null;const yt=new Set(["anchor-deprecated-state","debug-logs"]),gt=new Map;function wt(t){return void 0!==gt.get(t)}const vt=Object.freeze(Object.defineProperty({__proto__:null,set:function(t){if(!yt.has(t))throw new Error("Invalid feature");gt.set(t,!0)},isSet:wt},Symbol.toStringTag,{value:"Module"}));class bt extends Error{constructor(t){super(t),this.name="IdlError"}}class At{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,o=/^Program \w* success/,i=[];for(let s=0;s<t.length;s++){if(o.exec(t[s])){i.pop();continue}const a=null===(e=n.exec(t[s]))||void 0===e?void 0:e[1];a&&i.push(new r(a))}return new At(i)}}class _t extends Error{constructor(t,e,n,r,o,i){super(n.join("\n").replace("Program log: ","")),this.errorLogs=n,this.logs=r,this.error={errorCode:t,errorMessage:e,comparedValues:i,origin:o},this._programErrorStack=At.parse(r)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const n=t[e],o=[n];let i;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const n=/^Program log: (.*)$/,s=n.exec(t[e+2])[1],a=n.exec(t[e+4])[1];i=[new r(s),new r(a)],o.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const n=/^Program log: (Left|Right): (.*)$/,r=n.exec(t[e+1])[2],s=n.exec(t[e+2])[2];o.push(...t.slice(e+1,e+3)),i=[r,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(s){const[e,n,r]=s.slice(1,4),a={code:e,number:parseInt(n)};return new _t(a,r,o,t,void 0,i)}if(a){const[e,n,r,s,c]=a.slice(1,6),u={code:r,number:parseInt(s)},d={file:e,line:parseInt(n)};return new _t(u,c,o,t,d,i)}if(c){const[e,n,r,s]=c.slice(1,5),a=e,u={code:n,number:parseInt(r)};return new _t(u,s,o,t,a,i)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class St extends Error{constructor(t,e,n){super(e),this.code=t,this.logs=n,n&&(this._programErrorStack=At.parse(n))}static parse(t,e){const n=t.toString();let r,o;if(n.includes("custom program error:")){let t=n.split("custom program error: ");if(2!==t.length)return null;r=t[1]}else{const t=n.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;r=t[0].match(/([0-9]+)/g)[0]}try{o=parseInt(r)}catch(t){return null}let i=e.get(o);return void 0!==i?new St(o,i,t.logs):(i=Mt.get(o),void 0!==i?new St(o,i,t.logs):null)}get msg(){return this.message}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.message}}function It(t,e){wt("debug-logs")&&console.log("Translating error:",t);const n=_t.parse(t.logs);if(n)return n;const r=St.parse(t,e);if(r)return r;if(t.logs){const e={get:function(e,n){return"programErrorStack"===n?e.programErrorStack.stack:"program"===n?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=At.parse(t.logs),new Proxy(t,e)}return t}var Et;!function(t){t[t.InstructionMissing=100]="InstructionMissing",t[t.InstructionFallbackNotFound=101]="InstructionFallbackNotFound",t[t.InstructionDidNotDeserialize=102]="InstructionDidNotDeserialize",t[t.InstructionDidNotSerialize=103]="InstructionDidNotSerialize",t[t.IdlInstructionStub=1e3]="IdlInstructionStub",t[t.IdlInstructionInvalidProgram=1001]="IdlInstructionInvalidProgram",t[t.ConstraintMut=2e3]="ConstraintMut",t[t.ConstraintHasOne=2001]="ConstraintHasOne",t[t.ConstraintSigner=2002]="ConstraintSigner",t[t.ConstraintRaw=2003]="ConstraintRaw",t[t.ConstraintOwner=2004]="ConstraintOwner",t[t.ConstraintRentExempt=2005]="ConstraintRentExempt",t[t.ConstraintSeeds=2006]="ConstraintSeeds",t[t.ConstraintExecutable=2007]="ConstraintExecutable",t[t.ConstraintState=2008]="ConstraintState",t[t.ConstraintAssociated=2009]="ConstraintAssociated",t[t.ConstraintAssociatedInit=2010]="ConstraintAssociatedInit",t[t.ConstraintClose=2011]="ConstraintClose",t[t.ConstraintAddress=2012]="ConstraintAddress",t[t.ConstraintZero=2013]="ConstraintZero",t[t.ConstraintTokenMint=2014]="ConstraintTokenMint",t[t.ConstraintTokenOwner=2015]="ConstraintTokenOwner",t[t.ConstraintMintMintAuthority=2016]="ConstraintMintMintAuthority",t[t.ConstraintMintFreezeAuthority=2017]="ConstraintMintFreezeAuthority",t[t.ConstraintMintDecimals=2018]="ConstraintMintDecimals",t[t.ConstraintSpace=2019]="ConstraintSpace",t[t.RequireViolated=2500]="RequireViolated",t[t.RequireEqViolated=2501]="RequireEqViolated",t[t.RequireKeysEqViolated=2502]="RequireKeysEqViolated",t[t.RequireNeqViolated=2503]="RequireNeqViolated",t[t.RequireKeysNeqViolated=2504]="RequireKeysNeqViolated",t[t.RequireGtViolated=2505]="RequireGtViolated",t[t.RequireGteViolated=2506]="RequireGteViolated",t[t.AccountDiscriminatorAlreadySet=3e3]="AccountDiscriminatorAlreadySet",t[t.AccountDiscriminatorNotFound=3001]="AccountDiscriminatorNotFound",t[t.AccountDiscriminatorMismatch=3002]="AccountDiscriminatorMismatch",t[t.AccountDidNotDeserialize=3003]="AccountDidNotDeserialize",t[t.AccountDidNotSerialize=3004]="AccountDidNotSerialize",t[t.AccountNotEnoughKeys=3005]="AccountNotEnoughKeys",t[t.AccountNotMutable=3006]="AccountNotMutable",t[t.AccountOwnedByWrongProgram=3007]="AccountOwnedByWrongProgram",t[t.InvalidProgramId=3008]="InvalidProgramId",t[t.InvalidProgramExecutable=3009]="InvalidProgramExecutable",t[t.AccountNotSigner=3010]="AccountNotSigner",t[t.AccountNotSystemOwned=3011]="AccountNotSystemOwned",t[t.AccountNotInitialized=3012]="AccountNotInitialized",t[t.AccountNotProgramData=3013]="AccountNotProgramData",t[t.AccountNotAssociatedTokenAccount=3014]="AccountNotAssociatedTokenAccount",t[t.AccountSysvarMismatch=3015]="AccountSysvarMismatch",t[t.AccountReallocExceedsLimit=3016]="AccountReallocExceedsLimit",t[t.AccountDuplicateReallocs=3017]="AccountDuplicateReallocs",t[t.StateInvalidAddress=4e3]="StateInvalidAddress",t[t.DeclaredProgramIdMismatch=4100]="DeclaredProgramIdMismatch",t[t.Deprecated=5e3]="Deprecated"}(Et||(Et={}));const Mt=new Map([[Et.InstructionMissing,"8 byte instruction identifier not provided"],[Et.InstructionFallbackNotFound,"Fallback functions are not supported"],[Et.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Et.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Et.IdlInstructionStub,"The program was compiled without idl instructions"],[Et.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Et.ConstraintMut,"A mut constraint was violated"],[Et.ConstraintHasOne,"A has_one constraint was violated"],[Et.ConstraintSigner,"A signer constraint was violated"],[Et.ConstraintRaw,"A raw constraint was violated"],[Et.ConstraintOwner,"An owner constraint was violated"],[Et.ConstraintRentExempt,"A rent exemption constraint was violated"],[Et.ConstraintSeeds,"A seeds constraint was violated"],[Et.ConstraintExecutable,"An executable constraint was violated"],[Et.ConstraintState,"A state constraint was violated"],[Et.ConstraintAssociated,"An associated constraint was violated"],[Et.ConstraintAssociatedInit,"An associated init constraint was violated"],[Et.ConstraintClose,"A close constraint was violated"],[Et.ConstraintAddress,"An address constraint was violated"],[Et.ConstraintZero,"Expected zero account discriminant"],[Et.ConstraintTokenMint,"A token mint constraint was violated"],[Et.ConstraintTokenOwner,"A token owner constraint was violated"],[Et.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Et.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Et.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Et.ConstraintSpace,"A space constraint was violated"],[Et.RequireViolated,"A require expression was violated"],[Et.RequireEqViolated,"A require_eq expression was violated"],[Et.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Et.RequireNeqViolated,"A require_neq expression was violated"],[Et.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Et.RequireGtViolated,"A require_gt expression was violated"],[Et.RequireGteViolated,"A require_gte expression was violated"],[Et.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Et.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Et.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Et.AccountDidNotDeserialize,"Failed to deserialize the account"],[Et.AccountDidNotSerialize,"Failed to serialize the account"],[Et.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Et.AccountNotMutable,"The given account is not mutable"],[Et.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Et.InvalidProgramId,"Program ID was not as expected"],[Et.InvalidProgramExecutable,"Program account is not executable"],[Et.AccountNotSigner,"The given account did not sign"],[Et.AccountNotSystemOwned,"The given account is not owned by the system program"],[Et.AccountNotInitialized,"The program expected this account to be already initialized"],[Et.AccountNotProgramData,"The given account is not a program data account"],[Et.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Et.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Et.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Et.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Et.StateInvalidAddress,"The given state account does not have the correct address"],[Et.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Et.Deprecated,"The API being used is deprecated and should no longer be used"]]);class kt{static fieldLayout(t,e){const n=void 0!==t.name?y(t.name):void 0;switch(t.type){case"bool":return p.bool(n);case"u8":return p.u8(n);case"i8":return p.i8(n);case"u16":return p.u16(n);case"i16":return p.i16(n);case"u32":return p.u32(n);case"i32":return p.i32(n);case"f32":return p.f32(n);case"u64":return p.u64(n);case"i64":return p.i64(n);case"f64":return p.f64(n);case"u128":return p.u128(n);case"i128":return p.i128(n);case"bytes":return p.vecU8(n);case"string":return p.str(n);case"publicKey":return p.publicKey(n);default:if("vec"in t.type)return p.vec(kt.fieldLayout({name:void 0,type:t.type.vec},e),n);if("option"in t.type)return p.option(kt.fieldLayout({name:void 0,type:t.type.option},e),n);if("defined"in t.type){const r=t.type.defined;if(void 0===e)throw new bt("User defined types not provided");const o=e.filter((t=>t.name===r));if(1!==o.length)throw new bt(`Type not found: ${JSON.stringify(t)}`);return kt.typeDefLayout(o[0],e,n)}if("array"in t.type){let r=t.type.array[0],o=t.type.array[1],i=kt.fieldLayout({name:void 0,type:r},e);return p.array(i,o,n)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t,e=[],n){if("struct"===t.type.kind){const r=t.type.fields.map((t=>kt.fieldLayout(t,e)));return p.struct(r,n)}if("enum"===t.type.kind){const r=t.type.variants.map((t=>{const n=y(t.name);if(void 0===t.fields)return p.struct([],n);const r=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return kt.fieldLayout(t,e)}));return p.struct(r,n)}));return void 0!==n?p.rustEnum(r).replicate(n):p.rustEnum(r,n)}throw new Error(`Unknown type kint: ${t}`)}}class xt{constructor(t){this.idl=t,this.ixLayout=xt.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const n=Ct("global",t.name);e.set(P(n),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const n=Ct("state",t.name);e.set(P(n),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,n){const r=h.alloc(1e3),o=y(e),i=this.ixLayout.get(o);if(!i)throw new Error(`Unknown method: ${o}`);const s=i.encode(n,r),a=r.slice(0,s);return h.concat([Ct(t,e),a])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let n=e.args.map((e=>{var n,r;return kt.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=y(e.name);return[r,p.struct(n,r)]})).concat(t.instructions.map((e=>{let n=e.args.map((e=>{var n,r;return kt.fieldLayout(e,Array.from([...null!==(n=t.accounts)&&void 0!==n?n:[],...null!==(r=t.types)&&void 0!==r?r:[]]))}));const r=y(e.name);return[r,p.struct(n,r)]})));return new Map(e)}decode(t,e="hex"){"string"==typeof t&&(t="hex"===e?h.from(t,"hex"):C(t));const n=P(t.subarray(0,8)),r=this.sighashLayouts.get(n);if(!r)return null;const o=t.subarray(8);return{data:r.layout.decode(o),name:r.name}}format(t,e){return Pt.format(t,e,this.idl)}}class Pt{static format(t,e,n){const r=n.instructions.filter((e=>t.name===e.name))[0];if(void 0===r)return console.error("Invalid instruction given"),null;const o=r.args.map((e=>({name:e.name,type:Pt.formatIdlType(e.type),data:Pt.formatIdlData(e,t.data[e.name],n.types)}))),i=Pt.flattenIdlAccounts(r.accounts);return{args:o,accounts:e.map(((t,e)=>e<i.length?{name:i[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if(t.type.hasOwnProperty("defined")){if(void 0===n)throw new Error("User defined types not provided");const r=n.filter((e=>e.name===t.type.defined));if(1!==r.length)throw new Error(`Type not found: ${t.type.defined}`);return Pt.formatIdlDataDefined(r[0],e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){if("struct"===t.type.kind){const r=t.type;return"{ "+Object.keys(e).map((t=>{const o=r.fields.filter((e=>e.name===t))[0];if(void 0===o)throw new Error("Unable to find type");return t+": "+Pt.formatIdlData(o,e[t],n)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const r=t.type.variants,o=Object.keys(e)[0],i=e[o],s=Object.keys(i).map((t=>{var e;const s=i[t],a=null===(e=r[o])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Pt.formatIdlData(a,s,n)})).join(", "),a=g(o);return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const n=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const r=e?`${e} > ${n}`:n;return Pt.flattenIdlAccounts(t.accounts,r)}return{...t,name:e?`${e} > ${n}`:n}})).flat()}}function Ct(t,e){const n=l.digest(`${t}:${w(e)}`);return h.from(n).subarray(0,8)}const Tt=t=>t.layout instanceof b.Layout&&t.discriminator instanceof b.UInt,zt=t=>t.layout instanceof b.Layout&&"function"==typeof t.decoder&&"function"==typeof t.encoder;function Lt(t){if(t.span>=0)return t.span;if(t instanceof b.Structure)return t.fields.reduce(((t,e)=>t+Lt(e)),0);if(t instanceof b.Union){let e=Object.values(t.registry).reduce(((t,e)=>{const n=Lt(e);return n>t?n:t}),0);return t.usesPrefixDiscriminator&&(e+=t.discriminator.layout.span),e}if(t instanceof b.VariantLayout)return null==t.layout?0:Lt(t.layout);if(Tt(t))return Lt(t.discriminator)+Lt(t.layout);if(zt(t))return Lt(t.layout);throw new Error("indeterminate span")}function Ot(t,e){if("enum"===e.type.kind){let n=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return Bt(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...n)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>Bt(t,e.type))).reduce(((t,e)=>t+e),0)}function Bt(t,e){var n,r;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+Bt(t,e.option);if("coption"in e)return 4+Bt(t,e.coption);if("defined"in e){const o=null!==(r=null===(n=t.types)||void 0===n?void 0:n.filter((t=>t.name===e.defined)))&&void 0!==r?r:[];if(1!==o.length)throw new bt(`Type not found: ${JSON.stringify(e)}`);return Ot(t,o[0])}if("array"in e){let n=e.array[0],r=e.array[1];return Bt(t,n)*r}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Nt=8;class Dt{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>{const n=kt.typeDefLayout(e,t.types);let r;try{r=Lt(n)}catch(t){}return[e.name,[n,r]]}));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);const[r,i]=n,s=h.alloc(null!=i?i:o),a=r.encode(e,s),c=Dt.accountDiscriminator(t);return h.concat([c,s.subarray(0,a)])}decode(t,e){if(Dt.accountDiscriminator(t).compare(e.subarray(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);const[r]=n;return r.decode(e.subarray(8))}memcmp(t,e){const n=Dt.accountDiscriminator(t);return{offset:0,bytes:d.encode(e?h.concat([n,e]):n)}}size(t){var e;return 8+(null!==(e=Ot(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){const e=l.digest(`account:${g(t)}`);return h.from(e).subarray(0,8)}}class Rt{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let n={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,kt.typeDefLayout(n,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[m.fromByteArray(Vt(t.name)),t.name])))}decode(t){let e;try{const n=m.toByteArray(t);e=h.from(n.buffer,n.byteOffset,n.byteLength)}catch(t){return null}const n=m.fromByteArray(e.subarray(0,8)),r=this.discriminators.get(n);if(void 0===r)return null;const o=this.layouts.get(r);if(!o)throw new Error(`Unknown event: ${r}`);return{data:o.decode(e.subarray(8)),name:r}}}function Vt(t){return h.from(l.digest(`event:${t}`)).subarray(0,8)}class Kt{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=kt.typeDefLayout(t.state.struct,t.types),this.maxSize=Lt(this.layout)}async encode(t,e){var n;const r=h.alloc(null!==(n=this.maxSize)&&void 0!==n?n:o),i=this.layout.encode(e,r),s=await $t(t),a=r.subarray(0,i);return h.concat([s,a])}decode(t){const e=t.subarray(8);return this.layout.decode(e)}}async function $t(t){const e=wt("anchor-deprecated-state")?"account":"state";return h.from(l.digest(`${e}:${t}`)).subarray(0,8)}class jt{constructor(t){if(void 0===t.types)return void(this.typeLayouts=new Map);const e=t.types.map((e=>{const n=kt.typeDefLayout(e,t.types);let r;try{r=Lt(n)}catch(t){}return[e.name,[n,r]]}));this.typeLayouts=new Map(e),this.idl=t}encode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);const[r,i]=n,s=h.alloc(null!=i?i:o),a=r.encode(e,s);return s.subarray(0,a)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);const[r]=n;return r.decode(e)}}class qt{constructor(t){this.instruction=new xt(t),this.accounts=new Dt(t),this.events=new Rt(t),t.state&&(this.state=new Kt(t)),this.types=new jt(t)}}class Ut{constructor(t){}encode(t,e){switch(y(t)){case"initializeMint":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return Wt({initializeMint:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);case"initializeAccount":return Wt({initializeAccount:{}});case"initializeMultisig":return function({m:t}){return Wt({initializeMultisig:{m:t}})}(e);case"transfer":return function({amount:t}){return Wt({transfer:{amount:t}})}(e);case"approve":return function({amount:t}){return Wt({approve:{amount:t}})}(e);case"revoke":return Wt({revoke:{}});case"setAuthority":return function({authorityType:t,newAuthority:e}){return Wt({setAuthority:{authorityType:t,newAuthority:e}})}(e);case"mintTo":return function({amount:t}){return Wt({mintTo:{amount:t}})}(e);case"burn":return function({amount:t}){return Wt({burn:{amount:t}})}(e);case"closeAccount":return Wt({closeAccount:{}});case"freezeAccount":return Wt({freezeAccount:{}});case"thawAccount":return Wt({thawAccount:{}});case"transferChecked":return function({amount:t,decimals:e}){return Wt({transferChecked:{amount:t,decimals:e}})}(e);case"approvedChecked":return function({amount:t,decimals:e}){return Wt({approveChecked:{amount:t,decimals:e}})}(e);case"mintToChecked":return function({amount:t,decimals:e}){return Wt({mintToChecked:{amount:t,decimals:e}})}(e);case"burnChecked":return function({amount:t,decimals:e}){return Wt({burnChecked:{amount:t,decimals:e}})}(e);case"intializeAccount2":return function({authority:t}){return Wt({initilaizeAccount2:{authority:t}})}(e);case"syncNative":return Wt({syncNative:{}});case"initializeAccount3":return function({authority:t}){return Wt({initializeAccount3:{authority:t}})}(e);case"initializeMultisig2":return function({m:t}){return Wt({initializeMultisig2:{m:t}})}(e);case"initializeMint2":return function({decimals:t,mintAuthority:e,freezeAuthority:n}){return Wt({initializeMint2:{decimals:t,mintAuthority:e,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const Ft=b.union(b.u8("instruction"));function Wt(t){let e=Buffer.alloc(Gt),n=Ft.encode(t,e);return e.subarray(0,n)}Ft.addVariant(0,b.struct([b.u8("decimals"),p.publicKey("mintAuthority"),p.option(p.publicKey(),"freezeAuthority")]),"initializeMint"),Ft.addVariant(1,b.struct([]),"initializeAccount"),Ft.addVariant(2,b.struct([b.u8("m")]),"initializeMultisig"),Ft.addVariant(3,b.struct([p.u64("amount")]),"transfer"),Ft.addVariant(4,b.struct([p.u64("amount")]),"approve"),Ft.addVariant(5,b.struct([]),"revoke"),Ft.addVariant(6,b.struct([b.u8("authorityType"),p.option(p.publicKey(),"newAuthority")]),"setAuthority"),Ft.addVariant(7,b.struct([p.u64("amount")]),"mintTo"),Ft.addVariant(8,b.struct([p.u64("amount")]),"burn"),Ft.addVariant(9,b.struct([]),"closeAccount"),Ft.addVariant(10,b.struct([]),"freezeAccount"),Ft.addVariant(11,b.struct([]),"thawAccount"),Ft.addVariant(12,b.struct([p.u64("amount"),b.u8("decimals")]),"transferChecked"),Ft.addVariant(13,b.struct([p.u64("amount"),b.u8("decimals")]),"approvedChecked"),Ft.addVariant(14,b.struct([p.u64("amount"),b.u8("decimals")]),"mintToChecked"),Ft.addVariant(15,b.struct([p.u64("amount"),b.u8("decimals")]),"burnedChecked"),Ft.addVariant(16,b.struct([p.publicKey("authority")]),"InitializeAccount2"),Ft.addVariant(17,b.struct([]),"syncNative"),Ft.addVariant(18,b.struct([p.publicKey("authority")]),"initializeAccount3"),Ft.addVariant(19,b.struct([b.u8("m")]),"initializeMultisig2"),Ft.addVariant(20,b.struct([b.u8("decimals"),p.publicKey("mintAuthority"),b.u8("freezeAuthorityOption"),p.publicKey("freezeAuthority")]),"initializeMint2");const Gt=Lt(Ft);class Ht{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function Jt(t){return new Qt(b.blob(8),(t=>ne.fromBuffer(t)),(t=>t.toBuffer()),t)}function Zt(t){return new Qt(b.blob(32),(t=>new r(t)),(t=>t.toBuffer()),t)}function Xt(t,e){return new Yt(t,e)}class Qt extends A{constructor(t,e,n,r){super(t.span,r),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Yt extends A{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=b.u32()}encode(t,e,n=0){return null==t?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),4+this.layout.encode(t,e,n+4))}decode(t,e=0){const n=this.discriminator.decode(t,e);if(0===n)return null;if(1===n)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}function te(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function ee(t){return t?1:0}class ne extends t{toBuffer(){const t=super.toArrayLike(Buffer,"le",8);if(t.length>=8)throw new Error("u64 too large");return t}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new ne(t,"le")}}class re{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=Buffer.alloc(165),n=se.encode(e,t);return t.slice(0,n)}case"mint":{const t=Buffer.alloc(82),n=oe.encode(e,t);return t.slice(0,n)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return se.decode(t)}(e);case"mint":return function(t){return oe.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=Ot(this.idl,t))&&void 0!==e?e:0}}const oe=b.struct([Xt(Zt(),"mintAuthority"),Jt("supply"),b.u8("decimals"),(ie="isInitialized",new Qt(b.u8(),te,ee,ie)),Xt(Zt(),"freezeAuthority")]);var ie;const se=b.struct([Zt("mint"),Zt("authority"),Jt("amount"),Xt(Zt(),"delegate"),b.u8("state"),Xt(Jt(),"isNative"),Jt("delegatedAmount"),Xt(Zt(),"closeAuthority")]);class ae{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class ce{constructor(t){}encode(t,e){throw new Error("SPL token does not have user-defined types")}decode(t,e){throw new Error("SPL token does not have user-defined types")}}class ue{constructor(t){this.instruction=new Ut(t),this.accounts=new re(t),this.events=new ae(t),this.state=new Ht(t),this.types=new ce(t)}}class de{constructor(t){}encode(t,e){switch(y(t)){case"createAccount":return function({lamports:t,space:e,owner:n}){return pe({createAccount:{lamports:t,space:e,owner:n.toBuffer()}})}(e);case"assign":return function({owner:t}){return pe({assign:{owner:t.toBuffer()}})}(e);case"transfer":return function({lamports:t}){return pe({transfer:{lamports:t}})}(e);case"createAccountWithSeed":return function({base:t,seed:e,lamports:n,space:r,owner:o}){return pe({createAccountWithSeed:{base:t.toBuffer(),seed:e,lamports:n,space:r,owner:o.toBuffer()}},me.getVariant(3).span+e.length)}(e);case"advanceNonceAccount":return function({authorized:t}){return pe({advanceNonceAccount:{authorized:t.toBuffer()}})}(e);case"withdrawNonceAccount":return function({lamports:t}){return pe({withdrawNonceAccount:{lamports:t}})}(e);case"initializeNonceAccount":return function({authorized:t}){return pe({initializeNonceAccount:{authorized:t.toBuffer()}})}(e);case"authorizeNonceAccount":return function({authorized:t}){return pe({authorizeNonceAccount:{authorized:t.toBuffer()}})}(e);case"allocate":return function({space:t}){return pe({allocate:{space:t}})}(e);case"allocateWithSeed":return function({base:t,seed:e,space:n,owner:r}){return pe({allocateWithSeed:{base:t.toBuffer(),seed:e,space:n,owner:r.toBuffer()}},me.getVariant(9).span+e.length)}(e);case"assignWithSeed":return function({base:t,seed:e,owner:n}){return pe({assignWithSeed:{base:t.toBuffer(),seed:e,owner:n.toBuffer()}},me.getVariant(10).span+e.length)}(e);case"transferWithSeed":return function({lamports:t,seed:e,owner:n}){return pe({transferWithSeed:{lamports:t,seed:e,owner:n.toBuffer()}},me.getVariant(11).span+e.length)}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("System does not have state")}}class le extends b.Layout{constructor(t){super(-1,t),this.property=t,this.layout=b.struct([b.u32("length"),b.u32("lengthPadding"),b.blob(b.offset(b.u32(),-8),"chars")],this.property)}encode(t,e,n=0){if(null==t)return this.layout.span;const r={chars:Buffer.from(t,"utf-8")};return this.layout.encode(r,e,n)}decode(t,e=0){const{chars:n}=this.layout.decode(t,e);return M(n)}getSpan(t,e=0){return 8+new DataView(t.buffer,t.byteOffset,t.byteLength).getUint32(e,!0)}}function he(t){return new le(t)}const me=b.union(b.u32("instruction"));function pe(t,e){const n=Buffer.alloc(null!=e?e:fe),r=me.encode(t,n);return void 0===e?n.subarray(0,r):n}me.addVariant(0,b.struct([p.u64("lamports"),p.u64("space"),p.publicKey("owner")]),"createAccount"),me.addVariant(1,b.struct([p.publicKey("owner")]),"assign"),me.addVariant(2,b.struct([p.u64("lamports")]),"transfer"),me.addVariant(3,b.struct([p.publicKey("base"),he("seed"),p.u64("lamports"),p.u64("space"),p.publicKey("owner")]),"createAccountWithSeed"),me.addVariant(4,b.struct([p.publicKey("authorized")]),"advanceNonceAccount"),me.addVariant(5,b.struct([p.u64("lamports")]),"withdrawNonceAccount"),me.addVariant(6,b.struct([p.publicKey("authorized")]),"initializeNonceAccount"),me.addVariant(7,b.struct([p.publicKey("authorized")]),"authorizeNonceAccount"),me.addVariant(8,b.struct([p.u64("space")]),"allocate"),me.addVariant(9,b.struct([p.publicKey("base"),he("seed"),p.u64("space"),p.publicKey("owner")]),"allocateWithSeed"),me.addVariant(10,b.struct([p.publicKey("base"),he("seed"),p.publicKey("owner")]),"assignWithSeed"),me.addVariant(11,b.struct([p.u64("lamports"),he("seed"),p.publicKey("owner")]),"transferWithSeed");const fe=Math.max(...Object.values(me.registry).map((t=>t.span)));class ye{constructor(t){}encode(t,e){throw new Error("System does not have state")}decode(t){throw new Error("System does not have state")}}class ge{constructor(t){this.idl=t}async encode(t,e){if("nonce"===t){const t=Buffer.alloc(i),n=we.encode(e,t);return t.subarray(0,n)}throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){if("nonce"===t)return function(t){return we.decode(t)}(e);throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){if("nonce"===t)return{dataSize:i};throw new Error(`Invalid account name: ${t}`)}size(t){var e;return null!==(e=Ot(this.idl,t))&&void 0!==e?e:0}}const we=b.struct([b.u32("version"),b.u32("state"),p.publicKey("authorizedPubkey"),p.publicKey("nonce"),b.struct([p.u64("lamportsPerSignature")],"feeCalculator")]);class ve{constructor(t){}decode(t){throw new Error("System program does not have events")}}class be{constructor(t){}encode(t,e){throw new Error("System does not have user-defined types")}decode(t,e){throw new Error("System does not have user-defined types")}}class Ae{constructor(t){this.instruction=new de(t),this.accounts=new ge(t),this.events=new ve(t),this.state=new ye(t),this.types=new be(t)}}const _e=Object.freeze(Object.defineProperty({__proto__:null,hash:function(t){return l(t)},digest:function(t){return l.digest(t)}},Symbol.toStringTag,{value:"Module"}));function Se(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var n;let r=null!==(n=t.msg)&&void 0!==n?n:t.name;e.set(t.code,r)})),e}function Ie(t,...e){if(t.args.length!=e.length)throw new Error("Invalid argument length");const n={};let r=0;return t.args.forEach((t=>{n[t.name]=e[r],r+=1})),n}function Ee(t,e={}){t.forEach((t=>{if("accounts"in t)Ee(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function Me(t){return t instanceof r?t:new r(t)}async function ke(t,e,n){if(e.length<=99)return await xe(t,e,n);{const r=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((n,r)=>t.slice(r*e,(r+1)*e)))}(e,99);return(await Promise.all(r.map((e=>xe(t,e,n))))).flat()}}async function xe(t,e,n){const r=null!=n?n:t.commitment;return(await t.getMultipleAccountsInfo(e,r)).map(((t,n)=>null===t?null:{publicKey:e[n],account:t}))}const Pe=Object.freeze(Object.defineProperty({__proto__:null,invoke:async function(t,n,r,o){t=Me(t),o||(o=pt());const i=new e;if(i.add(new s({programId:t,keys:null!=n?n:[],data:r})),void 0===o.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await o.sendAndConfirm(i,[])},getMultipleAccounts:ke,simulateTransaction:nt},Symbol.toStringTag,{value:"Module"}));function Ce(t,e,n){const o=h.concat([t.toBuffer(),h.from(e),n.toBuffer()]);return new r(l.digest(o))}function Te(t,e){let n=h.alloc(0);t.forEach((t=>{if(t.length>32)throw new TypeError("Max seed length exceeded");n=h.concat([n,O(t)])})),n=h.concat([n,e.toBuffer(),h.from("ProgramDerivedAddress")]);const o=new r(l.digest(n));if(r.isOnCurve(o))throw new Error("Invalid seeds, address must fall off the curve");return o}function ze(t,e){let n,r=255;for(;0!=r;){try{n=Te(t.concat(h.from([r])),e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}async function Le(t,...e){let n=[h.from([97,110,99,104,111,114])];e.forEach((t=>{n.push(t instanceof h?t:Me(t).toBuffer())}));const[o]=await r.findProgramAddress(n,Me(t));return o}const Oe=Object.freeze(Object.defineProperty({__proto__:null,createWithSeedSync:Ce,createProgramAddressSync:Te,findProgramAddressSync:ze,associated:Le},Symbol.toStringTag,{value:"Module"})),Be=new r("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ne=new r("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");const De=Object.freeze(Object.defineProperty({__proto__:null,TOKEN_PROGRAM_ID:Be,ASSOCIATED_PROGRAM_ID:Ne,associatedAddress:async function({mint:t,owner:e}){return(await r.findProgramAddress([e.toBuffer(),Be.toBuffer(),t.toBuffer()],Ne))[0]}},Symbol.toStringTag,{value:"Module"}));var Re="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Ve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ke={exports:{}};!function(t,e){var n="undefined"!=typeof self?self:Re,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n="URLSearchParams"in t,r="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),i="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function d(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function f(t){var e=new FileReader,n=p(e);return e.readAsArrayBuffer(t),n}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:o&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:i&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&o&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var t,e,n,r=m(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=p(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=d(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=d(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),l(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),l(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),l(t)},r&&(h.prototype[Symbol.iterator]=h.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var n,r,o=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function b(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},g.call(v.prototype),g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var _=[301,302,303,307,308];A.redirect=function(t,e){if(-1===_.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,n){return new Promise((function(r,i){var s=new v(t,n);if(s.signal&&s.signal.aborted)return i(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var o="response"in a?a.response:a.responseText;r(new A(o,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=h,t.Request=v,t.Response=A),e.Headers=h,e.Request=v,e.Response=A,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}(Ke,Ke.exports);const $e=Ve(Ke.exports);async function je(t,e){const n=await t.getAccountInfo(e);if(null===n)throw new Error("program account not found");const{program:r}=Ue(n.data),o=await t.getAccountInfo(r.programdataAddress);if(null===o)throw new Error("program data account not found");const{programData:i}=Ue(o.data);return i}const qe=p.rustEnum([p.struct([],"uninitialized"),p.struct([p.option(p.publicKey(),"authorityAddress")],"buffer"),p.struct([p.publicKey("programdataAddress")],"program"),p.struct([p.u64("slot"),p.option(p.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,p.u32());function Ue(t){return qe.decode(t)}const Fe=Object.freeze(Object.defineProperty({__proto__:null,verifiedBuild:async function(t,e,n=5){const r=`https://api.apr.dev/api/v0/program/${e.toString()}/latest?limit=${n}`,[o,i]=await Promise.all([je(t,e),$e(r)]),s=(await i.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return o.slot.toNumber()!==a.verified_slot?null:a},fetchData:je,decodeUpgradeableLoaderState:Ue},Symbol.toStringTag,{value:"Module"})),We=Object.freeze(Object.defineProperty({__proto__:null,sha256:_e,rpc:Pe,publicKey:Oe,bytes:B,token:De,features:vt,registry:Fe},Symbol.toStringTag,{value:"Module"}));const Ge=p.struct([p.publicKey("authority"),p.vecU8("data")]);function He(t,e){var n,r;let o={};const i=t.args?t.args.length:0;if(e.length>i){if(e.length!==i+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(r=null===(n=t.args)||void 0===n?void 0:n.map((t=>t.name)))&&void 0!==r?r:[]}`);o=e.pop()}return[e,o]}class Je{static build(t,e,n){if("_inner"===t.name)throw new bt("the _inner name is reserved");const r=(...o)=>{const[i,a]=He(t,[...o]);Ee(t.accounts,a.accounts);const c=r.accounts(a.accounts);return void 0!==a.remainingAccounts&&c.push(...a.remainingAccounts),wt("debug-logs")&&console.log("Outgoing account metas:",c),new s({keys:c,programId:n,data:e(t.name,Ie(t,...i))})};return r.accounts=e=>Je.accountsArray(e,t.accounts,t.name),r}static accountsArray(t,e,n){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const r=t[e.name];return Je.accountsArray(r,e.accounts,n).flat()}{const r=e;let o;try{o=Me(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==n?' for instruction "'+n+'"':""}. Expected PublicKey or string.`)}return{pubkey:o,isWritable:r.isMut,isSigner:r.isSigner}}})).flat():[]}}class Ze{static build(t,e,n,r){return async(...o)=>{var i;const s=e(...o),[,a]=He(t,[...o]);if(void 0===r.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await r.sendAndConfirm(s,null!==(i=a.signers)&&void 0!==i?i:[],a.options)}catch(t){throw It(t,n)}}}}class Xe{static build(t,n){return(...r)=>{var o,i,s;const[,a]=He(t,[...r]),c=new e;if(a.preInstructions&&a.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(o=a.preInstructions)||void 0===o||o.forEach((t=>c.add(t))),null===(i=a.instructions)||void 0===i||i.forEach((t=>c.add(t))),c.add(n(...r)),null===(s=a.postInstructions)||void 0===s||s.forEach((t=>c.add(t))),c}}}class Qe{static build(t,e,n,r){if(void 0!==t.state)return new Ye(t,n,r,e)}}class Ye{constructor(t,e,n,r){if(!t.state||r&&!r.state)throw new Error("State is not specified in IDL.");this.coder=null!=r?r:new qt(t),this.provider=null!=n?n:pt(),this._idl=t,this._programId=e,this._address=tn(e),this._sub=null;const[o,i,s]=(()=>{var n;let r={},o={},i={};return null===(n=t.state)||void 0===n||n.methods.forEach((n=>{const s=Je.build(n,((t,e)=>this.coder.instruction.encodeState(t,e)),e);s.accounts=t=>{const r=function(t,e,n,r){if("new"===n.name){const[n]=ze([],t);if(void 0===e.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:tn(t),isWritable:!0,isSigner:!1},{pubkey:n,isWritable:!1,isSigner:!1},{pubkey:a.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Ee(n.accounts,r),[{pubkey:tn(t),isWritable:!0,isSigner:!1}]}(e,this.provider,n,t);return r.concat(Je.accountsArray(t,n.accounts,n.name))};const c=Xe.build(n,s),u=Ze.build(n,c,Se(t),this.provider),d=y(n.name);r[d]=s,o[d]=c,i[d]=u})),[r,o,i]})();this.instruction=o,this.transaction=i,this.rpc=s}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const n=this._idl.state;if(!n)throw new Error("State is not specified in IDL.");if((await $t(n.struct.name)).compare(e.data.subarray(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new v,n=this.provider.connection.onAccountChange(this.address(),(t=>{const n=this.coder.state.decode(t.data);e.emit("change",n)}),t);return this._sub={ee:e,listener:n},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function tn(t){let[e]=ze([],t);return Ce(e,"unversioned",t)}class en{static build(t,e,n,r){var o;const i={};return null===(o=t.accounts)||void 0===o||o.forEach((o=>{const s=y(o.name);i[s]=new nn(t,o,n,r,e)})),i}}class nn{constructor(t,e,n,r,o){this._idlAccount=e,this._programId=n,this._provider=null!=r?r:pt(),this._coder=null!=o?o:new qt(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const n=await this.getAccountInfo(t,e);return null===n?null:this._coder.accounts.decode(this._idlAccount.name,n.data)}async fetch(t,e){const n=await this.fetchNullable(t,e);if(null===n)throw new Error(`Account does not exist ${t.toString()}`);return n}async fetchMultiple(t,e){return(await ke(this._provider.connection,t.map((t=>Me(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof Buffer?t:void 0)},...Array.isArray(t)?t:[]]})).map((({pubkey:t,account:e})=>({publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,e.data)})))}subscribe(t,e){const n=rn.get(t.toString());if(n)return n.ee;const r=new v;t=Me(t);const o=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);r.emit("change",e)}),e);return rn.set(t.toString(),{ee:r,listener:o}),r}async unsubscribe(t){let e=rn.get(t.toString());e?rn&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{rn.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const n=this.size;if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return a.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:n),programId:this._programId})}async associated(...t){const e=await this.associatedAddress(...t);return await this.fetch(e)}async associatedAddress(...t){return await Le(this._programId,...t)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(Me(t),e)}}const rn=new Map,on="Program log: ".length,sn="Program data: ".length;class an{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new cn(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var n;let r=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(n=this._eventListeners.get(t))&&void 0!==n?n:[]).concat(r)),this._eventCallbacks.set(r,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{if(!t.err)for(const n of this._eventParser.parseLogs(t.logs)){const r=this._eventListeners.get(n.name);r&&r.forEach((r=>{const o=this._eventCallbacks.get(r);if(o){const[,r]=o;r(n.data,e.slot,t.signature)}}))}}))),r}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let r=this._eventListeners.get(n);if(!r)throw new Error(`Event listeners don't exist for ${n}!`);this._eventCallbacks.delete(t),r=r.filter((e=>e!==t)),0===r.length&&this._eventListeners.delete(n),0==this._eventCallbacks.size&&(_.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class cn{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t){const e=new dn(t),n=new un;let r=e.next();for(;null!==r;){let[t,o,i]=this.handleLog(n,r);t&&(yield t),o&&n.push(o),i&&n.pop(),r=e.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log: ")||t.startsWith("Program data: ")){const e=t.startsWith("Program log: ")?t.slice(on):t.slice(sn);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class un{constructor(){this.stack=[]}program(){return _.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){_.ok(this.stack.length>0),this.stack.pop()}}class dn{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}class ln{static build(t,e,n,r,o,i,s){return async(...a)=>{var c;const u=e(...a),[,d]=He(t,[...a]);let l;if(void 0===r.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{l=await r.simulate(u,d.signers,null===(c=d.options)||void 0===c?void 0:c.commitment)}catch(t){throw It(t,n)}if(void 0===l)throw new Error("Unable to simulate transaction");const h=l.logs;if(!h)throw new Error("Simulated logs not found");const m=[];if(s.events){let t=new cn(i,o);for(const e of t.parseLogs(h))m.push(e)}return{events:m,raw:h}}}}const hn={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}],errors:[{code:0,name:"NotRentExempt",msg:"Lamport balance below rent-exempt threshold"},{code:1,name:"InsufficientFunds",msg:"Insufficient funds"},{code:2,name:"InvalidMint",msg:"Invalid Mint"},{code:3,name:"MintMismatch",msg:"Account not associated with this Mint"},{code:4,name:"OwnerMismatch",msg:"Owner does not match"},{code:5,name:"FixedSupply",msg:"Fixed supply"},{code:6,name:"AlreadyInUse",msg:"Already in use"},{code:7,name:"InvalidNumberOfProvidedSigners",msg:"Invalid number of provided signers"},{code:8,name:"InvalidNumberOfRequiredSigners",msg:"Invalid number of required signers"},{code:9,name:"UninitializedState",msg:"State is unititialized"},{code:10,name:"NativeNotSupported",msg:"Instruction does not support native tokens"},{code:11,name:"NonNativeHasBalance",msg:"Non-native account can only be closed if its balance is zero"},{code:12,name:"InvalidInstruction",msg:"Invalid instruction"},{code:13,name:"InvalidState",msg:"State is invalid for requested operation"},{code:14,name:"Overflow",msg:"Operation overflowed"},{code:15,name:"AuthorityTypeNotSupported",msg:"Account does not support specified authority type"},{code:16,name:"MintCannotFreeze",msg:"This token mint cannot freeze accounts"},{code:17,name:"AccountFrozen",msg:"Account is frozen"},{code:18,name:"MintDecimalsMismatch",msg:"The provided decimals value different from the Mint decimals"},{code:19,name:"NonNativeNotSupported",msg:"Instruction does not support non-native tokens"}]},mn=new ue(hn);class pn{constructor(t,e,n,r,o,i){this._args=t,this._accounts=e,this._provider=n,this._programId=r,this._idlIx=o,this._accountStore=new fn(n,i)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=y(e.name);if(!e.isSigner||this._accounts[n])Reflect.has(pn.CONST_ACCOUNTS,n)&&!this._accounts[n]&&(this._accounts[n]=pn.CONST_ACCOUNTS[n]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[n]=this._provider.wallet.publicKey}}for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],n=y(e.name);e.pda&&e.pda.seeds.length>0&&!this._accounts[n]&&await this.autoPopulatePda(e)}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),n=await this.parseProgramId(t),[o]=await r.findProgramAddress(e,n);this._accounts[y(t.name)]=o}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new r(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=y(t.path.split(".")[0]),n=this._idlIx.args.findIndex((t=>t.name===e));if(-1===n)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[n]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),n=e[0],r=this._accounts[y(n)];if(1===e.length)return r;const o=await this._accountStore.fetchAccount(t.account,r);return this.parseAccountValue(o,e.slice(1))}parseAccountValue(t,e){let n;for(;e.length>0;)n=t[y(e[0])],e=e.slice(1);return n}toBufferValue(t,e){switch(t){case"u8":return Buffer.from([e]);case"u16":let n=Buffer.alloc(2);return n.writeUInt16LE(e),n;case"u32":let r=Buffer.alloc(4);return r.writeUInt32LE(e),r;case"u64":let o=Buffer.alloc(8);return o.writeBigUInt64LE(BigInt(e)),o;case"string":return k(e);case"publicKey":return e.toBuffer();default:if(t.array)return Buffer.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}pn.CONST_ACCOUNTS={associatedTokenProgram:Ne,rent:c,systemProgram:a.programId,tokenProgram:Be};class fn{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const n=e.toString();if(!this._cache.has(n))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${n}`);const r=mn.accounts.decode("token",t.data);this._cache.set(n,r)}else{const r=this._accounts[y(t)].fetch(e);this._cache.set(n,r)}return this._cache.get(n)}}class yn{static build(t,e,n,r,o,i,s,a,c){return(...u)=>new gn(u,r,o,i,s,a,t,e,n,c)}}class gn{constructor(t,e,n,r,o,i,s,a,c,u){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=r,this._simulateFn=o,this._viewFn=i,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new pn(t,this._accounts,s,a,c,u)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(t){return this._autoResolveAccounts=!0,Object.assign(this._accounts,t),this}accountsStrict(t){return this._autoResolveAccounts=!1,Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class wn{static build(t,e,n,r){const o=e.accounts.find((t=>t.isMut)),i=!!e.returns;if(o||!i)return;return async(...o)=>{var i,s;let a=await n(...o);const c=`Program return: ${t} `;let u=a.raw.find((t=>t.startsWith(c)));if(!u)throw new Error("View expected return log");let d=z(u.slice(c.length)),l=e.returns;if(!l)throw new Error("View expected return type");return kt.fieldLayout({type:l},Array.from([...null!==(i=r.accounts)&&void 0!==i?i:[],...null!==(s=r.types)&&void 0!==s?s:[]])).decode(d)}}}class vn{static build(t,e,n,r){const o={},i={},s={},a={},c={},u={},d=Se(t),l=t.accounts?en.build(t,e,n,r):{},h=Qe.build(t,e,n,r);return t.instructions.forEach((h=>{const m=Je.build(h,((t,n)=>e.instruction.encode(t,n)),n),p=Xe.build(h,m),f=Ze.build(h,p,d,r),g=ln.build(h,p,d,r,e,n,t),w=wn.build(n,h,g,t),v=yn.build(r,n,h,m,p,f,g,w,l),b=y(h.name);i[b]=m,s[b]=p,o[b]=f,a[b]=g,c[b]=v,w&&(u[b]=w)})),[o,i,s,l,a,c,h,u]}}class bn{constructor(t,e,n,r){e=Me(e),n||(n=pt()),this._idl=t,this._provider=n,this._programId=e,this._coder=null!=r?r:new qt(t),this._events=new an(this._programId,n,this._coder);const[o,i,s,a,c,u,d,l]=vn.build(t,this._coder,e,n);this.rpc=o,this.instruction=i,this.transaction=s,this.account=a,this.simulate=c,this.methods=u,this.state=d,this.views=l}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const n=Me(t),r=await bn.fetchIdl(n,e);if(!r)throw new Error(`IDL not found for program: ${t.toString()}`);return new bn(r,n,e)}static async fetchIdl(t,e){e=null!=e?e:pt();const n=Me(t),o=await async function(t){const e=(await r.findProgramAddress([],t))[0];return await r.createWithSeed(e,"anchor:idl",t)}(n),i=await e.connection.getAccountInfo(o);if(!i)return null;const s=(a=i.data.subarray(8),Ge.decode(a));var a;const c=f(s.data);return JSON.parse(M(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class An{constructor(t){}encode(t,e){if("create"===y(t))return Buffer.alloc(0);throw new Error(`Invalid instruction: ${t}`)}encodeState(t,e){throw new Error("SPL associated token does not have state")}}class _n{constructor(t){}encode(t,e){throw new Error("SPL associated token does not have state")}decode(t){throw new Error("SPL associated token does not have state")}}class Sn{constructor(t){this.idl=t}async encode(t,e){throw new Error(`Invalid account name: ${t}`)}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){throw new Error(`Invalid account name: ${t}`)}memcmp(t,e){throw new Error(`Invalid account name: ${t}`)}size(t){var e;return null!==(e=Ot(this.idl,t))&&void 0!==e?e:0}}class In{constructor(t){}decode(t){throw new Error("SPL associated token program does not have events")}}class En{constructor(t){}encode(t,e){throw new Error("SPL associated token does not have user-defined types")}decode(t,e){throw new Error("SPL associated token does not have user-defined types")}}class Mn{constructor(t){this.instruction=new An(t),this.accounts=new Sn(t),this.events=new In(t),this.state=new _n(t),this.types=new En(t)}}const kn=new r("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");function xn(t){return new bn(Pn,kn,t,new Mn(Pn))}const Pn={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}],errors:[{code:0,name:"InvalidOwner",msg:"Associated token account owner does not match address derivation"}]},Cn=new r("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Tn(t){return new bn(hn,Cn,t,new ue(hn))}class zn{static token(t){return Tn(t)}static associatedToken(t){return xn(t)}}const Ln=new r("11111111111111111111111111111111");function On(t){return new bn(Bn,Ln,t,new Ae(Bn))}const Bn={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}],errors:[{code:0,name:"AccountAlreadyInUse",msg:"an account with the same address already exists"},{code:1,name:"ResultWithNegativeLamports",msg:"account does not have enough SOL to perform the operation"},{code:2,name:"InvalidProgramId",msg:"cannot assign account to this program id"},{code:3,name:"InvalidAccountDataLength",msg:"cannot allocate account data of this length"},{code:4,name:"MaxSeedLengthExceeded",msg:"length of requested seed is too long"},{code:5,name:"AddressWithSeedMismatch",msg:"provided address does not match addressed derived from seed"},{code:6,name:"NonceNoRecentBlockhashes",msg:"advancing stored nonce requires a populated RecentBlockhashes sysvar"},{code:7,name:"NonceBlockhashNotExpired",msg:"stored nonce is still in recent_blockhashes"},{code:8,name:"NonceUnexpectedBlockhashValue",msg:"specified nonce does not match stored nonce"}]};class Nn{static system(t){return On(t)}}export{Nt as ACCOUNT_DISCRIMINATOR_SIZE,nn as AccountClient,_t as AnchorError,ut as AnchorProvider,Dt as BorshAccountsCoder,qt as BorshCoder,Rt as BorshEventCoder,xt as BorshInstructionCoder,Kt as BorshStateCoder,an as EventManager,cn as EventParser,bt as IdlError,Et as LangErrorCode,Mt as LangErrorMessage,yn as MethodsBuilderFactory,Nn as Native,bn as Program,St as ProgramError,At as ProgramErrorStack,zn as Spl,ue as SplTokenCoder,Ye as StateClient,Ae as SystemCoder,ct as Wallet,Vt as eventDiscriminator,pt as getProvider,Se as parseIdlErrors,mt as setProvider,He as splitArgsAndCtx,$t as stateDiscriminator,Ie as toInstruction,Me as translateAddress,It as translateError,We as utils,Ee as validateAccounts};
 //# sourceMappingURL=index.js.map
diff --git a/dist/browser/index.js.map b/dist/browser/index.js.map
index d1abb99cc7c6183d4580c87a86a97bae9b27d245..46acd2a3c0954eafaa6c498296b3f4dde1d54f0b 100644
--- a/dist/browser/index.js.map
+++ b/dist/browser/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sources":["../../../src/utils/bytes/hex.ts","../../../src/utils/bytes/utf8.ts","../../../src/utils/bytes/bs58.ts","../../../src/utils/bytes/base64.ts","../../../src/program/common.ts","../../node_modules/superstruct/lib/index.es.js","../../../src/utils/rpc.ts","../../../src/utils/common.ts","../../../src/provider.ts","../../../src/utils/features.ts","../../../src/error.ts","../../node_modules/tslib/tslib.es6.js","../../node_modules/lower-case/dist.es2015/index.js","../../node_modules/no-case/dist.es2015/index.js","../../node_modules/dot-case/dist.es2015/index.js","../../../src/coder/borsh/idl.ts","../../../src/coder/borsh/instruction.ts","../../node_modules/snake-case/dist.es2015/index.js","../../../src/coder/common.ts","../../../src/coder/borsh/accounts.ts","../../../src/coder/borsh/event.ts","../../../src/coder/borsh/state.ts","../../../src/coder/borsh/types.ts","../../../src/coder/borsh/index.ts","../../node_modules/buffer-layout/lib/Layout.js","../../../src/coder/spl-token/instruction.ts","../../../src/coder/spl-token/state.ts","../../../src/coder/spl-token/buffer-layout.ts","../../../src/coder/spl-token/accounts.ts","../../../src/coder/spl-token/events.ts","../../../src/coder/spl-token/types.ts","../../../src/coder/spl-token/index.ts","../../../src/coder/system/instruction.ts","../../../src/coder/system/state.ts","../../../src/coder/system/accounts.ts","../../../src/coder/system/events.ts","../../../src/coder/system/types.ts","../../../src/coder/system/index.ts","../../../src/utils/sha256.ts","../../../src/utils/pubkey.ts","../../../src/utils/token.ts","../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../../src/utils/registry.ts","../../../src/idl.ts","../../../src/program/context.ts","../../../src/program/namespace/instruction.ts","../../../src/program/namespace/rpc.ts","../../../src/program/namespace/transaction.ts","../../../src/program/namespace/state.ts","../../../src/program/namespace/account.ts","../../../src/program/event.ts","../../../src/spl/token.ts","../../../src/program/accounts-resolver.ts","../../../src/program/namespace/methods.ts","../../../src/program/index.ts","../../../src/program/namespace/index.ts","../../../src/program/namespace/simulate.ts","../../../src/program/namespace/views.ts","../../../src/coder/spl-associated-token/instruction.ts","../../../src/coder/spl-associated-token/state.ts","../../../src/coder/spl-associated-token/accounts.ts","../../../src/coder/spl-associated-token/events.ts","../../../src/coder/spl-associated-token/types.ts","../../../src/coder/spl-associated-token/index.ts","../../../src/spl/associated-token.ts","../../../src/spl/index.ts","../../../src/native/system.ts","../../../src/native/index.ts"],"sourcesContent":[null,null,null,null,null,"/**\n * A `StructFailure` represents a single specific failure in validation.\n */\n\n/**\n * `StructError` objects are thrown (or returned) when validation fails.\n *\n * Validation logic is design to exit early for maximum performance. The error\n * represents the first error encountered during validation. For more detail,\n * the `error.failures` property is a generator function that can be run to\n * continue validation and receive all the failures in the data.\n */\nclass StructError extends TypeError {\n  constructor(failure, failures) {\n    let cached;\n    const {\n      message,\n      ...rest\n    } = failure;\n    const {\n      path\n    } = failure;\n    const msg = path.length === 0 ? message : \"At path: \" + path.join('.') + \" -- \" + message;\n    super(msg);\n    this.value = void 0;\n    this.key = void 0;\n    this.type = void 0;\n    this.refinement = void 0;\n    this.path = void 0;\n    this.branch = void 0;\n    this.failures = void 0;\n    Object.assign(this, rest);\n    this.name = this.constructor.name;\n\n    this.failures = () => {\n      var _cached;\n\n      return (_cached = cached) != null ? _cached : cached = [failure, ...failures()];\n    };\n  }\n\n}\n\n/**\n * Check if a value is an iterator.\n */\nfunction isIterable(x) {\n  return isObject(x) && typeof x[Symbol.iterator] === 'function';\n}\n/**\n * Check if a value is a plain object.\n */\n\n\nfunction isObject(x) {\n  return typeof x === 'object' && x != null;\n}\n/**\n * Check if a value is a plain object.\n */\n\nfunction isPlainObject(x) {\n  if (Object.prototype.toString.call(x) !== '[object Object]') {\n    return false;\n  }\n\n  const prototype = Object.getPrototypeOf(x);\n  return prototype === null || prototype === Object.prototype;\n}\n/**\n * Return a value as a printable string.\n */\n\nfunction print(value) {\n  return typeof value === 'string' ? JSON.stringify(value) : \"\" + value;\n}\n/**\n * Shifts (removes and returns) the first value from the `input` iterator.\n * Like `Array.prototype.shift()` but for an `Iterator`.\n */\n\nfunction shiftIterator(input) {\n  const {\n    done,\n    value\n  } = input.next();\n  return done ? undefined : value;\n}\n/**\n * Convert a single validation result to a failure.\n */\n\nfunction toFailure(result, context, struct, value) {\n  if (result === true) {\n    return;\n  } else if (result === false) {\n    result = {};\n  } else if (typeof result === 'string') {\n    result = {\n      message: result\n    };\n  }\n\n  const {\n    path,\n    branch\n  } = context;\n  const {\n    type\n  } = struct;\n  const {\n    refinement,\n    message = \"Expected a value of type `\" + type + \"`\" + (refinement ? \" with refinement `\" + refinement + \"`\" : '') + \", but received: `\" + print(value) + \"`\"\n  } = result;\n  return {\n    value,\n    type,\n    refinement,\n    key: path[path.length - 1],\n    path,\n    branch,\n    ...result,\n    message\n  };\n}\n/**\n * Convert a validation result to an iterable of failures.\n */\n\nfunction* toFailures(result, context, struct, value) {\n  if (!isIterable(result)) {\n    result = [result];\n  }\n\n  for (const r of result) {\n    const failure = toFailure(r, context, struct, value);\n\n    if (failure) {\n      yield failure;\n    }\n  }\n}\n/**\n * Check a value against a struct, traversing deeply into nested values, and\n * returning an iterator of failures or success.\n */\n\nfunction* run(value, struct, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    path = [],\n    branch = [value],\n    coerce = false,\n    mask = false\n  } = options;\n  const ctx = {\n    path,\n    branch\n  };\n\n  if (coerce) {\n    value = struct.coercer(value, ctx);\n\n    if (mask && struct.type !== 'type' && isObject(struct.schema) && isObject(value) && !Array.isArray(value)) {\n      for (const key in value) {\n        if (struct.schema[key] === undefined) {\n          delete value[key];\n        }\n      }\n    }\n  }\n\n  let valid = true;\n\n  for (const failure of struct.validator(value, ctx)) {\n    valid = false;\n    yield [failure, undefined];\n  }\n\n  for (let [k, v, s] of struct.entries(value, ctx)) {\n    const ts = run(v, s, {\n      path: k === undefined ? path : [...path, k],\n      branch: k === undefined ? branch : [...branch, v],\n      coerce,\n      mask\n    });\n\n    for (const t of ts) {\n      if (t[0]) {\n        valid = false;\n        yield [t[0], undefined];\n      } else if (coerce) {\n        v = t[1];\n\n        if (k === undefined) {\n          value = v;\n        } else if (value instanceof Map) {\n          value.set(k, v);\n        } else if (value instanceof Set) {\n          value.add(v);\n        } else if (isObject(value)) {\n          value[k] = v;\n        }\n      }\n    }\n  }\n\n  if (valid) {\n    for (const failure of struct.refiner(value, ctx)) {\n      valid = false;\n      yield [failure, undefined];\n    }\n  }\n\n  if (valid) {\n    yield [undefined, value];\n  }\n}\n\n/**\n * `Struct` objects encapsulate the validation logic for a specific type of\n * values. Once constructed, you use the `assert`, `is` or `validate` helpers to\n * validate unknown input data against the struct.\n */\n\nclass Struct {\n  constructor(props) {\n    this.TYPE = void 0;\n    this.type = void 0;\n    this.schema = void 0;\n    this.coercer = void 0;\n    this.validator = void 0;\n    this.refiner = void 0;\n    this.entries = void 0;\n    const {\n      type,\n      schema,\n      validator,\n      refiner,\n      coercer = value => value,\n      entries = function* () {}\n    } = props;\n    this.type = type;\n    this.schema = schema;\n    this.entries = entries;\n    this.coercer = coercer;\n\n    if (validator) {\n      this.validator = (value, context) => {\n        const result = validator(value, context);\n        return toFailures(result, context, this, value);\n      };\n    } else {\n      this.validator = () => [];\n    }\n\n    if (refiner) {\n      this.refiner = (value, context) => {\n        const result = refiner(value, context);\n        return toFailures(result, context, this, value);\n      };\n    } else {\n      this.refiner = () => [];\n    }\n  }\n  /**\n   * Assert that a value passes the struct's validation, throwing if it doesn't.\n   */\n\n\n  assert(value) {\n    return assert(value, this);\n  }\n  /**\n   * Create a value with the struct's coercion logic, then validate it.\n   */\n\n\n  create(value) {\n    return create(value, this);\n  }\n  /**\n   * Check if a value passes the struct's validation.\n   */\n\n\n  is(value) {\n    return is(value, this);\n  }\n  /**\n   * Mask a value, coercing and validating it, but returning only the subset of\n   * properties defined by the struct's schema.\n   */\n\n\n  mask(value) {\n    return mask(value, this);\n  }\n  /**\n   * Validate a value with the struct's validation logic, returning a tuple\n   * representing the result.\n   *\n   * You may optionally pass `true` for the `withCoercion` argument to coerce\n   * the value before attempting to validate it. If you do, the result will\n   * contain the coerced result when successful.\n   */\n\n\n  validate(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return validate(value, this, options);\n  }\n\n}\n/**\n * Assert that a value passes a struct, throwing if it doesn't.\n */\n\nfunction assert(value, struct) {\n  const result = validate(value, struct);\n\n  if (result[0]) {\n    throw result[0];\n  }\n}\n/**\n * Create a value with the coercion logic of struct and validate it.\n */\n\nfunction create(value, struct) {\n  const result = validate(value, struct, {\n    coerce: true\n  });\n\n  if (result[0]) {\n    throw result[0];\n  } else {\n    return result[1];\n  }\n}\n/**\n * Mask a value, returning only the subset of properties defined by a struct.\n */\n\nfunction mask(value, struct) {\n  const result = validate(value, struct, {\n    coerce: true,\n    mask: true\n  });\n\n  if (result[0]) {\n    throw result[0];\n  } else {\n    return result[1];\n  }\n}\n/**\n * Check if a value passes a struct.\n */\n\nfunction is(value, struct) {\n  const result = validate(value, struct);\n  return !result[0];\n}\n/**\n * Validate a value against a struct, returning an error if invalid, or the\n * value (with potential coercion) if valid.\n */\n\nfunction validate(value, struct, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const tuples = run(value, struct, options);\n  const tuple = shiftIterator(tuples);\n\n  if (tuple[0]) {\n    const error = new StructError(tuple[0], function* () {\n      for (const t of tuples) {\n        if (t[0]) {\n          yield t[0];\n        }\n      }\n    });\n    return [error, undefined];\n  } else {\n    const v = tuple[1];\n    return [undefined, v];\n  }\n}\n\nfunction assign() {\n  for (var _len = arguments.length, Structs = new Array(_len), _key = 0; _key < _len; _key++) {\n    Structs[_key] = arguments[_key];\n  }\n\n  const isType = Structs[0].type === 'type';\n  const schemas = Structs.map(s => s.schema);\n  const schema = Object.assign({}, ...schemas);\n  return isType ? type(schema) : object(schema);\n}\n/**\n * Define a new struct type with a custom validation function.\n */\n\nfunction define(name, validator) {\n  return new Struct({\n    type: name,\n    schema: null,\n    validator\n  });\n}\n/**\n * Create a new struct based on an existing struct, but the value is allowed to\n * be `undefined`. `log` will be called if the value is not `undefined`.\n */\n\nfunction deprecated(struct, log) {\n  return new Struct({ ...struct,\n    refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx),\n\n    validator(value, ctx) {\n      if (value === undefined) {\n        return true;\n      } else {\n        log(value, ctx);\n        return struct.validator(value, ctx);\n      }\n    }\n\n  });\n}\n/**\n * Create a struct with dynamic validation logic.\n *\n * The callback will receive the value currently being validated, and must\n * return a struct object to validate it with. This can be useful to model\n * validation logic that changes based on its input.\n */\n\nfunction dynamic(fn) {\n  return new Struct({\n    type: 'dynamic',\n    schema: null,\n\n    *entries(value, ctx) {\n      const struct = fn(value, ctx);\n      yield* struct.entries(value, ctx);\n    },\n\n    validator(value, ctx) {\n      const struct = fn(value, ctx);\n      return struct.validator(value, ctx);\n    },\n\n    coercer(value, ctx) {\n      const struct = fn(value, ctx);\n      return struct.coercer(value, ctx);\n    },\n\n    refiner(value, ctx) {\n      const struct = fn(value, ctx);\n      return struct.refiner(value, ctx);\n    }\n\n  });\n}\n/**\n * Create a struct with lazily evaluated validation logic.\n *\n * The first time validation is run with the struct, the callback will be called\n * and must return a struct object to use. This is useful for cases where you\n * want to have self-referential structs for nested data structures to avoid a\n * circular definition problem.\n */\n\nfunction lazy(fn) {\n  let struct;\n  return new Struct({\n    type: 'lazy',\n    schema: null,\n\n    *entries(value, ctx) {\n      var _struct;\n\n      (_struct = struct) != null ? _struct : struct = fn();\n      yield* struct.entries(value, ctx);\n    },\n\n    validator(value, ctx) {\n      var _struct2;\n\n      (_struct2 = struct) != null ? _struct2 : struct = fn();\n      return struct.validator(value, ctx);\n    },\n\n    coercer(value, ctx) {\n      var _struct3;\n\n      (_struct3 = struct) != null ? _struct3 : struct = fn();\n      return struct.coercer(value, ctx);\n    },\n\n    refiner(value, ctx) {\n      var _struct4;\n\n      (_struct4 = struct) != null ? _struct4 : struct = fn();\n      return struct.refiner(value, ctx);\n    }\n\n  });\n}\n/**\n * Create a new struct based on an existing object struct, but excluding\n * specific properties.\n *\n * Like TypeScript's `Omit` utility.\n */\n\nfunction omit(struct, keys) {\n  const {\n    schema\n  } = struct;\n  const subschema = { ...schema\n  };\n\n  for (const key of keys) {\n    delete subschema[key];\n  }\n\n  switch (struct.type) {\n    case 'type':\n      return type(subschema);\n\n    default:\n      return object(subschema);\n  }\n}\n/**\n * Create a new struct based on an existing object struct, but with all of its\n * properties allowed to be `undefined`.\n *\n * Like TypeScript's `Partial` utility.\n */\n\nfunction partial(struct) {\n  const schema = struct instanceof Struct ? { ...struct.schema\n  } : { ...struct\n  };\n\n  for (const key in schema) {\n    schema[key] = optional(schema[key]);\n  }\n\n  return object(schema);\n}\n/**\n * Create a new struct based on an existing object struct, but only including\n * specific properties.\n *\n * Like TypeScript's `Pick` utility.\n */\n\nfunction pick(struct, keys) {\n  const {\n    schema\n  } = struct;\n  const subschema = {};\n\n  for (const key of keys) {\n    subschema[key] = schema[key];\n  }\n\n  return object(subschema);\n}\n/**\n * Define a new struct type with a custom validation function.\n *\n * @deprecated This function has been renamed to `define`.\n */\n\nfunction struct(name, validator) {\n  console.warn('superstruct@0.11 - The `struct` helper has been renamed to `define`.');\n  return define(name, validator);\n}\n\n/**\n * Ensure that any value passes validation.\n */\n\nfunction any() {\n  return define('any', () => true);\n}\nfunction array(Element) {\n  return new Struct({\n    type: 'array',\n    schema: Element,\n\n    *entries(value) {\n      if (Element && Array.isArray(value)) {\n        for (const [i, v] of value.entries()) {\n          yield [i, v, Element];\n        }\n      }\n    },\n\n    coercer(value) {\n      return Array.isArray(value) ? value.slice() : value;\n    },\n\n    validator(value) {\n      return Array.isArray(value) || \"Expected an array value, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that a value is a bigint.\n */\n\nfunction bigint() {\n  return define('bigint', value => {\n    return typeof value === 'bigint';\n  });\n}\n/**\n * Ensure that a value is a boolean.\n */\n\nfunction boolean() {\n  return define('boolean', value => {\n    return typeof value === 'boolean';\n  });\n}\n/**\n * Ensure that a value is a valid `Date`.\n *\n * Note: this also ensures that the value is *not* an invalid `Date` object,\n * which can occur when parsing a date fails but still returns a `Date`.\n */\n\nfunction date() {\n  return define('date', value => {\n    return value instanceof Date && !isNaN(value.getTime()) || \"Expected a valid `Date` object, but received: \" + print(value);\n  });\n}\nfunction enums(values) {\n  const schema = {};\n  const description = values.map(v => print(v)).join();\n\n  for (const key of values) {\n    schema[key] = key;\n  }\n\n  return new Struct({\n    type: 'enums',\n    schema,\n\n    validator(value) {\n      return values.includes(value) || \"Expected one of `\" + description + \"`, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that a value is a function.\n */\n\nfunction func() {\n  return define('func', value => {\n    return typeof value === 'function' || \"Expected a function, but received: \" + print(value);\n  });\n}\n/**\n * Ensure that a value is an instance of a specific class.\n */\n\nfunction instance(Class) {\n  return define('instance', value => {\n    return value instanceof Class || \"Expected a `\" + Class.name + \"` instance, but received: \" + print(value);\n  });\n}\n/**\n * Ensure that a value is an integer.\n */\n\nfunction integer() {\n  return define('integer', value => {\n    return typeof value === 'number' && !isNaN(value) && Number.isInteger(value) || \"Expected an integer, but received: \" + print(value);\n  });\n}\n/**\n * Ensure that a value matches all of a set of types.\n */\n\nfunction intersection(Structs) {\n  return new Struct({\n    type: 'intersection',\n    schema: null,\n\n    *entries(value, ctx) {\n      for (const S of Structs) {\n        yield* S.entries(value, ctx);\n      }\n    },\n\n    *validator(value, ctx) {\n      for (const S of Structs) {\n        yield* S.validator(value, ctx);\n      }\n    },\n\n    *refiner(value, ctx) {\n      for (const S of Structs) {\n        yield* S.refiner(value, ctx);\n      }\n    }\n\n  });\n}\nfunction literal(constant) {\n  const description = print(constant);\n  const t = typeof constant;\n  return new Struct({\n    type: 'literal',\n    schema: t === 'string' || t === 'number' || t === 'boolean' ? constant : null,\n\n    validator(value) {\n      return value === constant || \"Expected the literal `\" + description + \"`, but received: \" + print(value);\n    }\n\n  });\n}\nfunction map(Key, Value) {\n  return new Struct({\n    type: 'map',\n    schema: null,\n\n    *entries(value) {\n      if (Key && Value && value instanceof Map) {\n        for (const [k, v] of value.entries()) {\n          yield [k, k, Key];\n          yield [k, v, Value];\n        }\n      }\n    },\n\n    coercer(value) {\n      return value instanceof Map ? new Map(value) : value;\n    },\n\n    validator(value) {\n      return value instanceof Map || \"Expected a `Map` object, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that no value ever passes validation.\n */\n\nfunction never() {\n  return define('never', () => false);\n}\n/**\n * Augment an existing struct to allow `null` values.\n */\n\nfunction nullable(struct) {\n  return new Struct({ ...struct,\n    validator: (value, ctx) => value === null || struct.validator(value, ctx),\n    refiner: (value, ctx) => value === null || struct.refiner(value, ctx)\n  });\n}\n/**\n * Ensure that a value is a number.\n */\n\nfunction number() {\n  return define('number', value => {\n    return typeof value === 'number' && !isNaN(value) || \"Expected a number, but received: \" + print(value);\n  });\n}\nfunction object(schema) {\n  const knowns = schema ? Object.keys(schema) : [];\n  const Never = never();\n  return new Struct({\n    type: 'object',\n    schema: schema ? schema : null,\n\n    *entries(value) {\n      if (schema && isObject(value)) {\n        const unknowns = new Set(Object.keys(value));\n\n        for (const key of knowns) {\n          unknowns.delete(key);\n          yield [key, value[key], schema[key]];\n        }\n\n        for (const key of unknowns) {\n          yield [key, value[key], Never];\n        }\n      }\n    },\n\n    validator(value) {\n      return isObject(value) || \"Expected an object, but received: \" + print(value);\n    },\n\n    coercer(value) {\n      return isObject(value) ? { ...value\n      } : value;\n    }\n\n  });\n}\n/**\n * Augment a struct to allow `undefined` values.\n */\n\nfunction optional(struct) {\n  return new Struct({ ...struct,\n    validator: (value, ctx) => value === undefined || struct.validator(value, ctx),\n    refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx)\n  });\n}\n/**\n * Ensure that a value is an object with keys and values of specific types, but\n * without ensuring any specific shape of properties.\n *\n * Like TypeScript's `Record` utility.\n */\n\nfunction record(Key, Value) {\n  return new Struct({\n    type: 'record',\n    schema: null,\n\n    *entries(value) {\n      if (isObject(value)) {\n        for (const k in value) {\n          const v = value[k];\n          yield [k, k, Key];\n          yield [k, v, Value];\n        }\n      }\n    },\n\n    validator(value) {\n      return isObject(value) || \"Expected an object, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that a value is a `RegExp`.\n *\n * Note: this does not test the value against the regular expression! For that\n * you need to use the `pattern()` refinement.\n */\n\nfunction regexp() {\n  return define('regexp', value => {\n    return value instanceof RegExp;\n  });\n}\nfunction set(Element) {\n  return new Struct({\n    type: 'set',\n    schema: null,\n\n    *entries(value) {\n      if (Element && value instanceof Set) {\n        for (const v of value) {\n          yield [v, v, Element];\n        }\n      }\n    },\n\n    coercer(value) {\n      return value instanceof Set ? new Set(value) : value;\n    },\n\n    validator(value) {\n      return value instanceof Set || \"Expected a `Set` object, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that a value is a string.\n */\n\nfunction string() {\n  return define('string', value => {\n    return typeof value === 'string' || \"Expected a string, but received: \" + print(value);\n  });\n}\n/**\n * Ensure that a value is a tuple of a specific length, and that each of its\n * elements is of a specific type.\n */\n\nfunction tuple(Structs) {\n  const Never = never();\n  return new Struct({\n    type: 'tuple',\n    schema: null,\n\n    *entries(value) {\n      if (Array.isArray(value)) {\n        const length = Math.max(Structs.length, value.length);\n\n        for (let i = 0; i < length; i++) {\n          yield [i, value[i], Structs[i] || Never];\n        }\n      }\n    },\n\n    validator(value) {\n      return Array.isArray(value) || \"Expected an array, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that a value has a set of known properties of specific types.\n *\n * Note: Unrecognized properties are allowed and untouched. This is similar to\n * how TypeScript's structural typing works.\n */\n\nfunction type(schema) {\n  const keys = Object.keys(schema);\n  return new Struct({\n    type: 'type',\n    schema,\n\n    *entries(value) {\n      if (isObject(value)) {\n        for (const k of keys) {\n          yield [k, value[k], schema[k]];\n        }\n      }\n    },\n\n    validator(value) {\n      return isObject(value) || \"Expected an object, but received: \" + print(value);\n    }\n\n  });\n}\n/**\n * Ensure that a value matches one of a set of types.\n */\n\nfunction union(Structs) {\n  const description = Structs.map(s => s.type).join(' | ');\n  return new Struct({\n    type: 'union',\n    schema: null,\n\n    coercer(value, ctx) {\n      const firstMatch = Structs.find(s => {\n        const [e] = s.validate(value, {\n          coerce: true\n        });\n        return !e;\n      }) || unknown();\n      return firstMatch.coercer(value, ctx);\n    },\n\n    validator(value, ctx) {\n      const failures = [];\n\n      for (const S of Structs) {\n        const [...tuples] = run(value, S, ctx);\n        const [first] = tuples;\n\n        if (!first[0]) {\n          return [];\n        } else {\n          for (const [failure] of tuples) {\n            if (failure) {\n              failures.push(failure);\n            }\n          }\n        }\n      }\n\n      return [\"Expected the value to satisfy a union of `\" + description + \"`, but received: \" + print(value), ...failures];\n    }\n\n  });\n}\n/**\n * Ensure that any value passes validation, without widening its type to `any`.\n */\n\nfunction unknown() {\n  return define('unknown', () => true);\n}\n\n/**\n * Augment a `Struct` to add an additional coercion step to its input.\n *\n * This allows you to transform input data before validating it, to increase the\n * likelihood that it passes validationfor example for default values, parsing\n * different formats, etc.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\n\nfunction coerce(struct, condition, coercer) {\n  return new Struct({ ...struct,\n    coercer: (value, ctx) => {\n      return is(value, condition) ? struct.coercer(coercer(value, ctx), ctx) : struct.coercer(value, ctx);\n    }\n  });\n}\n/**\n * Augment a struct to replace `undefined` values with a default.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\n\nfunction defaulted(struct, fallback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return coerce(struct, unknown(), x => {\n    const f = typeof fallback === 'function' ? fallback() : fallback;\n\n    if (x === undefined) {\n      return f;\n    }\n\n    if (!options.strict && isPlainObject(x) && isPlainObject(f)) {\n      const ret = { ...x\n      };\n      let changed = false;\n\n      for (const key in f) {\n        if (ret[key] === undefined) {\n          ret[key] = f[key];\n          changed = true;\n        }\n      }\n\n      if (changed) {\n        return ret;\n      }\n    }\n\n    return x;\n  });\n}\n/**\n * Augment a struct to trim string inputs.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\n\nfunction trimmed(struct) {\n  return coerce(struct, string(), x => x.trim());\n}\n\n/**\n * Ensure that a string, array, map, or set is empty.\n */\n\nfunction empty(struct) {\n  return refine(struct, 'empty', value => {\n    const size = getSize(value);\n    return size === 0 || \"Expected an empty \" + struct.type + \" but received one with a size of `\" + size + \"`\";\n  });\n}\n\nfunction getSize(value) {\n  if (value instanceof Map || value instanceof Set) {\n    return value.size;\n  } else {\n    return value.length;\n  }\n}\n/**\n * Ensure that a number or date is below a threshold.\n */\n\n\nfunction max(struct, threshold, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    exclusive\n  } = options;\n  return refine(struct, 'max', value => {\n    return exclusive ? value < threshold : value <= threshold || \"Expected a \" + struct.type + \" less than \" + (exclusive ? '' : 'or equal to ') + threshold + \" but received `\" + value + \"`\";\n  });\n}\n/**\n * Ensure that a number or date is above a threshold.\n */\n\nfunction min(struct, threshold, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    exclusive\n  } = options;\n  return refine(struct, 'min', value => {\n    return exclusive ? value > threshold : value >= threshold || \"Expected a \" + struct.type + \" greater than \" + (exclusive ? '' : 'or equal to ') + threshold + \" but received `\" + value + \"`\";\n  });\n}\n/**\n * Ensure that a string, array, map or set is not empty.\n */\n\nfunction nonempty(struct) {\n  return refine(struct, 'nonempty', value => {\n    const size = getSize(value);\n    return size > 0 || \"Expected a nonempty \" + struct.type + \" but received an empty one\";\n  });\n}\n/**\n * Ensure that a string matches a regular expression.\n */\n\nfunction pattern(struct, regexp) {\n  return refine(struct, 'pattern', value => {\n    return regexp.test(value) || \"Expected a \" + struct.type + \" matching `/\" + regexp.source + \"/` but received \\\"\" + value + \"\\\"\";\n  });\n}\n/**\n * Ensure that a string, array, number, date, map, or set has a size (or length, or time) between `min` and `max`.\n */\n\nfunction size(struct, min, max) {\n  if (max === void 0) {\n    max = min;\n  }\n\n  const expected = \"Expected a \" + struct.type;\n  const of = min === max ? \"of `\" + min + \"`\" : \"between `\" + min + \"` and `\" + max + \"`\";\n  return refine(struct, 'size', value => {\n    if (typeof value === 'number' || value instanceof Date) {\n      return min <= value && value <= max || expected + \" \" + of + \" but received `\" + value + \"`\";\n    } else if (value instanceof Map || value instanceof Set) {\n      const {\n        size\n      } = value;\n      return min <= size && size <= max || expected + \" with a size \" + of + \" but received one with a size of `\" + size + \"`\";\n    } else {\n      const {\n        length\n      } = value;\n      return min <= length && length <= max || expected + \" with a length \" + of + \" but received one with a length of `\" + length + \"`\";\n    }\n  });\n}\n/**\n * Augment a `Struct` to add an additional refinement to the validation.\n *\n * The refiner function is guaranteed to receive a value of the struct's type,\n * because the struct's existing validation will already have passed. This\n * allows you to layer additional validation on top of existing structs.\n */\n\nfunction refine(struct, name, refiner) {\n  return new Struct({ ...struct,\n\n    *refiner(value, ctx) {\n      yield* struct.refiner(value, ctx);\n      const result = refiner(value, ctx);\n      const failures = toFailures(result, ctx, struct, value);\n\n      for (const failure of failures) {\n        yield { ...failure,\n          refinement: name\n        };\n      }\n    }\n\n  });\n}\n\nexport { Struct, StructError, any, array, assert, assign, bigint, boolean, coerce, create, date, defaulted, define, deprecated, dynamic, empty, enums, func, instance, integer, intersection, is, lazy, literal, map, mask, max, min, never, nonempty, nullable, number, object, omit, optional, partial, pattern, pick, record, refine, regexp, set, size, string, struct, trimmed, tuple, type, union, unknown, validate };\n//# sourceMappingURL=index.es.js.map\n",null,null,null,null,null,"/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/**\n * Source: ftp://ftp.unicode.org/Public/UCD/latest/ucd/SpecialCasing.txt\n */\nvar SUPPORTED_LOCALE = {\n    tr: {\n        regexp: /\\u0130|\\u0049|\\u0049\\u0307/g,\n        map: {\n            : \"\\u0069\",\n            I: \"\\u0131\",\n            I: \"\\u0069\",\n        },\n    },\n    az: {\n        regexp: /\\u0130/g,\n        map: {\n            : \"\\u0069\",\n            I: \"\\u0131\",\n            I: \"\\u0069\",\n        },\n    },\n    lt: {\n        regexp: /\\u0049|\\u004A|\\u012E|\\u00CC|\\u00CD|\\u0128/g,\n        map: {\n            I: \"\\u0069\\u0307\",\n            J: \"\\u006A\\u0307\",\n            : \"\\u012F\\u0307\",\n            : \"\\u0069\\u0307\\u0300\",\n            : \"\\u0069\\u0307\\u0301\",\n            : \"\\u0069\\u0307\\u0303\",\n        },\n    },\n};\n/**\n * Localized lower case.\n */\nexport function localeLowerCase(str, locale) {\n    var lang = SUPPORTED_LOCALE[locale.toLowerCase()];\n    if (lang)\n        return lowerCase(str.replace(lang.regexp, function (m) { return lang.map[m]; }));\n    return lowerCase(str);\n}\n/**\n * Lower case as a function.\n */\nexport function lowerCase(str) {\n    return str.toLowerCase();\n}\n//# sourceMappingURL=index.js.map","import { lowerCase } from \"lower-case\";\n// Support camel case (\"camelCase\" -> \"camel Case\" and \"CAMELCase\" -> \"CAMEL Case\").\nvar DEFAULT_SPLIT_REGEXP = [/([a-z0-9])([A-Z])/g, /([A-Z])([A-Z][a-z])/g];\n// Remove all non-word characters.\nvar DEFAULT_STRIP_REGEXP = /[^A-Z0-9]+/gi;\n/**\n * Normalize the string into something other libraries can manipulate easier.\n */\nexport function noCase(input, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.splitRegexp, splitRegexp = _a === void 0 ? DEFAULT_SPLIT_REGEXP : _a, _b = options.stripRegexp, stripRegexp = _b === void 0 ? DEFAULT_STRIP_REGEXP : _b, _c = options.transform, transform = _c === void 0 ? lowerCase : _c, _d = options.delimiter, delimiter = _d === void 0 ? \" \" : _d;\n    var result = replace(replace(input, splitRegexp, \"$1\\0$2\"), stripRegexp, \"\\0\");\n    var start = 0;\n    var end = result.length;\n    // Trim the delimiter from around the output string.\n    while (result.charAt(start) === \"\\0\")\n        start++;\n    while (result.charAt(end - 1) === \"\\0\")\n        end--;\n    // Transform each token independently.\n    return result.slice(start, end).split(\"\\0\").map(transform).join(delimiter);\n}\n/**\n * Replace `re` in the input string with the replacement value.\n */\nfunction replace(input, re, value) {\n    if (re instanceof RegExp)\n        return input.replace(re, value);\n    return re.reduce(function (input, re) { return input.replace(re, value); }, input);\n}\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { noCase } from \"no-case\";\nexport function dotCase(input, options) {\n    if (options === void 0) { options = {}; }\n    return noCase(input, __assign({ delimiter: \".\" }, options));\n}\n//# sourceMappingURL=index.js.map",null,null,"import { __assign } from \"tslib\";\nimport { dotCase } from \"dot-case\";\nexport function snakeCase(input, options) {\n    if (options === void 0) { options = {}; }\n    return dotCase(input, __assign({ delimiter: \"_\" }, options));\n}\n//# sourceMappingURL=index.js.map",null,null,null,null,null,null,"/* The MIT License (MIT)\n *\n * Copyright 2015-2018 Peter A. Bigot\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * Support for translating between Buffer instances and JavaScript\n * native types.\n *\n * {@link module:Layout~Layout|Layout} is the basis of a class\n * hierarchy that associates property names with sequences of encoded\n * bytes.\n *\n * Layouts are supported for these scalar (numeric) types:\n * * {@link module:Layout~UInt|Unsigned integers in little-endian\n *   format} with {@link module:Layout.u8|8-bit}, {@link\n *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},\n *   {@link module:Layout.u32|32-bit}, {@link\n *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}\n *   representation ranges;\n * * {@link module:Layout~UIntBE|Unsigned integers in big-endian\n *   format} with {@link module:Layout.u16be|16-bit}, {@link\n *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},\n *   {@link module:Layout.u40be|40-bit}, and {@link\n *   module:Layout.u48be|48-bit} representation ranges;\n * * {@link module:Layout~Int|Signed integers in little-endian\n *   format} with {@link module:Layout.s8|8-bit}, {@link\n *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},\n *   {@link module:Layout.s32|32-bit}, {@link\n *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}\n *   representation ranges;\n * * {@link module:Layout~IntBE|Signed integers in big-endian format}\n *   with {@link module:Layout.s16be|16-bit}, {@link\n *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},\n *   {@link module:Layout.s40be|40-bit}, and {@link\n *   module:Layout.s48be|48-bit} representation ranges;\n * * 64-bit integral values that decode to an exact (if magnitude is\n *   less than 2^53) or nearby integral Number in {@link\n *   module:Layout.nu64|unsigned little-endian}, {@link\n *   module:Layout.nu64be|unsigned big-endian}, {@link\n *   module:Layout.ns64|signed little-endian}, and {@link\n *   module:Layout.ns64be|unsigned big-endian} encodings;\n * * 32-bit floating point values with {@link\n *   module:Layout.f32|little-endian} and {@link\n *   module:Layout.f32be|big-endian} representations;\n * * 64-bit floating point values with {@link\n *   module:Layout.f64|little-endian} and {@link\n *   module:Layout.f64be|big-endian} representations;\n * * {@link module:Layout.const|Constants} that take no space in the\n *   encoded expression.\n *\n * and for these aggregate types:\n * * {@link module:Layout.seq|Sequence}s of instances of a {@link\n *   module:Layout~Layout|Layout}, with JavaScript representation as\n *   an Array and constant or data-dependent {@link\n *   module:Layout~Sequence#count|length};\n * * {@link module:Layout.struct|Structure}s that aggregate a\n *   heterogeneous sequence of {@link module:Layout~Layout|Layout}\n *   instances, with JavaScript representation as an Object;\n * * {@link module:Layout.union|Union}s that support multiple {@link\n *   module:Layout~VariantLayout|variant layouts} over a fixed\n *   (padded) or variable (not padded) span of bytes, using an\n *   unsigned integer at the start of the data or a separate {@link\n *   module:Layout.unionLayoutDiscriminator|layout element} to\n *   determine which layout to use when interpreting the buffer\n *   contents;\n * * {@link module:Layout.bits|BitStructure}s that contain a sequence\n *   of individual {@link\n *   module:Layout~BitStructure#addField|BitField}s packed into an 8,\n *   16, 24, or 32-bit unsigned integer starting at the least- or\n *   most-significant bit;\n * * {@link module:Layout.cstr|C strings} of varying length;\n * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link\n *   module:Layout~Blob#length|length} raw data.\n *\n * All {@link module:Layout~Layout|Layout} instances are immutable\n * after construction, to prevent internal state from becoming\n * inconsistent.\n *\n * @local Layout\n * @local ExternalLayout\n * @local GreedyCount\n * @local OffsetLayout\n * @local UInt\n * @local UIntBE\n * @local Int\n * @local IntBE\n * @local NearUInt64\n * @local NearUInt64BE\n * @local NearInt64\n * @local NearInt64BE\n * @local Float\n * @local FloatBE\n * @local Double\n * @local DoubleBE\n * @local Sequence\n * @local Structure\n * @local UnionDiscriminator\n * @local UnionLayoutDiscriminator\n * @local Union\n * @local VariantLayout\n * @local BitStructure\n * @local BitField\n * @local Boolean\n * @local Blob\n * @local CString\n * @local Constant\n * @local bindConstructorLayout\n * @module Layout\n * @license MIT\n * @author Peter A. Bigot\n * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}\n */\n\n'use strict';\n\n/**\n * Base class for layout objects.\n *\n * **NOTE** This is an abstract base class; you can create instances\n * if it amuses you, but they won't support the {@link\n * Layout#encode|encode} or {@link Layout#decode|decode} functions.\n *\n * @param {Number} span - Initializer for {@link Layout#span|span}.  The\n * parameter must be an integer; a negative value signifies that the\n * span is {@link Layout#getSpan|value-specific}.\n *\n * @param {string} [property] - Initializer for {@link\n * Layout#property|property}.\n *\n * @abstract\n */\nclass Layout {\n  constructor(span, property) {\n    if (!Number.isInteger(span)) {\n      throw new TypeError('span must be an integer');\n    }\n\n    /** The span of the layout in bytes.\n     *\n     * Positive values are generally expected.\n     *\n     * Zero will only appear in {@link Constant}s and in {@link\n     * Sequence}s where the {@link Sequence#count|count} is zero.\n     *\n     * A negative value indicates that the span is value-specific, and\n     * must be obtained using {@link Layout#getSpan|getSpan}. */\n    this.span = span;\n\n    /** The property name used when this layout is represented in an\n     * Object.\n     *\n     * Used only for layouts that {@link Layout#decode|decode} to Object\n     * instances.  If left undefined the span of the unnamed layout will\n     * be treated as padding: it will not be mutated by {@link\n     * Layout#encode|encode} nor represented as a property in the\n     * decoded Object. */\n    this.property = property;\n  }\n\n  /** Function to create an Object into which decoded properties will\n   * be written.\n   *\n   * Used only for layouts that {@link Layout#decode|decode} to Object\n   * instances, which means:\n   * * {@link Structure}\n   * * {@link Union}\n   * * {@link VariantLayout}\n   * * {@link BitStructure}\n   *\n   * If left undefined the JavaScript representation of these layouts\n   * will be Object instances.\n   *\n   * See {@link bindConstructorLayout}.\n   */\n  makeDestinationObject() {\n    return {};\n  }\n\n  /**\n   * Decode from a Buffer into an JavaScript value.\n   *\n   * @param {Buffer} b - the buffer from which encoded data is read.\n   *\n   * @param {Number} [offset] - the offset at which the encoded data\n   * starts.  If absent a zero offset is inferred.\n   *\n   * @returns {(Number|Array|Object)} - the value of the decoded data.\n   *\n   * @abstract\n   */\n  decode(b, offset) {\n    throw new Error('Layout is abstract');\n  }\n\n  /**\n   * Encode a JavaScript value into a Buffer.\n   *\n   * @param {(Number|Array|Object)} src - the value to be encoded into\n   * the buffer.  The type accepted depends on the (sub-)type of {@link\n   * Layout}.\n   *\n   * @param {Buffer} b - the buffer into which encoded data will be\n   * written.\n   *\n   * @param {Number} [offset] - the offset at which the encoded data\n   * starts.  If absent a zero offset is inferred.\n   *\n   * @returns {Number} - the number of bytes encoded, including the\n   * space skipped for internal padding, but excluding data such as\n   * {@link Sequence#count|lengths} when stored {@link\n   * ExternalLayout|externally}.  This is the adjustment to `offset`\n   * producing the offset where data for the next layout would be\n   * written.\n   *\n   * @abstract\n   */\n  encode(src, b, offset) {\n    throw new Error('Layout is abstract');\n  }\n\n  /**\n   * Calculate the span of a specific instance of a layout.\n   *\n   * @param {Buffer} b - the buffer that contains an encoded instance.\n   *\n   * @param {Number} [offset] - the offset at which the encoded instance\n   * starts.  If absent a zero offset is inferred.\n   *\n   * @return {Number} - the number of bytes covered by the layout\n   * instance.  If this method is not overridden in a subclass the\n   * definition-time constant {@link Layout#span|span} will be\n   * returned.\n   *\n   * @throws {RangeError} - if the length of the value cannot be\n   * determined.\n   */\n  getSpan(b, offset) {\n    if (0 > this.span) {\n      throw new RangeError('indeterminate span');\n    }\n    return this.span;\n  }\n\n  /**\n   * Replicate the layout using a new property.\n   *\n   * This function must be used to get a structurally-equivalent layout\n   * with a different name since all {@link Layout} instances are\n   * immutable.\n   *\n   * **NOTE** This is a shallow copy.  All fields except {@link\n   * Layout#property|property} are strictly equal to the origin layout.\n   *\n   * @param {String} property - the value for {@link\n   * Layout#property|property} in the replica.\n   *\n   * @returns {Layout} - the copy with {@link Layout#property|property}\n   * set to `property`.\n   */\n  replicate(property) {\n    const rv = Object.create(this.constructor.prototype);\n    Object.assign(rv, this);\n    rv.property = property;\n    return rv;\n  }\n\n  /**\n   * Create an object from layout properties and an array of values.\n   *\n   * **NOTE** This function returns `undefined` if invoked on a layout\n   * that does not return its value as an Object.  Objects are\n   * returned for things that are a {@link Structure}, which includes\n   * {@link VariantLayout|variant layouts} if they are structures, and\n   * excludes {@link Union}s.  If you want this feature for a union\n   * you must use {@link Union.getVariant|getVariant} to select the\n   * desired layout.\n   *\n   * @param {Array} values - an array of values that correspond to the\n   * default order for properties.  As with {@link Layout#decode|decode}\n   * layout elements that have no property name are skipped when\n   * iterating over the array values.  Only the top-level properties are\n   * assigned; arguments are not assigned to properties of contained\n   * layouts.  Any unused values are ignored.\n   *\n   * @return {(Object|undefined)}\n   */\n  fromArray(values) {\n    return undefined;\n  }\n}\nexports.Layout = Layout;\n\n/* Provide text that carries a name (such as for a function that will\n * be throwing an error) annotated with the property of a given layout\n * (such as one for which the value was unacceptable).\n *\n * @ignore */\nfunction nameWithProperty(name, lo) {\n  if (lo.property) {\n    return name + '[' + lo.property + ']';\n  }\n  return name;\n}\nexports.nameWithProperty = nameWithProperty;\n\n/**\n * Augment a class so that instances can be encoded/decoded using a\n * given layout.\n *\n * Calling this function couples `Class` with `layout` in several ways:\n *\n * * `Class.layout_` becomes a static member property equal to `layout`;\n * * `layout.boundConstructor_` becomes a static member property equal\n *    to `Class`;\n * * The {@link Layout#makeDestinationObject|makeDestinationObject()}\n *   property of `layout` is set to a function that returns a `new\n *   Class()`;\n * * `Class.decode(b, offset)` becomes a static member function that\n *   delegates to {@link Layout#decode|layout.decode}.  The\n *   synthesized function may be captured and extended.\n * * `Class.prototype.encode(b, offset)` provides an instance member\n *   function that delegates to {@link Layout#encode|layout.encode}\n *   with `src` set to `this`.  The synthesized function may be\n *   captured and extended, but when the extension is invoked `this`\n *   must be explicitly bound to the instance.\n *\n * @param {class} Class - a JavaScript class with a nullary\n * constructor.\n *\n * @param {Layout} layout - the {@link Layout} instance used to encode\n * instances of `Class`.\n */\nfunction bindConstructorLayout(Class, layout) {\n  if ('function' !== typeof Class) {\n    throw new TypeError('Class must be constructor');\n  }\n  if (Class.hasOwnProperty('layout_')) {\n    throw new Error('Class is already bound to a layout');\n  }\n  if (!(layout && (layout instanceof Layout))) {\n    throw new TypeError('layout must be a Layout');\n  }\n  if (layout.hasOwnProperty('boundConstructor_')) {\n    throw new Error('layout is already bound to a constructor');\n  }\n  Class.layout_ = layout;\n  layout.boundConstructor_ = Class;\n  layout.makeDestinationObject = (() => new Class());\n  Object.defineProperty(Class.prototype, 'encode', {\n    value: function(b, offset) {\n      return layout.encode(this, b, offset);\n    },\n    writable: true,\n  });\n  Object.defineProperty(Class, 'decode', {\n    value: function(b, offset) {\n      return layout.decode(b, offset);\n    },\n    writable: true,\n  });\n}\nexports.bindConstructorLayout = bindConstructorLayout;\n\n/**\n * An object that behaves like a layout but does not consume space\n * within its containing layout.\n *\n * This is primarily used to obtain metadata about a member, such as a\n * {@link OffsetLayout} that can provide data about a {@link\n * Layout#getSpan|value-specific span}.\n *\n * **NOTE** This is an abstract base class; you can create instances\n * if it amuses you, but they won't support {@link\n * ExternalLayout#isCount|isCount} or other {@link Layout} functions.\n *\n * @param {Number} span - initializer for {@link Layout#span|span}.\n * The parameter can range from 1 through 6.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @abstract\n * @augments {Layout}\n */\nclass ExternalLayout extends Layout {\n  /**\n   * Return `true` iff the external layout decodes to an unsigned\n   * integer layout.\n   *\n   * In that case it can be used as the source of {@link\n   * Sequence#count|Sequence counts}, {@link Blob#length|Blob lengths},\n   * or as {@link UnionLayoutDiscriminator#layout|external union\n   * discriminators}.\n   *\n   * @abstract\n   */\n  isCount() {\n    throw new Error('ExternalLayout is abstract');\n  }\n}\n\n/**\n * An {@link ExternalLayout} that determines its {@link\n * Layout#decode|value} based on offset into and length of the buffer\n * on which it is invoked.\n *\n * *Factory*: {@link module:Layout.greedy|greedy}\n *\n * @param {Number} [elementSpan] - initializer for {@link\n * GreedyCount#elementSpan|elementSpan}.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {ExternalLayout}\n */\nclass GreedyCount extends ExternalLayout {\n  constructor(elementSpan, property) {\n    if (undefined === elementSpan) {\n      elementSpan = 1;\n    }\n    if ((!Number.isInteger(elementSpan)) || (0 >= elementSpan)) {\n      throw new TypeError('elementSpan must be a (positive) integer');\n    }\n    super(-1, property);\n\n    /** The layout for individual elements of the sequence.  The value\n     * must be a positive integer.  If not provided, the value will be\n     * 1. */\n    this.elementSpan = elementSpan;\n  }\n\n  /** @override */\n  isCount() {\n    return true;\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const rem = b.length - offset;\n    return Math.floor(rem / this.elementSpan);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    return 0;\n  }\n}\n\n/**\n * An {@link ExternalLayout} that supports accessing a {@link Layout}\n * at a fixed offset from the start of another Layout.  The offset may\n * be before, within, or after the base layout.\n *\n * *Factory*: {@link module:Layout.offset|offset}\n *\n * @param {Layout} layout - initializer for {@link\n * OffsetLayout#layout|layout}, modulo `property`.\n *\n * @param {Number} [offset] - Initializes {@link\n * OffsetLayout#offset|offset}.  Defaults to zero.\n *\n * @param {string} [property] - Optional new property name for a\n * {@link Layout#replicate| replica} of `layout` to be used as {@link\n * OffsetLayout#layout|layout}.  If not provided the `layout` is used\n * unchanged.\n *\n * @augments {Layout}\n */\nclass OffsetLayout extends ExternalLayout {\n  constructor(layout, offset, property) {\n    if (!(layout instanceof Layout)) {\n      throw new TypeError('layout must be a Layout');\n    }\n\n    if (undefined === offset) {\n      offset = 0;\n    } else if (!Number.isInteger(offset)) {\n      throw new TypeError('offset must be integer or undefined');\n    }\n\n    super(layout.span, property || layout.property);\n\n    /** The subordinated layout. */\n    this.layout = layout;\n\n    /** The location of {@link OffsetLayout#layout} relative to the\n     * start of another layout.\n     *\n     * The value may be positive or negative, but an error will thrown\n     * if at the point of use it goes outside the span of the Buffer\n     * being accessed.  */\n    this.offset = offset;\n  }\n\n  /** @override */\n  isCount() {\n    return ((this.layout instanceof UInt)\n            || (this.layout instanceof UIntBE));\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return this.layout.decode(b, offset + this.offset);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return this.layout.encode(src, b, offset + this.offset);\n  }\n}\n\n/**\n * Represent an unsigned integer in little-endian format.\n *\n * *Factory*: {@link module:Layout.u8|u8}, {@link\n *  module:Layout.u16|u16}, {@link module:Layout.u24|u24}, {@link\n *  module:Layout.u32|u32}, {@link module:Layout.u40|u40}, {@link\n *  module:Layout.u48|u48}\n *\n * @param {Number} span - initializer for {@link Layout#span|span}.\n * The parameter can range from 1 through 6.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass UInt extends Layout {\n  constructor(span, property) {\n    super(span, property);\n    if (6 < this.span) {\n      throw new RangeError('span must not exceed 6 bytes');\n    }\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readUIntLE(offset, this.span);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeUIntLE(src, offset, this.span);\n    return this.span;\n  }\n}\n\n/**\n * Represent an unsigned integer in big-endian format.\n *\n * *Factory*: {@link module:Layout.u8be|u8be}, {@link\n * module:Layout.u16be|u16be}, {@link module:Layout.u24be|u24be},\n * {@link module:Layout.u32be|u32be}, {@link\n * module:Layout.u40be|u40be}, {@link module:Layout.u48be|u48be}\n *\n * @param {Number} span - initializer for {@link Layout#span|span}.\n * The parameter can range from 1 through 6.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass UIntBE extends Layout {\n  constructor(span, property) {\n    super( span, property);\n    if (6 < this.span) {\n      throw new RangeError('span must not exceed 6 bytes');\n    }\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readUIntBE(offset, this.span);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeUIntBE(src, offset, this.span);\n    return this.span;\n  }\n}\n\n/**\n * Represent a signed integer in little-endian format.\n *\n * *Factory*: {@link module:Layout.s8|s8}, {@link\n *  module:Layout.s16|s16}, {@link module:Layout.s24|s24}, {@link\n *  module:Layout.s32|s32}, {@link module:Layout.s40|s40}, {@link\n *  module:Layout.s48|s48}\n *\n * @param {Number} span - initializer for {@link Layout#span|span}.\n * The parameter can range from 1 through 6.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Int extends Layout {\n  constructor(span, property) {\n    super(span, property);\n    if (6 < this.span) {\n      throw new RangeError('span must not exceed 6 bytes');\n    }\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readIntLE(offset, this.span);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeIntLE(src, offset, this.span);\n    return this.span;\n  }\n}\n\n/**\n * Represent a signed integer in big-endian format.\n *\n * *Factory*: {@link module:Layout.s8be|s8be}, {@link\n * module:Layout.s16be|s16be}, {@link module:Layout.s24be|s24be},\n * {@link module:Layout.s32be|s32be}, {@link\n * module:Layout.s40be|s40be}, {@link module:Layout.s48be|s48be}\n *\n * @param {Number} span - initializer for {@link Layout#span|span}.\n * The parameter can range from 1 through 6.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass IntBE extends Layout {\n  constructor(span, property) {\n    super(span, property);\n    if (6 < this.span) {\n      throw new RangeError('span must not exceed 6 bytes');\n    }\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readIntBE(offset, this.span);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeIntBE(src, offset, this.span);\n    return this.span;\n  }\n}\n\nconst V2E32 = Math.pow(2, 32);\n\n/* True modulus high and low 32-bit words, where low word is always\n * non-negative. */\nfunction divmodInt64(src) {\n  const hi32 = Math.floor(src / V2E32);\n  const lo32 = src - (hi32 * V2E32);\n  return {hi32, lo32};\n}\n/* Reconstruct Number from quotient and non-negative remainder */\nfunction roundedInt64(hi32, lo32) {\n  return hi32 * V2E32 + lo32;\n}\n\n/**\n * Represent an unsigned 64-bit integer in little-endian format when\n * encoded and as a near integral JavaScript Number when decoded.\n *\n * *Factory*: {@link module:Layout.nu64|nu64}\n *\n * **NOTE** Values with magnitude greater than 2^52 may not decode to\n * the exact value of the encoded representation.\n *\n * @augments {Layout}\n */\nclass NearUInt64 extends Layout {\n  constructor(property) {\n    super(8, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const lo32 = b.readUInt32LE(offset);\n    const hi32 = b.readUInt32LE(offset + 4);\n    return roundedInt64(hi32, lo32);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const split = divmodInt64(src);\n    b.writeUInt32LE(split.lo32, offset);\n    b.writeUInt32LE(split.hi32, offset + 4);\n    return 8;\n  }\n}\n\n/**\n * Represent an unsigned 64-bit integer in big-endian format when\n * encoded and as a near integral JavaScript Number when decoded.\n *\n * *Factory*: {@link module:Layout.nu64be|nu64be}\n *\n * **NOTE** Values with magnitude greater than 2^52 may not decode to\n * the exact value of the encoded representation.\n *\n * @augments {Layout}\n */\nclass NearUInt64BE extends Layout {\n  constructor(property) {\n    super(8, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const hi32 = b.readUInt32BE(offset);\n    const lo32 = b.readUInt32BE(offset + 4);\n    return roundedInt64(hi32, lo32);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const split = divmodInt64(src);\n    b.writeUInt32BE(split.hi32, offset);\n    b.writeUInt32BE(split.lo32, offset + 4);\n    return 8;\n  }\n}\n\n/**\n * Represent a signed 64-bit integer in little-endian format when\n * encoded and as a near integral JavaScript Number when decoded.\n *\n * *Factory*: {@link module:Layout.ns64|ns64}\n *\n * **NOTE** Values with magnitude greater than 2^52 may not decode to\n * the exact value of the encoded representation.\n *\n * @augments {Layout}\n */\nclass NearInt64 extends Layout {\n  constructor(property) {\n    super(8, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const lo32 = b.readUInt32LE(offset);\n    const hi32 = b.readInt32LE(offset + 4);\n    return roundedInt64(hi32, lo32);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const split = divmodInt64(src);\n    b.writeUInt32LE(split.lo32, offset);\n    b.writeInt32LE(split.hi32, offset + 4);\n    return 8;\n  }\n}\n\n/**\n * Represent a signed 64-bit integer in big-endian format when\n * encoded and as a near integral JavaScript Number when decoded.\n *\n * *Factory*: {@link module:Layout.ns64be|ns64be}\n *\n * **NOTE** Values with magnitude greater than 2^52 may not decode to\n * the exact value of the encoded representation.\n *\n * @augments {Layout}\n */\nclass NearInt64BE extends Layout {\n  constructor(property) {\n    super(8, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const hi32 = b.readInt32BE(offset);\n    const lo32 = b.readUInt32BE(offset + 4);\n    return roundedInt64(hi32, lo32);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const split = divmodInt64(src);\n    b.writeInt32BE(split.hi32, offset);\n    b.writeUInt32BE(split.lo32, offset + 4);\n    return 8;\n  }\n}\n\n/**\n * Represent a 32-bit floating point number in little-endian format.\n *\n * *Factory*: {@link module:Layout.f32|f32}\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Float extends Layout {\n  constructor(property) {\n    super(4, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readFloatLE(offset);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeFloatLE(src, offset);\n    return 4;\n  }\n}\n\n/**\n * Represent a 32-bit floating point number in big-endian format.\n *\n * *Factory*: {@link module:Layout.f32be|f32be}\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass FloatBE extends Layout {\n  constructor(property) {\n    super(4, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readFloatBE(offset);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeFloatBE(src, offset);\n    return 4;\n  }\n}\n\n/**\n * Represent a 64-bit floating point number in little-endian format.\n *\n * *Factory*: {@link module:Layout.f64|f64}\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Double extends Layout {\n  constructor(property) {\n    super(8, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readDoubleLE(offset);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeDoubleLE(src, offset);\n    return 8;\n  }\n}\n\n/**\n * Represent a 64-bit floating point number in big-endian format.\n *\n * *Factory*: {@link module:Layout.f64be|f64be}\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass DoubleBE extends Layout {\n  constructor(property) {\n    super(8, property);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.readDoubleBE(offset);\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    b.writeDoubleBE(src, offset);\n    return 8;\n  }\n}\n\n/**\n * Represent a contiguous sequence of a specific layout as an Array.\n *\n * *Factory*: {@link module:Layout.seq|seq}\n *\n * @param {Layout} elementLayout - initializer for {@link\n * Sequence#elementLayout|elementLayout}.\n *\n * @param {(Number|ExternalLayout)} count - initializer for {@link\n * Sequence#count|count}.  The parameter must be either a positive\n * integer or an instance of {@link ExternalLayout}.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Sequence extends Layout {\n  constructor(elementLayout, count, property) {\n    if (!(elementLayout instanceof Layout)) {\n      throw new TypeError('elementLayout must be a Layout');\n    }\n    if (!(((count instanceof ExternalLayout) && count.isCount())\n          || (Number.isInteger(count) && (0 <= count)))) {\n      throw new TypeError('count must be non-negative integer '\n                          + 'or an unsigned integer ExternalLayout');\n    }\n    let span = -1;\n    if ((!(count instanceof ExternalLayout))\n        && (0 < elementLayout.span)) {\n      span = count * elementLayout.span;\n    }\n\n    super(span, property);\n\n    /** The layout for individual elements of the sequence. */\n    this.elementLayout = elementLayout;\n\n    /** The number of elements in the sequence.\n     *\n     * This will be either a non-negative integer or an instance of\n     * {@link ExternalLayout} for which {@link\n     * ExternalLayout#isCount|isCount()} is `true`. */\n    this.count = count;\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    if (0 <= this.span) {\n      return this.span;\n    }\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let span = 0;\n    let count = this.count;\n    if (count instanceof ExternalLayout) {\n      count = count.decode(b, offset);\n    }\n    if (0 < this.elementLayout.span) {\n      span = count * this.elementLayout.span;\n    } else {\n      let idx = 0;\n      while (idx < count) {\n        span += this.elementLayout.getSpan(b, offset + span);\n        ++idx;\n      }\n    }\n    return span;\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const rv = [];\n    let i = 0;\n    let count = this.count;\n    if (count instanceof ExternalLayout) {\n      count = count.decode(b, offset);\n    }\n    while (i < count) {\n      rv.push(this.elementLayout.decode(b, offset));\n      offset += this.elementLayout.getSpan(b, offset);\n      i += 1;\n    }\n    return rv;\n  }\n\n  /** Implement {@link Layout#encode|encode} for {@link Sequence}.\n   *\n   * **NOTE** If `src` is shorter than {@link Sequence#count|count} then\n   * the unused space in the buffer is left unchanged.  If `src` is\n   * longer than {@link Sequence#count|count} the unneeded elements are\n   * ignored.\n   *\n   * **NOTE** If {@link Layout#count|count} is an instance of {@link\n   * ExternalLayout} then the length of `src` will be encoded as the\n   * count after `src` is encoded. */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const elo = this.elementLayout;\n    const span = src.reduce((span, v) => {\n      return span + elo.encode(v, b, offset + span);\n    }, 0);\n    if (this.count instanceof ExternalLayout) {\n      this.count.encode(src.length, b, offset);\n    }\n    return span;\n  }\n}\n\n/**\n * Represent a contiguous sequence of arbitrary layout elements as an\n * Object.\n *\n * *Factory*: {@link module:Layout.struct|struct}\n *\n * **NOTE** The {@link Layout#span|span} of the structure is variable\n * if any layout in {@link Structure#fields|fields} has a variable\n * span.  When {@link Layout#encode|encoding} we must have a value for\n * all variable-length fields, or we wouldn't be able to figure out\n * how much space to use for storage.  We can only identify the value\n * for a field when it has a {@link Layout#property|property}.  As\n * such, although a structure may contain both unnamed fields and\n * variable-length fields, it cannot contain an unnamed\n * variable-length field.\n *\n * @param {Layout[]} fields - initializer for {@link\n * Structure#fields|fields}.  An error is raised if this contains a\n * variable-length field for which a {@link Layout#property|property}\n * is not defined.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @param {Boolean} [decodePrefixes] - initializer for {@link\n * Structure#decodePrefixes|property}.\n *\n * @throws {Error} - if `fields` contains an unnamed variable-length\n * layout.\n *\n * @augments {Layout}\n */\nclass Structure extends Layout {\n  constructor(fields, property, decodePrefixes) {\n    if (!(Array.isArray(fields)\n          && fields.reduce((acc, v) => acc && (v instanceof Layout), true))) {\n      throw new TypeError('fields must be array of Layout instances');\n    }\n    if (('boolean' === typeof property)\n        && (undefined === decodePrefixes)) {\n      decodePrefixes = property;\n      property = undefined;\n    }\n\n    /* Verify absence of unnamed variable-length fields. */\n    for (const fd of fields) {\n      if ((0 > fd.span)\n          && (undefined === fd.property)) {\n        throw new Error('fields cannot contain unnamed variable-length layout');\n      }\n    }\n\n    let span = -1;\n    try {\n      span = fields.reduce((span, fd) => span + fd.getSpan(), 0);\n    } catch (e) {\n    }\n    super(span, property);\n\n    /** The sequence of {@link Layout} values that comprise the\n     * structure.\n     *\n     * The individual elements need not be the same type, and may be\n     * either scalar or aggregate layouts.  If a member layout leaves\n     * its {@link Layout#property|property} undefined the\n     * corresponding region of the buffer associated with the element\n     * will not be mutated.\n     *\n     * @type {Layout[]} */\n    this.fields = fields;\n\n    /** Control behavior of {@link Layout#decode|decode()} given short\n     * buffers.\n     *\n     * In some situations a structure many be extended with additional\n     * fields over time, with older installations providing only a\n     * prefix of the full structure.  If this property is `true`\n     * decoding will accept those buffers and leave subsequent fields\n     * undefined, as long as the buffer ends at a field boundary.\n     * Defaults to `false`. */\n    this.decodePrefixes = !!decodePrefixes;\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    if (0 <= this.span) {\n      return this.span;\n    }\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let span = 0;\n    try {\n      span = this.fields.reduce((span, fd) => {\n        const fsp = fd.getSpan(b, offset);\n        offset += fsp;\n        return span + fsp;\n      }, 0);\n    } catch (e) {\n      throw new RangeError('indeterminate span');\n    }\n    return span;\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const dest = this.makeDestinationObject();\n    for (const fd of this.fields) {\n      if (undefined !== fd.property) {\n        dest[fd.property] = fd.decode(b, offset);\n      }\n      offset += fd.getSpan(b, offset);\n      if (this.decodePrefixes\n          && (b.length === offset)) {\n        break;\n      }\n    }\n    return dest;\n  }\n\n  /** Implement {@link Layout#encode|encode} for {@link Structure}.\n   *\n   * If `src` is missing a property for a member with a defined {@link\n   * Layout#property|property} the corresponding region of the buffer is\n   * left unmodified. */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const firstOffset = offset;\n    let lastOffset = 0;\n    let lastWrote = 0;\n    for (const fd of this.fields) {\n      let span = fd.span;\n      lastWrote = (0 < span) ? span : 0;\n      if (undefined !== fd.property) {\n        const fv = src[fd.property];\n        if (undefined !== fv) {\n          lastWrote = fd.encode(fv, b, offset);\n          if (0 > span) {\n            /* Read the as-encoded span, which is not necessarily the\n             * same as what we wrote. */\n            span = fd.getSpan(b, offset);\n          }\n        }\n      }\n      lastOffset = offset;\n      offset += span;\n    }\n    /* Use (lastOffset + lastWrote) instead of offset because the last\n     * item may have had a dynamic length and we don't want to include\n     * the padding between it and the end of the space reserved for\n     * it. */\n    return (lastOffset + lastWrote) - firstOffset;\n  }\n\n  /** @override */\n  fromArray(values) {\n    const dest = this.makeDestinationObject();\n    for (const fd of this.fields) {\n      if ((undefined !== fd.property)\n          && (0 < values.length)) {\n        dest[fd.property] = values.shift();\n      }\n    }\n    return dest;\n  }\n\n  /**\n   * Get access to the layout of a given property.\n   *\n   * @param {String} property - the structure member of interest.\n   *\n   * @return {Layout} - the layout associated with `property`, or\n   * undefined if there is no such property.\n   */\n  layoutFor(property) {\n    if ('string' !== typeof property) {\n      throw new TypeError('property must be string');\n    }\n    for (const fd of this.fields) {\n      if (fd.property === property) {\n        return fd;\n      }\n    }\n  }\n\n  /**\n   * Get the offset of a structure member.\n   *\n   * @param {String} property - the structure member of interest.\n   *\n   * @return {Number} - the offset in bytes to the start of `property`\n   * within the structure, or undefined if `property` is not a field\n   * within the structure.  If the property is a member but follows a\n   * variable-length structure member a negative number will be\n   * returned.\n   */\n  offsetOf(property) {\n    if ('string' !== typeof property) {\n      throw new TypeError('property must be string');\n    }\n    let offset = 0;\n    for (const fd of this.fields) {\n      if (fd.property === property) {\n        return offset;\n      }\n      if (0 > fd.span) {\n        offset = -1;\n      } else if (0 <= offset) {\n        offset += fd.span;\n      }\n    }\n  }\n}\n\n/**\n * An object that can provide a {@link\n * Union#discriminator|discriminator} API for {@link Union}.\n *\n * **NOTE** This is an abstract base class; you can create instances\n * if it amuses you, but they won't support the {@link\n * UnionDiscriminator#encode|encode} or {@link\n * UnionDiscriminator#decode|decode} functions.\n *\n * @param {string} [property] - Default for {@link\n * UnionDiscriminator#property|property}.\n *\n * @abstract\n */\nclass UnionDiscriminator {\n  constructor(property) {\n    /** The {@link Layout#property|property} to be used when the\n     * discriminator is referenced in isolation (generally when {@link\n     * Union#decode|Union decode} cannot delegate to a specific\n     * variant). */\n    this.property = property;\n  }\n\n  /** Analog to {@link Layout#decode|Layout decode} for union discriminators.\n   *\n   * The implementation of this method need not reference the buffer if\n   * variant information is available through other means. */\n  decode() {\n    throw new Error('UnionDiscriminator is abstract');\n  }\n\n  /** Analog to {@link Layout#decode|Layout encode} for union discriminators.\n   *\n   * The implementation of this method need not store the value if\n   * variant information is maintained through other means. */\n  encode() {\n    throw new Error('UnionDiscriminator is abstract');\n  }\n}\n\n/**\n * An object that can provide a {@link\n * UnionDiscriminator|discriminator API} for {@link Union} using an\n * unsigned integral {@link Layout} instance located either inside or\n * outside the union.\n *\n * @param {ExternalLayout} layout - initializes {@link\n * UnionLayoutDiscriminator#layout|layout}.  Must satisfy {@link\n * ExternalLayout#isCount|isCount()}.\n *\n * @param {string} [property] - Default for {@link\n * UnionDiscriminator#property|property}, superseding the property\n * from `layout`, but defaulting to `variant` if neither `property`\n * nor layout provide a property name.\n *\n * @augments {UnionDiscriminator}\n */\nclass UnionLayoutDiscriminator extends UnionDiscriminator {\n  constructor(layout, property) {\n    if (!((layout instanceof ExternalLayout)\n          && layout.isCount())) {\n      throw new TypeError('layout must be an unsigned integer ExternalLayout');\n    }\n\n    super(property || layout.property || 'variant');\n\n    /** The {@link ExternalLayout} used to access the discriminator\n     * value. */\n    this.layout = layout;\n  }\n\n  /** Delegate decoding to {@link UnionLayoutDiscriminator#layout|layout}. */\n  decode(b, offset) {\n    return this.layout.decode(b, offset);\n  }\n\n  /** Delegate encoding to {@link UnionLayoutDiscriminator#layout|layout}. */\n  encode(src, b, offset) {\n    return this.layout.encode(src, b, offset);\n  }\n}\n\n/**\n * Represent any number of span-compatible layouts.\n *\n * *Factory*: {@link module:Layout.union|union}\n *\n * If the union has a {@link Union#defaultLayout|default layout} that\n * layout must have a non-negative {@link Layout#span|span}.  The span\n * of a fixed-span union includes its {@link\n * Union#discriminator|discriminator} if the variant is a {@link\n * Union#usesPrefixDiscriminator|prefix of the union}, plus the span\n * of its {@link Union#defaultLayout|default layout}.\n *\n * If the union does not have a default layout then the encoded span\n * of the union depends on the encoded span of its variant (which may\n * be fixed or variable).\n *\n * {@link VariantLayout#layout|Variant layout}s are added through\n * {@link Union#addVariant|addVariant}.  If the union has a default\n * layout, the span of the {@link VariantLayout#layout|layout\n * contained by the variant} must not exceed the span of the {@link\n * Union#defaultLayout|default layout} (minus the span of a {@link\n * Union#usesPrefixDiscriminator|prefix disriminator}, if used).  The\n * span of the variant will equal the span of the union itself.\n *\n * The variant for a buffer can only be identified from the {@link\n * Union#discriminator|discriminator} {@link\n * UnionDiscriminator#property|property} (in the case of the {@link\n * Union#defaultLayout|default layout}), or by using {@link\n * Union#getVariant|getVariant} and examining the resulting {@link\n * VariantLayout} instance.\n *\n * A variant compatible with a JavaScript object can be identified\n * using {@link Union#getSourceVariant|getSourceVariant}.\n *\n * @param {(UnionDiscriminator|ExternalLayout|Layout)} discr - How to\n * identify the layout used to interpret the union contents.  The\n * parameter must be an instance of {@link UnionDiscriminator}, an\n * {@link ExternalLayout} that satisfies {@link\n * ExternalLayout#isCount|isCount()}, or {@link UInt} (or {@link\n * UIntBE}).  When a non-external layout element is passed the layout\n * appears at the start of the union.  In all cases the (synthesized)\n * {@link UnionDiscriminator} instance is recorded as {@link\n * Union#discriminator|discriminator}.\n *\n * @param {(Layout|null)} defaultLayout - initializer for {@link\n * Union#defaultLayout|defaultLayout}.  If absent defaults to `null`.\n * If `null` there is no default layout: the union has data-dependent\n * length and attempts to decode or encode unrecognized variants will\n * throw an exception.  A {@link Layout} instance must have a\n * non-negative {@link Layout#span|span}, and if it lacks a {@link\n * Layout#property|property} the {@link\n * Union#defaultLayout|defaultLayout} will be a {@link\n * Layout#replicate|replica} with property `content`.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Union extends Layout {\n  constructor(discr, defaultLayout, property) {\n    const upv = ((discr instanceof UInt)\n               || (discr instanceof UIntBE));\n    if (upv) {\n      discr = new UnionLayoutDiscriminator(new OffsetLayout(discr));\n    } else if ((discr instanceof ExternalLayout)\n               && discr.isCount()) {\n      discr = new UnionLayoutDiscriminator(discr);\n    } else if (!(discr instanceof UnionDiscriminator)) {\n      throw new TypeError('discr must be a UnionDiscriminator '\n                          + 'or an unsigned integer layout');\n    }\n    if (undefined === defaultLayout) {\n      defaultLayout = null;\n    }\n    if (!((null === defaultLayout)\n          || (defaultLayout instanceof Layout))) {\n      throw new TypeError('defaultLayout must be null or a Layout');\n    }\n    if (null !== defaultLayout) {\n      if (0 > defaultLayout.span) {\n        throw new Error('defaultLayout must have constant span');\n      }\n      if (undefined === defaultLayout.property) {\n        defaultLayout = defaultLayout.replicate('content');\n      }\n    }\n\n    /* The union span can be estimated only if there's a default\n     * layout.  The union spans its default layout, plus any prefix\n     * variant layout.  By construction both layouts, if present, have\n     * non-negative span. */\n    let span = -1;\n    if (defaultLayout) {\n      span = defaultLayout.span;\n      if ((0 <= span) && upv) {\n        span += discr.layout.span;\n      }\n    }\n    super(span, property);\n\n    /** The interface for the discriminator value in isolation.\n     *\n     * This a {@link UnionDiscriminator} either passed to the\n     * constructor or synthesized from the `discr` constructor\n     * argument.  {@link\n     * Union#usesPrefixDiscriminator|usesPrefixDiscriminator} will be\n     * `true` iff the `discr` parameter was a non-offset {@link\n     * Layout} instance. */\n    this.discriminator = discr;\n\n    /** `true` if the {@link Union#discriminator|discriminator} is the\n     * first field in the union.\n     *\n     * If `false` the discriminator is obtained from somewhere\n     * else. */\n    this.usesPrefixDiscriminator = upv;\n\n    /** The layout for non-discriminator content when the value of the\n     * discriminator is not recognized.\n     *\n     * This is the value passed to the constructor.  It is\n     * structurally equivalent to the second component of {@link\n     * Union#layout|layout} but may have a different property\n     * name. */\n    this.defaultLayout = defaultLayout;\n\n    /** A registry of allowed variants.\n     *\n     * The keys are unsigned integers which should be compatible with\n     * {@link Union.discriminator|discriminator}.  The property value\n     * is the corresponding {@link VariantLayout} instances assigned\n     * to this union by {@link Union#addVariant|addVariant}.\n     *\n     * **NOTE** The registry remains mutable so that variants can be\n     * {@link Union#addVariant|added} at any time.  Users should not\n     * manipulate the content of this property. */\n    this.registry = {};\n\n    /* Private variable used when invoking getSourceVariant */\n    let boundGetSourceVariant = this.defaultGetSourceVariant.bind(this);\n\n    /** Function to infer the variant selected by a source object.\n     *\n     * Defaults to {@link\n     * Union#defaultGetSourceVariant|defaultGetSourceVariant} but may\n     * be overridden using {@link\n     * Union#configGetSourceVariant|configGetSourceVariant}.\n     *\n     * @param {Object} src - as with {@link\n     * Union#defaultGetSourceVariant|defaultGetSourceVariant}.\n     *\n     * @returns {(undefined|VariantLayout)} The default variant\n     * (`undefined`) or first registered variant that uses a property\n     * available in `src`. */\n    this.getSourceVariant = function(src) {\n      return boundGetSourceVariant(src);\n    };\n\n    /** Function to override the implementation of {@link\n     * Union#getSourceVariant|getSourceVariant}.\n     *\n     * Use this if the desired variant cannot be identified using the\n     * algorithm of {@link\n     * Union#defaultGetSourceVariant|defaultGetSourceVariant}.\n     *\n     * **NOTE** The provided function will be invoked bound to this\n     * Union instance, providing local access to {@link\n     * Union#registry|registry}.\n     *\n     * @param {Function} gsv - a function that follows the API of\n     * {@link Union#defaultGetSourceVariant|defaultGetSourceVariant}. */\n    this.configGetSourceVariant = function(gsv) {\n      boundGetSourceVariant = gsv.bind(this);\n    };\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    if (0 <= this.span) {\n      return this.span;\n    }\n    if (undefined === offset) {\n      offset = 0;\n    }\n    /* Default layouts always have non-negative span, so we don't have\n     * one and we have to recognize the variant which will in turn\n     * determine the span. */\n    const vlo = this.getVariant(b, offset);\n    if (!vlo) {\n      throw new Error('unable to determine span for unrecognized variant');\n    }\n    return vlo.getSpan(b, offset);\n  }\n\n  /**\n   * Method to infer a registered Union variant compatible with `src`.\n   *\n   * The first satisified rule in the following sequence defines the\n   * return value:\n   * * If `src` has properties matching the Union discriminator and\n   *   the default layout, `undefined` is returned regardless of the\n   *   value of the discriminator property (this ensures the default\n   *   layout will be used);\n   * * If `src` has a property matching the Union discriminator, the\n   *   value of the discriminator identifies a registered variant, and\n   *   either (a) the variant has no layout, or (b) `src` has the\n   *   variant's property, then the variant is returned (because the\n   *   source satisfies the constraints of the variant it identifies);\n   * * If `src` does not have a property matching the Union\n   *   discriminator, but does have a property matching a registered\n   *   variant, then the variant is returned (because the source\n   *   matches a variant without an explicit conflict);\n   * * An error is thrown (because we either can't identify a variant,\n   *   or we were explicitly told the variant but can't satisfy it).\n   *\n   * @param {Object} src - an object presumed to be compatible with\n   * the content of the Union.\n   *\n   * @return {(undefined|VariantLayout)} - as described above.\n   *\n   * @throws {Error} - if `src` cannot be associated with a default or\n   * registered variant.\n   */\n  defaultGetSourceVariant(src) {\n    if (src.hasOwnProperty(this.discriminator.property)) {\n      if (this.defaultLayout\n          && src.hasOwnProperty(this.defaultLayout.property)) {\n        return undefined;\n      }\n      const vlo = this.registry[src[this.discriminator.property]];\n      if (vlo\n          && ((!vlo.layout)\n              || src.hasOwnProperty(vlo.property))) {\n        return vlo;\n      }\n    } else {\n      for (const tag in this.registry) {\n        const vlo = this.registry[tag];\n        if (src.hasOwnProperty(vlo.property)) {\n          return vlo;\n        }\n      }\n    }\n    throw new Error('unable to infer src variant');\n  }\n\n  /** Implement {@link Layout#decode|decode} for {@link Union}.\n   *\n   * If the variant is {@link Union#addVariant|registered} the return\n   * value is an instance of that variant, with no explicit\n   * discriminator.  Otherwise the {@link Union#defaultLayout|default\n   * layout} is used to decode the content. */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let dest;\n    const dlo = this.discriminator;\n    const discr = dlo.decode(b, offset);\n    let clo = this.registry[discr];\n    if (undefined === clo) {\n      let contentOffset = 0;\n      clo = this.defaultLayout;\n      if (this.usesPrefixDiscriminator) {\n        contentOffset = dlo.layout.span;\n      }\n      dest = this.makeDestinationObject();\n      dest[dlo.property] = discr;\n      dest[clo.property] = this.defaultLayout.decode(b, offset + contentOffset);\n    } else {\n      dest = clo.decode(b, offset);\n    }\n    return dest;\n  }\n\n  /** Implement {@link Layout#encode|encode} for {@link Union}.\n   *\n   * This API assumes the `src` object is consistent with the union's\n   * {@link Union#defaultLayout|default layout}.  To encode variants\n   * use the appropriate variant-specific {@link VariantLayout#encode}\n   * method. */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const vlo = this.getSourceVariant(src);\n    if (undefined === vlo) {\n      const dlo = this.discriminator;\n      const clo = this.defaultLayout;\n      let contentOffset = 0;\n      if (this.usesPrefixDiscriminator) {\n        contentOffset = dlo.layout.span;\n      }\n      dlo.encode(src[dlo.property], b, offset);\n      return contentOffset + clo.encode(src[clo.property], b,\n                                        offset + contentOffset);\n    }\n    return vlo.encode(src, b, offset);\n  }\n\n  /** Register a new variant structure within a union.  The newly\n   * created variant is returned.\n   *\n   * @param {Number} variant - initializer for {@link\n   * VariantLayout#variant|variant}.\n   *\n   * @param {Layout} layout - initializer for {@link\n   * VariantLayout#layout|layout}.\n   *\n   * @param {String} property - initializer for {@link\n   * Layout#property|property}.\n   *\n   * @return {VariantLayout} */\n  addVariant(variant, layout, property) {\n    const rv = new VariantLayout(this, variant, layout, property);\n    this.registry[variant] = rv;\n    return rv;\n  }\n\n  /**\n   * Get the layout associated with a registered variant.\n   *\n   * If `vb` does not produce a registered variant the function returns\n   * `undefined`.\n   *\n   * @param {(Number|Buffer)} vb - either the variant number, or a\n   * buffer from which the discriminator is to be read.\n   *\n   * @param {Number} offset - offset into `vb` for the start of the\n   * union.  Used only when `vb` is an instance of {Buffer}.\n   *\n   * @return {({VariantLayout}|undefined)}\n   */\n  getVariant(vb, offset) {\n    let variant = vb;\n    if (Buffer.isBuffer(vb)) {\n      if (undefined === offset) {\n        offset = 0;\n      }\n      variant = this.discriminator.decode(vb, offset);\n    }\n    return this.registry[variant];\n  }\n}\n\n/**\n * Represent a specific variant within a containing union.\n *\n * **NOTE** The {@link Layout#span|span} of the variant may include\n * the span of the {@link Union#discriminator|discriminator} used to\n * identify it, but values read and written using the variant strictly\n * conform to the content of {@link VariantLayout#layout|layout}.\n *\n * **NOTE** User code should not invoke this constructor directly.  Use\n * the union {@link Union#addVariant|addVariant} helper method.\n *\n * @param {Union} union - initializer for {@link\n * VariantLayout#union|union}.\n *\n * @param {Number} variant - initializer for {@link\n * VariantLayout#variant|variant}.\n *\n * @param {Layout} [layout] - initializer for {@link\n * VariantLayout#layout|layout}.  If absent the variant carries no\n * data.\n *\n * @param {String} [property] - initializer for {@link\n * Layout#property|property}.  Unlike many other layouts, variant\n * layouts normally include a property name so they can be identified\n * within their containing {@link Union}.  The property identifier may\n * be absent only if `layout` is is absent.\n *\n * @augments {Layout}\n */\nclass VariantLayout extends Layout {\n  constructor(union, variant, layout, property) {\n    if (!(union instanceof Union)) {\n      throw new TypeError('union must be a Union');\n    }\n    if ((!Number.isInteger(variant)) || (0 > variant)) {\n      throw new TypeError('variant must be a (non-negative) integer');\n    }\n    if (('string' === typeof layout)\n        && (undefined === property)) {\n      property = layout;\n      layout = null;\n    }\n    if (layout) {\n      if (!(layout instanceof Layout)) {\n        throw new TypeError('layout must be a Layout');\n      }\n      if ((null !== union.defaultLayout)\n          && (0 <= layout.span)\n          && (layout.span > union.defaultLayout.span)) {\n        throw new Error('variant span exceeds span of containing union');\n      }\n      if ('string' !== typeof property) {\n        throw new TypeError('variant must have a String property');\n      }\n    }\n    let span = union.span;\n    if (0 > union.span) {\n      span = layout ? layout.span : 0;\n      if ((0 <= span) && union.usesPrefixDiscriminator) {\n        span += union.discriminator.layout.span;\n      }\n    }\n    super(span, property);\n\n    /** The {@link Union} to which this variant belongs. */\n    this.union = union;\n\n    /** The unsigned integral value identifying this variant within\n     * the {@link Union#discriminator|discriminator} of the containing\n     * union. */\n    this.variant = variant;\n\n    /** The {@link Layout} to be used when reading/writing the\n     * non-discriminator part of the {@link\n     * VariantLayout#union|union}.  If `null` the variant carries no\n     * data. */\n    this.layout = layout || null;\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    if (0 <= this.span) {\n      /* Will be equal to the containing union span if that is not\n       * variable. */\n      return this.span;\n    }\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let contentOffset = 0;\n    if (this.union.usesPrefixDiscriminator) {\n      contentOffset = this.union.discriminator.layout.span;\n    }\n    /* Span is defined solely by the variant (and prefix discriminator) */\n    return contentOffset + this.layout.getSpan(b, offset + contentOffset);\n  }\n\n  /** @override */\n  decode(b, offset) {\n    const dest = this.makeDestinationObject();\n    if (undefined === offset) {\n      offset = 0;\n    }\n    if (this !== this.union.getVariant(b, offset)) {\n      throw new Error('variant mismatch');\n    }\n    let contentOffset = 0;\n    if (this.union.usesPrefixDiscriminator) {\n      contentOffset = this.union.discriminator.layout.span;\n    }\n    if (this.layout) {\n      dest[this.property] = this.layout.decode(b, offset + contentOffset);\n    } else if (this.property) {\n      dest[this.property] = true;\n    } else if (this.union.usesPrefixDiscriminator) {\n      dest[this.union.discriminator.property] = this.variant;\n    }\n    return dest;\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let contentOffset = 0;\n    if (this.union.usesPrefixDiscriminator) {\n      contentOffset = this.union.discriminator.layout.span;\n    }\n    if (this.layout\n        && (!src.hasOwnProperty(this.property))) {\n      throw new TypeError('variant lacks property ' + this.property);\n    }\n    this.union.discriminator.encode(this.variant, b, offset);\n    let span = contentOffset;\n    if (this.layout) {\n      this.layout.encode(src[this.property], b, offset + contentOffset);\n      span += this.layout.getSpan(b, offset + contentOffset);\n      if ((0 <= this.union.span)\n          && (span > this.union.span)) {\n        throw new Error('encoded variant overruns containing union');\n      }\n    }\n    return span;\n  }\n\n  /** Delegate {@link Layout#fromArray|fromArray} to {@link\n   * VariantLayout#layout|layout}. */\n  fromArray(values) {\n    if (this.layout) {\n      return this.layout.fromArray(values);\n    }\n  }\n}\n\n/** JavaScript chose to define bitwise operations as operating on\n * signed 32-bit values in 2's complement form, meaning any integer\n * with bit 31 set is going to look negative.  For right shifts that's\n * not a problem, because `>>>` is a logical shift, but for every\n * other bitwise operator we have to compensate for possible negative\n * results. */\nfunction fixBitwiseResult(v) {\n  if (0 > v) {\n    v += 0x100000000;\n  }\n  return v;\n}\n\n/**\n * Contain a sequence of bit fields as an unsigned integer.\n *\n * *Factory*: {@link module:Layout.bits|bits}\n *\n * This is a container element; within it there are {@link BitField}\n * instances that provide the extracted properties.  The container\n * simply defines the aggregate representation and its bit ordering.\n * The representation is an object containing properties with numeric\n * or {@link Boolean} values.\n *\n * {@link BitField}s are added with the {@link\n * BitStructure#addField|addField} and {@link\n * BitStructure#addBoolean|addBoolean} methods.\n\n * @param {Layout} word - initializer for {@link\n * BitStructure#word|word}.  The parameter must be an instance of\n * {@link UInt} (or {@link UIntBE}) that is no more than 4 bytes wide.\n *\n * @param {bool} [msb] - `true` if the bit numbering starts at the\n * most significant bit of the containing word; `false` (default) if\n * it starts at the least significant bit of the containing word.  If\n * the parameter at this position is a string and `property` is\n * `undefined` the value of this argument will instead be used as the\n * value of `property`.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass BitStructure extends Layout {\n  constructor(word, msb, property) {\n    if (!((word instanceof UInt)\n          || (word instanceof UIntBE))) {\n      throw new TypeError('word must be a UInt or UIntBE layout');\n    }\n    if (('string' === typeof msb)\n        && (undefined === property)) {\n      property = msb;\n      msb = undefined;\n    }\n    if (4 < word.span) {\n      throw new RangeError('word cannot exceed 32 bits');\n    }\n    super(word.span, property);\n\n    /** The layout used for the packed value.  {@link BitField}\n     * instances are packed sequentially depending on {@link\n     * BitStructure#msb|msb}. */\n    this.word = word;\n\n    /** Whether the bit sequences are packed starting at the most\n     * significant bit growing down (`true`), or the least significant\n     * bit growing up (`false`).\n     *\n     * **NOTE** Regardless of this value, the least significant bit of\n     * any {@link BitField} value is the least significant bit of the\n     * corresponding section of the packed value. */\n    this.msb = !!msb;\n\n    /** The sequence of {@link BitField} layouts that comprise the\n     * packed structure.\n     *\n     * **NOTE** The array remains mutable to allow fields to be {@link\n     * BitStructure#addField|added} after construction.  Users should\n     * not manipulate the content of this property.*/\n    this.fields = [];\n\n    /* Storage for the value.  Capture a variable instead of using an\n     * instance property because we don't want anything to change the\n     * value without going through the mutator. */\n    let value = 0;\n    this._packedSetValue = function(v) {\n      value = fixBitwiseResult(v);\n      return this;\n    };\n    this._packedGetValue = function() {\n      return value;\n    };\n  }\n\n  /** @override */\n  decode(b, offset) {\n    const dest = this.makeDestinationObject();\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const value = this.word.decode(b, offset);\n    this._packedSetValue(value);\n    for (const fd of this.fields) {\n      if (undefined !== fd.property) {\n        dest[fd.property] = fd.decode(value);\n      }\n    }\n    return dest;\n  }\n\n  /** Implement {@link Layout#encode|encode} for {@link BitStructure}.\n   *\n   * If `src` is missing a property for a member with a defined {@link\n   * Layout#property|property} the corresponding region of the packed\n   * value is left unmodified.  Unused bits are also left unmodified. */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    const value = this.word.decode(b, offset);\n    this._packedSetValue(value);\n    for (const fd of this.fields) {\n      if (undefined !== fd.property) {\n        const fv = src[fd.property];\n        if (undefined !== fv) {\n          fd.encode(fv);\n        }\n      }\n    }\n    return this.word.encode(this._packedGetValue(), b, offset);\n  }\n\n  /** Register a new bitfield with a containing bit structure.  The\n   * resulting bitfield is returned.\n   *\n   * @param {Number} bits - initializer for {@link BitField#bits|bits}.\n   *\n   * @param {string} property - initializer for {@link\n   * Layout#property|property}.\n   *\n   * @return {BitField} */\n  addField(bits, property) {\n    const bf = new BitField(this, bits, property);\n    this.fields.push(bf);\n    return bf;\n  }\n\n  /** As with {@link BitStructure#addField|addField} for single-bit\n   * fields with `boolean` value representation.\n   *\n   * @param {string} property - initializer for {@link\n   * Layout#property|property}.\n   *\n   * @return {Boolean} */\n  addBoolean(property) {\n    // This is my Boolean, not the Javascript one.\n    // eslint-disable-next-line no-new-wrappers\n    const bf = new Boolean(this, property);\n    this.fields.push(bf);\n    return bf;\n  }\n\n  /**\n   * Get access to the bit field for a given property.\n   *\n   * @param {String} property - the bit field of interest.\n   *\n   * @return {BitField} - the field associated with `property`, or\n   * undefined if there is no such property.\n   */\n  fieldFor(property) {\n    if ('string' !== typeof property) {\n      throw new TypeError('property must be string');\n    }\n    for (const fd of this.fields) {\n      if (fd.property === property) {\n        return fd;\n      }\n    }\n  }\n}\n\n/**\n * Represent a sequence of bits within a {@link BitStructure}.\n *\n * All bit field values are represented as unsigned integers.\n *\n * **NOTE** User code should not invoke this constructor directly.\n * Use the container {@link BitStructure#addField|addField} helper\n * method.\n *\n * **NOTE** BitField instances are not instances of {@link Layout}\n * since {@link Layout#span|span} measures 8-bit units.\n *\n * @param {BitStructure} container - initializer for {@link\n * BitField#container|container}.\n *\n * @param {Number} bits - initializer for {@link BitField#bits|bits}.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n */\nclass BitField {\n  constructor(container, bits, property) {\n    if (!(container instanceof BitStructure)) {\n      throw new TypeError('container must be a BitStructure');\n    }\n    if ((!Number.isInteger(bits)) || (0 >= bits)) {\n      throw new TypeError('bits must be positive integer');\n    }\n    const totalBits = 8 * container.span;\n    const usedBits = container.fields.reduce((sum, fd) => sum + fd.bits, 0);\n    if ((bits + usedBits) > totalBits) {\n      throw new Error('bits too long for span remainder ('\n                      + (totalBits - usedBits) + ' of '\n                      + totalBits + ' remain)');\n    }\n\n    /** The {@link BitStructure} instance to which this bit field\n     * belongs. */\n    this.container = container;\n\n    /** The span of this value in bits. */\n    this.bits = bits;\n\n    /** A mask of {@link BitField#bits|bits} bits isolating value bits\n     * that fit within the field.\n     *\n     * That is, it masks a value that has not yet been shifted into\n     * position within its containing packed integer. */\n    this.valueMask = (1 << bits) - 1;\n    if (32 === bits) { // shifted value out of range\n      this.valueMask = 0xFFFFFFFF;\n    }\n\n    /** The offset of the value within the containing packed unsigned\n     * integer.  The least significant bit of the packed value is at\n     * offset zero, regardless of bit ordering used. */\n    this.start = usedBits;\n    if (this.container.msb) {\n      this.start = totalBits - usedBits - bits;\n    }\n\n    /** A mask of {@link BitField#bits|bits} isolating the field value\n     * within the containing packed unsigned integer. */\n    this.wordMask = fixBitwiseResult(this.valueMask << this.start);\n\n    /** The property name used when this bitfield is represented in an\n     * Object.\n     *\n     * Intended to be functionally equivalent to {@link\n     * Layout#property}.\n     *\n     * If left undefined the corresponding span of bits will be\n     * treated as padding: it will not be mutated by {@link\n     * Layout#encode|encode} nor represented as a property in the\n     * decoded Object. */\n    this.property = property;\n  }\n\n  /** Store a value into the corresponding subsequence of the containing\n   * bit field. */\n  decode() {\n    const word = this.container._packedGetValue();\n    const wordValue = fixBitwiseResult(word & this.wordMask);\n    const value = wordValue >>> this.start;\n    return value;\n  }\n\n  /** Store a value into the corresponding subsequence of the containing\n   * bit field.\n   *\n   * **NOTE** This is not a specialization of {@link\n   * Layout#encode|Layout.encode} and there is no return value. */\n  encode(value) {\n    if ((!Number.isInteger(value))\n        || (value !== fixBitwiseResult(value & this.valueMask))) {\n      throw new TypeError(nameWithProperty('BitField.encode', this)\n                          + ' value must be integer not exceeding ' + this.valueMask);\n    }\n    const word = this.container._packedGetValue();\n    const wordValue = fixBitwiseResult(value << this.start);\n    this.container._packedSetValue(fixBitwiseResult(word & ~this.wordMask)\n                                   | wordValue);\n  };\n}\n\n/**\n * Represent a single bit within a {@link BitStructure} as a\n * JavaScript boolean.\n *\n * **NOTE** User code should not invoke this constructor directly.\n * Use the container {@link BitStructure#addBoolean|addBoolean} helper\n * method.\n *\n * @param {BitStructure} container - initializer for {@link\n * BitField#container|container}.\n *\n * @param {string} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {BitField}\n */\n/* eslint-disable no-extend-native */\nclass Boolean extends BitField {\n  constructor(container, property) {\n    super(container, 1, property);\n  }\n\n  /** Override {@link BitField#decode|decode} for {@link Boolean|Boolean}.\n   *\n   * @returns {boolean} */\n  decode(b, offset) {\n    return !!BitField.prototype.decode.call(this, b, offset);\n  }\n\n  /** @override */\n  encode(value) {\n    if ('boolean' === typeof value) {\n      // BitField requires integer values\n      value = +value;\n    }\n    return BitField.prototype.encode.call(this, value);\n  }\n}\n/* eslint-enable no-extend-native */\n\n/**\n * Contain a fixed-length block of arbitrary data, represented as a\n * Buffer.\n *\n * *Factory*: {@link module:Layout.blob|blob}\n *\n * @param {(Number|ExternalLayout)} length - initializes {@link\n * Blob#length|length}.\n *\n * @param {String} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Blob extends Layout {\n  constructor(length, property) {\n    if (!(((length instanceof ExternalLayout) && length.isCount())\n          || (Number.isInteger(length) && (0 <= length)))) {\n      throw new TypeError('length must be positive integer '\n                          + 'or an unsigned integer ExternalLayout');\n    }\n\n    let span = -1;\n    if (!(length instanceof ExternalLayout)) {\n      span = length;\n    }\n    super(span, property);\n\n    /** The number of bytes in the blob.\n     *\n     * This may be a non-negative integer, or an instance of {@link\n     * ExternalLayout} that satisfies {@link\n     * ExternalLayout#isCount|isCount()}. */\n    this.length = length;\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    let span = this.span;\n    if (0 > span) {\n      span = this.length.decode(b, offset);\n    }\n    return span;\n  }\n\n  /** @override */\n  decode(b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let span = this.span;\n    if (0 > span) {\n      span = this.length.decode(b, offset);\n    }\n    return b.slice(offset, offset + span);\n  }\n\n  /** Implement {@link Layout#encode|encode} for {@link Blob}.\n   *\n   * **NOTE** If {@link Layout#count|count} is an instance of {@link\n   * ExternalLayout} then the length of `src` will be encoded as the\n   * count after `src` is encoded. */\n  encode(src, b, offset) {\n    let span = this.length;\n    if (this.length instanceof ExternalLayout) {\n      span = src.length;\n    }\n    if (!(Buffer.isBuffer(src)\n          && (span === src.length))) {\n      throw new TypeError(nameWithProperty('Blob.encode', this)\n                          + ' requires (length ' + span + ') Buffer as src');\n    }\n    if ((offset + span) > b.length) {\n      throw new RangeError('encoding overruns Buffer');\n    }\n    b.write(src.toString('hex'), offset, span, 'hex');\n    if (this.length instanceof ExternalLayout) {\n      this.length.encode(span, b, offset);\n    }\n    return span;\n  }\n}\n\n/**\n * Contain a `NUL`-terminated UTF8 string.\n *\n * *Factory*: {@link module:Layout.cstr|cstr}\n *\n * **NOTE** Any UTF8 string that incorporates a zero-valued byte will\n * not be correctly decoded by this layout.\n *\n * @param {String} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass CString extends Layout {\n  constructor(property) {\n    super(-1, property);\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    if (!Buffer.isBuffer(b)) {\n      throw new TypeError('b must be a Buffer');\n    }\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let idx = offset;\n    while ((idx < b.length) && (0 !== b[idx])) {\n      idx += 1;\n    }\n    return 1 + idx - offset;\n  }\n\n  /** @override */\n  decode(b, offset, dest) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let span = this.getSpan(b, offset);\n    return b.slice(offset, offset + span - 1).toString('utf-8');\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    /* Must force this to a string, lest it be a number and the\n     * \"utf8-encoding\" below actually allocate a buffer of length\n     * src */\n    if ('string' !== typeof src) {\n      src = src.toString();\n    }\n    const srcb = new Buffer(src, 'utf8');\n    const span = srcb.length;\n    if ((offset + span) > b.length) {\n      throw new RangeError('encoding overruns Buffer');\n    }\n    srcb.copy(b, offset);\n    b[offset + span] = 0;\n    return span + 1;\n  }\n}\n\n/**\n * Contain a UTF8 string with implicit length.\n *\n * *Factory*: {@link module:Layout.utf8|utf8}\n *\n * **NOTE** Because the length is implicit in the size of the buffer\n * this layout should be used only in isolation, or in a situation\n * where the length can be expressed by operating on a slice of the\n * containing buffer.\n *\n * @param {Number} [maxSpan] - the maximum length allowed for encoded\n * string content.  If not provided there is no bound on the allowed\n * content.\n *\n * @param {String} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass UTF8 extends Layout {\n  constructor(maxSpan, property) {\n    if (('string' === typeof maxSpan)\n        && (undefined === property)) {\n      property = maxSpan;\n      maxSpan = undefined;\n    }\n    if (undefined === maxSpan) {\n      maxSpan = -1;\n    } else if (!Number.isInteger(maxSpan)) {\n      throw new TypeError('maxSpan must be an integer');\n    }\n\n    super(-1, property);\n\n    /** The maximum span of the layout in bytes.\n     *\n     * Positive values are generally expected.  Zero is abnormal.\n     * Attempts to encode or decode a value that exceeds this length\n     * will throw a `RangeError`.\n     *\n     * A negative value indicates that there is no bound on the length\n     * of the content. */\n    this.maxSpan = maxSpan;\n  }\n\n  /** @override */\n  getSpan(b, offset) {\n    if (!Buffer.isBuffer(b)) {\n      throw new TypeError('b must be a Buffer');\n    }\n    if (undefined === offset) {\n      offset = 0;\n    }\n    return b.length - offset;\n  }\n\n  /** @override */\n  decode(b, offset, dest) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    let span = this.getSpan(b, offset);\n    if ((0 <= this.maxSpan)\n        && (this.maxSpan < span)) {\n      throw new RangeError('text length exceeds maxSpan');\n    }\n    return b.slice(offset, offset + span).toString('utf-8');\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    if (undefined === offset) {\n      offset = 0;\n    }\n    /* Must force this to a string, lest it be a number and the\n     * \"utf8-encoding\" below actually allocate a buffer of length\n     * src */\n    if ('string' !== typeof src) {\n      src = src.toString();\n    }\n    const srcb = new Buffer(src, 'utf8');\n    const span = srcb.length;\n    if ((0 <= this.maxSpan)\n        && (this.maxSpan < span)) {\n      throw new RangeError('text length exceeds maxSpan');\n    }\n    if ((offset + span) > b.length) {\n      throw new RangeError('encoding overruns Buffer');\n    }\n    srcb.copy(b, offset);\n    return span;\n  }\n}\n\n/**\n * Contain a constant value.\n *\n * This layout may be used in cases where a JavaScript value can be\n * inferred without an expression in the binary encoding.  An example\n * would be a {@link VariantLayout|variant layout} where the content\n * is implied by the union {@link Union#discriminator|discriminator}.\n *\n * @param {Object|Number|String} value - initializer for {@link\n * Constant#value|value}.  If the value is an object (or array) and\n * the application intends the object to remain unchanged regardless\n * of what is done to values decoded by this layout, the value should\n * be frozen prior passing it to this constructor.\n *\n * @param {String} [property] - initializer for {@link\n * Layout#property|property}.\n *\n * @augments {Layout}\n */\nclass Constant extends Layout {\n  constructor(value, property) {\n    super(0, property);\n\n    /** The value produced by this constant when the layout is {@link\n     * Constant#decode|decoded}.\n     *\n     * Any JavaScript value including `null` and `undefined` is\n     * permitted.\n     *\n     * **WARNING** If `value` passed in the constructor was not\n     * frozen, it is possible for users of decoded values to change\n     * the content of the value. */\n    this.value = value;\n  }\n\n  /** @override */\n  decode(b, offset, dest) {\n    return this.value;\n  }\n\n  /** @override */\n  encode(src, b, offset) {\n    /* Constants take no space */\n    return 0;\n  }\n}\n\nexports.ExternalLayout = ExternalLayout;\nexports.GreedyCount = GreedyCount;\nexports.OffsetLayout = OffsetLayout;\nexports.UInt = UInt;\nexports.UIntBE = UIntBE;\nexports.Int = Int;\nexports.IntBE = IntBE;\nexports.Float = Float;\nexports.FloatBE = FloatBE;\nexports.Double = Double;\nexports.DoubleBE = DoubleBE;\nexports.Sequence = Sequence;\nexports.Structure = Structure;\nexports.UnionDiscriminator = UnionDiscriminator;\nexports.UnionLayoutDiscriminator = UnionLayoutDiscriminator;\nexports.Union = Union;\nexports.VariantLayout = VariantLayout;\nexports.BitStructure = BitStructure;\nexports.BitField = BitField;\nexports.Boolean = Boolean;\nexports.Blob = Blob;\nexports.CString = CString;\nexports.UTF8 = UTF8;\nexports.Constant = Constant;\n\n/** Factory for {@link GreedyCount}. */\nexports.greedy = ((elementSpan, property) => new GreedyCount(elementSpan, property));\n\n/** Factory for {@link OffsetLayout}. */\nexports.offset = ((layout, offset, property) => new OffsetLayout(layout, offset, property));\n\n/** Factory for {@link UInt|unsigned int layouts} spanning one\n * byte. */\nexports.u8 = (property => new UInt(1, property));\n\n/** Factory for {@link UInt|little-endian unsigned int layouts}\n * spanning two bytes. */\nexports.u16 = (property => new UInt(2, property));\n\n/** Factory for {@link UInt|little-endian unsigned int layouts}\n * spanning three bytes. */\nexports.u24 = (property => new UInt(3, property));\n\n/** Factory for {@link UInt|little-endian unsigned int layouts}\n * spanning four bytes. */\nexports.u32 = (property => new UInt(4, property));\n\n/** Factory for {@link UInt|little-endian unsigned int layouts}\n * spanning five bytes. */\nexports.u40 = (property => new UInt(5, property));\n\n/** Factory for {@link UInt|little-endian unsigned int layouts}\n * spanning six bytes. */\nexports.u48 = (property => new UInt(6, property));\n\n/** Factory for {@link NearUInt64|little-endian unsigned int\n * layouts} interpreted as Numbers. */\nexports.nu64 = (property => new NearUInt64(property));\n\n/** Factory for {@link UInt|big-endian unsigned int layouts}\n * spanning two bytes. */\nexports.u16be = (property => new UIntBE(2, property));\n\n/** Factory for {@link UInt|big-endian unsigned int layouts}\n * spanning three bytes. */\nexports.u24be = (property => new UIntBE(3, property));\n\n/** Factory for {@link UInt|big-endian unsigned int layouts}\n * spanning four bytes. */\nexports.u32be = (property => new UIntBE(4, property));\n\n/** Factory for {@link UInt|big-endian unsigned int layouts}\n * spanning five bytes. */\nexports.u40be = (property => new UIntBE(5, property));\n\n/** Factory for {@link UInt|big-endian unsigned int layouts}\n * spanning six bytes. */\nexports.u48be = (property => new UIntBE(6, property));\n\n/** Factory for {@link NearUInt64BE|big-endian unsigned int\n * layouts} interpreted as Numbers. */\nexports.nu64be = (property => new NearUInt64BE(property));\n\n/** Factory for {@link Int|signed int layouts} spanning one\n * byte. */\nexports.s8 = (property => new Int(1, property));\n\n/** Factory for {@link Int|little-endian signed int layouts}\n * spanning two bytes. */\nexports.s16 = (property => new Int(2, property));\n\n/** Factory for {@link Int|little-endian signed int layouts}\n * spanning three bytes. */\nexports.s24 = (property => new Int(3, property));\n\n/** Factory for {@link Int|little-endian signed int layouts}\n * spanning four bytes. */\nexports.s32 = (property => new Int(4, property));\n\n/** Factory for {@link Int|little-endian signed int layouts}\n * spanning five bytes. */\nexports.s40 = (property => new Int(5, property));\n\n/** Factory for {@link Int|little-endian signed int layouts}\n * spanning six bytes. */\nexports.s48 = (property => new Int(6, property));\n\n/** Factory for {@link NearInt64|little-endian signed int layouts}\n * interpreted as Numbers. */\nexports.ns64 = (property => new NearInt64(property));\n\n/** Factory for {@link Int|big-endian signed int layouts}\n * spanning two bytes. */\nexports.s16be = (property => new IntBE(2, property));\n\n/** Factory for {@link Int|big-endian signed int layouts}\n * spanning three bytes. */\nexports.s24be = (property => new IntBE(3, property));\n\n/** Factory for {@link Int|big-endian signed int layouts}\n * spanning four bytes. */\nexports.s32be = (property => new IntBE(4, property));\n\n/** Factory for {@link Int|big-endian signed int layouts}\n * spanning five bytes. */\nexports.s40be = (property => new IntBE(5, property));\n\n/** Factory for {@link Int|big-endian signed int layouts}\n * spanning six bytes. */\nexports.s48be = (property => new IntBE(6, property));\n\n/** Factory for {@link NearInt64BE|big-endian signed int layouts}\n * interpreted as Numbers. */\nexports.ns64be = (property => new NearInt64BE(property));\n\n/** Factory for {@link Float|little-endian 32-bit floating point} values. */\nexports.f32 = (property => new Float(property));\n\n/** Factory for {@link FloatBE|big-endian 32-bit floating point} values. */\nexports.f32be = (property => new FloatBE(property));\n\n/** Factory for {@link Double|little-endian 64-bit floating point} values. */\nexports.f64 = (property => new Double(property));\n\n/** Factory for {@link DoubleBE|big-endian 64-bit floating point} values. */\nexports.f64be = (property => new DoubleBE(property));\n\n/** Factory for {@link Structure} values. */\nexports.struct = ((fields, property, decodePrefixes) => new Structure(fields, property, decodePrefixes));\n\n/** Factory for {@link BitStructure} values. */\nexports.bits = ((word, msb, property) => new BitStructure(word, msb, property));\n\n/** Factory for {@link Sequence} values. */\nexports.seq = ((elementLayout, count, property) => new Sequence(elementLayout, count, property));\n\n/** Factory for {@link Union} values. */\nexports.union = ((discr, defaultLayout, property) => new Union(discr, defaultLayout, property));\n\n/** Factory for {@link UnionLayoutDiscriminator} values. */\nexports.unionLayoutDiscriminator = ((layout, property) => new UnionLayoutDiscriminator(layout, property));\n\n/** Factory for {@link Blob} values. */\nexports.blob = ((length, property) => new Blob(length, property));\n\n/** Factory for {@link CString} values. */\nexports.cstr = (property => new CString(property));\n\n/** Factory for {@link UTF8} values. */\nexports.utf8 = ((maxSpan, property) => new UTF8(maxSpan, property));\n\n/** Factory for {@link Constant} values. */\nexports.const = ((value, property) => new Constant(value, property));\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["data","reduce","str","byte","toString","padStart","indexOf","substr","length","key","match","Buffer","from","map","parseInt","decode","array","TextDecoder","encode","input","TextEncoder","bs58","base64","toByteArray","fromByteArray","parseIdlErrors","idl","errors","Map","forEach","e","msg","_a","name","set","code","toInstruction","idlIx","args","Error","ix","idx","ixArg","validateAccounts","ixAccounts","accounts","acc","undefined","translateAddress","address","PublicKey","StructError","TypeError","constructor","failure","failures","cached","message","rest","path","super","join","this","value","type","refinement","branch","Object","assign","_cached","isObject","x","print","JSON","stringify","toFailure","result","context","struct","toFailures","Symbol","iterator","r","run","options","coerce","mask","ctx","coercer","schema","Array","isArray","valid","validator","k","v","s","entries","ts","t","Set","add","refiner","Struct","props","TYPE","assert","validate","create","is","tuples","tuple","done","next","shiftIterator","define","Element","i","slice","literal","constant","description","nullable","number","isNaN","optional","string","keys","union","Structs","find","unknown","S","first","push","async","getMultipleAccounts","connection","publicKeys","commitment","getMultipleAccountsCore","batches","size","apply","Math","ceil","_","index","chunks","Promise","all","batch","flat","commitmentOverride","getMultipleAccountsInfo","account","publicKey","simulateTransaction","transaction","signers","includeAccounts","sign","_compile","signData","serialize","encodedTransaction","_serialize","config","encoding","addresses","nonProgramIds","toBase58","sigVerify","res","_rpcRequest","SimulatedTransactionResponseStruct","logs","error","traceIndent","logTrace","console","SendTransactionError","jsonRpcResult","condition","createRpcResult","UnknownRpcResult","pick","jsonrpc","id","err","executable","owner","lamports","rentEpoch","unitsConsumed","slot","programId","provider","getProvider","tx","Transaction","TransactionInstruction","sendAndConfirm","AnchorProvider","wallet","opts","static","preflightCommitment","url","feePayer","recentBlockhash","getRecentBlockhash","blockhash","signTransaction","kp","partialSign","rawTx","sendAndConfirmRawTransaction","ConfirmError","failedTx","getTransaction","bs58.encode","signature","meta","logMessages","txWithSigners","txs","signedTxs","signAllTransactions","sigs","getLatestBlockhash","SimulateError","simulationResponse","rawTransaction","sendOptions","skipPreflight","sendRawTransaction","status","confirmTransaction","setProvider","_provider","local","_AVAILABLE_FEATURES","_FEATURES","isSet","get","has","IdlError","ProgramErrorStack","stack","programKeyRegex","successRegex","programStack","exec","pop","programKey","AnchorError","errorCode","errorMessage","errorLogs","origin","comparedValues","replace","_programErrorStack","parse","anchorErrorLogIndex","findIndex","log","startsWith","anchorErrorLog","pubkeyRegex","leftPubkey","rightPubkey","valueRegex","leftValue","rightValue","noInfoAnchorErrorLog","fileLineAnchorErrorLog","accountNameAnchorErrorLog","errorCodeString","errorNumber","file","line","fileLine","accountName","program","programErrorStack","ProgramError","idlErrors","errString","unparsedErrorCode","includes","components","split","matches","parseErr","errorMsg","LangErrorMessage","translateError","features.isSet","anchorError","programError","handler","target","prop","Reflect","arguments","Proxy","LangErrorCode","InstructionMissing","InstructionFallbackNotFound","InstructionDidNotDeserialize","InstructionDidNotSerialize","IdlInstructionStub","IdlInstructionInvalidProgram","ConstraintMut","ConstraintHasOne","ConstraintSigner","ConstraintRaw","ConstraintOwner","ConstraintRentExempt","ConstraintSeeds","ConstraintExecutable","ConstraintState","ConstraintAssociated","ConstraintAssociatedInit","ConstraintClose","ConstraintAddress","ConstraintZero","ConstraintTokenMint","ConstraintTokenOwner","ConstraintMintMintAuthority","ConstraintMintFreezeAuthority","ConstraintMintDecimals","ConstraintSpace","RequireViolated","RequireEqViolated","RequireKeysEqViolated","RequireNeqViolated","RequireKeysNeqViolated","RequireGtViolated","RequireGteViolated","AccountDiscriminatorAlreadySet","AccountDiscriminatorNotFound","AccountDiscriminatorMismatch","AccountDidNotDeserialize","AccountDidNotSerialize","AccountNotEnoughKeys","AccountNotMutable","AccountOwnedByWrongProgram","InvalidProgramId","InvalidProgramExecutable","AccountNotSigner","AccountNotSystemOwned","AccountNotInitialized","AccountNotProgramData","AccountNotAssociatedTokenAccount","AccountSysvarMismatch","AccountReallocExceedsLimit","AccountDuplicateReallocs","StateInvalidAddress","DeclaredProgramIdMismatch","Deprecated","__assign","n","p","prototype","hasOwnProperty","call","lowerCase","toLowerCase","DEFAULT_SPLIT_REGEXP","DEFAULT_STRIP_REGEXP","re","RegExp","dotCase","splitRegexp","_b","stripRegexp","_c","transform","_d","delimiter","start","end","charAt","noCase","IdlCoder","field","types","fieldName","camelCase","borsh","bool","u8","i8","u16","i16","u32","i32","f32","u64","i64","f64","u128","i128","vecU8","vec","fieldLayout","option","defined","filtered","filter","typeDefLayout","arrayTy","arrayLen","innerLayout","typeDef","kind","fieldLayouts","fields","variants","variant","f","rustEnum","replicate","BorshInstructionCoder","ixLayout","parseIxLayout","sighashLayouts","instructions","sh","sighash","layout","state","methods","ixName","_encode","encodeState","nameSpace","buffer","alloc","methodName","len","concat","ixLayouts","m","arg","decoder","format","accountMetas","InstructionFormatter","idlField","formatIdlType","formatIdlData","flatIdlAccounts","flattenIdlAccounts","idlType","d","formatIdlDataDefined","enumType","namedFields","fieldData","variantName","pascalCase","prefix","accName","toUpperCase","sentenceCase","newPrefix","preimage","sha256","digest","accountSize","idlAccount","variantSizes","typeSize","a","b","max","ty","coption","arraySize","ACCOUNT_DISCRIMINATOR_SIZE","BorshAccountsCoder","accountLayouts","layouts","accountData","discriminator","accountDiscriminator","compare","decodeUnchecked","memcmp","appendData","offset","bytes","camelcase","BorshEventCoder","events","event","eventTypeDef","discriminators","eventDiscriminator","logArr","disc","eventName","BorshStateCoder","stateDiscriminator","accData","ns","BorshTypesCoder","typeLayouts","typeName","typeData","BorshCoder","instruction","Layout","span","property","Number","isInteger","makeDestinationObject","src","getSpan","RangeError","rv","fromArray","values","Layout_2","ExternalLayout","isCount","OffsetLayout","UInt","UIntBE","readUIntLE","writeUIntLE","readUIntBE","writeUIntBE","V2E32","pow","divmodInt64","hi32","floor","lo32","roundedInt64","NearUInt64","readUInt32LE","writeUInt32LE","NearInt64","readInt32LE","writeInt32LE","Structure","decodePrefixes","fd","fsp","dest","firstOffset","lastOffset","lastWrote","fv","shift","layoutFor","offsetOf","UnionDiscriminator","UnionLayoutDiscriminator","Union","discr","defaultLayout","upv","usesPrefixDiscriminator","registry","boundGetSourceVariant","defaultGetSourceVariant","bind","getSourceVariant","configGetSourceVariant","gsv","vlo","getVariant","tag","dlo","clo","contentOffset","addVariant","VariantLayout","vb","isBuffer","Blob","lo","write","nu64","ns64","blob","SplTokenInstructionCoder","decimals","mintAuthority","freezeAuthority","encodeData","initializeMint","toBuffer","freezeAuthorityOption","default","encodeInitializeMint","initializeAccount","initializeMultisig","encodeInitializeMultisig","amount","transfer","encodeTransfer","approve","encodeApprove","revoke","authorityType","newAuthority","setAuthority","encodeSetAuthority","mintTo","encodeMintTo","burn","encodeBurn","closeAccount","freezeAccount","thawAccount","transferChecked","encodeTransferChecked","approveChecked","encodeApproveChecked","mintToChecked","encodeMintToChecked","burnChecked","encodeBurnChecked","authority","initilaizeAccount2","encodeInitializeAccount2","syncNative","initializeAccount3","encodeInitializeAccount3","initializeMultisig2","encodeInitializeMultisig2","encodeInitializeMint2","_ixName","_ix","LAYOUT","BufferLayout.union","BufferLayout.u8","BufferLayout.blob","instructionMaxSpan","BufferLayout.struct","BufferLayout.nu64","SplTokenStateCoder","_idl","_name","_account","uint64","WrappedLayout","fromBuffer","COptionLayout","encoder","BufferLayout.u32","decodeBool","encodeBool","BN","toArray","reverse","zeroPad","copy","SplTokenAccountsCoder","TOKEN_ACCOUNT_LAYOUT","MINT_ACCOUNT_LAYOUT","decodeTokenAccount","decodeMintAccount","_appendData","dataSize","SplTokenEventsCoder","_log","SplTokenTypesCoder","_type","_typeData","SplTokenCoder","SystemInstructionCoder","space","createAccount","encodeCreateAccount","encodeAssign","base","seed","createAccountWithSeed","encodeCreateAccountWithSeed","authorized","advanceNonceAccount","encodeAdvanceNonceAccount","withdrawNonceAccount","encodeWithdrawNonceAccount","initializeNonceAccount","encodeInitializeNonceAccount","authorizeNonceAccount","encodeAuthorizeNonceAccount","allocate","encodeAllocate","allocateWithSeed","encodeAllocateWithSeed","assignWithSeed","encodeAssignWithSeed","transferWithSeed","encodeTransferWithSeed","RustStringLayout","BufferLayout.Layout","BufferLayout.offset","chars","Uint8Array","toNumber","rustStringLayout","maxSpan","BufferLayout.ns64","SystemStateCoder","SystemAccountsCoder","NONCE_ACCOUNT_LENGTH","NONCE_ACCOUNT_LAYOUT","decodeNonceAccount","SystemEventsCoder","SystemTypesCoder","SystemCoder","createWithSeedSync","fromPublicKey","hash","sha256Sync","createProgramAddressSync","seeds","publicKeyBytes","isOnCurve","findProgramAddressSync","nonce","arr","byteOffset","byteLength","associated","assoc","findProgramAddress","TOKEN_PROGRAM_ID","ASSOCIATED_PROGRAM_ID","mint","global","self","__self__","F","fetch","DOMException","exports","support","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","normalizeName","String","test","normalizeValue","iteratorFor","items","Headers","headers","append","header","getOwnPropertyNames","consumed","body","bodyUsed","reject","fileReaderReady","reader","resolve","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","then","text","readAsText","readBlobAsText","fromCharCode","readArrayBufferAsText","formData","json","oldValue","callback","thisArg","Request","method","upcased","credentials","mode","signal","referrer","form","trim","decodeURIComponent","Response","bodyInit","ok","statusText","clone","response","redirectStatuses","redirect","location","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","ponyfill","module","fetchData","accountInfo","getAccountInfo","decodeUpgradeableLoaderState","programdataAccountInfo","programdataAddress","programData","UPGRADEABLE_LOADER_STATE_LAYOUT","limit","latestBuildsResp","latestBuilds","verified","build","verified_slot","IDL_ACCOUNT_LAYOUT","splitArgsAndCtx","inputLen","InstructionNamespaceFactory","encodeFn","ixArgs","remainingAccounts","accs","accountsArray","rpcAccs","pubkey","isWritable","isMut","isSigner","RpcFactory","txFn","TransactionFactory","ixFn","preInstructions","postInstructions","StateClient","coder","_programId","_address","programStateAddress","_sub","rpc","ixItem","programSigner","SystemProgram","stateInstructionKeys","txItem","TransactionNamespaceFactory","rpcItem","RpcNamespaceFactory","addr","subscribe","ee","EventEmitter","listener","onAccountChange","emit","unsubscribe","removeAccountChangeListener","catch","registrySigner","AccountClient","_idlAccount","_coder","_size","fetchNullable","rpcUtil.getMultipleAccounts","filters","getProgramAccounts","sub","subscriptions","delete","warn","signer","sizeOverride","fromPubkey","newAccountPubkey","getMinimumBalanceForRentExemption","associatedAddress","pubkeyUtil.associated","PROGRAM_LOG_START_INDEX","PROGRAM_DATA_START_INDEX","EventManager","_eventParser","EventParser","_eventCallbacks","_eventListeners","_listenerIdCount","_onLogsSubscriptionId","onLogs","parseLogs","allListeners","listenerCb","listeners","l","removeOnLogsListener","logScanner","LogScanner","execution","ExecutionContext","newProgram","didPop","handleLog","handleProgramLog","handleSystemLog","logStr","logStart","IDL","version","AccountsResolver","_args","_accounts","_idlIx","_accountNamespace","_accountStore","AccountStore","accountDesc","accountDescName","CONST_ACCOUNTS","pda","autoPopulatePda","seedDesc","parseProgramId","toBufferConst","argValue","accountValue","toBufferArg","toBufferAccount","toBufferValue","seedArgName","idlArgPosition","argDesc","pathComponents","fieldPubkey","fetchAccount","parseAccountValue","accountField","writeUInt16LE","bU64","writeBigUInt64LE","BigInt","utf8.encode","associatedTokenProgram","rent","SYSVAR_RENT_PUBKEY","systemProgram","tokenProgram","_cache","MethodsBuilderFactory","rpcFn","simulateFn","viewFn","accountNamespace","MethodsBuilder","_ixFn","_txFn","_rpcFn","_simulateFn","_viewFn","_remainingAccounts","_signers","_preInstructions","_postInstructions","_autoResolveAccounts","_accountsResolver","accountsStrict","ixs","Program","_events","simulate","views","accountFns","InstructionFactory","simulateItem","resp","parser","raw","viewItem","hasReturn","returns","simulationResult","returnPrefix","returnLog","returnData","returnType","methodItem","fetchIdl","idlAddr","createWithSeed","idlAddress","inflatedIdl","inflate","utf8.decode","SplAssociatedTokenInstructionCoder","SplAssociatedTokenStateCoder","SplAssociatedTokenAccountsCoder","SplAssociatedTokenEventsCoder","SplAssociatedTokenTypesCoder","SplAssociatedTokenCoder","ASSOCIATED_TOKEN_PROGRAM_ID","Spl","SYSTEM_PROGRAM_ID","Native"],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sources":["../../src/utils/bytes/hex.ts","../../src/utils/bytes/utf8.ts","../../src/utils/bytes/bs58.ts","../../src/utils/bytes/base64.ts","../../src/utils/bytes/buffer.ts","../../node_modules/superstruct/lib/index.mjs","../../src/utils/simulate.ts","../../src/wallet.ts","../../src/provider.ts","../../src/utils/features.ts","../../src/error.ts","../../src/coder/borsh/idl.ts","../../src/coder/borsh/instruction.ts","../../src/coder/common.ts","../../src/coder/borsh/accounts.ts","../../src/coder/borsh/event.ts","../../src/coder/borsh/state.ts","../../src/coder/borsh/types.ts","../../src/coder/borsh/index.ts","../../src/coder/spl-token/instruction.ts","../../src/coder/spl-token/state.ts","../../src/coder/spl-token/buffer-layout.ts","../../src/coder/spl-token/accounts.ts","../../src/coder/spl-token/events.ts","../../src/coder/spl-token/types.ts","../../src/coder/spl-token/index.ts","../../src/coder/system/instruction.ts","../../src/coder/system/state.ts","../../src/coder/system/accounts.ts","../../src/coder/system/events.ts","../../src/coder/system/types.ts","../../src/coder/system/index.ts","../../src/utils/sha256.ts","../../src/program/common.ts","../../src/utils/rpc.ts","../../src/utils/common.ts","../../src/utils/pubkey.ts","../../src/utils/token.ts","../../node_modules/cross-fetch/dist/browser-ponyfill.js","../../src/utils/registry.ts","../../src/idl.ts","../../src/program/context.ts","../../src/program/namespace/instruction.ts","../../src/program/namespace/rpc.ts","../../src/program/namespace/transaction.ts","../../src/program/namespace/state.ts","../../src/program/namespace/account.ts","../../src/program/event.ts","../../src/program/namespace/simulate.ts","../../src/spl/token/idl.ts","../../src/program/accounts-resolver.ts","../../src/program/namespace/methods.ts","../../src/program/namespace/views.ts","../../src/program/namespace/index.ts","../../src/program/index.ts","../../src/coder/spl-associated-token/instruction.ts","../../src/coder/spl-associated-token/state.ts","../../src/coder/spl-associated-token/accounts.ts","../../src/coder/spl-associated-token/events.ts","../../src/coder/spl-associated-token/types.ts","../../src/coder/spl-associated-token/index.ts","../../src/spl/associated-token.ts","../../src/spl/token/index.ts","../../src/spl/index.ts","../../src/native/system.ts","../../src/native/index.ts"],"sourcesContent":[null,null,null,null,null,"/**\n * A `StructFailure` represents a single specific failure in validation.\n */\n\n/**\n * `StructError` objects are thrown (or returned) when validation fails.\n *\n * Validation logic is design to exit early for maximum performance. The error\n * represents the first error encountered during validation. For more detail,\n * the `error.failures` property is a generator function that can be run to\n * continue validation and receive all the failures in the data.\n */\nclass StructError extends TypeError {\n  constructor(failure, failures) {\n    let cached;\n    const {\n      message,\n      ...rest\n    } = failure;\n    const {\n      path\n    } = failure;\n    const msg = path.length === 0 ? message : `At path: ${path.join('.')} -- ${message}`;\n    super(msg);\n    this.value = void 0;\n    this.key = void 0;\n    this.type = void 0;\n    this.refinement = void 0;\n    this.path = void 0;\n    this.branch = void 0;\n    this.failures = void 0;\n    Object.assign(this, rest);\n    this.name = this.constructor.name;\n\n    this.failures = () => {\n      return cached ?? (cached = [failure, ...failures()]);\n    };\n  }\n\n}\n\n/**\n * Check if a value is an iterator.\n */\nfunction isIterable(x) {\n  return isObject(x) && typeof x[Symbol.iterator] === 'function';\n}\n/**\n * Check if a value is a plain object.\n */\n\n\nfunction isObject(x) {\n  return typeof x === 'object' && x != null;\n}\n/**\n * Check if a value is a plain object.\n */\n\nfunction isPlainObject(x) {\n  if (Object.prototype.toString.call(x) !== '[object Object]') {\n    return false;\n  }\n\n  const prototype = Object.getPrototypeOf(x);\n  return prototype === null || prototype === Object.prototype;\n}\n/**\n * Return a value as a printable string.\n */\n\nfunction print(value) {\n  if (typeof value === 'symbol') {\n    return value.toString();\n  }\n\n  return typeof value === 'string' ? JSON.stringify(value) : `${value}`;\n}\n/**\n * Shifts (removes and returns) the first value from the `input` iterator.\n * Like `Array.prototype.shift()` but for an `Iterator`.\n */\n\nfunction shiftIterator(input) {\n  const {\n    done,\n    value\n  } = input.next();\n  return done ? undefined : value;\n}\n/**\n * Convert a single validation result to a failure.\n */\n\nfunction toFailure(result, context, struct, value) {\n  if (result === true) {\n    return;\n  } else if (result === false) {\n    result = {};\n  } else if (typeof result === 'string') {\n    result = {\n      message: result\n    };\n  }\n\n  const {\n    path,\n    branch\n  } = context;\n  const {\n    type\n  } = struct;\n  const {\n    refinement,\n    message = `Expected a value of type \\`${type}\\`${refinement ? ` with refinement \\`${refinement}\\`` : ''}, but received: \\`${print(value)}\\``\n  } = result;\n  return {\n    value,\n    type,\n    refinement,\n    key: path[path.length - 1],\n    path,\n    branch,\n    ...result,\n    message\n  };\n}\n/**\n * Convert a validation result to an iterable of failures.\n */\n\nfunction* toFailures(result, context, struct, value) {\n  if (!isIterable(result)) {\n    result = [result];\n  }\n\n  for (const r of result) {\n    const failure = toFailure(r, context, struct, value);\n\n    if (failure) {\n      yield failure;\n    }\n  }\n}\n/**\n * Check a value against a struct, traversing deeply into nested values, and\n * returning an iterator of failures or success.\n */\n\nfunction* run(value, struct, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    path = [],\n    branch = [value],\n    coerce = false,\n    mask = false\n  } = options;\n  const ctx = {\n    path,\n    branch\n  };\n\n  if (coerce) {\n    value = struct.coercer(value, ctx);\n\n    if (mask && struct.type !== 'type' && isObject(struct.schema) && isObject(value) && !Array.isArray(value)) {\n      for (const key in value) {\n        if (struct.schema[key] === undefined) {\n          delete value[key];\n        }\n      }\n    }\n  }\n\n  let status = 'valid';\n\n  for (const failure of struct.validator(value, ctx)) {\n    status = 'not_valid';\n    yield [failure, undefined];\n  }\n\n  for (let [k, v, s] of struct.entries(value, ctx)) {\n    const ts = run(v, s, {\n      path: k === undefined ? path : [...path, k],\n      branch: k === undefined ? branch : [...branch, v],\n      coerce,\n      mask\n    });\n\n    for (const t of ts) {\n      if (t[0]) {\n        status = t[0].refinement != null ? 'not_refined' : 'not_valid';\n        yield [t[0], undefined];\n      } else if (coerce) {\n        v = t[1];\n\n        if (k === undefined) {\n          value = v;\n        } else if (value instanceof Map) {\n          value.set(k, v);\n        } else if (value instanceof Set) {\n          value.add(v);\n        } else if (isObject(value)) {\n          if (v !== undefined || k in value) value[k] = v;\n        }\n      }\n    }\n  }\n\n  if (status !== 'not_valid') {\n    for (const failure of struct.refiner(value, ctx)) {\n      status = 'not_refined';\n      yield [failure, undefined];\n    }\n  }\n\n  if (status === 'valid') {\n    yield [undefined, value];\n  }\n}\n\n/**\n * `Struct` objects encapsulate the validation logic for a specific type of\n * values. Once constructed, you use the `assert`, `is` or `validate` helpers to\n * validate unknown input data against the struct.\n */\n\nclass Struct {\n  constructor(props) {\n    this.TYPE = void 0;\n    this.type = void 0;\n    this.schema = void 0;\n    this.coercer = void 0;\n    this.validator = void 0;\n    this.refiner = void 0;\n    this.entries = void 0;\n    const {\n      type,\n      schema,\n      validator,\n      refiner,\n      coercer = value => value,\n      entries = function* () {}\n    } = props;\n    this.type = type;\n    this.schema = schema;\n    this.entries = entries;\n    this.coercer = coercer;\n\n    if (validator) {\n      this.validator = (value, context) => {\n        const result = validator(value, context);\n        return toFailures(result, context, this, value);\n      };\n    } else {\n      this.validator = () => [];\n    }\n\n    if (refiner) {\n      this.refiner = (value, context) => {\n        const result = refiner(value, context);\n        return toFailures(result, context, this, value);\n      };\n    } else {\n      this.refiner = () => [];\n    }\n  }\n  /**\n   * Assert that a value passes the struct's validation, throwing if it doesn't.\n   */\n\n\n  assert(value) {\n    return assert(value, this);\n  }\n  /**\n   * Create a value with the struct's coercion logic, then validate it.\n   */\n\n\n  create(value) {\n    return create(value, this);\n  }\n  /**\n   * Check if a value passes the struct's validation.\n   */\n\n\n  is(value) {\n    return is(value, this);\n  }\n  /**\n   * Mask a value, coercing and validating it, but returning only the subset of\n   * properties defined by the struct's schema.\n   */\n\n\n  mask(value) {\n    return mask(value, this);\n  }\n  /**\n   * Validate a value with the struct's validation logic, returning a tuple\n   * representing the result.\n   *\n   * You may optionally pass `true` for the `withCoercion` argument to coerce\n   * the value before attempting to validate it. If you do, the result will\n   * contain the coerced result when successful.\n   */\n\n\n  validate(value, options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    return validate(value, this, options);\n  }\n\n}\n/**\n * Assert that a value passes a struct, throwing if it doesn't.\n */\n\nfunction assert(value, struct) {\n  const result = validate(value, struct);\n\n  if (result[0]) {\n    throw result[0];\n  }\n}\n/**\n * Create a value with the coercion logic of struct and validate it.\n */\n\nfunction create(value, struct) {\n  const result = validate(value, struct, {\n    coerce: true\n  });\n\n  if (result[0]) {\n    throw result[0];\n  } else {\n    return result[1];\n  }\n}\n/**\n * Mask a value, returning only the subset of properties defined by a struct.\n */\n\nfunction mask(value, struct) {\n  const result = validate(value, struct, {\n    coerce: true,\n    mask: true\n  });\n\n  if (result[0]) {\n    throw result[0];\n  } else {\n    return result[1];\n  }\n}\n/**\n * Check if a value passes a struct.\n */\n\nfunction is(value, struct) {\n  const result = validate(value, struct);\n  return !result[0];\n}\n/**\n * Validate a value against a struct, returning an error if invalid, or the\n * value (with potential coercion) if valid.\n */\n\nfunction validate(value, struct, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const tuples = run(value, struct, options);\n  const tuple = shiftIterator(tuples);\n\n  if (tuple[0]) {\n    const error = new StructError(tuple[0], function* () {\n      for (const t of tuples) {\n        if (t[0]) {\n          yield t[0];\n        }\n      }\n    });\n    return [error, undefined];\n  } else {\n    const v = tuple[1];\n    return [undefined, v];\n  }\n}\n\nfunction assign() {\n  for (var _len = arguments.length, Structs = new Array(_len), _key = 0; _key < _len; _key++) {\n    Structs[_key] = arguments[_key];\n  }\n\n  const isType = Structs[0].type === 'type';\n  const schemas = Structs.map(s => s.schema);\n  const schema = Object.assign({}, ...schemas);\n  return isType ? type(schema) : object(schema);\n}\n/**\n * Define a new struct type with a custom validation function.\n */\n\nfunction define(name, validator) {\n  return new Struct({\n    type: name,\n    schema: null,\n    validator\n  });\n}\n/**\n * Create a new struct based on an existing struct, but the value is allowed to\n * be `undefined`. `log` will be called if the value is not `undefined`.\n */\n\nfunction deprecated(struct, log) {\n  return new Struct({ ...struct,\n    refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx),\n\n    validator(value, ctx) {\n      if (value === undefined) {\n        return true;\n      } else {\n        log(value, ctx);\n        return struct.validator(value, ctx);\n      }\n    }\n\n  });\n}\n/**\n * Create a struct with dynamic validation logic.\n *\n * The callback will receive the value currently being validated, and must\n * return a struct object to validate it with. This can be useful to model\n * validation logic that changes based on its input.\n */\n\nfunction dynamic(fn) {\n  return new Struct({\n    type: 'dynamic',\n    schema: null,\n\n    *entries(value, ctx) {\n      const struct = fn(value, ctx);\n      yield* struct.entries(value, ctx);\n    },\n\n    validator(value, ctx) {\n      const struct = fn(value, ctx);\n      return struct.validator(value, ctx);\n    },\n\n    coercer(value, ctx) {\n      const struct = fn(value, ctx);\n      return struct.coercer(value, ctx);\n    },\n\n    refiner(value, ctx) {\n      const struct = fn(value, ctx);\n      return struct.refiner(value, ctx);\n    }\n\n  });\n}\n/**\n * Create a struct with lazily evaluated validation logic.\n *\n * The first time validation is run with the struct, the callback will be called\n * and must return a struct object to use. This is useful for cases where you\n * want to have self-referential structs for nested data structures to avoid a\n * circular definition problem.\n */\n\nfunction lazy(fn) {\n  let struct;\n  return new Struct({\n    type: 'lazy',\n    schema: null,\n\n    *entries(value, ctx) {\n      struct ?? (struct = fn());\n      yield* struct.entries(value, ctx);\n    },\n\n    validator(value, ctx) {\n      struct ?? (struct = fn());\n      return struct.validator(value, ctx);\n    },\n\n    coercer(value, ctx) {\n      struct ?? (struct = fn());\n      return struct.coercer(value, ctx);\n    },\n\n    refiner(value, ctx) {\n      struct ?? (struct = fn());\n      return struct.refiner(value, ctx);\n    }\n\n  });\n}\n/**\n * Create a new struct based on an existing object struct, but excluding\n * specific properties.\n *\n * Like TypeScript's `Omit` utility.\n */\n\nfunction omit(struct, keys) {\n  const {\n    schema\n  } = struct;\n  const subschema = { ...schema\n  };\n\n  for (const key of keys) {\n    delete subschema[key];\n  }\n\n  switch (struct.type) {\n    case 'type':\n      return type(subschema);\n\n    default:\n      return object(subschema);\n  }\n}\n/**\n * Create a new struct based on an existing object struct, but with all of its\n * properties allowed to be `undefined`.\n *\n * Like TypeScript's `Partial` utility.\n */\n\nfunction partial(struct) {\n  const schema = struct instanceof Struct ? { ...struct.schema\n  } : { ...struct\n  };\n\n  for (const key in schema) {\n    schema[key] = optional(schema[key]);\n  }\n\n  return object(schema);\n}\n/**\n * Create a new struct based on an existing object struct, but only including\n * specific properties.\n *\n * Like TypeScript's `Pick` utility.\n */\n\nfunction pick(struct, keys) {\n  const {\n    schema\n  } = struct;\n  const subschema = {};\n\n  for (const key of keys) {\n    subschema[key] = schema[key];\n  }\n\n  return object(subschema);\n}\n/**\n * Define a new struct type with a custom validation function.\n *\n * @deprecated This function has been renamed to `define`.\n */\n\nfunction struct(name, validator) {\n  console.warn('superstruct@0.11 - The `struct` helper has been renamed to `define`.');\n  return define(name, validator);\n}\n\n/**\n * Ensure that any value passes validation.\n */\n\nfunction any() {\n  return define('any', () => true);\n}\nfunction array(Element) {\n  return new Struct({\n    type: 'array',\n    schema: Element,\n\n    *entries(value) {\n      if (Element && Array.isArray(value)) {\n        for (const [i, v] of value.entries()) {\n          yield [i, v, Element];\n        }\n      }\n    },\n\n    coercer(value) {\n      return Array.isArray(value) ? value.slice() : value;\n    },\n\n    validator(value) {\n      return Array.isArray(value) || `Expected an array value, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that a value is a bigint.\n */\n\nfunction bigint() {\n  return define('bigint', value => {\n    return typeof value === 'bigint';\n  });\n}\n/**\n * Ensure that a value is a boolean.\n */\n\nfunction boolean() {\n  return define('boolean', value => {\n    return typeof value === 'boolean';\n  });\n}\n/**\n * Ensure that a value is a valid `Date`.\n *\n * Note: this also ensures that the value is *not* an invalid `Date` object,\n * which can occur when parsing a date fails but still returns a `Date`.\n */\n\nfunction date() {\n  return define('date', value => {\n    return value instanceof Date && !isNaN(value.getTime()) || `Expected a valid \\`Date\\` object, but received: ${print(value)}`;\n  });\n}\nfunction enums(values) {\n  const schema = {};\n  const description = values.map(v => print(v)).join();\n\n  for (const key of values) {\n    schema[key] = key;\n  }\n\n  return new Struct({\n    type: 'enums',\n    schema,\n\n    validator(value) {\n      return values.includes(value) || `Expected one of \\`${description}\\`, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that a value is a function.\n */\n\nfunction func() {\n  return define('func', value => {\n    return typeof value === 'function' || `Expected a function, but received: ${print(value)}`;\n  });\n}\n/**\n * Ensure that a value is an instance of a specific class.\n */\n\nfunction instance(Class) {\n  return define('instance', value => {\n    return value instanceof Class || `Expected a \\`${Class.name}\\` instance, but received: ${print(value)}`;\n  });\n}\n/**\n * Ensure that a value is an integer.\n */\n\nfunction integer() {\n  return define('integer', value => {\n    return typeof value === 'number' && !isNaN(value) && Number.isInteger(value) || `Expected an integer, but received: ${print(value)}`;\n  });\n}\n/**\n * Ensure that a value matches all of a set of types.\n */\n\nfunction intersection(Structs) {\n  return new Struct({\n    type: 'intersection',\n    schema: null,\n\n    *entries(value, ctx) {\n      for (const S of Structs) {\n        yield* S.entries(value, ctx);\n      }\n    },\n\n    *validator(value, ctx) {\n      for (const S of Structs) {\n        yield* S.validator(value, ctx);\n      }\n    },\n\n    *refiner(value, ctx) {\n      for (const S of Structs) {\n        yield* S.refiner(value, ctx);\n      }\n    }\n\n  });\n}\nfunction literal(constant) {\n  const description = print(constant);\n  const t = typeof constant;\n  return new Struct({\n    type: 'literal',\n    schema: t === 'string' || t === 'number' || t === 'boolean' ? constant : null,\n\n    validator(value) {\n      return value === constant || `Expected the literal \\`${description}\\`, but received: ${print(value)}`;\n    }\n\n  });\n}\nfunction map(Key, Value) {\n  return new Struct({\n    type: 'map',\n    schema: null,\n\n    *entries(value) {\n      if (Key && Value && value instanceof Map) {\n        for (const [k, v] of value.entries()) {\n          yield [k, k, Key];\n          yield [k, v, Value];\n        }\n      }\n    },\n\n    coercer(value) {\n      return value instanceof Map ? new Map(value) : value;\n    },\n\n    validator(value) {\n      return value instanceof Map || `Expected a \\`Map\\` object, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that no value ever passes validation.\n */\n\nfunction never() {\n  return define('never', () => false);\n}\n/**\n * Augment an existing struct to allow `null` values.\n */\n\nfunction nullable(struct) {\n  return new Struct({ ...struct,\n    validator: (value, ctx) => value === null || struct.validator(value, ctx),\n    refiner: (value, ctx) => value === null || struct.refiner(value, ctx)\n  });\n}\n/**\n * Ensure that a value is a number.\n */\n\nfunction number() {\n  return define('number', value => {\n    return typeof value === 'number' && !isNaN(value) || `Expected a number, but received: ${print(value)}`;\n  });\n}\nfunction object(schema) {\n  const knowns = schema ? Object.keys(schema) : [];\n  const Never = never();\n  return new Struct({\n    type: 'object',\n    schema: schema ? schema : null,\n\n    *entries(value) {\n      if (schema && isObject(value)) {\n        const unknowns = new Set(Object.keys(value));\n\n        for (const key of knowns) {\n          unknowns.delete(key);\n          yield [key, value[key], schema[key]];\n        }\n\n        for (const key of unknowns) {\n          yield [key, value[key], Never];\n        }\n      }\n    },\n\n    validator(value) {\n      return isObject(value) || `Expected an object, but received: ${print(value)}`;\n    },\n\n    coercer(value) {\n      return isObject(value) ? { ...value\n      } : value;\n    }\n\n  });\n}\n/**\n * Augment a struct to allow `undefined` values.\n */\n\nfunction optional(struct) {\n  return new Struct({ ...struct,\n    validator: (value, ctx) => value === undefined || struct.validator(value, ctx),\n    refiner: (value, ctx) => value === undefined || struct.refiner(value, ctx)\n  });\n}\n/**\n * Ensure that a value is an object with keys and values of specific types, but\n * without ensuring any specific shape of properties.\n *\n * Like TypeScript's `Record` utility.\n */\n\nfunction record(Key, Value) {\n  return new Struct({\n    type: 'record',\n    schema: null,\n\n    *entries(value) {\n      if (isObject(value)) {\n        for (const k in value) {\n          const v = value[k];\n          yield [k, k, Key];\n          yield [k, v, Value];\n        }\n      }\n    },\n\n    validator(value) {\n      return isObject(value) || `Expected an object, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that a value is a `RegExp`.\n *\n * Note: this does not test the value against the regular expression! For that\n * you need to use the `pattern()` refinement.\n */\n\nfunction regexp() {\n  return define('regexp', value => {\n    return value instanceof RegExp;\n  });\n}\nfunction set(Element) {\n  return new Struct({\n    type: 'set',\n    schema: null,\n\n    *entries(value) {\n      if (Element && value instanceof Set) {\n        for (const v of value) {\n          yield [v, v, Element];\n        }\n      }\n    },\n\n    coercer(value) {\n      return value instanceof Set ? new Set(value) : value;\n    },\n\n    validator(value) {\n      return value instanceof Set || `Expected a \\`Set\\` object, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that a value is a string.\n */\n\nfunction string() {\n  return define('string', value => {\n    return typeof value === 'string' || `Expected a string, but received: ${print(value)}`;\n  });\n}\n/**\n * Ensure that a value is a tuple of a specific length, and that each of its\n * elements is of a specific type.\n */\n\nfunction tuple(Structs) {\n  const Never = never();\n  return new Struct({\n    type: 'tuple',\n    schema: null,\n\n    *entries(value) {\n      if (Array.isArray(value)) {\n        const length = Math.max(Structs.length, value.length);\n\n        for (let i = 0; i < length; i++) {\n          yield [i, value[i], Structs[i] || Never];\n        }\n      }\n    },\n\n    validator(value) {\n      return Array.isArray(value) || `Expected an array, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that a value has a set of known properties of specific types.\n *\n * Note: Unrecognized properties are allowed and untouched. This is similar to\n * how TypeScript's structural typing works.\n */\n\nfunction type(schema) {\n  const keys = Object.keys(schema);\n  return new Struct({\n    type: 'type',\n    schema,\n\n    *entries(value) {\n      if (isObject(value)) {\n        for (const k of keys) {\n          yield [k, value[k], schema[k]];\n        }\n      }\n    },\n\n    validator(value) {\n      return isObject(value) || `Expected an object, but received: ${print(value)}`;\n    }\n\n  });\n}\n/**\n * Ensure that a value matches one of a set of types.\n */\n\nfunction union(Structs) {\n  const description = Structs.map(s => s.type).join(' | ');\n  return new Struct({\n    type: 'union',\n    schema: null,\n\n    coercer(value, ctx) {\n      const firstMatch = Structs.find(s => {\n        const [e] = s.validate(value, {\n          coerce: true\n        });\n        return !e;\n      }) || unknown();\n      return firstMatch.coercer(value, ctx);\n    },\n\n    validator(value, ctx) {\n      const failures = [];\n\n      for (const S of Structs) {\n        const [...tuples] = run(value, S, ctx);\n        const [first] = tuples;\n\n        if (!first[0]) {\n          return [];\n        } else {\n          for (const [failure] of tuples) {\n            if (failure) {\n              failures.push(failure);\n            }\n          }\n        }\n      }\n\n      return [`Expected the value to satisfy a union of \\`${description}\\`, but received: ${print(value)}`, ...failures];\n    }\n\n  });\n}\n/**\n * Ensure that any value passes validation, without widening its type to `any`.\n */\n\nfunction unknown() {\n  return define('unknown', () => true);\n}\n\n/**\n * Augment a `Struct` to add an additional coercion step to its input.\n *\n * This allows you to transform input data before validating it, to increase the\n * likelihood that it passes validationfor example for default values, parsing\n * different formats, etc.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\n\nfunction coerce(struct, condition, coercer) {\n  return new Struct({ ...struct,\n    coercer: (value, ctx) => {\n      return is(value, condition) ? struct.coercer(coercer(value, ctx), ctx) : struct.coercer(value, ctx);\n    }\n  });\n}\n/**\n * Augment a struct to replace `undefined` values with a default.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\n\nfunction defaulted(struct, fallback, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return coerce(struct, unknown(), x => {\n    const f = typeof fallback === 'function' ? fallback() : fallback;\n\n    if (x === undefined) {\n      return f;\n    }\n\n    if (!options.strict && isPlainObject(x) && isPlainObject(f)) {\n      const ret = { ...x\n      };\n      let changed = false;\n\n      for (const key in f) {\n        if (ret[key] === undefined) {\n          ret[key] = f[key];\n          changed = true;\n        }\n      }\n\n      if (changed) {\n        return ret;\n      }\n    }\n\n    return x;\n  });\n}\n/**\n * Augment a struct to trim string inputs.\n *\n * Note: You must use `create(value, Struct)` on the value to have the coercion\n * take effect! Using simply `assert()` or `is()` will not use coercion.\n */\n\nfunction trimmed(struct) {\n  return coerce(struct, string(), x => x.trim());\n}\n\n/**\n * Ensure that a string, array, map, or set is empty.\n */\n\nfunction empty(struct) {\n  return refine(struct, 'empty', value => {\n    const size = getSize(value);\n    return size === 0 || `Expected an empty ${struct.type} but received one with a size of \\`${size}\\``;\n  });\n}\n\nfunction getSize(value) {\n  if (value instanceof Map || value instanceof Set) {\n    return value.size;\n  } else {\n    return value.length;\n  }\n}\n/**\n * Ensure that a number or date is below a threshold.\n */\n\n\nfunction max(struct, threshold, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    exclusive\n  } = options;\n  return refine(struct, 'max', value => {\n    return exclusive ? value < threshold : value <= threshold || `Expected a ${struct.type} less than ${exclusive ? '' : 'or equal to '}${threshold} but received \\`${value}\\``;\n  });\n}\n/**\n * Ensure that a number or date is above a threshold.\n */\n\nfunction min(struct, threshold, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    exclusive\n  } = options;\n  return refine(struct, 'min', value => {\n    return exclusive ? value > threshold : value >= threshold || `Expected a ${struct.type} greater than ${exclusive ? '' : 'or equal to '}${threshold} but received \\`${value}\\``;\n  });\n}\n/**\n * Ensure that a string, array, map or set is not empty.\n */\n\nfunction nonempty(struct) {\n  return refine(struct, 'nonempty', value => {\n    const size = getSize(value);\n    return size > 0 || `Expected a nonempty ${struct.type} but received an empty one`;\n  });\n}\n/**\n * Ensure that a string matches a regular expression.\n */\n\nfunction pattern(struct, regexp) {\n  return refine(struct, 'pattern', value => {\n    return regexp.test(value) || `Expected a ${struct.type} matching \\`/${regexp.source}/\\` but received \"${value}\"`;\n  });\n}\n/**\n * Ensure that a string, array, number, date, map, or set has a size (or length, or time) between `min` and `max`.\n */\n\nfunction size(struct, min, max) {\n  if (max === void 0) {\n    max = min;\n  }\n\n  const expected = `Expected a ${struct.type}`;\n  const of = min === max ? `of \\`${min}\\`` : `between \\`${min}\\` and \\`${max}\\``;\n  return refine(struct, 'size', value => {\n    if (typeof value === 'number' || value instanceof Date) {\n      return min <= value && value <= max || `${expected} ${of} but received \\`${value}\\``;\n    } else if (value instanceof Map || value instanceof Set) {\n      const {\n        size\n      } = value;\n      return min <= size && size <= max || `${expected} with a size ${of} but received one with a size of \\`${size}\\``;\n    } else {\n      const {\n        length\n      } = value;\n      return min <= length && length <= max || `${expected} with a length ${of} but received one with a length of \\`${length}\\``;\n    }\n  });\n}\n/**\n * Augment a `Struct` to add an additional refinement to the validation.\n *\n * The refiner function is guaranteed to receive a value of the struct's type,\n * because the struct's existing validation will already have passed. This\n * allows you to layer additional validation on top of existing structs.\n */\n\nfunction refine(struct, name, refiner) {\n  return new Struct({ ...struct,\n\n    *refiner(value, ctx) {\n      yield* struct.refiner(value, ctx);\n      const result = refiner(value, ctx);\n      const failures = toFailures(result, ctx, struct, value);\n\n      for (const failure of failures) {\n        yield { ...failure,\n          refinement: name\n        };\n      }\n    }\n\n  });\n}\n\nexport { Struct, StructError, any, array, assert, assign, bigint, boolean, coerce, create, date, defaulted, define, deprecated, dynamic, empty, enums, func, instance, integer, intersection, is, lazy, literal, map, mask, max, min, never, nonempty, nullable, number, object, omit, optional, partial, pattern, pick, record, refine, regexp, set, size, string, struct, trimmed, tuple, type, union, unknown, validate };\n//# sourceMappingURL=index.mjs.map\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["data","Buffer","isBuffer","toString","reduce","str","byte","padStart","indexOf","slice","length","from","encoder","decoder","decode","array","encode","input","buf","buffer","byteOffset","byteLength","TextEncoder","TextDecoder","bs58","base64","toByteArray","fromByteArray","toBuffer","arr","Uint8Array","StructError","TypeError","constructor","failure","failures","cached","message","rest","path","super","join","this","value","key","type","refinement","branch","Object","assign","name","isObject","x","print","JSON","stringify","toFailure","result","context","struct","toFailures","Symbol","iterator","r","run","options","coerce","mask","ctx","coercer","schema","Array","isArray","undefined","status","validator","k","v","s","entries","ts","t","Map","set","Set","add","refiner","Struct","props","TYPE","assert","validate","create","is","tuples","tuple","done","next","shiftIterator","define","Element","i","literal","constant","description","nullable","number","isNaN","optional","string","keys","union","Structs","map","find","e","unknown","S","first","push","async","simulateTransaction","connection","transaction","signers","commitment","includeAccounts","tx","Transaction","feePayer","instructions","nonceInfo","signatures","sign","_compile","signData","serialize","encodedTransaction","_serialize","config","encoding","accounts","addresses","nonProgramIds","toBase58","sigVerify","args","res","_rpcRequest","SimulatedTransactionResponseStruct","logs","error","SendTransactionError","jsonRpcResult","createRpcResult","condition","UnknownRpcResult","pick","jsonrpc","id","code","err","executable","owner","lamports","rentEpoch","unitsConsumed","slot","Wallet","payer","static","Error","partialSign","txs","publicKey","AnchorProvider","wallet","opts","preflightCommitment","url","recentBlockhash","getRecentBlockhash","blockhash","signTransaction","forEach","kp","rawTx","sendAndConfirmRawTransaction","ConfirmError","failedTx","getTransaction","bs58.encode","signature","_a","meta","logMessages","txWithSigners","signedTxs","signAllTransactions","sigs","getLatestBlockhash","SimulateError","simulationResponse","rawTransaction","sendOptions","skipPreflight","sendRawTransaction","confirmTransaction","setProvider","provider","_provider","getProvider","local","_AVAILABLE_FEATURES","_FEATURES","isSet","get","has","IdlError","ProgramErrorStack","stack","programKeyRegex","successRegex","programStack","exec","pop","programKey","PublicKey","AnchorError","errorCode","errorMessage","errorLogs","origin","comparedValues","replace","_programErrorStack","parse","anchorErrorLogIndex","findIndex","log","startsWith","anchorErrorLog","pubkeyRegex","leftPubkey","rightPubkey","valueRegex","leftValue","rightValue","noInfoAnchorErrorLog","fileLineAnchorErrorLog","accountNameAnchorErrorLog","errorCodeString","errorNumber","parseInt","file","line","fileLine","accountName","program","programErrorStack","ProgramError","msg","idlErrors","errString","unparsedErrorCode","includes","components","split","matches","match","parseErr","errorMsg","LangErrorMessage","translateError","features.isSet","console","anchorError","programError","handler","target","prop","Reflect","arguments","Proxy","LangErrorCode","InstructionMissing","InstructionFallbackNotFound","InstructionDidNotDeserialize","InstructionDidNotSerialize","IdlInstructionStub","IdlInstructionInvalidProgram","ConstraintMut","ConstraintHasOne","ConstraintSigner","ConstraintRaw","ConstraintOwner","ConstraintRentExempt","ConstraintSeeds","ConstraintExecutable","ConstraintState","ConstraintAssociated","ConstraintAssociatedInit","ConstraintClose","ConstraintAddress","ConstraintZero","ConstraintTokenMint","ConstraintTokenOwner","ConstraintMintMintAuthority","ConstraintMintFreezeAuthority","ConstraintMintDecimals","ConstraintSpace","RequireViolated","RequireEqViolated","RequireKeysEqViolated","RequireNeqViolated","RequireKeysNeqViolated","RequireGtViolated","RequireGteViolated","AccountDiscriminatorAlreadySet","AccountDiscriminatorNotFound","AccountDiscriminatorMismatch","AccountDidNotDeserialize","AccountDidNotSerialize","AccountNotEnoughKeys","AccountNotMutable","AccountOwnedByWrongProgram","InvalidProgramId","InvalidProgramExecutable","AccountNotSigner","AccountNotSystemOwned","AccountNotInitialized","AccountNotProgramData","AccountNotAssociatedTokenAccount","AccountSysvarMismatch","AccountReallocExceedsLimit","AccountDuplicateReallocs","StateInvalidAddress","DeclaredProgramIdMismatch","Deprecated","IdlCoder","field","types","fieldName","camelCase","borsh","bool","u8","i8","u16","i16","u32","i32","f32","u64","i64","f64","u128","i128","vecU8","vec","fieldLayout","option","defined","filtered","filter","typeDefLayout","arrayTy","arrayLen","innerLayout","typeDef","kind","fieldLayouts","fields","variants","variant","f","hasOwnProperty","rustEnum","replicate","BorshInstructionCoder","idl","ixLayout","parseIxLayout","sighashLayouts","ix","sh","sighash","layout","state","methods","ixName","_encode","encodeState","nameSpace","alloc","methodName","len","concat","ixLayouts","m","arg","_b","bs58.decode","subarray","format","accountMetas","InstructionFormatter","idlIx","idlField","formatIdlType","formatIdlData","flatIdlAccounts","flattenIdlAccounts","idx","idlType","d","formatIdlDataDefined","enumType","namedFields","fieldData","variantName","pascalCase","prefix","account","accName","charAt","toUpperCase","sentenceCase","newPrefix","flat","digest","sha256","snakeCase","isOptionLayout","BufferLayout","Layout","UInt","isWrappedLayout","layoutSize","span","Structure","acc","Union","values","registry","max","usesPrefixDiscriminator","discriminator","VariantLayout","accountSize","idlAccount","variantSizes","typeSize","a","b","Math","ty","coption","arraySize","ACCOUNT_DISCRIMINATOR_SIZE","BorshAccountsCoder","accountLayouts","layouts","size","_","entry","PACKET_DATA_SIZE","accountDiscriminator","compare","decodeUnchecked","memcmp","appendData","offset","bytes","BorshEventCoder","events","event","eventTypeDef","discriminators","eventDiscriminator","logBytes","disc","eventName","BorshStateCoder","maxSize","stateDiscriminator","accData","ns","BorshTypesCoder","typeLayouts","typeName","typeData","BorshCoder","instruction","SplTokenInstructionCoder","decimals","mintAuthority","freezeAuthority","encodeData","initializeMint","encodeInitializeMint","initializeAccount","initializeMultisig","encodeInitializeMultisig","amount","transfer","encodeTransfer","approve","encodeApprove","revoke","authorityType","newAuthority","setAuthority","encodeSetAuthority","mintTo","encodeMintTo","burn","encodeBurn","closeAccount","freezeAccount","thawAccount","transferChecked","encodeTransferChecked","approveChecked","encodeApproveChecked","mintToChecked","encodeMintToChecked","burnChecked","encodeBurnChecked","authority","initilaizeAccount2","encodeInitializeAccount2","syncNative","initializeAccount3","encodeInitializeAccount3","initializeMultisig2","encodeInitializeMultisig2","initializeMint2","encodeInitializeMint2","_ixName","_ix","LAYOUT","instructionMaxSpan","addVariant","SplTokenStateCoder","_idl","_name","_account","uint64","property","WrappedLayout","blob","fromBuffer","n","COptionLayout","src","getSpan","decodeBool","encodeBool","BN","toArrayLike","SplTokenAccountsCoder","TOKEN_ACCOUNT_LAYOUT","MINT_ACCOUNT_LAYOUT","decodeTokenAccount","decodeMintAccount","_appendData","dataSize","SplTokenEventsCoder","_log","SplTokenTypesCoder","_type","_typeData","SplTokenCoder","SystemInstructionCoder","space","createAccount","encodeCreateAccount","encodeAssign","base","seed","createAccountWithSeed","getVariant","encodeCreateAccountWithSeed","authorized","advanceNonceAccount","encodeAdvanceNonceAccount","withdrawNonceAccount","encodeWithdrawNonceAccount","initializeNonceAccount","encodeInitializeNonceAccount","authorizeNonceAccount","encodeAuthorizeNonceAccount","allocate","encodeAllocate","allocateWithSeed","encodeAllocateWithSeed","assignWithSeed","encodeAssignWithSeed","transferWithSeed","encodeTransferWithSeed","RustStringLayout","chars","utf8.decode","DataView","getUint32","rustStringLayout","maxSpan","SystemStateCoder","SystemAccountsCoder","NONCE_ACCOUNT_LENGTH","NONCE_ACCOUNT_LAYOUT","decodeNonceAccount","SystemEventsCoder","SystemTypesCoder","SystemCoder","parseIdlErrors","errors","toInstruction","ixArg","validateAccounts","ixAccounts","translateAddress","address","getMultipleAccounts","publicKeys","getMultipleAccountsCore","batches","apply","ceil","index","chunks","Promise","all","batch","commitmentOverride","getMultipleAccountsInfo","programId","TransactionInstruction","sendAndConfirm","createWithSeedSync","fromPublicKey","createProgramAddressSync","seeds","isOnCurve","findProgramAddressSync","nonce","associated","assoc","findProgramAddress","TOKEN_PROGRAM_ID","ASSOCIATED_PROGRAM_ID","mint","global","self","__self__","F","fetch","DOMException","prototype","exports","support","Blob","viewClasses","isArrayBufferView","ArrayBuffer","isView","obj","call","normalizeName","String","test","toLowerCase","normalizeValue","iteratorFor","items","shift","Headers","headers","append","header","getOwnPropertyNames","consumed","body","bodyUsed","reject","fileReaderReady","reader","resolve","onload","onerror","readBlobAsArrayBuffer","FileReader","promise","readAsArrayBuffer","bufferClone","view","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","arrayBuffer","then","text","readAsText","fromCharCode","readArrayBufferAsText","formData","json","oldValue","callback","thisArg","Request","method","upcased","credentials","mode","signal","referrer","form","trim","decodeURIComponent","Response","bodyInit","ok","statusText","clone","response","redirectStatuses","redirect","RangeError","location","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","parts","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","defineProperty","ponyfill","default","module","fetchData","accountInfo","getAccountInfo","decodeUpgradeableLoaderState","programdataAccountInfo","programdataAddress","programData","UPGRADEABLE_LOADER_STATE_LAYOUT","limit","latestBuildsResp","latestBuilds","verified","build","toNumber","verified_slot","IDL_ACCOUNT_LAYOUT","splitArgsAndCtx","inputLen","InstructionNamespaceFactory","encodeFn","ixArgs","remainingAccounts","accs","accountsArray","rpcAccs","pubkey","isWritable","isMut","isSigner","RpcFactory","txFn","TransactionFactory","ixFn","preInstructions","_c","postInstructions","StateFactory","coder","StateClient","_programId","_address","programStateAddress","_sub","rpc","ixItem","programSigner","SystemProgram","stateInstructionKeys","txItem","TransactionNamespaceFactory","rpcItem","RpcNamespaceFactory","addr","subscribe","ee","EventEmitter","listener","onAccountChange","emit","unsubscribe","removeAccountChangeListener","catch","registrySigner","AccountFactory","accountFns","AccountClient","_idlAccount","_coder","_size","fetchNullable","rpcUtil.getMultipleAccounts","filters","getProgramAccounts","sub","subscriptions","delete","warn","signer","sizeOverride","fromPubkey","newAccountPubkey","getMinimumBalanceForRentExemption","associatedAddress","pubkeyUtil.associated","PROGRAM_LOG_START_INDEX","PROGRAM_DATA_START_INDEX","EventManager","_eventParser","EventParser","_eventCallbacks","_eventListeners","_listenerIdCount","_onLogsSubscriptionId","onLogs","parseLogs","allListeners","listenerCb","listeners","l","removeOnLogsListener","logScanner","LogScanner","execution","ExecutionContext","newProgram","didPop","handleLog","handleProgramLog","handleSystemLog","logStr","logStart","SimulateFactory","resp","simulate","parser","raw","IDL","version","splCoder","SPL_IDL","AccountsResolver","_args","_accounts","_idlIx","_accountNamespace","_accountStore","AccountStore","accountDesc","accountDescName","CONST_ACCOUNTS","pda","autoPopulatePda","seedDesc","parseProgramId","toBufferConst","argValue","accountValue","toBufferArg","toBufferAccount","toBufferValue","seedArgName","idlArgPosition","argDesc","pathComponents","fieldPubkey","fetchAccount","parseAccountValue","accountField","writeUInt16LE","writeUInt32LE","bU64","writeBigUInt64LE","BigInt","utf8.encode","associatedTokenProgram","rent","SYSVAR_RENT_PUBKEY","systemProgram","tokenProgram","_cache","MethodsBuilderFactory","rpcFn","simulateFn","viewFn","accountNamespace","MethodsBuilder","_ixFn","_txFn","_rpcFn","_simulateFn","_viewFn","_remainingAccounts","_signers","_preInstructions","_postInstructions","_autoResolveAccounts","_accountsResolver","accountsStrict","ixs","ViewFactory","hasReturn","returns","simulationResult","returnPrefix","returnLog","returnData","returnType","NamespaceFactory","InstructionFactory","simulateItem","viewItem","methodItem","Program","_events","views","fetchIdl","idlAddr","createWithSeed","idlAddress","inflatedIdl","inflate","SplAssociatedTokenInstructionCoder","SplAssociatedTokenStateCoder","SplAssociatedTokenAccountsCoder","SplAssociatedTokenEventsCoder","SplAssociatedTokenTypesCoder","SplAssociatedTokenCoder","ASSOCIATED_TOKEN_PROGRAM_ID","Spl","SYSTEM_PROGRAM_ID","Native"],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/native/index.d.ts b/dist/browser/native/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0d0bd7f4967a9a6be8f888371691b5dba51364ba
--- /dev/null
+++ b/dist/browser/native/index.d.ts
@@ -0,0 +1,7 @@
+import { Program, Provider } from "../index.js";
+import { SystemProgram } from "./system.js";
+export { SystemProgram } from "./system.js";
+export declare class Native {
+    static system(provider?: Provider): Program<SystemProgram>;
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/native/index.d.ts.map b/dist/browser/native/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..acef0f9ce06ae9e307e9abf2fbfe00de935a0bbf
--- /dev/null
+++ b/dist/browser/native/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/native/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAA4B,aAAa,EAAE,MAAM,aAAa,CAAC;AAEtE,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAE5C,qBAAa,MAAM;WACH,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC;CAGlE"}
\ No newline at end of file
diff --git a/dist/browser/native/system.d.ts b/dist/browser/native/system.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f1c2e89b47b8ae4f98eaa6f12c3ec449f679c8d3
--- /dev/null
+++ b/dist/browser/native/system.d.ts
@@ -0,0 +1,438 @@
+import { Program } from "../program/index.js";
+import Provider from "../provider.js";
+import { SystemCoder } from "../coder/system/index.js";
+export declare function program(provider?: Provider): Program<SystemProgram>;
+export declare function coder(): SystemCoder;
+/**
+ * System IDL.
+ */
+export declare type SystemProgram = {
+    version: "0.1.0";
+    name: "system_program";
+    instructions: [
+        {
+            name: "createAccount";
+            accounts: [
+                {
+                    name: "from";
+                    isMut: true;
+                    isSigner: true;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "lamports";
+                    type: "u64";
+                },
+                {
+                    name: "space";
+                    type: "u64";
+                },
+                {
+                    name: "owner";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "assign";
+            accounts: [
+                {
+                    name: "pubkey";
+                    isMut: true;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "owner";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "transfer";
+            accounts: [
+                {
+                    name: "from";
+                    isMut: true;
+                    isSigner: true;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "lamports";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "createAccountWithSeed";
+            accounts: [
+                {
+                    name: "from";
+                    isMut: true;
+                    isSigner: true;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "base";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "base";
+                    type: "publicKey";
+                },
+                {
+                    name: "seed";
+                    type: "string";
+                },
+                {
+                    name: "lamports";
+                    type: "u64";
+                },
+                {
+                    name: "space";
+                    type: "u64";
+                },
+                {
+                    name: "owner";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "advanceNonceAccount";
+            accounts: [
+                {
+                    name: "nonce";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "recentBlockhashes";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authorized";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "authorized";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "withdrawNonceAccount";
+            accounts: [
+                {
+                    name: "nonce";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "recentBlockhashes";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authorized";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "lamports";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "initializeNonceAccount";
+            accounts: [
+                {
+                    name: "nonce";
+                    isMut: true;
+                    isSigner: true;
+                },
+                {
+                    name: "recentBlockhashes";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authorized";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "authorizeNonceAccount";
+            accounts: [
+                {
+                    name: "nonce";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authorized";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "authorized";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "allocate";
+            accounts: [
+                {
+                    name: "pubkey";
+                    isMut: true;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "space";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "allocateWithSeed";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "base";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "base";
+                    type: "publicKey";
+                },
+                {
+                    name: "seed";
+                    type: "string";
+                },
+                {
+                    name: "space";
+                    type: "u64";
+                },
+                {
+                    name: "owner";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "assignWithSeed";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "base";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "base";
+                    type: "publicKey";
+                },
+                {
+                    name: "seed";
+                    type: "string";
+                },
+                {
+                    name: "owner";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "transferWithSeed";
+            accounts: [
+                {
+                    name: "from";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "base";
+                    isMut: false;
+                    isSigner: true;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "lamports";
+                    type: "u64";
+                },
+                {
+                    name: "seed";
+                    type: "string";
+                },
+                {
+                    name: "owner";
+                    type: "publicKey";
+                }
+            ];
+        }
+    ];
+    accounts: [
+        {
+            name: "nonce";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "version";
+                        type: "u32";
+                    },
+                    {
+                        name: "state";
+                        type: "u32";
+                    },
+                    {
+                        name: "authorizedPubkey";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "nonce";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "feeCalculator";
+                        type: {
+                            defined: "FeeCalculator";
+                        };
+                    }
+                ];
+            };
+        }
+    ];
+    types: [
+        {
+            name: "FeeCalculator";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "lamportsPerSignature";
+                        type: "u64";
+                    }
+                ];
+            };
+        }
+    ];
+    errors: [
+        {
+            code: 0;
+            name: "AccountAlreadyInUse";
+            msg: "an account with the same address already exists";
+        },
+        {
+            code: 1;
+            name: "ResultWithNegativeLamports";
+            msg: "account does not have enough SOL to perform the operation";
+        },
+        {
+            code: 2;
+            name: "InvalidProgramId";
+            msg: "cannot assign account to this program id";
+        },
+        {
+            code: 3;
+            name: "InvalidAccountDataLength";
+            msg: "cannot allocate account data of this length";
+        },
+        {
+            code: 4;
+            name: "MaxSeedLengthExceeded";
+            msg: "length of requested seed is too long";
+        },
+        {
+            code: 5;
+            name: "AddressWithSeedMismatch";
+            msg: "provided address does not match addressed derived from seed";
+        },
+        {
+            code: 6;
+            name: "NonceNoRecentBlockhashes";
+            msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar";
+        },
+        {
+            code: 7;
+            name: "NonceBlockhashNotExpired";
+            msg: "stored nonce is still in recent_blockhashes";
+        },
+        {
+            code: 8;
+            name: "NonceUnexpectedBlockhashValue";
+            msg: "specified nonce does not match stored nonce";
+        }
+    ];
+};
+export declare const IDL: SystemProgram;
+//# sourceMappingURL=system.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/native/system.d.ts.map b/dist/browser/native/system.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..3d509aa90276bd2e0e1741a9d78fd48a847d00a3
--- /dev/null
+++ b/dist/browser/native/system.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"system.d.ts","sourceRoot":"","sources":["../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/program/accounts-resolver.d.ts b/dist/browser/program/accounts-resolver.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c6e46ca7df1421b310227ac61f9679918e18913a
--- /dev/null
+++ b/dist/browser/program/accounts-resolver.d.ts
@@ -0,0 +1,41 @@
+import { PublicKey } from "@solana/web3.js";
+import { Idl } from "../idl.js";
+import { AllInstructions } from "./namespace/types.js";
+import Provider from "../provider.js";
+import { AccountNamespace } from "./namespace/account.js";
+export declare class AccountsResolver<IDL extends Idl, I extends AllInstructions<IDL>> {
+    private _args;
+    private _accounts;
+    private _provider;
+    private _programId;
+    private _idlIx;
+    static readonly CONST_ACCOUNTS: {
+        associatedTokenProgram: PublicKey;
+        rent: PublicKey;
+        systemProgram: PublicKey;
+        tokenProgram: PublicKey;
+    };
+    private _accountStore;
+    constructor(_args: Array<any>, _accounts: {
+        [name: string]: PublicKey;
+    }, _provider: Provider, _programId: PublicKey, _idlIx: AllInstructions<IDL>, _accountNamespace: AccountNamespace<IDL>);
+    resolve(): Promise<void>;
+    private autoPopulatePda;
+    private parseProgramId;
+    private toBuffer;
+    private toBufferConst;
+    private toBufferArg;
+    private argValue;
+    private toBufferAccount;
+    private accountValue;
+    private parseAccountValue;
+    private toBufferValue;
+}
+export declare class AccountStore<IDL extends Idl> {
+    private _provider;
+    private _accounts;
+    private _cache;
+    constructor(_provider: Provider, _accounts: AccountNamespace<IDL>);
+    fetchAccount<T = any>(name: string, publicKey: PublicKey): Promise<T>;
+}
+//# sourceMappingURL=accounts-resolver.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/accounts-resolver.d.ts.map b/dist/browser/program/accounts-resolver.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..58f23d4cc6c6edaec391fba627b2aa35ceb414a4
--- /dev/null
+++ b/dist/browser/program/accounts-resolver.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"accounts-resolver.d.ts","sourceRoot":"","sources":["../../src/program/accounts-resolver.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAqC,MAAM,iBAAiB,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAuB,MAAM,WAAW,CAAC;AAGrD,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAQ1D,qBAAa,gBAAgB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC;IAWzE,OAAO,CAAC,KAAK;IACb,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,UAAU;IAClB,OAAO,CAAC,MAAM;IAdhB,MAAM,CAAC,QAAQ,CAAC,cAAc;;;;;MAK5B;IAEF,OAAO,CAAC,aAAa,CAAoB;gBAG/B,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,EACjB,SAAS,EAAE;QAAE,CAAC,IAAI,EAAE,MAAM,GAAG,SAAS,CAAA;KAAE,EACxC,SAAS,EAAE,QAAQ,EACnB,UAAU,EAAE,SAAS,EACrB,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,EACpC,iBAAiB,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAc7B,OAAO;YA8CN,eAAe;YAcf,cAAc;YAoBd,QAAQ;IAatB,OAAO,CAAC,aAAa;YAIP,WAAW;IAKzB,OAAO,CAAC,QAAQ;YAaF,eAAe;YAKf,YAAY;IAyB1B,OAAO,CAAC,iBAAiB;IAazB,OAAO,CAAC,aAAa;CA2BtB;AAGD,qBAAa,YAAY,CAAC,GAAG,SAAS,GAAG;IAIrC,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IAJnB,OAAO,CAAC,MAAM,CAA0B;gBAG9B,SAAS,EAAE,QAAQ,EACnB,SAAS,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAG7B,YAAY,CAAC,CAAC,GAAG,GAAG,EAC/B,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,CAAC,CAAC;CAmBd"}
\ No newline at end of file
diff --git a/dist/browser/program/common.d.ts b/dist/browser/program/common.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..40f536b4cab972c9bfa8310f5d5c63c31b9fb0c4
--- /dev/null
+++ b/dist/browser/program/common.d.ts
@@ -0,0 +1,20 @@
+import EventEmitter from "eventemitter3";
+import { PublicKey } from "@solana/web3.js";
+import { Idl, IdlInstruction, IdlAccountItem, IdlStateMethod } from "../idl.js";
+import { Accounts } from "./context.js";
+export declare type Subscription = {
+    listener: number;
+    ee: EventEmitter;
+};
+export declare function parseIdlErrors(idl: Idl): Map<number, string>;
+export declare function toInstruction(idlIx: IdlInstruction | IdlStateMethod, ...args: any[]): {
+    [key: string]: any;
+};
+export declare function validateAccounts(ixAccounts: IdlAccountItem[], accounts?: Accounts): void;
+export declare function translateAddress(address: Address): PublicKey;
+/**
+ * An address to identify an account on chain. Can be a [[PublicKey]],
+ * or Base 58 encoded string.
+ */
+export declare type Address = PublicKey | string;
+//# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/common.d.ts.map b/dist/browser/program/common.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..6cf1fcf3918e5161dbc1533267055b8ba5a9f141
--- /dev/null
+++ b/dist/browser/program/common.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../src/program/common.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AACzC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAChF,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAExC,oBAAY,YAAY,GAAG;IACzB,QAAQ,EAAE,MAAM,CAAC;IACjB,EAAE,EAAE,YAAY,CAAC;CAClB,CAAC;AAEF,wBAAgB,cAAc,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAS5D;AAGD,wBAAgB,aAAa,CAC3B,KAAK,EAAE,cAAc,GAAG,cAAc,EACtC,GAAG,IAAI,EAAE,GAAG,EAAE;;EAaf;AAGD,wBAAgB,gBAAgB,CAC9B,UAAU,EAAE,cAAc,EAAE,EAC5B,QAAQ,GAAE,QAAa,QAWxB;AAGD,wBAAgB,gBAAgB,CAAC,OAAO,EAAE,OAAO,GAAG,SAAS,CAE5D;AAED;;;GAGG;AACH,oBAAY,OAAO,GAAG,SAAS,GAAG,MAAM,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/program/context.d.ts b/dist/browser/program/context.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d8cef9d8fb6adc965d199b6b4fcd4d2e3b3f8d56
--- /dev/null
+++ b/dist/browser/program/context.d.ts
@@ -0,0 +1,59 @@
+import { AccountMeta, Signer, ConfirmOptions, TransactionInstruction } from "@solana/web3.js";
+import { Address } from "./common.js";
+import { IdlAccountItem, IdlAccounts, IdlInstruction } from "../idl.js";
+/**
+ * Context provides all non-argument inputs for generating Anchor transactions.
+ */
+export declare type Context<A extends Accounts = Accounts> = {
+    /**
+     * Accounts used in the instruction context.
+     */
+    accounts?: A;
+    /**
+     * All accounts to pass into an instruction *after* the main `accounts`.
+     * This can be used for optional or otherwise unknown accounts.
+     */
+    remainingAccounts?: AccountMeta[];
+    /**
+     * Accounts that must sign a given transaction.
+     */
+    signers?: Array<Signer>;
+    /**
+     * @deprecated use preInstructions instead.
+     * Instructions to run *before* a given method. Often this is used, for
+     * example to create accounts prior to executing a method.
+     */
+    instructions?: TransactionInstruction[];
+    /**
+     * Instructions to run *before* a given method. Often this is used, for
+     * example to create accounts prior to executing a method.
+     */
+    preInstructions?: TransactionInstruction[];
+    /**
+     * Instructions to run *after* a given method. Often this is used, for
+     * example to close accounts after executing a method.
+     */
+    postInstructions?: TransactionInstruction[];
+    /**
+     * Commitment parameters to use for a transaction.
+     */
+    options?: ConfirmOptions;
+};
+/**
+ * A set of accounts mapping one-to-one to the program's accounts struct, i.e.,
+ * the type deriving `#[derive(Accounts)]`.
+ *
+ * The name of each field should match the name for that account in the IDL.
+ *
+ * If multiple accounts are nested in the rust program, then they should be
+ * nested here.
+ */
+export declare type Accounts<A extends IdlAccountItem = IdlAccountItem> = {
+    [N in A["name"]]: Account<A & {
+        name: N;
+    }>;
+};
+declare type Account<A extends IdlAccountItem> = A extends IdlAccounts ? Accounts<A["accounts"][number]> : Address;
+export declare function splitArgsAndCtx(idlIx: IdlInstruction, args: any[]): [any[], Context];
+export {};
+//# sourceMappingURL=context.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/context.d.ts.map b/dist/browser/program/context.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..c4474c3bb3df6382983522ab285c9a8fc55bfd1c
--- /dev/null
+++ b/dist/browser/program/context.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"context.d.ts","sourceRoot":"","sources":["../../src/program/context.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,WAAW,EACX,MAAM,EACN,cAAc,EACd,sBAAsB,EACvB,MAAM,iBAAiB,CAAC;AACzB,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACtC,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAExE;;GAEG;AACH,oBAAY,OAAO,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,IAAI;IACnD;;OAEG;IACH,QAAQ,CAAC,EAAE,CAAC,CAAC;IAEb;;;OAGG;IACH,iBAAiB,CAAC,EAAE,WAAW,EAAE,CAAC;IAElC;;OAEG;IACH,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;IAExB;;;;OAIG;IACH,YAAY,CAAC,EAAE,sBAAsB,EAAE,CAAC;IAExC;;;OAGG;IACH,eAAe,CAAC,EAAE,sBAAsB,EAAE,CAAC;IAE3C;;;OAGG;IACH,gBAAgB,CAAC,EAAE,sBAAsB,EAAE,CAAC;IAE5C;;OAEG;IACH,OAAO,CAAC,EAAE,cAAc,CAAC;CAC1B,CAAC;AAEF;;;;;;;;GAQG;AACH,oBAAY,QAAQ,CAAC,CAAC,SAAS,cAAc,GAAG,cAAc,IAAI;KAC/D,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC;CAC3C,CAAC;AAEF,aAAK,OAAO,CAAC,CAAC,SAAS,cAAc,IAAI,CAAC,SAAS,WAAW,GAC1D,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,GAC/B,OAAO,CAAC;AAEZ,wBAAgB,eAAe,CAC7B,KAAK,EAAE,cAAc,EACrB,IAAI,EAAE,GAAG,EAAE,GACV,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,CAgBlB"}
\ No newline at end of file
diff --git a/dist/browser/program/event.d.ts b/dist/browser/program/event.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b5c1c5fada59582774dd80c1809198b38c9f3ec6
--- /dev/null
+++ b/dist/browser/program/event.d.ts
@@ -0,0 +1,57 @@
+import { PublicKey } from "@solana/web3.js";
+import { IdlEvent, IdlEventField } from "../idl.js";
+import { Coder } from "../coder/index.js";
+import { DecodeType } from "./namespace/types.js";
+import Provider from "../provider.js";
+export declare type Event<E extends IdlEvent = IdlEvent, Defined = Record<string, never>> = {
+    name: E["name"];
+    data: EventData<E["fields"][number], Defined>;
+};
+export declare type EventData<T extends IdlEventField, Defined> = {
+    [N in T["name"]]: DecodeType<(T & {
+        name: N;
+    })["type"], Defined>;
+};
+export declare class EventManager {
+    /**
+     * Program ID for event subscriptions.
+     */
+    private _programId;
+    /**
+     * Network and wallet provider.
+     */
+    private _provider;
+    /**
+     * Event parser to handle onLogs callbacks.
+     */
+    private _eventParser;
+    /**
+     * Maps event listener id to [event-name, callback].
+     */
+    private _eventCallbacks;
+    /**
+     * Maps event name to all listeners for the event.
+     */
+    private _eventListeners;
+    /**
+     * The next listener id to allocate.
+     */
+    private _listenerIdCount;
+    /**
+     * The subscription id from the connection onLogs subscription.
+     */
+    private _onLogsSubscriptionId;
+    constructor(programId: PublicKey, provider: Provider, coder: Coder);
+    addEventListener(eventName: string, callback: (event: any, slot: number, signature: string) => void): number;
+    removeEventListener(listener: number): Promise<void>;
+}
+export declare class EventParser {
+    private coder;
+    private programId;
+    constructor(programId: PublicKey, coder: Coder);
+    parseLogs(logs: string[]): Generator<Event<IdlEvent, Record<string, never>>, void, unknown>;
+    private handleLog;
+    private handleProgramLog;
+    private handleSystemLog;
+}
+//# sourceMappingURL=event.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/event.d.ts.map b/dist/browser/program/event.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..a861265d25292234f1f5b0152919cf320311cdc1
--- /dev/null
+++ b/dist/browser/program/event.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../src/program/event.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,WAAW,CAAC;AACpD,OAAO,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAC1C,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAClD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AAQtC,oBAAY,KAAK,CACf,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAC7B,OAAO,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,IAC7B;IACF,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;IAChB,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC;CAC/C,CAAC;AAEF,oBAAY,SAAS,CAAC,CAAC,SAAS,aAAa,EAAE,OAAO,IAAI;KACvD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;CACjE,CAAC;AAIF,qBAAa,YAAY;IACvB;;OAEG;IACH,OAAO,CAAC,UAAU,CAAY;IAE9B;;OAEG;IACH,OAAO,CAAC,SAAS,CAAW;IAE5B;;OAEG;IACH,OAAO,CAAC,YAAY,CAAc;IAElC;;OAEG;IACH,OAAO,CAAC,eAAe,CAAuC;IAE9D;;OAEG;IACH,OAAO,CAAC,eAAe,CAA6B;IAEpD;;OAEG;IACH,OAAO,CAAC,gBAAgB,CAAS;IAEjC;;OAEG;IACH,OAAO,CAAC,qBAAqB,CAAqB;gBAEtC,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK;IAS3D,gBAAgB,CACrB,SAAS,EAAE,MAAM,EACjB,QAAQ,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,KAAK,IAAI,GAC9D,MAAM;IAgDI,mBAAmB,CAAC,QAAQ,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC;CAgClE;AAED,qBAAa,WAAW;IACtB,OAAO,CAAC,KAAK,CAAQ;IACrB,OAAO,CAAC,SAAS,CAAY;gBAEjB,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK;IAgBtC,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE;IAuBhC,OAAO,CAAC,SAAS;IAkBjB,OAAO,CAAC,gBAAgB;IAkBxB,OAAO,CAAC,eAAe;CAoBxB"}
\ No newline at end of file
diff --git a/dist/browser/program/index.d.ts b/dist/browser/program/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d20426681b214e6c2ccb851de972c8cbcc31cb01
--- /dev/null
+++ b/dist/browser/program/index.d.ts
@@ -0,0 +1,266 @@
+import { PublicKey } from "@solana/web3.js";
+import Provider from "../provider.js";
+import { Idl } from "../idl.js";
+import { Coder } from "../coder/index.js";
+import type { RpcNamespace, InstructionNamespace, TransactionNamespace, AccountNamespace, StateClient, SimulateNamespace, MethodsNamespace, ViewNamespace } from "./namespace/index.js";
+import { Address } from "./common.js";
+export * from "./common.js";
+export * from "./context.js";
+export * from "./event.js";
+export * from "./namespace/index.js";
+/**
+ * ## Program
+ *
+ * Program provides the IDL deserialized client representation of an Anchor
+ * program.
+ *
+ * This API is the one stop shop for all things related to communicating with
+ * on-chain programs. Among other things, one can send transactions, fetch
+ * deserialized accounts, decode instruction data, subscribe to account
+ * changes, and listen to events.
+ *
+ * In addition to field accessors and methods, the object provides a set of
+ * dynamically generated properties, also known as namespaces, that
+ * map one-to-one to program methods and accounts. These namespaces generally
+ *  can be used as follows:
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * program.<namespace>.<program-specific-method>
+ * ```
+ *
+ * API specifics are namespace dependent. The examples used in the documentation
+ * below will refer to the two counter examples found
+ * [here](https://github.com/coral-xyz/anchor#examples).
+ */
+export declare class Program<IDL extends Idl = Idl> {
+    /**
+     * Async methods to send signed transactions to *non*-state methods on the
+     * program, returning a [[TransactionSignature]].
+     *
+     * ## Usage
+     *
+     * ```javascript
+     * rpc.<method>(...args, ctx);
+     * ```
+     *
+     * ## Parameters
+     *
+     * 1. `args` - The positional arguments for the program. The type and number
+     *    of these arguments depend on the program being used.
+     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+     *    Always the last parameter in the method call.
+     *
+     * ## Example
+     *
+     * To send a transaction invoking the `increment` method above,
+     *
+     * ```javascript
+     * const txSignature = await program.rpc.increment({
+     *   accounts: {
+     *     counter,
+     *     authority,
+     *   },
+     * });
+     * ```
+     * @deprecated
+     * Use program.methods.<method>(...args).rpc() instead
+     */
+    readonly rpc: RpcNamespace<IDL>;
+    /**
+     * The namespace provides handles to an [[AccountClient]] object for each
+     * account in the program.
+     *
+     * ## Usage
+     *
+     * ```javascript
+     * program.account.<account-client>
+     * ```
+     *
+     * ## Example
+     *
+     * To fetch a `Counter` account from the above example,
+     *
+     * ```javascript
+     * const counter = await program.account.counter.fetch(address);
+     * ```
+     *
+     * For the full API, see the [[AccountClient]] reference.
+     */
+    readonly account: AccountNamespace<IDL>;
+    /**
+     * The namespace provides functions to build [[TransactionInstruction]]
+     * objects for each method of a program.
+     *
+     * ## Usage
+     *
+     * ```javascript
+     * program.instruction.<method>(...args, ctx);
+     * ```
+     *
+     * ## Parameters
+     *
+     * 1. `args` - The positional arguments for the program. The type and number
+     *    of these arguments depend on the program being used.
+     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+     *    Always the last parameter in the method call.
+     *
+     * ## Example
+     *
+     * To create an instruction for the `increment` method above,
+     *
+     * ```javascript
+     * const tx = await program.instruction.increment({
+     *   accounts: {
+     *     counter,
+     *   },
+     * });
+     * ```
+     * @deprecated
+     */
+    readonly instruction: InstructionNamespace<IDL>;
+    /**
+     * The namespace provides functions to build [[Transaction]] objects for each
+     * method of a program.
+     *
+     * ## Usage
+     *
+     * ```javascript
+     * program.transaction.<method>(...args, ctx);
+     * ```
+     *
+     * ## Parameters
+     *
+     * 1. `args` - The positional arguments for the program. The type and number
+     *    of these arguments depend on the program being used.
+     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+     *    Always the last parameter in the method call.
+     *
+     * ## Example
+     *
+     * To create an instruction for the `increment` method above,
+     *
+     * ```javascript
+     * const tx = await program.transaction.increment({
+     *   accounts: {
+     *     counter,
+     *   },
+     * });
+     * ```
+     * @deprecated
+     */
+    readonly transaction: TransactionNamespace<IDL>;
+    /**
+     * The namespace provides functions to simulate transactions for each method
+     * of a program, returning a list of deserialized events *and* raw program
+     * logs.
+     *
+     * One can use this to read data calculated from a program on chain, by
+     * emitting an event in the program and reading the emitted event client side
+     * via the `simulate` namespace.
+     *
+     * ## simulate
+     *
+     * ```javascript
+     * program.simulate.<method>(...args, ctx);
+     * ```
+     *
+     * ## Parameters
+     *
+     * 1. `args` - The positional arguments for the program. The type and number
+     *    of these arguments depend on the program being used.
+     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+     *    Always the last parameter in the method call.
+     *
+     * ## Example
+     *
+     * To simulate the `increment` method above,
+     *
+     * ```javascript
+     * const events = await program.simulate.increment({
+     *   accounts: {
+     *     counter,
+     *   },
+     * });
+     * ```
+     * @deprecated
+     */
+    readonly simulate: SimulateNamespace<IDL>;
+    /**
+     * A client for the program state. Similar to the base [[Program]] client,
+     * one can use this to send transactions and read accounts for the state
+     * abstraction.
+     */
+    readonly state?: StateClient<IDL>;
+    /**
+     * The namespace provides a builder API for all APIs on the program.
+     * This is an alternative to using namespace the other namespaces..
+     */
+    readonly methods: MethodsNamespace<IDL>;
+    readonly views?: ViewNamespace<IDL>;
+    /**
+     * Address of the program.
+     */
+    get programId(): PublicKey;
+    private _programId;
+    /**
+     * IDL defining the program's interface.
+     */
+    get idl(): IDL;
+    private _idl;
+    /**
+     * Coder for serializing requests.
+     */
+    get coder(): Coder;
+    private _coder;
+    /**
+     * Wallet and network provider.
+     */
+    get provider(): Provider;
+    private _provider;
+    /**
+     * Handles event subscriptions.
+     */
+    private _events;
+    /**
+     * @param idl       The interface definition.
+     * @param programId The on-chain address of the program.
+     * @param provider  The network and wallet context to use. If not provided
+     *                  then uses [[getProvider]].
+     */
+    constructor(idl: IDL, programId: Address, provider?: Provider, coder?: Coder);
+    /**
+     * Generates a Program client by fetching the IDL from the network.
+     *
+     * In order to use this method, an IDL must have been previously initialized
+     * via the anchor CLI's `anchor idl init` command.
+     *
+     * @param programId The on-chain address of the program.
+     * @param provider  The network and wallet context.
+     */
+    static at<IDL extends Idl = Idl>(address: Address, provider?: Provider): Promise<Program<IDL>>;
+    /**
+     * Fetches an idl from the blockchain.
+     *
+     * In order to use this method, an IDL must have been previously initialized
+     * via the anchor CLI's `anchor idl init` command.
+     *
+     * @param programId The on-chain address of the program.
+     * @param provider  The network and wallet context.
+     */
+    static fetchIdl<IDL extends Idl = Idl>(address: Address, provider?: Provider): Promise<IDL | null>;
+    /**
+     * Invokes the given callback every time the given event is emitted.
+     *
+     * @param eventName The PascalCase name of the event, provided by the IDL.
+     * @param callback  The function to invoke whenever the event is emitted from
+     *                  program logs.
+     */
+    addEventListener(eventName: string, callback: (event: any, slot: number, signature: string) => void): number;
+    /**
+     * Unsubscribes from the given eventName.
+     */
+    removeEventListener(listener: number): Promise<void>;
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/index.d.ts.map b/dist/browser/program/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..6235acdc60e8075eb4652343a2b6dcacbc036541
--- /dev/null
+++ b/dist/browser/program/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/account.d.ts b/dist/browser/program/namespace/account.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..afdbca26f4aa06ace8bcefae1daac7dc3662a3ec
--- /dev/null
+++ b/dist/browser/program/namespace/account.d.ts
@@ -0,0 +1,133 @@
+/// <reference types="node" />
+import { CamelCase } from "@juici/case";
+import EventEmitter from "eventemitter3";
+import { Signer, PublicKey, TransactionInstruction, Commitment, GetProgramAccountsFilter, AccountInfo } from "@solana/web3.js";
+import Provider from "../../provider.js";
+import { Idl, IdlAccountDef } from "../../idl.js";
+import { Coder } from "../../coder/index.js";
+import { Address } from "../common.js";
+import { IdlTypes, TypeDef } from "./types.js";
+export default class AccountFactory {
+    static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): AccountNamespace<IDL>;
+}
+/**
+ * The namespace provides handles to an [[AccountClient]] object for each
+ * account in a program.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * account.<account-client>
+ * ```
+ *
+ * ## Example
+ *
+ * To fetch a `Counter` account from the above example,
+ *
+ * ```javascript
+ * const counter = await program.account.counter.fetch(address);
+ * ```
+ *
+ * For the full API, see the [[AccountClient]] reference.
+ */
+export declare type AccountNamespace<IDL extends Idl = Idl> = {
+    [K in NonNullable<IDL["accounts"]>[number]["name"] as CamelCase<K>]: AccountClient<IDL, NonNullable<IDL["accounts"]>[number] & {
+        name: K;
+    }>;
+};
+export declare class AccountClient<IDL extends Idl = Idl, A extends IdlAccountDef = IdlAccountDef, T = TypeDef<A, IdlTypes<IDL>>> {
+    /**
+     * Returns the number of bytes in this account.
+     */
+    get size(): number;
+    private _size;
+    /**
+     * Returns the program ID owning all accounts.
+     */
+    get programId(): PublicKey;
+    private _programId;
+    /**
+     * Returns the client's wallet and network provider.
+     */
+    get provider(): Provider;
+    private _provider;
+    /**
+     * Returns the coder.
+     */
+    get coder(): Coder;
+    private _coder;
+    private _idlAccount;
+    constructor(idl: IDL, idlAccount: A, programId: PublicKey, provider?: Provider, coder?: Coder);
+    /**
+     * Returns a deserialized account, returning null if it doesn't exist.
+     *
+     * @param address The address of the account to fetch.
+     */
+    fetchNullable(address: Address, commitment?: Commitment): Promise<T | null>;
+    /**
+     * Returns a deserialized account.
+     *
+     * @param address The address of the account to fetch.
+     */
+    fetch(address: Address, commitment?: Commitment): Promise<T>;
+    /**
+     * Returns multiple deserialized accounts.
+     * Accounts not found or with wrong discriminator are returned as null.
+     *
+     * @param addresses The addresses of the accounts to fetch.
+     */
+    fetchMultiple(addresses: Address[], commitment?: Commitment): Promise<(Object | null)[]>;
+    /**
+     * Returns all instances of this account type for the program.
+     *
+     * @param filters User-provided filters to narrow the results from `connection.getProgramAccounts`.
+     *
+     *                When filters are not defined this method returns all
+     *                the account instances.
+     *
+     *                When filters are of type `Buffer`, the filters are appended
+     *                after the discriminator.
+     *
+     *                When filters are of type `GetProgramAccountsFilter[]`,
+     *                filters are appended after the discriminator filter.
+     */
+    all(filters?: Buffer | GetProgramAccountsFilter[]): Promise<ProgramAccount<T>[]>;
+    /**
+     * Returns an `EventEmitter` emitting a "change" event whenever the account
+     * changes.
+     */
+    subscribe(address: Address, commitment?: Commitment): EventEmitter;
+    /**
+     * Unsubscribes from the account at the given address.
+     */
+    unsubscribe(address: Address): Promise<void>;
+    /**
+     * Returns an instruction for creating this account.
+     */
+    createInstruction(signer: Signer, sizeOverride?: number): Promise<TransactionInstruction>;
+    /**
+     * @deprecated since version 14.0.
+     *
+     * Function returning the associated account. Args are keys to associate.
+     * Order matters.
+     */
+    associated(...args: Array<PublicKey | Buffer>): Promise<T>;
+    /**
+     * @deprecated since version 14.0.
+     *
+     * Function returning the associated address. Args are keys to associate.
+     * Order matters.
+     */
+    associatedAddress(...args: Array<PublicKey | Buffer>): Promise<PublicKey>;
+    getAccountInfo(address: Address, commitment?: Commitment): Promise<AccountInfo<Buffer> | null>;
+}
+/**
+ * @hidden
+ *
+ * Deserialized account owned by a program.
+ */
+export declare type ProgramAccount<T = any> = {
+    publicKey: PublicKey;
+    account: T;
+};
+//# sourceMappingURL=account.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/account.d.ts.map b/dist/browser/program/namespace/account.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..f9893dc5f405c44e6d59f651f6841676585bc108
--- /dev/null
+++ b/dist/browser/program/namespace/account.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"account.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/index.d.ts b/dist/browser/program/namespace/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..698b79068949282b1a76aaa1375503c3b69158cf
--- /dev/null
+++ b/dist/browser/program/namespace/index.d.ts
@@ -0,0 +1,37 @@
+import { PublicKey } from "@solana/web3.js";
+import { Coder } from "../../coder/index.js";
+import Provider from "../../provider.js";
+import { Idl } from "../../idl.js";
+import { StateClient } from "./state.js";
+import { InstructionNamespace } from "./instruction.js";
+import { TransactionNamespace } from "./transaction.js";
+import { RpcNamespace } from "./rpc.js";
+import { AccountNamespace } from "./account.js";
+import { SimulateNamespace } from "./simulate.js";
+import { MethodsNamespace } from "./methods";
+import { ViewNamespace } from "./views";
+export { StateClient } from "./state.js";
+export { InstructionNamespace, InstructionFn } from "./instruction.js";
+export { TransactionNamespace, TransactionFn } from "./transaction.js";
+export { RpcNamespace, RpcFn } from "./rpc.js";
+export { AccountNamespace, AccountClient, ProgramAccount } from "./account.js";
+export { SimulateNamespace, SimulateFn } from "./simulate.js";
+export { IdlAccounts, IdlTypes, IdlEvents, DecodeType } from "./types.js";
+export { MethodsBuilderFactory, MethodsNamespace } from "./methods";
+export { ViewNamespace, ViewFn } from "./views";
+export default class NamespaceFactory {
+    /**
+     * Generates all namespaces for a given program.
+     */
+    static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider: Provider): [
+        RpcNamespace<IDL>,
+        InstructionNamespace<IDL>,
+        TransactionNamespace<IDL>,
+        AccountNamespace<IDL>,
+        SimulateNamespace<IDL>,
+        MethodsNamespace<IDL>,
+        StateClient<IDL> | undefined,
+        ViewNamespace<IDL> | undefined
+    ];
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/index.d.ts.map b/dist/browser/program/namespace/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..9b8fd6ce46b087a86779cb5d311a96bf671ac11d
--- /dev/null
+++ b/dist/browser/program/namespace/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAqB,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACvD,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAAmB,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACpD,OAAuB,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChE,OAAwB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAyB,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAoB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AAC1E,OAAO,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEhD,MAAM,CAAC,OAAO,OAAO,gBAAgB;IACnC;;OAEG;WACW,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACjB;QACD,YAAY,CAAC,GAAG,CAAC;QACjB,oBAAoB,CAAC,GAAG,CAAC;QACzB,oBAAoB,CAAC,GAAG,CAAC;QACzB,gBAAgB,CAAC,GAAG,CAAC;QACrB,iBAAiB,CAAC,GAAG,CAAC;QACtB,gBAAgB,CAAC,GAAG,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;QAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS;KAC/B;CAoEF"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/instruction.d.ts b/dist/browser/program/namespace/instruction.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..7c3c505c5fc2628f27b99b9f8ffe3a325d9cbddb
--- /dev/null
+++ b/dist/browser/program/namespace/instruction.d.ts
@@ -0,0 +1,58 @@
+/// <reference types="node" />
+import { AccountMeta, PublicKey, TransactionInstruction } from "@solana/web3.js";
+import { Idl, IdlAccountItem, IdlInstruction } from "../../idl.js";
+import { Accounts } from "../context.js";
+import { AllInstructions, AllInstructionsMap, InstructionContextFn, MakeInstructionsNamespace } from "./types.js";
+export default class InstructionNamespaceFactory {
+    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: I, encodeFn: InstructionEncodeFn<I>, programId: PublicKey): InstructionFn<IDL, I>;
+    static accountsArray(ctx: Accounts | undefined, accounts: readonly IdlAccountItem[], ixName?: string): AccountMeta[];
+}
+/**
+ * The namespace provides functions to build [[TransactionInstruction]]
+ * objects for each method of a program.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * instruction.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ *
+ * ## Example
+ *
+ * To create an instruction for the `increment` method above,
+ *
+ * ```javascript
+ * const tx = await program.instruction.increment({
+ *   accounts: {
+ *     counter,
+ *   },
+ * });
+ * ```
+ */
+export declare type InstructionNamespace<IDL extends Idl = Idl, I extends IdlInstruction = IDL["instructions"][number]> = MakeInstructionsNamespace<IDL, I, TransactionInstruction, {
+    [M in keyof AllInstructionsMap<IDL>]: {
+        accounts: (ctx: Accounts<AllInstructionsMap<IDL>[M]["accounts"][number]>) => unknown;
+    };
+}>;
+/**
+ * Function to create a `TransactionInstruction` generated from an IDL.
+ * Additionally it provides an `accounts` utility method, returning a list
+ * of ordered accounts for the instruction.
+ */
+export declare type InstructionFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, TransactionInstruction> & IxProps<Accounts<I["accounts"][number]>>;
+declare type IxProps<A extends Accounts> = {
+    /**
+     * Returns an ordered list of accounts associated with the instruction.
+     */
+    accounts: (ctx: A) => AccountMeta[];
+};
+export declare type InstructionEncodeFn<I extends IdlInstruction = IdlInstruction> = (ixName: I["name"], ix: any) => Buffer;
+export {};
+//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/instruction.d.ts.map b/dist/browser/program/namespace/instruction.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..165c9e77f864835088b70810cf276d6fc702e3fa
--- /dev/null
+++ b/dist/browser/program/namespace/instruction.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/instruction.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,WAAW,EACX,SAAS,EACT,sBAAsB,EACvB,MAAM,iBAAiB,CAAC;AACzB,OAAO,EACL,GAAG,EAEH,cAAc,EAEd,cAAc,EACf,MAAM,cAAc,CAAC;AAQtB,OAAO,EAAE,QAAQ,EAAmB,MAAM,eAAe,CAAC;AAE1D,OAAO,EACL,eAAe,EACf,kBAAkB,EAClB,oBAAoB,EAEpB,yBAAyB,EAC1B,MAAM,YAAY,CAAC;AAEpB,MAAM,CAAC,OAAO,OAAO,2BAA2B;WAChC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,CAAC,EACR,QAAQ,EAAE,mBAAmB,CAAC,CAAC,CAAC,EAChC,SAAS,EAAE,SAAS,GACnB,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC;WAyCV,aAAa,CACzB,GAAG,EAAE,QAAQ,GAAG,SAAS,EACzB,QAAQ,EAAE,SAAS,cAAc,EAAE,EACnC,MAAM,CAAC,EAAE,MAAM,GACd,WAAW,EAAE;CAwCjB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4BG;AACH,oBAAY,oBAAoB,CAC9B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,IACpD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,sBAAsB,EACtB;KACG,CAAC,IAAI,MAAM,kBAAkB,CAAC,GAAG,CAAC,GAAG;QACpC,QAAQ,EAAE,CACR,GAAG,EAAE,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,KAC1D,OAAO,CAAC;KACd;CACF,CACF,CAAC;AAEF;;;;GAIG;AACH,oBAAY,aAAa,CACvB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,sBAAsB,CAAC,GACtD,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAE3C,aAAK,OAAO,CAAC,CAAC,SAAS,QAAQ,IAAI;IACjC;;OAEG;IACH,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,WAAW,EAAE,CAAC;CACrC,CAAC;AAEF,oBAAY,mBAAmB,CAAC,CAAC,SAAS,cAAc,GAAG,cAAc,IAAI,CAC3E,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,EACjB,EAAE,EAAE,GAAG,KACJ,MAAM,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/methods.d.ts b/dist/browser/program/namespace/methods.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..043f483ecf160a9b2af56d70b33689fdff68541c
--- /dev/null
+++ b/dist/browser/program/namespace/methods.d.ts
@@ -0,0 +1,45 @@
+import { ConfirmOptions, AccountMeta, Signer, Transaction, TransactionInstruction, TransactionSignature, PublicKey } from "@solana/web3.js";
+import { SimulateResponse } from "./simulate.js";
+import { TransactionFn } from "./transaction.js";
+import { Idl } from "../../idl.js";
+import { AllInstructions, MethodsFn, MakeMethodsNamespace, InstructionAccountAddresses } from "./types.js";
+import { InstructionFn } from "./instruction.js";
+import { RpcFn } from "./rpc.js";
+import { SimulateFn } from "./simulate.js";
+import { ViewFn } from "./views.js";
+import Provider from "../../provider.js";
+import { AccountNamespace } from "./account.js";
+import { Accounts } from "../context.js";
+export declare type MethodsNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeMethodsNamespace<IDL, I>;
+export declare class MethodsBuilderFactory {
+    static build<IDL extends Idl, I extends AllInstructions<IDL>>(provider: Provider, programId: PublicKey, idlIx: AllInstructions<IDL>, ixFn: InstructionFn<IDL>, txFn: TransactionFn<IDL>, rpcFn: RpcFn<IDL>, simulateFn: SimulateFn<IDL>, viewFn: ViewFn<IDL> | undefined, accountNamespace: AccountNamespace<IDL>): MethodsFn<IDL, I, MethodsBuilder<IDL, I>>;
+}
+export declare class MethodsBuilder<IDL extends Idl, I extends AllInstructions<IDL>> {
+    private _args;
+    private _ixFn;
+    private _txFn;
+    private _rpcFn;
+    private _simulateFn;
+    private _viewFn;
+    private readonly _accounts;
+    private _remainingAccounts;
+    private _signers;
+    private _preInstructions;
+    private _postInstructions;
+    private _accountsResolver;
+    private _autoResolveAccounts;
+    constructor(_args: Array<any>, _ixFn: InstructionFn<IDL>, _txFn: TransactionFn<IDL>, _rpcFn: RpcFn<IDL>, _simulateFn: SimulateFn<IDL>, _viewFn: ViewFn<IDL> | undefined, _provider: Provider, _programId: PublicKey, _idlIx: AllInstructions<IDL>, _accountNamespace: AccountNamespace<IDL>);
+    pubkeys(): Promise<Partial<InstructionAccountAddresses<IDL, I>>>;
+    accounts(accounts: Partial<Accounts<I["accounts"][number]>>): MethodsBuilder<IDL, I>;
+    accountsStrict(accounts: Accounts<I["accounts"][number]>): MethodsBuilder<IDL, I>;
+    signers(signers: Array<Signer>): MethodsBuilder<IDL, I>;
+    remainingAccounts(accounts: Array<AccountMeta>): MethodsBuilder<IDL, I>;
+    preInstructions(ixs: Array<TransactionInstruction>): MethodsBuilder<IDL, I>;
+    postInstructions(ixs: Array<TransactionInstruction>): MethodsBuilder<IDL, I>;
+    rpc(options?: ConfirmOptions): Promise<TransactionSignature>;
+    view(options?: ConfirmOptions): Promise<any>;
+    simulate(options?: ConfirmOptions): Promise<SimulateResponse<any, any>>;
+    instruction(): Promise<TransactionInstruction>;
+    transaction(): Promise<Transaction>;
+}
+//# sourceMappingURL=methods.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/methods.d.ts.map b/dist/browser/program/namespace/methods.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..98e13a19130159148260834a87d0e6b37aea9dc1
--- /dev/null
+++ b/dist/browser/program/namespace/methods.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"methods.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/methods.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/rpc.d.ts b/dist/browser/program/namespace/rpc.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..cd63f12a2ba03ca8e6d1ea13c113c91adc78d605
--- /dev/null
+++ b/dist/browser/program/namespace/rpc.d.ts
@@ -0,0 +1,49 @@
+import { TransactionSignature } from "@solana/web3.js";
+import Provider from "../../provider.js";
+import { Idl } from "../../idl.js";
+import { TransactionFn } from "./transaction.js";
+import { AllInstructions, InstructionContextFn, MakeInstructionsNamespace } from "./types.js";
+export default class RpcFactory {
+    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: I, txFn: TransactionFn<IDL, I>, idlErrors: Map<number, string>, provider: Provider): RpcFn;
+}
+/**
+ * The namespace provides async methods to send signed transactions for each
+ * *non*-state method on Anchor program.
+ *
+ * Keys are method names, values are RPC functions returning a
+ * [[TransactionInstruction]].
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * rpc.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ * ```
+ *
+ * ## Example
+ *
+ * To send a transaction invoking the `increment` method above,
+ *
+ * ```javascript
+ * const txSignature = await program.rpc.increment({
+ *   accounts: {
+ *     counter,
+ *     authority,
+ *   },
+ * });
+ * ```
+ */
+export declare type RpcNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<TransactionSignature>>;
+/**
+ * RpcFn is a single RPC method generated from an IDL, sending a transaction
+ * paid for and signed by the configured provider.
+ */
+export declare type RpcFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Promise<TransactionSignature>>;
+//# sourceMappingURL=rpc.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/rpc.d.ts.map b/dist/browser/program/namespace/rpc.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..0409184693fd46a4c27148d011449d2c72d4903d
--- /dev/null
+++ b/dist/browser/program/namespace/rpc.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/rpc.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,iBAAiB,CAAC;AACvD,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AAEjD,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,YAAY,CAAC;AAEpB,MAAM,CAAC,OAAO,OAAO,UAAU;WACf,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,CAAC,EACR,IAAI,EAAE,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC,EAC3B,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,GACjB,KAAK;CAsBT;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,YAAY,CACtB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC;AAErE;;;GAGG;AACH,oBAAY,KAAK,CACf,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/simulate.d.ts b/dist/browser/program/namespace/simulate.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..bba3fd2b265e66abdc2b5cc964f4b56e0d3f8af6
--- /dev/null
+++ b/dist/browser/program/namespace/simulate.d.ts
@@ -0,0 +1,59 @@
+import { PublicKey } from "@solana/web3.js";
+import Provider from "../../provider.js";
+import { TransactionFn } from "./transaction.js";
+import { Event } from "../event.js";
+import { Coder } from "../../coder/index.js";
+import { Idl, IdlEvent } from "../../idl.js";
+import { AllInstructions, IdlTypes, InstructionContextFn, MakeInstructionsNamespace } from "./types";
+export default class SimulateFactory {
+    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: AllInstructions<IDL>, txFn: TransactionFn<IDL>, idlErrors: Map<number, string>, provider: Provider, coder: Coder, programId: PublicKey, idl: IDL): SimulateFn<IDL, I>;
+}
+/**
+ * The namespace provides functions to simulate transactions for each method
+ * of a program, returning a list of deserialized events *and* raw program
+ * logs.
+ *
+ * One can use this to read data calculated from a program on chain, by
+ * emitting an event in the program and reading the emitted event client side
+ * via the `simulate` namespace.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * program.simulate.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ *
+ * ## Example
+ *
+ * To simulate the `increment` method above,
+ *
+ * ```javascript
+ * const events = await program.simulate.increment({
+ *   accounts: {
+ *     counter,
+ *   },
+ * });
+ * ```
+ */
+export declare type SimulateNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>>;
+declare type NullableEvents<IDL extends Idl> = IDL["events"] extends IdlEvent[] ? IDL["events"][number] : IdlEvent;
+/**
+ * SimulateFn is a single method generated from an IDL. It simulates a method
+ * against a cluster configured by the provider, returning a list of all the
+ * events and raw logs that were emitted during the execution of the
+ * method.
+ */
+export declare type SimulateFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>>;
+export declare type SimulateResponse<E extends IdlEvent, Defined> = {
+    events: readonly Event<E, Defined>[];
+    raw: readonly string[];
+};
+export {};
+//# sourceMappingURL=simulate.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/simulate.d.ts.map b/dist/browser/program/namespace/simulate.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..ab96bf0cfaccd65799738901924ef10ab51c6bbd
--- /dev/null
+++ b/dist/browser/program/namespace/simulate.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AAEzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAe,KAAK,EAAE,MAAM,aAAa,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,eAAe,EACf,QAAQ,EACR,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAIjB,MAAM,CAAC,OAAO,OAAO,eAAe;WACpB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,EACxB,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,GAAG,EAAE,GAAG,GACP,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;CAuCtB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,iBAAiB,CAC3B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,aAAK,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,SAAS,QAAQ,EAAE,GACnE,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,GACrB,QAAQ,CAAC;AAEb;;;;;GAKG;AACH,oBAAY,UAAU,CACpB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CACtB,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,oBAAY,gBAAgB,CAAC,CAAC,SAAS,QAAQ,EAAE,OAAO,IAAI;IAC1D,MAAM,EAAE,SAAS,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC;IACrC,GAAG,EAAE,SAAS,MAAM,EAAE,CAAC;CACxB,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/state.d.ts b/dist/browser/program/namespace/state.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..dd9e3b97120b629a17fb8cec9c3d94a0c8b02f2b
--- /dev/null
+++ b/dist/browser/program/namespace/state.d.ts
@@ -0,0 +1,69 @@
+import EventEmitter from "eventemitter3";
+import { PublicKey, Commitment } from "@solana/web3.js";
+import Provider from "../../provider.js";
+import { Idl, IdlInstruction, IdlState, IdlTypeDef } from "../../idl.js";
+import { Coder, StateCoder } from "../../coder/index.js";
+import { RpcNamespace, InstructionNamespace, TransactionNamespace } from "./index.js";
+import { IdlTypes, TypeDef } from "./types.js";
+export default class StateFactory {
+    static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): StateClient<IDL> | undefined;
+}
+declare type NullableMethods<IDL extends Idl> = IDL["state"] extends IdlState ? IDL["state"]["methods"] : IdlInstruction[];
+declare type CoderWithState = Coder & {
+    state: StateCoder;
+};
+/**
+ * A client for the program state. Similar to the base [[Program]] client,
+ * one can use this to send transactions and read accounts for the state
+ * abstraction.
+ */
+export declare class StateClient<IDL extends Idl> {
+    /**
+     * Returns the client's wallet and network provider.
+     */
+    readonly provider: Provider;
+    /**
+     * Returns the coder.
+     */
+    readonly coder: CoderWithState;
+    /**
+     * [[RpcNamespace]] for all state methods.
+     */
+    readonly rpc: RpcNamespace<IDL, NullableMethods<IDL>[number]>;
+    /**
+     * [[InstructionNamespace]] for all state methods.
+     */
+    readonly instruction: InstructionNamespace<IDL, NullableMethods<IDL>[number]>;
+    /**
+     * [[TransactionNamespace]] for all state methods.
+     */
+    readonly transaction: TransactionNamespace<IDL, NullableMethods<IDL>[number]>;
+    /**
+     * Returns the program ID owning the state.
+     */
+    get programId(): PublicKey;
+    private _programId;
+    private _address;
+    private _idl;
+    private _sub;
+    constructor(idl: IDL, programId: PublicKey, provider?: Provider, coder?: Coder);
+    /**
+     * Returns the deserialized state account.
+     */
+    fetch(): Promise<TypeDef<IDL["state"] extends IdlState ? IDL["state"]["struct"] : IdlTypeDef, IdlTypes<IDL>>>;
+    /**
+     * Returns the state address.
+     */
+    address(): PublicKey;
+    /**
+     * Returns an `EventEmitter` with a `"change"` event that's fired whenever
+     * the state account cahnges.
+     */
+    subscribe(commitment?: Commitment): EventEmitter;
+    /**
+     * Unsubscribes to state changes.
+     */
+    unsubscribe(): void;
+}
+export {};
+//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/state.d.ts.map b/dist/browser/program/namespace/state.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..4919539ae1bbfee95a26b1e9b7388e33548da2be
--- /dev/null
+++ b/dist/browser/program/namespace/state.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/state.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AAEzC,OAAO,EACL,SAAS,EAET,UAAU,EAEX,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EACL,GAAG,EACH,cAAc,EACd,QAAQ,EAER,UAAU,EACX,MAAM,cAAc,CAAC;AACtB,OAAO,EAEL,KAAK,EACL,UAAU,EAEX,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACrB,MAAM,YAAY,CAAC;AAUpB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,CAAC,OAAO,OAAO,YAAY;WACjB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;CAMhC;AAED,aAAK,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,QAAQ,GACjE,GAAG,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GACvB,cAAc,EAAE,CAAC;AAErB,aAAK,cAAc,GAAG,KAAK,GAAG;IAAE,KAAK,EAAE,UAAU,CAAA;CAAE,CAAC;AAEpD;;;;GAIG;AACH,qBAAa,WAAW,CAAC,GAAG,SAAS,GAAG;IACtC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,cAAc,CAAC;IAE/B;;OAEG;IACH,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B,OAAO,CAAC,QAAQ,CAAY;IAC5B,OAAO,CAAC,IAAI,CAAM;IAClB,OAAO,CAAC,IAAI,CAAsB;gBAGhC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,EACnB,KAAK,CAAC,EAAE,KAAK;IA4Ef;;OAEG;IACG,KAAK,IAAI,OAAO,CACpB,OAAO,CACL,GAAG,CAAC,OAAO,CAAC,SAAS,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,GAAG,UAAU,EACnE,QAAQ,CAAC,GAAG,CAAC,CACd,CACF;IAkBD;;OAEG;IACH,OAAO,IAAI,SAAS;IAIpB;;;OAGG;IACH,SAAS,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IAuBhD;;OAEG;IACH,WAAW;CAUZ"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/transaction.d.ts b/dist/browser/program/namespace/transaction.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..5ed2a2b1f1fb41c3543469213a421e6debc74ea4
--- /dev/null
+++ b/dist/browser/program/namespace/transaction.d.ts
@@ -0,0 +1,42 @@
+import { Transaction } from "@solana/web3.js";
+import { Idl } from "../../idl.js";
+import { InstructionFn } from "./instruction.js";
+import { AllInstructions, InstructionContextFn, MakeInstructionsNamespace } from "./types.js";
+export default class TransactionFactory {
+    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: I, ixFn: InstructionFn<IDL, I>): TransactionFn<IDL, I>;
+}
+/**
+ * The namespace provides functions to build [[Transaction]] objects for each
+ * method of a program.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * program.transaction.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ *
+ * ## Example
+ *
+ * To create an instruction for the `increment` method above,
+ *
+ * ```javascript
+ * const tx = await program.transaction.increment({
+ *   accounts: {
+ *     counter,
+ *   },
+ * });
+ * ```
+ */
+export declare type TransactionNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Transaction>;
+/**
+ * Tx is a function to create a `Transaction` for a given program instruction.
+ */
+export declare type TransactionFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Transaction>;
+//# sourceMappingURL=transaction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/transaction.d.ts.map b/dist/browser/program/namespace/transaction.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..8ad3dab44654e06af2625b67ac97a14f8acc2925
--- /dev/null
+++ b/dist/browser/program/namespace/transaction.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"transaction.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/transaction.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAC9C,OAAO,EAAE,GAAG,EAAkB,MAAM,cAAc,CAAC;AAEnD,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,YAAY,CAAC;AAEpB,MAAM,CAAC,OAAO,OAAO,kBAAkB;WACvB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,CAAC,EACR,IAAI,EAAE,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC,GAC1B,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC;CAgBzB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4BG;AACH,oBAAY,oBAAoB,CAC9B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;AAEnD;;GAEG;AACH,oBAAY,aAAa,CACvB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/types.d.ts b/dist/browser/program/namespace/types.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..752c66dc97670ff7afc14430d551d6bb68269e9d
--- /dev/null
+++ b/dist/browser/program/namespace/types.d.ts
@@ -0,0 +1,152 @@
+/// <reference types="node" />
+import { PublicKey } from "@solana/web3.js";
+import BN from "bn.js";
+import { CamelCase } from "@juici/case";
+import { Idl } from "../../";
+import { IdlAccountDef, IdlEnumFields, IdlEnumFieldsNamed, IdlEnumFieldsTuple, IdlField, IdlInstruction, IdlType, IdlTypeDef, IdlTypeDefTyEnum, IdlTypeDefTyStruct } from "../../idl";
+import { Accounts, Context } from "../context";
+import { MethodsBuilder } from "./methods";
+/**
+ * All instructions for an IDL.
+ */
+export declare type AllInstructions<IDL extends Idl> = IDL["instructions"][number];
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export declare type InstructionMap<I extends IdlInstruction> = {
+    [K in I["name"]]: I & {
+        name: K;
+    };
+};
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export declare type AllInstructionsMap<IDL extends Idl> = InstructionMap<AllInstructions<IDL>>;
+/**
+ * All accounts for an IDL.
+ */
+export declare type AllAccounts<IDL extends Idl> = IDL["accounts"] extends IdlAccountDef[] ? IDL["accounts"][number] : IdlAccountDef;
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export declare type AccountMap<I extends IdlAccountDef> = {
+    [K in I["name"]]: I & {
+        name: K;
+    };
+};
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export declare type AllAccountsMap<IDL extends Idl> = AccountMap<AllAccounts<IDL>>;
+export declare type MakeInstructionsNamespace<IDL extends Idl, I extends IdlInstruction, Ret, Mk extends {
+    [M in keyof InstructionMap<I>]: unknown;
+} = {
+    [M in keyof InstructionMap<I>]: unknown;
+}> = {
+    [M in keyof InstructionMap<I>]: InstructionContextFn<IDL, InstructionMap<I>[M], Ret> & Mk[M];
+};
+export declare type MakeMethodsNamespace<IDL extends Idl, I extends IdlInstruction> = {
+    [M in keyof InstructionMap<I>]: MethodsFn<IDL, InstructionMap<I>[M], MethodsBuilder<IDL, InstructionMap<I>[M]>>;
+};
+export declare type InstructionContextFn<IDL extends Idl, I extends AllInstructions<IDL>, Ret> = (...args: InstructionContextFnArgs<IDL, I>) => Ret;
+export declare type InstructionContextFnArgs<IDL extends Idl, I extends IDL["instructions"][number]> = [
+    ...ArgsTuple<I["args"], IdlTypes<IDL>>,
+    Context<Accounts<I["accounts"][number]>>
+];
+export declare type InstructionAccountAddresses<IDL extends Idl, I extends AllInstructions<IDL>> = {
+    [N in keyof Accounts<I["accounts"][number]>]: PublicKey;
+};
+export declare type MethodsFn<IDL extends Idl, I extends IDL["instructions"][number], Ret> = (...args: ArgsTuple<I["args"], IdlTypes<IDL>>) => Ret;
+declare type TypeMap = {
+    publicKey: PublicKey;
+    bool: boolean;
+    string: string;
+    bytes: Buffer;
+} & {
+    [K in "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "f64"]: number;
+} & {
+    [K in "u64" | "i64" | "u128" | "i128"]: BN;
+};
+export declare type DecodeType<T extends IdlType, Defined> = T extends keyof TypeMap ? TypeMap[T] : T extends {
+    defined: keyof Defined;
+} ? Defined[T["defined"]] : T extends {
+    option: {
+        defined: keyof Defined;
+    };
+} ? Defined[T["option"]["defined"]] | null : T extends {
+    option: keyof TypeMap;
+} ? TypeMap[T["option"]] | null : T extends {
+    coption: {
+        defined: keyof Defined;
+    };
+} ? Defined[T["coption"]["defined"]] | null : T extends {
+    coption: keyof TypeMap;
+} ? TypeMap[T["coption"]] | null : T extends {
+    vec: keyof TypeMap;
+} ? TypeMap[T["vec"]][] : T extends {
+    vec: {
+        defined: keyof Defined;
+    };
+} ? Defined[T["vec"]["defined"]][] : T extends {
+    array: [defined: keyof TypeMap, size: number];
+} ? TypeMap[T["array"][0]][] : unknown;
+/**
+ * Tuple of arguments.
+ */
+declare type ArgsTuple<A extends IdlField[], Defined> = {
+    [K in keyof A]: A[K] extends IdlField ? DecodeType<A[K]["type"], Defined> : unknown;
+} & unknown[];
+/**
+ * Flatten { a: number, b: { c: string } } into number | string
+ */
+declare type UnboxToUnion<T> = T extends (infer U)[] ? UnboxToUnion<U> : T extends Record<string, never> ? "__empty_object__" : T extends Record<string, infer V> ? UnboxToUnion<V> : T;
+/**
+ * Decode a single enum field.
+ */
+declare type DecodeEnumField<F, Defined> = F extends IdlType ? DecodeType<F, Defined> : never;
+/**
+ * Decode enum variant: named or tuple.
+ */
+declare type DecodeEnumFields<F extends IdlEnumFields, Defined> = F extends IdlEnumFieldsNamed ? {
+    [F2 in F[number] as F2["name"]]: DecodeEnumField<F2["type"], Defined>;
+} : F extends IdlEnumFieldsTuple ? {
+    [F3 in keyof F as Exclude<F3, keyof unknown[]>]: DecodeEnumField<F[F3], Defined>;
+} : Record<never, never>;
+declare type DecodeEnumVariants<I extends IdlTypeDefTyEnum, Defined> = {
+    [V in I["variants"][number] as CamelCase<V["name"]>]: DecodeEnumFields<NonNullable<V["fields"]>, Defined>;
+};
+declare type ValueOf<T> = T[keyof T];
+declare type XorEnumVariants<T extends Record<string, unknown>> = ValueOf<{
+    [K1 in keyof T]: {
+        [K2 in Exclude<keyof T, K1>]?: never;
+    } & {
+        [K2 in K1]: T[K2];
+    };
+}>;
+declare type DecodeEnum<I extends IdlTypeDefTyEnum, Defined> = XorEnumVariants<DecodeEnumVariants<I, Defined>>;
+declare type DecodeStruct<I extends IdlTypeDefTyStruct, Defined> = {
+    [T in I["fields"][number] as T["name"]]: DecodeType<T["type"], Defined>;
+};
+export declare type TypeDef<I extends IdlTypeDef, Defined> = I["type"] extends IdlTypeDefTyEnum ? DecodeEnum<I["type"], Defined> : I["type"] extends IdlTypeDefTyStruct ? DecodeStruct<I["type"], Defined> : never;
+declare type TypeDefDictionary<I extends IdlTypeDef[], Defined> = {
+    [T in I[number] as T["name"]]: TypeDef<T, Defined>;
+};
+declare type DecodedHelper<T extends IdlTypeDef[], Defined> = {
+    [D in T[number] as D["name"]]: TypeDef<D, Defined>;
+};
+declare type UnknownType = "__unkown_defined_type__";
+declare type EmptyDefined = Record<UnknownType, never>;
+declare type RecursiveTypes4<I extends IdlTypeDef[], Defined = EmptyDefined> = DecodedHelper<I, Defined>;
+declare type RecursiveTypes3<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes4<I, DecodedHelper<I, Defined>> : Decoded;
+declare type RecursiveTypes2<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes3<I, DecodedHelper<I, Defined>> : Decoded;
+declare type RecursiveTypes<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes2<I, DecodedHelper<I, Defined>> : Decoded;
+export declare type IdlTypes<I extends Idl> = RecursiveTypes<NonNullable<I["types"]>>;
+export declare type IdlAccounts<I extends Idl> = TypeDefDictionary<NonNullable<I["accounts"]>, IdlTypes<I>>;
+export declare type IdlEvents<I extends Idl, Defined = IdlTypes<I>> = {
+    [E in NonNullable<I["events"]>[number] as E["name"]]: {
+        [F in E["fields"][number] as F["name"]]: DecodeType<F["type"], Defined>;
+    };
+};
+export declare type IdlErrorInfo<I extends Idl> = NonNullable<I["errors"]>[number];
+export {};
+//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/types.d.ts.map b/dist/browser/program/namespace/types.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..d6df8b5b255fe47e89a99aac3cba3ee6fdca8707
--- /dev/null
+++ b/dist/browser/program/namespace/types.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/types.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/program/namespace/views.d.ts b/dist/browser/program/namespace/views.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..835cc86cd424d810c47dccc5e1c4371c96aae5ba
--- /dev/null
+++ b/dist/browser/program/namespace/views.d.ts
@@ -0,0 +1,15 @@
+import { PublicKey } from "@solana/web3.js";
+import { Idl } from "../../idl.js";
+import { SimulateFn } from "./simulate.js";
+import { AllInstructions, InstructionContextFn, MakeInstructionsNamespace } from "./types";
+export default class ViewFactory {
+    static build<IDL extends Idl, I extends AllInstructions<IDL>>(programId: PublicKey, idlIx: AllInstructions<IDL>, simulateFn: SimulateFn<IDL>, idl: IDL): ViewFn<IDL, I> | undefined;
+}
+export declare type ViewNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<any>>;
+/**
+ * ViewFn is a single method generated from an IDL. It simulates a method
+ * against a cluster configured by the provider, and then parses the events
+ * and extracts return data from the raw logs emitted during the simulation.
+ */
+export declare type ViewFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Promise<any>>;
+//# sourceMappingURL=views.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/program/namespace/views.d.ts.map b/dist/browser/program/namespace/views.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..be64bcb8843875bbfeac23854c9a1c6e851126f1
--- /dev/null
+++ b/dist/browser/program/namespace/views.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"views.d.ts","sourceRoot":"","sources":["../../../src/program/namespace/views.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAc,MAAM,cAAc,CAAC;AAC/C,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAIjB,MAAM,CAAC,OAAO,OAAO,WAAW;WAChB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,UAAU,EAAE,UAAU,CAAC,GAAG,CAAC,EAC3B,GAAG,EAAE,GAAG,GACP,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS;CA2B9B;AAED,oBAAY,aAAa,CACvB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;AAEpD;;;;GAIG;AACH,oBAAY,MAAM,CAChB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/provider.d.ts b/dist/browser/provider.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..7cdbad0412f277206aa1c9c92f8e50f990802de9
--- /dev/null
+++ b/dist/browser/provider.d.ts
@@ -0,0 +1,91 @@
+import { Connection, Signer, PublicKey, Transaction, TransactionSignature, ConfirmOptions, Commitment, SendOptions } from "@solana/web3.js";
+import { SuccessfulTxSimulationResponse } from "./utils/simulate";
+export default interface Provider {
+    readonly connection: Connection;
+    readonly wallet: Wallet;
+    readonly publicKey: PublicKey;
+    send?(tx: Transaction, signers?: Signer[], opts?: SendOptions): Promise<TransactionSignature>;
+    sendAndConfirm?(tx: Transaction, signers?: Signer[], opts?: ConfirmOptions): Promise<TransactionSignature>;
+    sendAll?(txWithSigners: {
+        tx: Transaction;
+        signers?: Signer[];
+    }[], opts?: ConfirmOptions): Promise<Array<TransactionSignature>>;
+    simulate?(tx: Transaction, signers?: Signer[], commitment?: Commitment, includeAccounts?: boolean | PublicKey[]): Promise<SuccessfulTxSimulationResponse>;
+}
+/**
+ * The network and wallet context used to send transactions paid for and signed
+ * by the provider.
+ */
+export declare class AnchorProvider implements Provider {
+    readonly connection: Connection;
+    readonly wallet: Wallet;
+    readonly opts: ConfirmOptions;
+    readonly publicKey: PublicKey;
+    /**
+     * @param connection The cluster connection where the program is deployed.
+     * @param wallet     The wallet used to pay for and sign all transactions.
+     * @param opts       Transaction confirmation options to use by default.
+     */
+    constructor(connection: Connection, wallet: Wallet, opts: ConfirmOptions);
+    static defaultOptions(): ConfirmOptions;
+    /**
+     * Returns a `Provider` with a wallet read from the local filesystem.
+     *
+     * @param url  The network cluster url.
+     * @param opts The default transaction confirmation options.
+     *
+     * (This api is for Node only.)
+     */
+    static local(url?: string, opts?: ConfirmOptions): AnchorProvider;
+    /**
+     * Returns a `Provider` read from the `ANCHOR_PROVIDER_URL` environment
+     * variable
+     *
+     * (This api is for Node only.)
+     */
+    static env(): AnchorProvider;
+    /**
+     * Sends the given transaction, paid for and signed by the provider's wallet.
+     *
+     * @param tx      The transaction to send.
+     * @param signers The signers of the transaction.
+     * @param opts    Transaction confirmation options.
+     */
+    sendAndConfirm(tx: Transaction, signers?: Signer[], opts?: ConfirmOptions): Promise<TransactionSignature>;
+    /**
+     * Similar to `send`, but for an array of transactions and signers.
+     */
+    sendAll(txWithSigners: {
+        tx: Transaction;
+        signers?: Signer[];
+    }[], opts?: ConfirmOptions): Promise<Array<TransactionSignature>>;
+    /**
+     * Simulates the given transaction, returning emitted logs from execution.
+     *
+     * @param tx      The transaction to send.
+     * @param signers The signers of the transaction.
+     * @param opts    Transaction confirmation options.
+     */
+    simulate(tx: Transaction, signers?: Signer[], commitment?: Commitment, includeAccounts?: boolean | PublicKey[]): Promise<SuccessfulTxSimulationResponse>;
+}
+export declare type SendTxRequest = {
+    tx: Transaction;
+    signers: Array<Signer | undefined>;
+};
+/**
+ * Wallet interface for objects that can be used to sign provider transactions.
+ */
+export interface Wallet {
+    signTransaction(tx: Transaction): Promise<Transaction>;
+    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
+    publicKey: PublicKey;
+}
+/**
+ * Sets the default provider on the client.
+ */
+export declare function setProvider(provider: Provider): void;
+/**
+ * Returns the default provider being used by the client.
+ */
+export declare function getProvider(): Provider;
+//# sourceMappingURL=provider.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/provider.d.ts.map b/dist/browser/provider.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..a917d8898d52fe46c1835bd752b80eeb57ab86ea
--- /dev/null
+++ b/dist/browser/provider.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"provider.d.ts","sourceRoot":"","sources":["../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/spl/associated-token.d.ts b/dist/browser/spl/associated-token.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..510742c0f5d99f96dfe71d85beb01fa91efce3da
--- /dev/null
+++ b/dist/browser/spl/associated-token.d.ts
@@ -0,0 +1,64 @@
+import { Program } from "../program/index.js";
+import Provider from "../provider.js";
+import { SplAssociatedTokenCoder } from "../coder/spl-associated-token/index.js";
+export declare function program(provider?: Provider): Program<SplAssociatedToken>;
+export declare function coder(): SplAssociatedTokenCoder;
+/**
+ * SplAssociatedToken IDL.
+ */
+export declare type SplAssociatedToken = {
+    version: "0.1.0";
+    name: "spl_associated_token";
+    instructions: [
+        {
+            name: "create";
+            accounts: [
+                {
+                    name: "authority";
+                    isMut: true;
+                    isSigner: true;
+                },
+                {
+                    name: "associatedAccount";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "owner";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "systemProgram";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "tokenProgram";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        }
+    ];
+    errors: [
+        {
+            code: 0;
+            name: "InvalidOwner";
+            msg: "Associated token account owner does not match address derivation";
+        }
+    ];
+};
+export declare const IDL: SplAssociatedToken;
+//# sourceMappingURL=associated-token.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/spl/associated-token.d.ts.map b/dist/browser/spl/associated-token.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..57657f3df36c1713acd29faaaa398fa2f6221f7f
--- /dev/null
+++ b/dist/browser/spl/associated-token.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"associated-token.d.ts","sourceRoot":"","sources":["../../src/spl/associated-token.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAMjF,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAOxE;AAED,wBAAgB,KAAK,IAAI,uBAAuB,CAE/C;AAED;;GAEG;AACH,oBAAY,kBAAkB,GAAG;IAC/B,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,sBAAsB,CAAC;IAC7B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,IAAI,CAAC;iBAChB;gBACD;oBACE,IAAI,EAAE,mBAAmB,CAAC;oBAC1B,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC;oBACd,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;KACF,CAAC;IACF,MAAM,EAAE;QACN;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,cAAc,CAAC;YACrB,GAAG,EAAE,kEAAkE,CAAC;SACzE;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,kBAqDjB,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/spl/index.d.ts b/dist/browser/spl/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..90de68593b8ed87286f8eea3e80b7d3bceb5b288
--- /dev/null
+++ b/dist/browser/spl/index.d.ts
@@ -0,0 +1,9 @@
+import { Program, Provider } from "../index.js";
+import { SplAssociatedToken } from "./associated-token.js";
+import { SplToken } from "./token";
+export { SplToken } from "./token";
+export declare class Spl {
+    static token(provider?: Provider): Program<SplToken>;
+    static associatedToken(provider?: Provider): Program<SplAssociatedToken>;
+}
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/spl/index.d.ts.map b/dist/browser/spl/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..d7e62a6f574cd74ead2ade72811c79474d6ce31e
--- /dev/null
+++ b/dist/browser/spl/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/spl/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAEL,kBAAkB,EACnB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAA2B,QAAQ,EAAE,MAAM,SAAS,CAAC;AAE5D,OAAO,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAEnC,qBAAa,GAAG;WACA,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;WAI7C,eAAe,CAC3B,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,kBAAkB,CAAC;CAG/B"}
\ No newline at end of file
diff --git a/dist/browser/spl/token/idl.d.ts b/dist/browser/spl/token/idl.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..48e0b2323a1d634afa601c6917a9d8089841baa9
--- /dev/null
+++ b/dist/browser/spl/token/idl.d.ts
@@ -0,0 +1,711 @@
+/**
+ * SplToken IDL.
+ */
+export declare type SplToken = {
+    version: "0.1.0";
+    name: "spl_token";
+    instructions: [
+        {
+            name: "initializeMint";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "decimals";
+                    type: "u8";
+                },
+                {
+                    name: "mintAuthority";
+                    type: "publicKey";
+                },
+                {
+                    name: "freezeAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        },
+        {
+            name: "initializeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "initializeMultisig";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "m";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "transfer";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "approve";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "delegate";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "revoke";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "setAuthority";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "authorityType";
+                    type: "u8";
+                },
+                {
+                    name: "newAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        },
+        {
+            name: "mintTo";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "burn";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "closeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "freezeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "thawAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "transferChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "approveChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "delegate";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "mintToChecked";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "burnChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "initializeAccount2";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authority";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "syncNative";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "initializeAccount3";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authority";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "initializeMultisig2";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "m";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "initializeMint2";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "decimals";
+                    type: "u8";
+                },
+                {
+                    name: "mintAuthority";
+                    type: "publicKey";
+                },
+                {
+                    name: "freezeAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        }
+    ];
+    accounts: [
+        {
+            name: "mint";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "mintAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    },
+                    {
+                        name: "supply";
+                        type: "u64";
+                    },
+                    {
+                        name: "decimals";
+                        type: "u8";
+                    },
+                    {
+                        name: "isInitialized";
+                        type: "bool";
+                    },
+                    {
+                        name: "freezeAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    }
+                ];
+            };
+        },
+        {
+            name: "token";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "mint";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "authority";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "amount";
+                        type: "u64";
+                    },
+                    {
+                        name: "delegate";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    },
+                    {
+                        name: "state";
+                        type: "u8";
+                    },
+                    {
+                        name: "isNative";
+                        type: {
+                            coption: "u64";
+                        };
+                    },
+                    {
+                        name: "delegatedAmount";
+                        type: "u64";
+                    },
+                    {
+                        name: "closeAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    }
+                ];
+            };
+        }
+    ];
+    errors: [
+        {
+            code: 0;
+            name: "NotRentExempt";
+            msg: "Lamport balance below rent-exempt threshold";
+        },
+        {
+            code: 1;
+            name: "InsufficientFunds";
+            msg: "Insufficient funds";
+        },
+        {
+            code: 2;
+            name: "InvalidMint";
+            msg: "Invalid Mint";
+        },
+        {
+            code: 3;
+            name: "MintMismatch";
+            msg: "Account not associated with this Mint";
+        },
+        {
+            code: 4;
+            name: "OwnerMismatch";
+            msg: "Owner does not match";
+        },
+        {
+            code: 5;
+            name: "FixedSupply";
+            msg: "Fixed supply";
+        },
+        {
+            code: 6;
+            name: "AlreadyInUse";
+            msg: "Already in use";
+        },
+        {
+            code: 7;
+            name: "InvalidNumberOfProvidedSigners";
+            msg: "Invalid number of provided signers";
+        },
+        {
+            code: 8;
+            name: "InvalidNumberOfRequiredSigners";
+            msg: "Invalid number of required signers";
+        },
+        {
+            code: 9;
+            name: "UninitializedState";
+            msg: "State is unititialized";
+        },
+        {
+            code: 10;
+            name: "NativeNotSupported";
+            msg: "Instruction does not support native tokens";
+        },
+        {
+            code: 11;
+            name: "NonNativeHasBalance";
+            msg: "Non-native account can only be closed if its balance is zero";
+        },
+        {
+            code: 12;
+            name: "InvalidInstruction";
+            msg: "Invalid instruction";
+        },
+        {
+            code: 13;
+            name: "InvalidState";
+            msg: "State is invalid for requested operation";
+        },
+        {
+            code: 14;
+            name: "Overflow";
+            msg: "Operation overflowed";
+        },
+        {
+            code: 15;
+            name: "AuthorityTypeNotSupported";
+            msg: "Account does not support specified authority type";
+        },
+        {
+            code: 16;
+            name: "MintCannotFreeze";
+            msg: "This token mint cannot freeze accounts";
+        },
+        {
+            code: 17;
+            name: "AccountFrozen";
+            msg: "Account is frozen";
+        },
+        {
+            code: 18;
+            name: "MintDecimalsMismatch";
+            msg: "The provided decimals value different from the Mint decimals";
+        },
+        {
+            code: 19;
+            name: "NonNativeNotSupported";
+            msg: "Instruction does not support non-native tokens";
+        }
+    ];
+};
+export declare const IDL: SplToken;
+//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/spl/token/idl.d.ts.map b/dist/browser/spl/token/idl.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..60fbaf57da67b89e0dd54ab77511bf5bacf933fd
--- /dev/null
+++ b/dist/browser/spl/token/idl.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../src/spl/token/idl.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,oBAAY,QAAQ,GAAG;IACrB,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,WAAW,CAAC;IAClB,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,gBAAgB,CAAC;YACvB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC;iBACZ;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,IAAI,EAAE,WAAW,CAAC;iBACnB;gBACD;oBACE,IAAI,EAAE,iBAAiB,CAAC;oBACxB,IAAI,EAAE;wBACJ,OAAO,EAAE,WAAW,CAAC;qBACtB,CAAC;iBACH;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,mBAAmB,CAAC;YAC1B,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;QACD;YACE,IAAI,EAAE,oBAAoB,CAAC;YAC3B,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,GAAG,CAAC;oBACV,IAAI,EAAE,IAAI,CAAC;iBACZ;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,UAAU,CAAC;YACjB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,aAAa,CAAC;oBACpB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,SAAS,CAAC;YAChB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;QACD;YACE,IAAI,EAAE,cAAc,CAAC;YACrB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,IAAI,EAAE,IAAI,CAAC;iBACZ;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,IAAI,EAAE;wBACJ,OAAO,EAAE,WAAW,CAAC;qBACtB,CAAC;iBACH;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,IAAI,CAAC;oBACX,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,MAAM,CAAC;YACb,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,cAAc,CAAC;YACrB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,aAAa,CAAC;oBACpB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;QACD;YACE,IAAI,EAAE,eAAe,CAAC;YACtB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;QACD;YACE,IAAI,EAAE,aAAa,CAAC;YACpB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;QACD;YACE,IAAI,EAAE,iBAAiB,CAAC;YACxB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,aAAa,CAAC;oBACpB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;gBACD;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC;iBACZ;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,gBAAgB,CAAC;YACvB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;gBACD;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC;iBACZ;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,eAAe,CAAC;YACtB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,IAAI,CAAC;oBACX,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;gBACD;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC;iBACZ;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,aAAa,CAAC;YACpB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,IAAI,CAAC;iBAChB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,QAAQ,CAAC;oBACf,IAAI,EAAE,KAAK,CAAC;iBACb;gBACD;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC;iBACZ;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,oBAAoB,CAAC;YAC3B,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,IAAI,EAAE,WAAW,CAAC;iBACnB;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,YAAY,CAAC;YACnB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;QACD;YACE,IAAI,EAAE,oBAAoB,CAAC;YAC3B,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,IAAI,EAAE,WAAW,CAAC;iBACnB;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,qBAAqB,CAAC;YAC5B,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,SAAS,CAAC;oBAChB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,GAAG,CAAC;oBACV,IAAI,EAAE,IAAI,CAAC;iBACZ;aACF,CAAC;SACH;QACD;YACE,IAAI,EAAE,iBAAiB,CAAC;YACxB,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE;gBACJ;oBACE,IAAI,EAAE,UAAU,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC;iBACZ;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,IAAI,EAAE,WAAW,CAAC;iBACnB;gBACD;oBACE,IAAI,EAAE,iBAAiB,CAAC;oBACxB,IAAI,EAAE;wBACJ,OAAO,EAAE,WAAW,CAAC;qBACtB,CAAC;iBACH;aACF,CAAC;SACH;KACF,CAAC;IACF,QAAQ,EAAE;QACR;YACE,IAAI,EAAE,MAAM,CAAC;YACb,IAAI,EAAE;gBACJ,IAAI,EAAE,QAAQ,CAAC;gBACf,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,eAAe,CAAC;wBACtB,IAAI,EAAE;4BACJ,OAAO,EAAE,WAAW,CAAC;yBACtB,CAAC;qBACH;oBACD;wBACE,IAAI,EAAE,QAAQ,CAAC;wBACf,IAAI,EAAE,KAAK,CAAC;qBACb;oBACD;wBACE,IAAI,EAAE,UAAU,CAAC;wBACjB,IAAI,EAAE,IAAI,CAAC;qBACZ;oBACD;wBACE,IAAI,EAAE,eAAe,CAAC;wBACtB,IAAI,EAAE,MAAM,CAAC;qBACd;oBACD;wBACE,IAAI,EAAE,iBAAiB,CAAC;wBACxB,IAAI,EAAE;4BACJ,OAAO,EAAE,WAAW,CAAC;yBACtB,CAAC;qBACH;iBACF,CAAC;aACH,CAAC;SACH;QACD;YACE,IAAI,EAAE,OAAO,CAAC;YACd,IAAI,EAAE;gBACJ,IAAI,EAAE,QAAQ,CAAC;gBACf,MAAM,EAAE;oBACN;wBACE,IAAI,EAAE,MAAM,CAAC;wBACb,IAAI,EAAE,WAAW,CAAC;qBACnB;oBACD;wBACE,IAAI,EAAE,WAAW,CAAC;wBAClB,IAAI,EAAE,WAAW,CAAC;qBACnB;oBACD;wBACE,IAAI,EAAE,QAAQ,CAAC;wBACf,IAAI,EAAE,KAAK,CAAC;qBACb;oBACD;wBACE,IAAI,EAAE,UAAU,CAAC;wBACjB,IAAI,EAAE;4BACJ,OAAO,EAAE,WAAW,CAAC;yBACtB,CAAC;qBACH;oBACD;wBACE,IAAI,EAAE,OAAO,CAAC;wBACd,IAAI,EAAE,IAAI,CAAC;qBACZ;oBACD;wBACE,IAAI,EAAE,UAAU,CAAC;wBACjB,IAAI,EAAE;4BACJ,OAAO,EAAE,KAAK,CAAC;yBAChB,CAAC;qBACH;oBACD;wBACE,IAAI,EAAE,iBAAiB,CAAC;wBACxB,IAAI,EAAE,KAAK,CAAC;qBACb;oBACD;wBACE,IAAI,EAAE,gBAAgB,CAAC;wBACvB,IAAI,EAAE;4BACJ,OAAO,EAAE,WAAW,CAAC;yBACtB,CAAC;qBACH;iBACF,CAAC;aACH,CAAC;SACH;KACF,CAAC;IACF,MAAM,EAAE;QACN;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,eAAe,CAAC;YACtB,GAAG,EAAE,6CAA6C,CAAC;SACpD;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,mBAAmB,CAAC;YAC1B,GAAG,EAAE,oBAAoB,CAAC;SAC3B;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,aAAa,CAAC;YACpB,GAAG,EAAE,cAAc,CAAC;SACrB;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,cAAc,CAAC;YACrB,GAAG,EAAE,uCAAuC,CAAC;SAC9C;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,eAAe,CAAC;YACtB,GAAG,EAAE,sBAAsB,CAAC;SAC7B;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,aAAa,CAAC;YACpB,GAAG,EAAE,cAAc,CAAC;SACrB;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,cAAc,CAAC;YACrB,GAAG,EAAE,gBAAgB,CAAC;SACvB;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,gCAAgC,CAAC;YACvC,GAAG,EAAE,oCAAoC,CAAC;SAC3C;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,gCAAgC,CAAC;YACvC,GAAG,EAAE,oCAAoC,CAAC;SAC3C;QACD;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,oBAAoB,CAAC;YAC3B,GAAG,EAAE,wBAAwB,CAAC;SAC/B;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,oBAAoB,CAAC;YAC3B,GAAG,EAAE,4CAA4C,CAAC;SACnD;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,qBAAqB,CAAC;YAC5B,GAAG,EAAE,8DAA8D,CAAC;SACrE;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,oBAAoB,CAAC;YAC3B,GAAG,EAAE,qBAAqB,CAAC;SAC5B;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,cAAc,CAAC;YACrB,GAAG,EAAE,0CAA0C,CAAC;SACjD;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,UAAU,CAAC;YACjB,GAAG,EAAE,sBAAsB,CAAC;SAC7B;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,2BAA2B,CAAC;YAClC,GAAG,EAAE,mDAAmD,CAAC;SAC1D;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,kBAAkB,CAAC;YACzB,GAAG,EAAE,wCAAwC,CAAC;SAC/C;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,eAAe,CAAC;YACtB,GAAG,EAAE,mBAAmB,CAAC;SAC1B;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,sBAAsB,CAAC;YAC7B,GAAG,EAAE,8DAA8D,CAAC;SACrE;QACD;YACE,IAAI,EAAE,EAAE,CAAC;YACT,IAAI,EAAE,uBAAuB,CAAC;YAC9B,GAAG,EAAE,gDAAgD,CAAC;SACvD;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,QAisBjB,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/spl/token/index.d.ts b/dist/browser/spl/token/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b980883d7104c529a7db60b8438ccf62e0c07a52
--- /dev/null
+++ b/dist/browser/spl/token/index.d.ts
@@ -0,0 +1,8 @@
+import { Program } from "../../program/index.js";
+import Provider from "../../provider.js";
+import { SplTokenCoder } from "../../coder/spl-token/index.js";
+import { SplToken } from "./idl";
+export { IDL, SplToken } from "./idl";
+export declare function program(provider?: Provider): Program<SplToken>;
+export declare function coder(): SplTokenCoder;
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/spl/token/index.d.ts.map b/dist/browser/spl/token/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..ed74ff6dc33832bd56a9fce281108e0643a5f48d
--- /dev/null
+++ b/dist/browser/spl/token/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/spl/token/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAC;AACjD,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,gCAAgC,CAAC;AAE/D,OAAO,EAAO,QAAQ,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAMtC,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC,CAE9D;AAED,wBAAgB,KAAK,IAAI,aAAa,CAErC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/accounts.d.ts b/dist/browser/types/src/coder/borsh/accounts.d.ts
deleted file mode 100644
index e4face153c399b71d6e5d066299889432cae2524..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/accounts.d.ts
+++ /dev/null
@@ -1,34 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { Idl, IdlTypeDef } from "../../idl.js";
-import { AccountsCoder } from "../index.js";
-/**
- * Number of bytes of the account discriminator.
- */
-export declare const ACCOUNT_DISCRIMINATOR_SIZE = 8;
-/**
- * Encodes and decodes account objects.
- */
-export declare class BorshAccountsCoder<A extends string = string> implements AccountsCoder {
-    /**
-     * Maps account type identifier to a layout.
-     */
-    private accountLayouts;
-    /**
-     * IDL whose acconts will be coded.
-     */
-    private idl;
-    constructor(idl: Idl);
-    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
-    decode<T = any>(accountName: A, data: Buffer): T;
-    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
-    memcmp(accountName: A, appendData?: Buffer): any;
-    size(idlAccount: IdlTypeDef): number;
-    /**
-     * Calculates and returns a unique 8 byte discriminator prepended to all anchor accounts.
-     *
-     * @param name The name of the account to calculate the discriminator.
-     */
-    static accountDiscriminator(name: string): Buffer;
-}
-//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/accounts.d.ts.map b/dist/browser/types/src/coder/borsh/accounts.d.ts.map
deleted file mode 100644
index 3cbde67f6da03897532accc6001fbe9e7e97b05f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/accounts.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAG5C;;GAEG;AACH,eAAO,MAAM,0BAA0B,IAAI,CAAC;AAE5C;;GAEG;AACH,qBAAa,kBAAkB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACvD,YAAW,aAAa;IAExB;;OAEG;IACH,OAAO,CAAC,cAAc,CAAiB;IAEvC;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAad,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAYlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC;IAShD,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAUvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG;IAUhD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;IAM3C;;;;OAIG;WACW,oBAAoB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;CAKzD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/event.d.ts b/dist/browser/types/src/coder/borsh/event.d.ts
deleted file mode 100644
index a76e7d3e3830445d82ed3b7c21d3de1073311869..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/event.d.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { Idl, IdlEvent } from "../../idl.js";
-import { Event } from "../../program/event.js";
-import { EventCoder } from "../index.js";
-export declare class BorshEventCoder implements EventCoder {
-    /**
-     * Maps account type identifier to a layout.
-     */
-    private layouts;
-    /**
-     * Maps base64 encoded event discriminator to event name.
-     */
-    private discriminators;
-    constructor(idl: Idl);
-    decode<E extends IdlEvent = IdlEvent, T = Record<string, never>>(log: string): Event<E, T> | null;
-}
-export declare function eventDiscriminator(name: string): Buffer;
-//# sourceMappingURL=event.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/event.d.ts.map b/dist/browser/types/src/coder/borsh/event.d.ts.map
deleted file mode 100644
index d80e63071b9bb3a75ddccb00bb13c2947a010076..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/event.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAc,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,KAAK,EAAa,MAAM,wBAAwB,CAAC;AAE1D,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC,qBAAa,eAAgB,YAAW,UAAU;IAChD;;OAEG;IACH,OAAO,CAAC,OAAO,CAAsB;IAErC;;OAEG;IACH,OAAO,CAAC,cAAc,CAAsB;gBAEzB,GAAG,EAAE,GAAG;IA6BpB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,EACpE,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CA0BtB;AAED,wBAAgB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEvD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/idl.d.ts b/dist/browser/types/src/coder/borsh/idl.d.ts
deleted file mode 100644
index fe606f24bec5e6b0d737833f38565b43df77e79d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/idl.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { Layout } from "buffer-layout";
-import { IdlField, IdlTypeDef } from "../../idl.js";
-export declare class IdlCoder {
-    static fieldLayout(field: {
-        name?: string;
-    } & Pick<IdlField, "type">, types?: IdlTypeDef[]): Layout;
-    static typeDefLayout(typeDef: IdlTypeDef, types?: IdlTypeDef[], name?: string): Layout;
-}
-//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/idl.d.ts.map b/dist/browser/types/src/coder/borsh/idl.d.ts.map
deleted file mode 100644
index fa8edc04ebd0dec5bcd5dd592b83a34188f4502f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/idl.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEvC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAA2B,MAAM,cAAc,CAAC;AAG7E,qBAAa,QAAQ;WACL,WAAW,CACvB,KAAK,EAAE;QAAE,IAAI,CAAC,EAAE,MAAM,CAAA;KAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,EACjD,KAAK,CAAC,EAAE,UAAU,EAAE,GACnB,MAAM;WAwGK,aAAa,CACzB,OAAO,EAAE,UAAU,EACnB,KAAK,GAAE,UAAU,EAAO,EACxB,IAAI,CAAC,EAAE,MAAM,GACZ,MAAM;CAqCV"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/index.d.ts b/dist/browser/types/src/coder/borsh/index.d.ts
deleted file mode 100644
index 02dad4c411eeede4664b6a68cccfef2e497ce8cc..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/index.d.ts
+++ /dev/null
@@ -1,39 +0,0 @@
-import { Idl } from "../../idl.js";
-import { BorshInstructionCoder } from "./instruction.js";
-import { BorshAccountsCoder } from "./accounts.js";
-import { BorshEventCoder } from "./event.js";
-import { BorshStateCoder } from "./state.js";
-import { BorshTypesCoder } from "./types.js";
-import { Coder } from "../index.js";
-export { BorshInstructionCoder } from "./instruction.js";
-export { BorshAccountsCoder, ACCOUNT_DISCRIMINATOR_SIZE } from "./accounts.js";
-export { BorshEventCoder, eventDiscriminator } from "./event.js";
-export { BorshStateCoder, stateDiscriminator } from "./state.js";
-/**
- * BorshCoder is the default Coder for Anchor programs implementing the
- * borsh based serialization interface.
- */
-export declare class BorshCoder<A extends string = string, T extends string = string> implements Coder {
-    /**
-     * Instruction coder.
-     */
-    readonly instruction: BorshInstructionCoder;
-    /**
-     * Account coder.
-     */
-    readonly accounts: BorshAccountsCoder<A>;
-    /**
-     * Coder for state structs.
-     */
-    readonly state: BorshStateCoder;
-    /**
-     * Coder for events.
-     */
-    readonly events: BorshEventCoder;
-    /**
-     * Coder for user-defined types.
-     */
-    readonly types: BorshTypesCoder<T>;
-    constructor(idl: Idl);
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/index.d.ts.map b/dist/browser/types/src/coder/borsh/index.d.ts.map
deleted file mode 100644
index f6a7d1e2cb400e757963c1086099f77167f3b6e0..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,0BAA0B,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AACjE,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEjE;;;GAGG;AACH,qBAAa,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1E,YAAW,KAAK;IAEhB;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,qBAAqB,CAAC;IAE5C;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAEzC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC;IAEhC;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,eAAe,CAAC;IAEjC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;gBAEvB,GAAG,EAAE,GAAG;CASrB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/instruction.d.ts b/dist/browser/types/src/coder/borsh/instruction.d.ts
deleted file mode 100644
index 0a36a142a386d6d9c7bb711b9fa9e5aea43bcc44..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/instruction.d.ts
+++ /dev/null
@@ -1,59 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { AccountMeta, PublicKey } from "@solana/web3.js";
-import { Idl } from "../../idl.js";
-import { InstructionCoder } from "../index.js";
-/**
- * Namespace for state method function signatures.
- */
-export declare const SIGHASH_STATE_NAMESPACE = "state";
-/**
- * Namespace for global instruction function signatures (i.e. functions
- * that aren't namespaced by the state or any of its trait implementations).
- */
-export declare const SIGHASH_GLOBAL_NAMESPACE = "global";
-/**
- * Encodes and decodes program instructions.
- */
-export declare class BorshInstructionCoder implements InstructionCoder {
-    private idl;
-    private ixLayout;
-    private sighashLayouts;
-    constructor(idl: Idl);
-    /**
-     * Encodes a program instruction.
-     */
-    encode(ixName: string, ix: any): Buffer;
-    /**
-     * Encodes a program state instruction.
-     */
-    encodeState(ixName: string, ix: any): Buffer;
-    private _encode;
-    private static parseIxLayout;
-    /**
-     * Decodes a program instruction.
-     */
-    decode(ix: Buffer | string, encoding?: "hex" | "base58"): Instruction | null;
-    /**
-     * Returns a formatted table of all the fields in the given instruction data.
-     */
-    format(ix: Instruction, accountMetas: AccountMeta[]): InstructionDisplay | null;
-}
-export declare type Instruction = {
-    name: string;
-    data: Object;
-};
-export declare type InstructionDisplay = {
-    args: {
-        name: string;
-        type: string;
-        data: string;
-    }[];
-    accounts: {
-        name?: string;
-        pubkey: PublicKey;
-        isSigner: boolean;
-        isWritable: boolean;
-    }[];
-};
-//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/instruction.d.ts.map b/dist/browser/types/src/coder/borsh/instruction.d.ts.map
deleted file mode 100644
index ec4b9e711fb2600594f13aba5a0d707dce105f39..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/instruction.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAMhC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EACL,GAAG,EAYJ,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C;;GAEG;AACH,eAAO,MAAM,uBAAuB,UAAU,CAAC;AAC/C;;;GAGG;AACH,eAAO,MAAM,wBAAwB,WAAW,CAAC;AAEjD;;GAEG;AACH,qBAAa,qBAAsB,YAAW,gBAAgB;IAOzC,OAAO,CAAC,GAAG;IAL9B,OAAO,CAAC,QAAQ,CAAsB;IAGtC,OAAO,CAAC,cAAc,CAAgD;gBAE3C,GAAG,EAAE,GAAG;IAyBnC;;OAEG;IACI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAI9C;;OAEG;IACI,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAInD,OAAO,CAAC,OAAO;IAYf,OAAO,CAAC,MAAM,CAAC,aAAa;IA6B5B;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,MAAM,GAAG,MAAM,EACnB,QAAQ,GAAE,KAAK,GAAG,QAAgB,GACjC,WAAW,GAAG,IAAI;IAgBrB;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,WAAW,EACf,YAAY,EAAE,WAAW,EAAE,GAC1B,kBAAkB,GAAG,IAAI;CAG7B;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd,CAAC;AAEF,oBAAY,kBAAkB,GAAG;IAC/B,IAAI,EAAE;QAAE,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAA;KAAE,EAAE,CAAC;IACrD,QAAQ,EAAE;QACR,IAAI,CAAC,EAAE,MAAM,CAAC;QACd,MAAM,EAAE,SAAS,CAAC;QAClB,QAAQ,EAAE,OAAO,CAAC;QAClB,UAAU,EAAE,OAAO,CAAC;KACrB,EAAE,CAAC;CACL,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/state.d.ts b/dist/browser/types/src/coder/borsh/state.d.ts
deleted file mode 100644
index 3e1cb4b1f00dd44b911ba33c0c5b096f6544a108..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/state.d.ts
+++ /dev/null
@@ -1,11 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { Idl } from "../../idl.js";
-export declare class BorshStateCoder {
-    private layout;
-    constructor(idl: Idl);
-    encode<T = any>(name: string, account: T): Promise<Buffer>;
-    decode<T = any>(ix: Buffer): T;
-}
-export declare function stateDiscriminator(name: string): Promise<Buffer>;
-//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/state.d.ts.map b/dist/browser/types/src/coder/borsh/state.d.ts.map
deleted file mode 100644
index f4c9b0d3ffa939b195a79159b696428382c38862..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/state.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAInC,qBAAa,eAAe;IAC1B,OAAO,CAAC,MAAM,CAAS;gBAEJ,GAAG,EAAE,GAAG;IAOd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAUhE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;CAKtC;AAGD,wBAAsB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAGtE"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/types.d.ts b/dist/browser/types/src/coder/borsh/types.d.ts
deleted file mode 100644
index 0a09c326441770296acf873dd7cd942b2c5bebab..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/types.d.ts
+++ /dev/null
@@ -1,21 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { Idl } from "../../idl.js";
-import { TypesCoder } from "../index.js";
-/**
- * Encodes and decodes user-defined types.
- */
-export declare class BorshTypesCoder<N extends string = string> implements TypesCoder {
-    /**
-     * Maps type name to a layout.
-     */
-    private typeLayouts;
-    /**
-     * IDL whose types will be coded.
-     */
-    private idl;
-    constructor(idl: Idl);
-    encode<T = any>(typeName: N, type: T): Buffer;
-    decode<T = any>(typeName: N, typeData: Buffer): T;
-}
-//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/borsh/types.d.ts.map b/dist/browser/types/src/coder/borsh/types.d.ts.map
deleted file mode 100644
index 02d631a504d4b8b0393d5993aea74bec31ba19b7..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/borsh/types.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC;;GAEG;AACH,qBAAa,eAAe,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAAE,YAAW,UAAU;IAC3E;;OAEG;IACH,OAAO,CAAC,WAAW,CAAiB;IAEpC;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAapB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM;IAW7C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC;CAOzD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/common.d.ts b/dist/browser/types/src/coder/common.d.ts
deleted file mode 100644
index e4e6d62f6445d15ef33619a5413eebb14175873f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/common.d.ts
+++ /dev/null
@@ -1,3 +0,0 @@
-import { Idl, IdlTypeDef } from "../idl.js";
-export declare function accountSize(idl: Idl, idlAccount: IdlTypeDef): number;
-//# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/common.d.ts.map b/dist/browser/types/src/coder/common.d.ts.map
deleted file mode 100644
index 180fa94c32af973c09bbfd9df51aaa4884147696..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/common.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAY,UAAU,EAA2B,MAAM,WAAW,CAAC;AAG/E,wBAAgB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,GAAG,MAAM,CAyBpE"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/index.d.ts b/dist/browser/types/src/coder/index.d.ts
deleted file mode 100644
index 29e6e0f75b11a07b37cf685c94e3e659ae261d1b..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/index.d.ts
+++ /dev/null
@@ -1,54 +0,0 @@
-/// <reference types="node" />
-import { IdlEvent, IdlTypeDef } from "../idl.js";
-import { Event } from "../program/event.js";
-export * from "./borsh/index.js";
-export * from "./spl-token/index.js";
-export * from "./system/index.js";
-/**
- * Coder provides a facade for encoding and decoding all IDL related objects.
- */
-export interface Coder<A extends string = string, T extends string = string> {
-    /**
-     * Instruction coder.
-     */
-    readonly instruction: InstructionCoder;
-    /**
-     * Account coder.
-     */
-    readonly accounts: AccountsCoder<A>;
-    /**
-     * Coder for state structs.
-     */
-    readonly state: StateCoder;
-    /**
-     * Coder for events.
-     */
-    readonly events: EventCoder;
-    /**
-     * Coder for user-defined types.
-     */
-    readonly types: TypesCoder<T>;
-}
-export interface StateCoder {
-    encode<T = any>(name: string, account: T): Promise<Buffer>;
-    decode<T = any>(ix: Buffer): T;
-}
-export interface AccountsCoder<A extends string = string> {
-    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
-    decode<T = any>(accountName: A, ix: Buffer): T;
-    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
-    memcmp(accountName: A, appendData?: Buffer): any;
-    size(idlAccount: IdlTypeDef): number;
-}
-export interface InstructionCoder {
-    encode(ixName: string, ix: any): Buffer;
-    encodeState(ixName: string, ix: any): Buffer;
-}
-export interface EventCoder {
-    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(log: string): Event<E, T> | null;
-}
-export interface TypesCoder<N extends string = string> {
-    encode<T = any>(typeName: N, type: T): Buffer;
-    decode<T = any>(typeName: N, typeData: Buffer): T;
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/index.d.ts.map b/dist/browser/types/src/coder/index.d.ts.map
deleted file mode 100644
index 4228f59fc0f1406db49b0db46f584e1b973886a7..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/index.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAE5C,cAAc,kBAAkB,CAAC;AACjC,cAAc,sBAAsB,CAAC;AACrC,cAAc,mBAAmB,CAAC;AAElC;;GAEG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM;IACzE;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC;IAEvC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;IAEpC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC;IAE3B;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC;IAE5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;CAC/B;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,aAAa,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACtD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IAC/C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IACxD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM,CAAC;CACtC;AAED,MAAM,WAAW,gBAAgB;IAC/B,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;IACxC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;CAC9C;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;CACvB;AAED,MAAM,WAAW,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACnD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC;IAC9C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;CACnD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/accounts.d.ts b/dist/browser/types/src/coder/spl-associated-token/accounts.d.ts
deleted file mode 100644
index ee5fef19537012769dde3d9efb547af58dc0ba2d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/accounts.d.ts
+++ /dev/null
@@ -1,13 +0,0 @@
-/// <reference types="node" />
-import { AccountsCoder } from "../index.js";
-import { Idl, IdlTypeDef } from "../../idl.js";
-export declare class SplAssociatedTokenAccountsCoder<A extends string = string> implements AccountsCoder {
-    private idl;
-    constructor(idl: Idl);
-    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
-    decode<T = any>(accountName: A, ix: Buffer): T;
-    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
-    memcmp(accountName: A, _appendData?: Buffer): any;
-    size(idlAccount: IdlTypeDef): number;
-}
-//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/accounts.d.ts.map b/dist/browser/types/src/coder/spl-associated-token/accounts.d.ts.map
deleted file mode 100644
index 56fbe74bc8d7620da5360a087015ff618b30a90f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/accounts.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,+BAA+B,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACpE,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAQlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IASvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAQjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/events.d.ts b/dist/browser/types/src/coder/spl-associated-token/events.d.ts
deleted file mode 100644
index 3ff9bad920f4e8c89c3bfd61bc27732b2a5222be..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/events.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { EventCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-import { Event } from "../../program/event";
-import { IdlEvent } from "../../idl";
-export declare class SplAssociatedTokenEventsCoder implements EventCoder {
-    constructor(_idl: Idl);
-    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(_log: string): Event<E, T> | null;
-}
-//# sourceMappingURL=events.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/events.d.ts.map b/dist/browser/types/src/coder/spl-associated-token/events.d.ts.map
deleted file mode 100644
index 43788e91d304e301a58dd1c34375a686328cc799..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/events.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"events.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/events.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAErC,qBAAa,6BAA8B,YAAW,UAAU;gBAClD,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,IAAI,EAAE,MAAM,GACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CAGtB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/index.d.ts b/dist/browser/types/src/coder/spl-associated-token/index.d.ts
deleted file mode 100644
index b970a61e01da52c65e5fa6ca11972f1f57d88e3d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/index.d.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-import { Idl } from "../../idl.js";
-import { Coder } from "../index.js";
-import { SplAssociatedTokenInstructionCoder } from "./instruction.js";
-import { SplAssociatedTokenStateCoder } from "./state.js";
-import { SplAssociatedTokenAccountsCoder } from "./accounts.js";
-import { SplAssociatedTokenEventsCoder } from "./events.js";
-import { SplAssociatedTokenTypesCoder } from "./types.js";
-/**
- * Coder for the SPL token program.
- */
-export declare class SplAssociatedTokenCoder implements Coder {
-    readonly instruction: SplAssociatedTokenInstructionCoder;
-    readonly accounts: SplAssociatedTokenAccountsCoder;
-    readonly state: SplAssociatedTokenStateCoder;
-    readonly events: SplAssociatedTokenEventsCoder;
-    readonly types: SplAssociatedTokenTypesCoder;
-    constructor(idl: Idl);
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/index.d.ts.map b/dist/browser/types/src/coder/spl-associated-token/index.d.ts.map
deleted file mode 100644
index defd6c1dae59a2ab7b090aec47531dade413d63f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAE,kCAAkC,EAAE,MAAM,kBAAkB,CAAC;AACtE,OAAO,EAAE,4BAA4B,EAAE,MAAM,YAAY,CAAC;AAC1D,OAAO,EAAE,+BAA+B,EAAE,MAAM,eAAe,CAAC;AAChE,OAAO,EAAE,6BAA6B,EAAE,MAAM,aAAa,CAAC;AAC5D,OAAO,EAAE,4BAA4B,EAAE,MAAM,YAAY,CAAC;AAE1D;;GAEG;AACH,qBAAa,uBAAwB,YAAW,KAAK;IACnD,QAAQ,CAAC,WAAW,EAAE,kCAAkC,CAAC;IACzD,QAAQ,CAAC,QAAQ,EAAE,+BAA+B,CAAC;IACnD,QAAQ,CAAC,KAAK,EAAE,4BAA4B,CAAC;IAC7C,QAAQ,CAAC,MAAM,EAAE,6BAA6B,CAAC;IAC/C,QAAQ,CAAC,KAAK,EAAE,4BAA4B,CAAC;gBAEjC,GAAG,EAAE,GAAG;CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/instruction.d.ts b/dist/browser/types/src/coder/spl-associated-token/instruction.d.ts
deleted file mode 100644
index 41064e297d2bdd450101fe151f1834e204efdae0..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/instruction.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { Idl } from "../../idl.js";
-import { InstructionCoder } from "../index.js";
-export declare class SplAssociatedTokenInstructionCoder implements InstructionCoder {
-    constructor(_: Idl);
-    encode(ixName: string, _: any): Buffer;
-    encodeState(_ixName: string, _ix: any): Buffer;
-}
-//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/instruction.d.ts.map b/dist/browser/types/src/coder/spl-associated-token/instruction.d.ts.map
deleted file mode 100644
index fbb5766167b6b47963020a910a7ee56833b3bca6..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/instruction.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/instruction.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C,qBAAa,kCAAmC,YAAW,gBAAgB;gBAC7D,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,CAAC,EAAE,GAAG,GAAG,MAAM;IAWtC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/state.d.ts b/dist/browser/types/src/coder/spl-associated-token/state.d.ts
deleted file mode 100644
index a50f68a9ed8f33d8d7f1408da18519380dc31ea2..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/state.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { StateCoder } from "../index.js";
-import { Idl } from "../../idl";
-export declare class SplAssociatedTokenStateCoder implements StateCoder {
-    constructor(_idl: Idl);
-    encode<T = any>(_name: string, _account: T): Promise<Buffer>;
-    decode<T = any>(_ix: Buffer): T;
-}
-//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/state.d.ts.map b/dist/browser/types/src/coder/spl-associated-token/state.d.ts.map
deleted file mode 100644
index 5e5ec7b8e6a3b33f99c573124163955a01858fdf..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/state.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAEhC,qBAAa,4BAA6B,YAAW,UAAU;gBACjD,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAG5D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,MAAM,GAAG,CAAC;CAGhC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/types.d.ts b/dist/browser/types/src/coder/spl-associated-token/types.d.ts
deleted file mode 100644
index 007771c700be42864fb44478e98497dc6c3191de..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/types.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { TypesCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-export declare class SplAssociatedTokenTypesCoder implements TypesCoder {
-    constructor(_idl: Idl);
-    encode<T = any>(_name: string, _type: T): Buffer;
-    decode<T = any>(_name: string, _typeData: Buffer): T;
-}
-//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-associated-token/types.d.ts.map b/dist/browser/types/src/coder/spl-associated-token/types.d.ts.map
deleted file mode 100644
index fbc6fe9a0ab2a2b0b00ee10bffcdbf59d13e9331..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-associated-token/types.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,4BAA6B,YAAW,UAAU;gBACjD,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,MAAM;IAGhD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC;CAGrD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/accounts.d.ts b/dist/browser/types/src/coder/spl-token/accounts.d.ts
deleted file mode 100644
index 651e825adf104d731aa4b63368a13638994fe867..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/accounts.d.ts
+++ /dev/null
@@ -1,13 +0,0 @@
-/// <reference types="node" />
-import { AccountsCoder } from "../index.js";
-import { Idl, IdlTypeDef } from "../../idl.js";
-export declare class SplTokenAccountsCoder<A extends string = string> implements AccountsCoder {
-    private idl;
-    constructor(idl: Idl);
-    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
-    decode<T = any>(accountName: A, ix: Buffer): T;
-    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
-    memcmp(accountName: A, _appendData?: Buffer): any;
-    size(idlAccount: IdlTypeDef): number;
-}
-//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/accounts.d.ts.map b/dist/browser/types/src/coder/spl-token/accounts.d.ts.map
deleted file mode 100644
index 1939b6ac486c152e5f933fc6b21a7aac3f364e9e..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/accounts.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,qBAAqB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1D,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAkBlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAevD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAkBjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/buffer-layout.d.ts b/dist/browser/types/src/coder/spl-token/buffer-layout.d.ts
deleted file mode 100644
index c20a4909b0b64a11fd5932b7cb594b83c6e23928..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/buffer-layout.d.ts
+++ /dev/null
@@ -1,27 +0,0 @@
-/// <reference types="node" />
-import BN from "bn.js";
-import { Layout } from "buffer-layout";
-import { PublicKey } from "@solana/web3.js";
-export declare function uint64(property?: string): Layout<u64 | null>;
-export declare function bool(property?: string): Layout<boolean>;
-export declare function publicKey(property?: string): Layout<PublicKey>;
-export declare function coption<T>(layout: Layout<T>, property?: string): Layout<T | null>;
-export declare class COptionLayout<T> extends Layout<T | null> {
-    layout: Layout<T>;
-    discriminator: Layout<number>;
-    constructor(layout: Layout<T>, property?: string);
-    encode(src: T | null, b: Buffer, offset?: number): number;
-    decode(b: Buffer, offset?: number): T | null;
-    getSpan(b: Buffer, offset?: number): number;
-}
-export declare class u64 extends BN {
-    /**
-     * Convert to Buffer representation
-     */
-    toBuffer(): Buffer;
-    /**
-     * Construct a u64 from Buffer representation
-     */
-    static fromBuffer(buffer: Buffer): u64;
-}
-//# sourceMappingURL=buffer-layout.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/buffer-layout.d.ts.map b/dist/browser/types/src/coder/spl-token/buffer-layout.d.ts.map
deleted file mode 100644
index 818c845cb85c3fc0c8de86cd15c02286c2bcd740..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/buffer-layout.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"buffer-layout.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvB,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,wBAAgB,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,CAO5D;AAED,wBAAgB,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAEvD;AAED,wBAAgB,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAO9D;AAED,wBAAgB,OAAO,CAAC,CAAC,EACvB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EACjB,QAAQ,CAAC,EAAE,MAAM,GAChB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAElB;AAgCD,qBAAa,aAAa,CAAC,CAAC,CAAE,SAAQ,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IACpD,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAClB,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM;IAMhD,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;IAQpD,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,CAAC,GAAG,IAAI;IAUvC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;CAGvC;AAeD,qBAAa,GAAI,SAAQ,EAAE;IACzB;;OAEG;IACH,QAAQ,IAAI,MAAM;IAelB;;OAEG;IACH,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,GAAG;CAYvC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/events.d.ts b/dist/browser/types/src/coder/spl-token/events.d.ts
deleted file mode 100644
index 9a862790acaaaa51d9553b45f384e2f447834175..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/events.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { EventCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-import { Event } from "../../program/event";
-import { IdlEvent } from "../../idl";
-export declare class SplTokenEventsCoder implements EventCoder {
-    constructor(_idl: Idl);
-    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(_log: string): Event<E, T> | null;
-}
-//# sourceMappingURL=events.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/events.d.ts.map b/dist/browser/types/src/coder/spl-token/events.d.ts.map
deleted file mode 100644
index b599ccbcfcc53983542f43d81190cfb79092f092..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/events.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"events.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/events.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAErC,qBAAa,mBAAoB,YAAW,UAAU;gBACxC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,IAAI,EAAE,MAAM,GACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CAGtB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/index.d.ts b/dist/browser/types/src/coder/spl-token/index.d.ts
deleted file mode 100644
index e96df49422f0f9be95d68be02703557bfc8d0cf8..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/index.d.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-import { Idl } from "../../idl.js";
-import { Coder } from "../index.js";
-import { SplTokenInstructionCoder } from "./instruction.js";
-import { SplTokenStateCoder } from "./state.js";
-import { SplTokenAccountsCoder } from "./accounts.js";
-import { SplTokenEventsCoder } from "./events.js";
-import { SplTokenTypesCoder } from "./types.js";
-/**
- * Coder for the SPL token program.
- */
-export declare class SplTokenCoder implements Coder {
-    readonly instruction: SplTokenInstructionCoder;
-    readonly accounts: SplTokenAccountsCoder;
-    readonly state: SplTokenStateCoder;
-    readonly events: SplTokenEventsCoder;
-    readonly types: SplTokenTypesCoder;
-    constructor(idl: Idl);
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/index.d.ts.map b/dist/browser/types/src/coder/spl-token/index.d.ts.map
deleted file mode 100644
index f496698d70abd7af48fb4372cfaffe852822ef75..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAE,wBAAwB,EAAE,MAAM,kBAAkB,CAAC;AAC5D,OAAO,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAChD,OAAO,EAAE,qBAAqB,EAAE,MAAM,eAAe,CAAC;AACtD,OAAO,EAAE,mBAAmB,EAAE,MAAM,aAAa,CAAC;AAClD,OAAO,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEhD;;GAEG;AACH,qBAAa,aAAc,YAAW,KAAK;IACzC,QAAQ,CAAC,WAAW,EAAE,wBAAwB,CAAC;IAC/C,QAAQ,CAAC,QAAQ,EAAE,qBAAqB,CAAC;IACzC,QAAQ,CAAC,KAAK,EAAE,kBAAkB,CAAC;IACnC,QAAQ,CAAC,MAAM,EAAE,mBAAmB,CAAC;IACrC,QAAQ,CAAC,KAAK,EAAE,kBAAkB,CAAC;gBAEvB,GAAG,EAAE,GAAG;CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/instruction.d.ts b/dist/browser/types/src/coder/spl-token/instruction.d.ts
deleted file mode 100644
index 7c5f951603c90d6e07996cded8abf995ff590654..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/instruction.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { InstructionCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-export declare class SplTokenInstructionCoder implements InstructionCoder {
-    constructor(_: Idl);
-    encode(ixName: string, ix: any): Buffer;
-    encodeState(_ixName: string, _ix: any): Buffer;
-}
-//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/instruction.d.ts.map b/dist/browser/types/src/coder/spl-token/instruction.d.ts.map
deleted file mode 100644
index 9521286f89c14933296101a0102b1ace5edd4b25..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/instruction.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,wBAAyB,YAAW,gBAAgB;gBACnD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAuEvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/state.d.ts b/dist/browser/types/src/coder/spl-token/state.d.ts
deleted file mode 100644
index 2aba1fa6d2fed49229cd344e951ec53d5822cd96..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/state.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { StateCoder } from "../index.js";
-import { Idl } from "../../idl";
-export declare class SplTokenStateCoder implements StateCoder {
-    constructor(_idl: Idl);
-    encode<T = any>(_name: string, _account: T): Promise<Buffer>;
-    decode<T = any>(_ix: Buffer): T;
-}
-//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/state.d.ts.map b/dist/browser/types/src/coder/spl-token/state.d.ts.map
deleted file mode 100644
index 2f91fd32f457864ef11f8175026d0dcb7af3a0b4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/state.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAEhC,qBAAa,kBAAmB,YAAW,UAAU;gBACvC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAG5D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,MAAM,GAAG,CAAC;CAGhC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/types.d.ts b/dist/browser/types/src/coder/spl-token/types.d.ts
deleted file mode 100644
index 75c7c3c1ef7a37289ae6c5e472fcd6218048c6aa..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/types.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { TypesCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-export declare class SplTokenTypesCoder implements TypesCoder {
-    constructor(_idl: Idl);
-    encode<T = any>(_name: string, _type: T): Buffer;
-    decode<T = any>(_name: string, _typeData: Buffer): T;
-}
-//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/spl-token/types.d.ts.map b/dist/browser/types/src/coder/spl-token/types.d.ts.map
deleted file mode 100644
index 1214aa4db416fc9ed62f5def9b19231ee2ab0e09..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/spl-token/types.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,kBAAmB,YAAW,UAAU;gBACvC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,MAAM;IAGhD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC;CAGrD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/accounts.d.ts b/dist/browser/types/src/coder/system/accounts.d.ts
deleted file mode 100644
index 1265aa72655eeec47b1f6895c9cf979506d54f82..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/accounts.d.ts
+++ /dev/null
@@ -1,13 +0,0 @@
-/// <reference types="node" />
-import { AccountsCoder } from "../index.js";
-import { Idl, IdlTypeDef } from "../../idl.js";
-export declare class SystemAccountsCoder<A extends string = string> implements AccountsCoder {
-    private idl;
-    constructor(idl: Idl);
-    encode<T = any>(accountName: A, account: T): Promise<Buffer>;
-    decode<T = any>(accountName: A, ix: Buffer): T;
-    decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
-    memcmp(accountName: A, _appendData?: Buffer): any;
-    size(idlAccount: IdlTypeDef): number;
-}
-//# sourceMappingURL=accounts.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/accounts.d.ts.map b/dist/browser/types/src/coder/system/accounts.d.ts.map
deleted file mode 100644
index 675249c7b99d8fa1542bf2f2a459549a91f0bc5d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/accounts.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAK/C,qBAAa,mBAAmB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACxD,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAalE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAYvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAajD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/events.d.ts b/dist/browser/types/src/coder/system/events.d.ts
deleted file mode 100644
index f171db3039b4e3b6b32c6ad1ed3dcf571006f7b9..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/events.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { EventCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-import { Event } from "../../program/event";
-import { IdlEvent } from "../../idl";
-export declare class SystemEventsCoder implements EventCoder {
-    constructor(_idl: Idl);
-    decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(_log: string): Event<E, T> | null;
-}
-//# sourceMappingURL=events.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/events.d.ts.map b/dist/browser/types/src/coder/system/events.d.ts.map
deleted file mode 100644
index 90ae0d7fcac65314bd699fbc7bf055c3bd06b111..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/events.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"events.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/events.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAC5C,OAAO,EAAE,QAAQ,EAAE,MAAM,WAAW,CAAC;AAErC,qBAAa,iBAAkB,YAAW,UAAU;gBACtC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,IAAI,EAAE,MAAM,GACX,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CAGtB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/index.d.ts b/dist/browser/types/src/coder/system/index.d.ts
deleted file mode 100644
index 20f04b4e8098ac198f6050a3becba327b471a61d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/index.d.ts
+++ /dev/null
@@ -1,19 +0,0 @@
-import { Idl } from "../../idl.js";
-import { Coder } from "../index.js";
-import { SystemInstructionCoder } from "./instruction.js";
-import { SystemStateCoder } from "./state.js";
-import { SystemAccountsCoder } from "./accounts.js";
-import { SystemEventsCoder } from "./events.js";
-import { SystemTypesCoder } from "./types.js";
-/**
- * Coder for the System program.
- */
-export declare class SystemCoder implements Coder {
-    readonly instruction: SystemInstructionCoder;
-    readonly accounts: SystemAccountsCoder;
-    readonly state: SystemStateCoder;
-    readonly events: SystemEventsCoder;
-    readonly types: SystemTypesCoder;
-    constructor(idl: Idl);
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/index.d.ts.map b/dist/browser/types/src/coder/system/index.d.ts.map
deleted file mode 100644
index b0525cf4bb6bfbd75b17005c9462d4cd5407f525..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AACpC,OAAO,EAAE,sBAAsB,EAAE,MAAM,kBAAkB,CAAC;AAC1D,OAAO,EAAE,gBAAgB,EAAE,MAAM,YAAY,CAAC;AAC9C,OAAO,EAAE,mBAAmB,EAAE,MAAM,eAAe,CAAC;AACpD,OAAO,EAAE,iBAAiB,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAAE,gBAAgB,EAAE,MAAM,YAAY,CAAC;AAE9C;;GAEG;AACH,qBAAa,WAAY,YAAW,KAAK;IACvC,QAAQ,CAAC,WAAW,EAAE,sBAAsB,CAAC;IAC7C,QAAQ,CAAC,QAAQ,EAAE,mBAAmB,CAAC;IACvC,QAAQ,CAAC,KAAK,EAAE,gBAAgB,CAAC;IACjC,QAAQ,CAAC,MAAM,EAAE,iBAAiB,CAAC;IACnC,QAAQ,CAAC,KAAK,EAAE,gBAAgB,CAAC;gBAErB,GAAG,EAAE,GAAG;CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/instruction.d.ts b/dist/browser/types/src/coder/system/instruction.d.ts
deleted file mode 100644
index e57e332afd81c3891687b912e5ba02242ce9ce3d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/instruction.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { Idl } from "../../idl.js";
-import { InstructionCoder } from "../index.js";
-export declare class SystemInstructionCoder implements InstructionCoder {
-    constructor(_: Idl);
-    encode(ixName: string, ix: any): Buffer;
-    encodeState(_ixName: string, _ix: any): Buffer;
-}
-//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/instruction.d.ts.map b/dist/browser/types/src/coder/system/instruction.d.ts.map
deleted file mode 100644
index 983fc74eacbf6353f79c3d97f245137740b25f5d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/instruction.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C,qBAAa,sBAAuB,YAAW,gBAAgB;gBAEjD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IA4CvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/state.d.ts b/dist/browser/types/src/coder/system/state.d.ts
deleted file mode 100644
index 64c0b293449848003d25f41c55dbe31948928b14..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/state.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { StateCoder } from "../index.js";
-import { Idl } from "../../idl";
-export declare class SystemStateCoder implements StateCoder {
-    constructor(_idl: Idl);
-    encode<T = any>(_name: string, _account: T): Promise<Buffer>;
-    decode<T = any>(_ix: Buffer): T;
-}
-//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/state.d.ts.map b/dist/browser/types/src/coder/system/state.d.ts.map
deleted file mode 100644
index 9f6f39d44e898c9e6cf1a6a75157983c323805b4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/state.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,WAAW,CAAC;AAEhC,qBAAa,gBAAiB,YAAW,UAAU;gBAErC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAG5D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,GAAG,EAAE,MAAM,GAAG,CAAC;CAGhC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/types.d.ts b/dist/browser/types/src/coder/system/types.d.ts
deleted file mode 100644
index 26b129ee81f5993625f827edcffe43531eeb0fef..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/types.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { TypesCoder } from "../index.js";
-import { Idl } from "../../idl.js";
-export declare class SystemTypesCoder implements TypesCoder {
-    constructor(_idl: Idl);
-    encode<T = any>(_name: string, _type: T): Buffer;
-    decode<T = any>(_name: string, _typeData: Buffer): T;
-}
-//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/coder/system/types.d.ts.map b/dist/browser/types/src/coder/system/types.d.ts.map
deleted file mode 100644
index d697b84e8b7e2bbae9a701914fce208552c184f3..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/coder/system/types.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,gBAAiB,YAAW,UAAU;gBACrC,IAAI,EAAE,GAAG;IAErB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,CAAC,GAAG,MAAM;IAGhD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,KAAK,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,GAAG,CAAC;CAGrD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/error.d.ts b/dist/browser/types/src/error.d.ts
deleted file mode 100644
index 0d23b7ebbc7f6ab15768f659114fc4ef5c518342..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/error.d.ts
+++ /dev/null
@@ -1,108 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-export declare class IdlError extends Error {
-    constructor(message: string);
-}
-interface ErrorCode {
-    code: string;
-    number: number;
-}
-interface FileLine {
-    file: string;
-    line: number;
-}
-declare type Origin = string | FileLine;
-declare type ComparedAccountNames = [string, string];
-declare type ComparedPublicKeys = [PublicKey, PublicKey];
-declare type ComparedValues = ComparedAccountNames | ComparedPublicKeys;
-export declare class ProgramErrorStack {
-    readonly stack: PublicKey[];
-    constructor(stack: PublicKey[]);
-    static parse(logs: string[]): ProgramErrorStack;
-}
-export declare class AnchorError extends Error {
-    readonly errorLogs: string[];
-    readonly logs: string[];
-    readonly error: {
-        errorCode: ErrorCode;
-        errorMessage: string;
-        comparedValues?: ComparedValues;
-        origin?: Origin;
-    };
-    private readonly _programErrorStack;
-    constructor(errorCode: ErrorCode, errorMessage: string, errorLogs: string[], logs: string[], origin?: Origin, comparedValues?: ComparedValues);
-    static parse(logs: string[]): AnchorError | null;
-    get program(): PublicKey;
-    get programErrorStack(): PublicKey[];
-    toString(): string;
-}
-export declare class ProgramError extends Error {
-    readonly code: number;
-    readonly msg: string;
-    readonly logs?: string[] | undefined;
-    private readonly _programErrorStack?;
-    constructor(code: number, msg: string, logs?: string[] | undefined);
-    static parse(err: any, idlErrors: Map<number, string>): ProgramError | null;
-    get program(): PublicKey | undefined;
-    get programErrorStack(): PublicKey[] | undefined;
-    toString(): string;
-}
-export declare function translateError(err: any, idlErrors: Map<number, string>): any;
-export declare const LangErrorCode: {
-    InstructionMissing: number;
-    InstructionFallbackNotFound: number;
-    InstructionDidNotDeserialize: number;
-    InstructionDidNotSerialize: number;
-    IdlInstructionStub: number;
-    IdlInstructionInvalidProgram: number;
-    ConstraintMut: number;
-    ConstraintHasOne: number;
-    ConstraintSigner: number;
-    ConstraintRaw: number;
-    ConstraintOwner: number;
-    ConstraintRentExempt: number;
-    ConstraintSeeds: number;
-    ConstraintExecutable: number;
-    ConstraintState: number;
-    ConstraintAssociated: number;
-    ConstraintAssociatedInit: number;
-    ConstraintClose: number;
-    ConstraintAddress: number;
-    ConstraintZero: number;
-    ConstraintTokenMint: number;
-    ConstraintTokenOwner: number;
-    ConstraintMintMintAuthority: number;
-    ConstraintMintFreezeAuthority: number;
-    ConstraintMintDecimals: number;
-    ConstraintSpace: number;
-    RequireViolated: number;
-    RequireEqViolated: number;
-    RequireKeysEqViolated: number;
-    RequireNeqViolated: number;
-    RequireKeysNeqViolated: number;
-    RequireGtViolated: number;
-    RequireGteViolated: number;
-    AccountDiscriminatorAlreadySet: number;
-    AccountDiscriminatorNotFound: number;
-    AccountDiscriminatorMismatch: number;
-    AccountDidNotDeserialize: number;
-    AccountDidNotSerialize: number;
-    AccountNotEnoughKeys: number;
-    AccountNotMutable: number;
-    AccountOwnedByWrongProgram: number;
-    InvalidProgramId: number;
-    InvalidProgramExecutable: number;
-    AccountNotSigner: number;
-    AccountNotSystemOwned: number;
-    AccountNotInitialized: number;
-    AccountNotProgramData: number;
-    AccountNotAssociatedTokenAccount: number;
-    AccountSysvarMismatch: number;
-    AccountReallocExceedsLimit: number;
-    AccountDuplicateReallocs: number;
-    StateInvalidAddress: number;
-    DeclaredProgramIdMismatch: number;
-    Deprecated: number;
-};
-export declare const LangErrorMessage: Map<number, string>;
-export {};
-//# sourceMappingURL=error.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/error.d.ts.map b/dist/browser/types/src/error.d.ts.map
deleted file mode 100644
index dda1abc95abe720ddbff089576d575ba875ac1e0..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/error.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"error.d.ts","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAG5C,qBAAa,QAAS,SAAQ,KAAK;gBACrB,OAAO,EAAE,MAAM;CAI5B;AAED,UAAU,SAAS;IACjB,IAAI,EAAE,MAAM,CAAC;IACb,MAAM,EAAE,MAAM,CAAC;CAChB;AAED,UAAU,QAAQ;IAChB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd;AAED,aAAK,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC;AAChC,aAAK,oBAAoB,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC7C,aAAK,kBAAkB,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AACjD,aAAK,cAAc,GAAG,oBAAoB,GAAG,kBAAkB,CAAC;AAEhE,qBAAa,iBAAiB;IAChB,QAAQ,CAAC,KAAK,EAAE,SAAS,EAAE;gBAAlB,KAAK,EAAE,SAAS,EAAE;WAEzB,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE;CAmBnC;AAED,qBAAa,WAAY,SAAQ,KAAK;IAYlC,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE;IAC5B,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE;IAZzB,QAAQ,CAAC,KAAK,EAAE;QACd,SAAS,EAAE,SAAS,CAAC;QACrB,YAAY,EAAE,MAAM,CAAC;QACrB,cAAc,CAAC,EAAE,cAAc,CAAC;QAChC,MAAM,CAAC,EAAE,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAoB;gBAGrD,SAAS,EAAE,SAAS,EACpB,YAAY,EAAE,MAAM,EACX,SAAS,EAAE,MAAM,EAAE,EACnB,IAAI,EAAE,MAAM,EAAE,EACvB,MAAM,CAAC,EAAE,MAAM,EACf,cAAc,CAAC,EAAE,cAAc;WAOnB,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE;IA4GlC,IAAI,OAAO,IAAI,SAAS,CAIvB;IAED,IAAI,iBAAiB,IAAI,SAAS,EAAE,CAEnC;IAEM,QAAQ,IAAI,MAAM;CAG1B;AAGD,qBAAa,YAAa,SAAQ,KAAK;IAInC,QAAQ,CAAC,IAAI,EAAE,MAAM;IACrB,QAAQ,CAAC,GAAG,EAAE,MAAM;IACpB,QAAQ,CAAC,IAAI,CAAC;IALhB,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAoB;gBAG7C,IAAI,EAAE,MAAM,EACZ,GAAG,EAAE,MAAM,EACX,IAAI,CAAC,sBAAU;WAQZ,KAAK,CACjB,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,GAC7B,YAAY,GAAG,IAAI;IA2CtB,IAAI,OAAO,IAAI,SAAS,GAAG,SAAS,CAInC;IAED,IAAI,iBAAiB,IAAI,SAAS,EAAE,GAAG,SAAS,CAE/C;IAEM,QAAQ,IAAI,MAAM;CAG1B;AAED,wBAAgB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,OAmCtE;AAED,eAAO,MAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAsEzB,CAAC;AAEF,eAAO,MAAM,gBAAgB,qBA0J3B,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/idl.d.ts b/dist/browser/types/src/idl.d.ts
deleted file mode 100644
index 865a26d6879177dd8238a93d24ddc0dff52eb909..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/idl.d.ts
+++ /dev/null
@@ -1,123 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { PublicKey } from "@solana/web3.js";
-export declare type Idl = {
-    version: string;
-    name: string;
-    docs?: string[];
-    instructions: IdlInstruction[];
-    state?: IdlState;
-    accounts?: IdlAccountDef[];
-    types?: IdlTypeDef[];
-    events?: IdlEvent[];
-    errors?: IdlErrorCode[];
-    constants?: IdlConstant[];
-    metadata?: IdlMetadata;
-};
-export declare type IdlMetadata = any;
-export declare type IdlConstant = {
-    name: string;
-    type: IdlType;
-    value: string;
-};
-export declare type IdlEvent = {
-    name: string;
-    fields: IdlEventField[];
-};
-export declare type IdlEventField = {
-    name: string;
-    type: IdlType;
-    index: boolean;
-};
-export declare type IdlInstruction = {
-    name: string;
-    docs?: string[];
-    accounts: IdlAccountItem[];
-    args: IdlField[];
-    returns?: IdlType;
-};
-export declare type IdlState = {
-    struct: IdlTypeDef;
-    methods: IdlStateMethod[];
-};
-export declare type IdlStateMethod = IdlInstruction;
-export declare type IdlAccountItem = IdlAccount | IdlAccounts;
-export declare type IdlAccount = {
-    name: string;
-    isMut: boolean;
-    isSigner: boolean;
-    docs?: string[];
-    pda?: IdlPda;
-};
-export declare type IdlPda = {
-    seeds: IdlSeed[];
-    programId?: IdlSeed;
-};
-export declare type IdlSeed = any;
-export declare type IdlAccounts = {
-    name: string;
-    docs?: string[];
-    accounts: IdlAccountItem[];
-};
-export declare type IdlField = {
-    name: string;
-    docs?: string[];
-    type: IdlType;
-};
-export declare type IdlTypeDef = {
-    name: string;
-    docs?: string[];
-    type: IdlTypeDefTy;
-};
-export declare type IdlAccountDef = {
-    name: string;
-    docs?: string[];
-    type: IdlTypeDefTyStruct;
-};
-export declare type IdlTypeDefTyStruct = {
-    kind: "struct";
-    fields: IdlTypeDefStruct;
-};
-export declare type IdlTypeDefTyEnum = {
-    kind: "enum";
-    variants: IdlEnumVariant[];
-};
-export declare type IdlTypeDefTy = IdlTypeDefTyEnum | IdlTypeDefTyStruct;
-export declare type IdlTypeDefStruct = Array<IdlField>;
-export declare type IdlType = "bool" | "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "u64" | "i64" | "f64" | "u128" | "i128" | "bytes" | "string" | "publicKey" | IdlTypeDefined | IdlTypeOption | IdlTypeCOption | IdlTypeVec | IdlTypeArray;
-export declare type IdlTypeDefined = {
-    defined: string;
-};
-export declare type IdlTypeOption = {
-    option: IdlType;
-};
-export declare type IdlTypeCOption = {
-    coption: IdlType;
-};
-export declare type IdlTypeVec = {
-    vec: IdlType;
-};
-export declare type IdlTypeArray = {
-    array: [idlType: IdlType, size: number];
-};
-export declare type IdlEnumVariant = {
-    name: string;
-    fields?: IdlEnumFields;
-};
-export declare type IdlEnumFields = IdlEnumFieldsNamed | IdlEnumFieldsTuple;
-export declare type IdlEnumFieldsNamed = IdlField[];
-export declare type IdlEnumFieldsTuple = IdlType[];
-export declare type IdlErrorCode = {
-    code: number;
-    name: string;
-    msg?: string;
-};
-export declare function idlAddress(programId: PublicKey): Promise<PublicKey>;
-export declare function seed(): string;
-export interface IdlProgramAccount {
-    authority: PublicKey;
-    data: Buffer;
-}
-export declare function decodeIdlAccount(data: Buffer): IdlProgramAccount;
-export declare function encodeIdlAccount(acc: IdlProgramAccount): Buffer;
-//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/idl.d.ts.map b/dist/browser/types/src/idl.d.ts.map
deleted file mode 100644
index 955ee8488b10da3bea62a5ebc6c7c99090879ca4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/idl.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../src/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/index.d.ts b/dist/browser/types/src/index.d.ts
deleted file mode 100644
index b9b32251a18b9de0aa1bb01f72689d875158d050..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/index.d.ts
+++ /dev/null
@@ -1,16 +0,0 @@
-import NodeWallet from "./nodewallet";
-export { default as BN } from "bn.js";
-export * as web3 from "@solana/web3.js";
-export { default as Provider, getProvider, setProvider, AnchorProvider, } from "./provider.js";
-export * from "./error.js";
-export { Instruction } from "./coder/borsh/instruction.js";
-export { Idl } from "./idl.js";
-export * from "./coder/index.js";
-export * as utils from "./utils/index.js";
-export * from "./program/index.js";
-export * from "./spl/index.js";
-export * from "./native/index.js";
-export declare const workspace: any;
-export declare class Wallet extends NodeWallet {
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/index.d.ts.map b/dist/browser/types/src/index.d.ts.map
deleted file mode 100644
index ba51f0560f20bb4ca5537b470bb28129264a07cf..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,UAAU,MAAM,cAAc,CAAC;AAGtC,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EACL,OAAO,IAAI,QAAQ,EACnB,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAC3B,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAC/B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,SAAS,EAAE,GAAG,CAAC;AACpC,MAAM,CAAC,OAAO,OAAO,MAAO,SAAQ,UAAU;CAAG"}
\ No newline at end of file
diff --git a/dist/browser/types/src/native/index.d.ts b/dist/browser/types/src/native/index.d.ts
deleted file mode 100644
index 0d0bd7f4967a9a6be8f888371691b5dba51364ba..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/native/index.d.ts
+++ /dev/null
@@ -1,7 +0,0 @@
-import { Program, Provider } from "../index.js";
-import { SystemProgram } from "./system.js";
-export { SystemProgram } from "./system.js";
-export declare class Native {
-    static system(provider?: Provider): Program<SystemProgram>;
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/native/index.d.ts.map b/dist/browser/types/src/native/index.d.ts.map
deleted file mode 100644
index acda604bcb2d3ac17a73c2d5d077745dfecc9e16..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/native/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/native/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAA4B,aAAa,EAAE,MAAM,aAAa,CAAC;AAEtE,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAE5C,qBAAa,MAAM;WACH,MAAM,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,aAAa,CAAC;CAGlE"}
\ No newline at end of file
diff --git a/dist/browser/types/src/native/system.d.ts b/dist/browser/types/src/native/system.d.ts
deleted file mode 100644
index 750bc0c8e5b21d0cbea775e6c8d698486d4ba46f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/native/system.d.ts
+++ /dev/null
@@ -1,391 +0,0 @@
-import { Program } from "../program/index.js";
-import Provider from "../provider.js";
-import { SystemCoder } from "../coder/system/index.js";
-export declare function program(provider?: Provider): Program<SystemProgram>;
-export declare function coder(): SystemCoder;
-/**
- * System IDL.
- */
-export declare type SystemProgram = {
-    version: "0.1.0";
-    name: "system_program";
-    instructions: [
-        {
-            name: "createAccount";
-            accounts: [
-                {
-                    name: "from";
-                    isMut: true;
-                    isSigner: true;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "lamports";
-                    type: "u64";
-                },
-                {
-                    name: "space";
-                    type: "u64";
-                },
-                {
-                    name: "owner";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "assign";
-            accounts: [
-                {
-                    name: "pubkey";
-                    isMut: true;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "owner";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "transfer";
-            accounts: [
-                {
-                    name: "from";
-                    isMut: true;
-                    isSigner: true;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "lamports";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "createAccountWithSeed";
-            accounts: [
-                {
-                    name: "from";
-                    isMut: true;
-                    isSigner: true;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "base";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "base";
-                    type: "publicKey";
-                },
-                {
-                    name: "seed";
-                    type: "string";
-                },
-                {
-                    name: "lamports";
-                    type: "u64";
-                },
-                {
-                    name: "space";
-                    type: "u64";
-                },
-                {
-                    name: "owner";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "advanceNonceAccount";
-            accounts: [
-                {
-                    name: "nonce";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "recentBlockhashes";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authorized";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "authorized";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "withdrawNonceAccount";
-            accounts: [
-                {
-                    name: "nonce";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "recentBlockhashes";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authorized";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "lamports";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "initializeNonceAccount";
-            accounts: [
-                {
-                    name: "nonce";
-                    isMut: true;
-                    isSigner: true;
-                },
-                {
-                    name: "recentBlockhashes";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authorized";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "authorizeNonceAccount";
-            accounts: [
-                {
-                    name: "nonce";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authorized";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "authorized";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "allocate";
-            accounts: [
-                {
-                    name: "pubkey";
-                    isMut: true;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "space";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "allocateWithSeed";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "base";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "base";
-                    type: "publicKey";
-                },
-                {
-                    name: "seed";
-                    type: "string";
-                },
-                {
-                    name: "space";
-                    type: "u64";
-                },
-                {
-                    name: "owner";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "assignWithSeed";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "base";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "base";
-                    type: "publicKey";
-                },
-                {
-                    name: "seed";
-                    type: "string";
-                },
-                {
-                    name: "owner";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "transferWithSeed";
-            accounts: [
-                {
-                    name: "from";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "base";
-                    isMut: false;
-                    isSigner: true;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "lamports";
-                    type: "u64";
-                },
-                {
-                    name: "seed";
-                    type: "string";
-                },
-                {
-                    name: "owner";
-                    type: "publicKey";
-                }
-            ];
-        }
-    ];
-    accounts: [
-        {
-            name: "nonce";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "version";
-                        type: "u32";
-                    },
-                    {
-                        name: "state";
-                        type: "u32";
-                    },
-                    {
-                        name: "authorizedPubkey";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "nonce";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "feeCalculator";
-                        type: {
-                            defined: "FeeCalculator";
-                        };
-                    }
-                ];
-            };
-        }
-    ];
-    types: [
-        {
-            name: "FeeCalculator";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "lamportsPerSignature";
-                        type: "u64";
-                    }
-                ];
-            };
-        }
-    ];
-};
-export declare const IDL: SystemProgram;
-//# sourceMappingURL=system.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/native/system.d.ts.map b/dist/browser/types/src/native/system.d.ts.map
deleted file mode 100644
index 63de88169e7427f07596877357d2dbf53c0a9fd6..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/native/system.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"system.d.ts","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/nodewallet.d.ts b/dist/browser/types/src/nodewallet.d.ts
deleted file mode 100644
index abdac8031f6f811e3962f018888d9e92b7f363b4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/nodewallet.d.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
-import { Wallet } from "./provider";
-/**
- * Node only wallet.
- */
-export default class NodeWallet implements Wallet {
-    readonly payer: Keypair;
-    constructor(payer: Keypair);
-    static local(): NodeWallet | never;
-    signTransaction(tx: Transaction): Promise<Transaction>;
-    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
-    get publicKey(): PublicKey;
-}
-//# sourceMappingURL=nodewallet.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/nodewallet.d.ts.map b/dist/browser/types/src/nodewallet.d.ts.map
deleted file mode 100644
index b3369ee6cd029ca43307dc3b9aa2f85dd0c4758c..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/nodewallet.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"nodewallet.d.ts","sourceRoot":"","sources":["../../src/nodewallet.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,UAAW,YAAW,MAAM;IACnC,QAAQ,CAAC,KAAK,EAAE,OAAO;gBAAd,KAAK,EAAE,OAAO;IAEnC,MAAM,CAAC,KAAK,IAAI,UAAU,GAAG,KAAK;IAsB5B,eAAe,CAAC,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAKtD,mBAAmB,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAOrE,IAAI,SAAS,IAAI,SAAS,CAEzB;CACF"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/accounts-resolver.d.ts b/dist/browser/types/src/program/accounts-resolver.d.ts
deleted file mode 100644
index c6e46ca7df1421b310227ac61f9679918e18913a..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/accounts-resolver.d.ts
+++ /dev/null
@@ -1,41 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import { Idl } from "../idl.js";
-import { AllInstructions } from "./namespace/types.js";
-import Provider from "../provider.js";
-import { AccountNamespace } from "./namespace/account.js";
-export declare class AccountsResolver<IDL extends Idl, I extends AllInstructions<IDL>> {
-    private _args;
-    private _accounts;
-    private _provider;
-    private _programId;
-    private _idlIx;
-    static readonly CONST_ACCOUNTS: {
-        associatedTokenProgram: PublicKey;
-        rent: PublicKey;
-        systemProgram: PublicKey;
-        tokenProgram: PublicKey;
-    };
-    private _accountStore;
-    constructor(_args: Array<any>, _accounts: {
-        [name: string]: PublicKey;
-    }, _provider: Provider, _programId: PublicKey, _idlIx: AllInstructions<IDL>, _accountNamespace: AccountNamespace<IDL>);
-    resolve(): Promise<void>;
-    private autoPopulatePda;
-    private parseProgramId;
-    private toBuffer;
-    private toBufferConst;
-    private toBufferArg;
-    private argValue;
-    private toBufferAccount;
-    private accountValue;
-    private parseAccountValue;
-    private toBufferValue;
-}
-export declare class AccountStore<IDL extends Idl> {
-    private _provider;
-    private _accounts;
-    private _cache;
-    constructor(_provider: Provider, _accounts: AccountNamespace<IDL>);
-    fetchAccount<T = any>(name: string, publicKey: PublicKey): Promise<T>;
-}
-//# sourceMappingURL=accounts-resolver.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/accounts-resolver.d.ts.map b/dist/browser/types/src/program/accounts-resolver.d.ts.map
deleted file mode 100644
index 5429b4d44c96149f02fab3a85d22ecda9310997b..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/accounts-resolver.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"accounts-resolver.d.ts","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAqC,MAAM,iBAAiB,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAuB,MAAM,WAAW,CAAC;AAGrD,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAI1D,qBAAa,gBAAgB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC;IAWzE,OAAO,CAAC,KAAK;IACb,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,UAAU;IAClB,OAAO,CAAC,MAAM;IAdhB,MAAM,CAAC,QAAQ,CAAC,cAAc;;;;;MAK5B;IAEF,OAAO,CAAC,aAAa,CAAoB;gBAG/B,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,EACjB,SAAS,EAAE;QAAE,CAAC,IAAI,EAAE,MAAM,GAAG,SAAS,CAAA;KAAE,EACxC,SAAS,EAAE,QAAQ,EACnB,UAAU,EAAE,SAAS,EACrB,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,EACpC,iBAAiB,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAc7B,OAAO;YAgDN,eAAe;YAcf,cAAc;YAoBd,QAAQ;IAatB,OAAO,CAAC,aAAa;YAIP,WAAW;IAKzB,OAAO,CAAC,QAAQ;YAaF,eAAe;YAKf,YAAY;IAyB1B,OAAO,CAAC,iBAAiB;IAazB,OAAO,CAAC,aAAa;CA2BtB;AAGD,qBAAa,YAAY,CAAC,GAAG,SAAS,GAAG;IAKrC,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IALnB,OAAO,CAAC,MAAM,CAA0B;gBAI9B,SAAS,EAAE,QAAQ,EACnB,SAAS,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAG7B,YAAY,CAAC,CAAC,GAAG,GAAG,EAC/B,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,CAAC,CAAC;CAmBd"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/common.d.ts b/dist/browser/types/src/program/common.d.ts
deleted file mode 100644
index 40f536b4cab972c9bfa8310f5d5c63c31b9fb0c4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/common.d.ts
+++ /dev/null
@@ -1,20 +0,0 @@
-import EventEmitter from "eventemitter3";
-import { PublicKey } from "@solana/web3.js";
-import { Idl, IdlInstruction, IdlAccountItem, IdlStateMethod } from "../idl.js";
-import { Accounts } from "./context.js";
-export declare type Subscription = {
-    listener: number;
-    ee: EventEmitter;
-};
-export declare function parseIdlErrors(idl: Idl): Map<number, string>;
-export declare function toInstruction(idlIx: IdlInstruction | IdlStateMethod, ...args: any[]): {
-    [key: string]: any;
-};
-export declare function validateAccounts(ixAccounts: IdlAccountItem[], accounts?: Accounts): void;
-export declare function translateAddress(address: Address): PublicKey;
-/**
- * An address to identify an account on chain. Can be a [[PublicKey]],
- * or Base 58 encoded string.
- */
-export declare type Address = PublicKey | string;
-//# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/common.d.ts.map b/dist/browser/types/src/program/common.d.ts.map
deleted file mode 100644
index 1358f610e6bfe8175be969e0fade9911a32733b9..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/common.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/program/common.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AACzC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAChF,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAExC,oBAAY,YAAY,GAAG;IACzB,QAAQ,EAAE,MAAM,CAAC;IACjB,EAAE,EAAE,YAAY,CAAC;CAClB,CAAC;AAEF,wBAAgB,cAAc,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAS5D;AAGD,wBAAgB,aAAa,CAC3B,KAAK,EAAE,cAAc,GAAG,cAAc,EACtC,GAAG,IAAI,EAAE,GAAG,EAAE;;EAaf;AAGD,wBAAgB,gBAAgB,CAC9B,UAAU,EAAE,cAAc,EAAE,EAC5B,QAAQ,GAAE,QAAa,QAWxB;AAGD,wBAAgB,gBAAgB,CAAC,OAAO,EAAE,OAAO,GAAG,SAAS,CAE5D;AAED;;;GAGG;AACH,oBAAY,OAAO,GAAG,SAAS,GAAG,MAAM,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/context.d.ts b/dist/browser/types/src/program/context.d.ts
deleted file mode 100644
index d8cef9d8fb6adc965d199b6b4fcd4d2e3b3f8d56..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/context.d.ts
+++ /dev/null
@@ -1,59 +0,0 @@
-import { AccountMeta, Signer, ConfirmOptions, TransactionInstruction } from "@solana/web3.js";
-import { Address } from "./common.js";
-import { IdlAccountItem, IdlAccounts, IdlInstruction } from "../idl.js";
-/**
- * Context provides all non-argument inputs for generating Anchor transactions.
- */
-export declare type Context<A extends Accounts = Accounts> = {
-    /**
-     * Accounts used in the instruction context.
-     */
-    accounts?: A;
-    /**
-     * All accounts to pass into an instruction *after* the main `accounts`.
-     * This can be used for optional or otherwise unknown accounts.
-     */
-    remainingAccounts?: AccountMeta[];
-    /**
-     * Accounts that must sign a given transaction.
-     */
-    signers?: Array<Signer>;
-    /**
-     * @deprecated use preInstructions instead.
-     * Instructions to run *before* a given method. Often this is used, for
-     * example to create accounts prior to executing a method.
-     */
-    instructions?: TransactionInstruction[];
-    /**
-     * Instructions to run *before* a given method. Often this is used, for
-     * example to create accounts prior to executing a method.
-     */
-    preInstructions?: TransactionInstruction[];
-    /**
-     * Instructions to run *after* a given method. Often this is used, for
-     * example to close accounts after executing a method.
-     */
-    postInstructions?: TransactionInstruction[];
-    /**
-     * Commitment parameters to use for a transaction.
-     */
-    options?: ConfirmOptions;
-};
-/**
- * A set of accounts mapping one-to-one to the program's accounts struct, i.e.,
- * the type deriving `#[derive(Accounts)]`.
- *
- * The name of each field should match the name for that account in the IDL.
- *
- * If multiple accounts are nested in the rust program, then they should be
- * nested here.
- */
-export declare type Accounts<A extends IdlAccountItem = IdlAccountItem> = {
-    [N in A["name"]]: Account<A & {
-        name: N;
-    }>;
-};
-declare type Account<A extends IdlAccountItem> = A extends IdlAccounts ? Accounts<A["accounts"][number]> : Address;
-export declare function splitArgsAndCtx(idlIx: IdlInstruction, args: any[]): [any[], Context];
-export {};
-//# sourceMappingURL=context.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/context.d.ts.map b/dist/browser/types/src/program/context.d.ts.map
deleted file mode 100644
index d67dd93908d71298df71dcea926f7822882d063d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/context.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"context.d.ts","sourceRoot":"","sources":["../../../src/program/context.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,WAAW,EACX,MAAM,EACN,cAAc,EACd,sBAAsB,EACvB,MAAM,iBAAiB,CAAC;AACzB,OAAO,EAAE,OAAO,EAAE,MAAM,aAAa,CAAC;AACtC,OAAO,EAAE,cAAc,EAAE,WAAW,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAExE;;GAEG;AACH,oBAAY,OAAO,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,IAAI;IACnD;;OAEG;IACH,QAAQ,CAAC,EAAE,CAAC,CAAC;IAEb;;;OAGG;IACH,iBAAiB,CAAC,EAAE,WAAW,EAAE,CAAC;IAElC;;OAEG;IACH,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;IAExB;;;;OAIG;IACH,YAAY,CAAC,EAAE,sBAAsB,EAAE,CAAC;IAExC;;;OAGG;IACH,eAAe,CAAC,EAAE,sBAAsB,EAAE,CAAC;IAE3C;;;OAGG;IACH,gBAAgB,CAAC,EAAE,sBAAsB,EAAE,CAAC;IAE5C;;OAEG;IACH,OAAO,CAAC,EAAE,cAAc,CAAC;CAC1B,CAAC;AAEF;;;;;;;;GAQG;AACH,oBAAY,QAAQ,CAAC,CAAC,SAAS,cAAc,GAAG,cAAc,IAAI;KAC/D,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC;CAC3C,CAAC;AAEF,aAAK,OAAO,CAAC,CAAC,SAAS,cAAc,IAAI,CAAC,SAAS,WAAW,GAC1D,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,GAC/B,OAAO,CAAC;AAEZ,wBAAgB,eAAe,CAC7B,KAAK,EAAE,cAAc,EACrB,IAAI,EAAE,GAAG,EAAE,GACV,CAAC,GAAG,EAAE,EAAE,OAAO,CAAC,CAgBlB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/event.d.ts b/dist/browser/types/src/program/event.d.ts
deleted file mode 100644
index b5c1c5fada59582774dd80c1809198b38c9f3ec6..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/event.d.ts
+++ /dev/null
@@ -1,57 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import { IdlEvent, IdlEventField } from "../idl.js";
-import { Coder } from "../coder/index.js";
-import { DecodeType } from "./namespace/types.js";
-import Provider from "../provider.js";
-export declare type Event<E extends IdlEvent = IdlEvent, Defined = Record<string, never>> = {
-    name: E["name"];
-    data: EventData<E["fields"][number], Defined>;
-};
-export declare type EventData<T extends IdlEventField, Defined> = {
-    [N in T["name"]]: DecodeType<(T & {
-        name: N;
-    })["type"], Defined>;
-};
-export declare class EventManager {
-    /**
-     * Program ID for event subscriptions.
-     */
-    private _programId;
-    /**
-     * Network and wallet provider.
-     */
-    private _provider;
-    /**
-     * Event parser to handle onLogs callbacks.
-     */
-    private _eventParser;
-    /**
-     * Maps event listener id to [event-name, callback].
-     */
-    private _eventCallbacks;
-    /**
-     * Maps event name to all listeners for the event.
-     */
-    private _eventListeners;
-    /**
-     * The next listener id to allocate.
-     */
-    private _listenerIdCount;
-    /**
-     * The subscription id from the connection onLogs subscription.
-     */
-    private _onLogsSubscriptionId;
-    constructor(programId: PublicKey, provider: Provider, coder: Coder);
-    addEventListener(eventName: string, callback: (event: any, slot: number, signature: string) => void): number;
-    removeEventListener(listener: number): Promise<void>;
-}
-export declare class EventParser {
-    private coder;
-    private programId;
-    constructor(programId: PublicKey, coder: Coder);
-    parseLogs(logs: string[]): Generator<Event<IdlEvent, Record<string, never>>, void, unknown>;
-    private handleLog;
-    private handleProgramLog;
-    private handleSystemLog;
-}
-//# sourceMappingURL=event.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/event.d.ts.map b/dist/browser/types/src/program/event.d.ts.map
deleted file mode 100644
index 6ed19a79ab45acba613c675928a2856a4eea68cb..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/event.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../src/program/event.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,WAAW,CAAC;AACpD,OAAO,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAC1C,OAAO,EAAE,UAAU,EAAE,MAAM,sBAAsB,CAAC;AAClD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AAQtC,oBAAY,KAAK,CACf,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAC7B,OAAO,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,IAC7B;IACF,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;IAChB,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,CAAC;CAC/C,CAAC;AAEF,oBAAY,SAAS,CAAC,CAAC,SAAS,aAAa,EAAE,OAAO,IAAI;KACvD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;CACjE,CAAC;AAIF,qBAAa,YAAY;IACvB;;OAEG;IACH,OAAO,CAAC,UAAU,CAAY;IAE9B;;OAEG;IACH,OAAO,CAAC,SAAS,CAAW;IAE5B;;OAEG;IACH,OAAO,CAAC,YAAY,CAAc;IAElC;;OAEG;IACH,OAAO,CAAC,eAAe,CAAuC;IAE9D;;OAEG;IACH,OAAO,CAAC,eAAe,CAA6B;IAEpD;;OAEG;IACH,OAAO,CAAC,gBAAgB,CAAS;IAEjC;;OAEG;IACH,OAAO,CAAC,qBAAqB,CAAqB;gBAEtC,SAAS,EAAE,SAAS,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,KAAK;IAS3D,gBAAgB,CACrB,SAAS,EAAE,MAAM,EACjB,QAAQ,EAAE,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,MAAM,KAAK,IAAI,GAC9D,MAAM;IAgDI,mBAAmB,CAAC,QAAQ,EAAE,MAAM,GAAG,OAAO,CAAC,IAAI,CAAC;CAgClE;AAED,qBAAa,WAAW;IACtB,OAAO,CAAC,KAAK,CAAQ;IACrB,OAAO,CAAC,SAAS,CAAY;gBAEjB,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK;IAgBtC,SAAS,CAAC,IAAI,EAAE,MAAM,EAAE;IAuBhC,OAAO,CAAC,SAAS;IAkBjB,OAAO,CAAC,gBAAgB;IAkBxB,OAAO,CAAC,eAAe;CAoBxB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/index.d.ts b/dist/browser/types/src/program/index.d.ts
deleted file mode 100644
index 77f9eab52fb795b37819967a001e061f2c81549b..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/index.d.ts
+++ /dev/null
@@ -1,266 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import Provider from "../provider.js";
-import { Idl } from "../idl.js";
-import { Coder } from "../coder/index.js";
-import { RpcNamespace, InstructionNamespace, TransactionNamespace, AccountNamespace, StateClient, SimulateNamespace, MethodsNamespace, ViewNamespace } from "./namespace/index.js";
-import { Address } from "./common.js";
-export * from "./common.js";
-export * from "./context.js";
-export * from "./event.js";
-export * from "./namespace/index.js";
-/**
- * ## Program
- *
- * Program provides the IDL deserialized client representation of an Anchor
- * program.
- *
- * This API is the one stop shop for all things related to communicating with
- * on-chain programs. Among other things, one can send transactions, fetch
- * deserialized accounts, decode instruction data, subscribe to account
- * changes, and listen to events.
- *
- * In addition to field accessors and methods, the object provides a set of
- * dynamically generated properties, also known as namespaces, that
- * map one-to-one to program methods and accounts. These namespaces generally
- *  can be used as follows:
- *
- * ## Usage
- *
- * ```javascript
- * program.<namespace>.<program-specific-method>
- * ```
- *
- * API specifics are namespace dependent. The examples used in the documentation
- * below will refer to the two counter examples found
- * [here](https://github.com/coral-xyz/anchor#examples).
- */
-export declare class Program<IDL extends Idl = Idl> {
-    /**
-     * Async methods to send signed transactions to *non*-state methods on the
-     * program, returning a [[TransactionSignature]].
-     *
-     * ## Usage
-     *
-     * ```javascript
-     * rpc.<method>(...args, ctx);
-     * ```
-     *
-     * ## Parameters
-     *
-     * 1. `args` - The positional arguments for the program. The type and number
-     *    of these arguments depend on the program being used.
-     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
-     *    Always the last parameter in the method call.
-     *
-     * ## Example
-     *
-     * To send a transaction invoking the `increment` method above,
-     *
-     * ```javascript
-     * const txSignature = await program.rpc.increment({
-     *   accounts: {
-     *     counter,
-     *     authority,
-     *   },
-     * });
-     * ```
-     * @deprecated
-     * Use program.methods.<method>(...args).rpc() instead
-     */
-    readonly rpc: RpcNamespace<IDL>;
-    /**
-     * The namespace provides handles to an [[AccountClient]] object for each
-     * account in the program.
-     *
-     * ## Usage
-     *
-     * ```javascript
-     * program.account.<account-client>
-     * ```
-     *
-     * ## Example
-     *
-     * To fetch a `Counter` account from the above example,
-     *
-     * ```javascript
-     * const counter = await program.account.counter.fetch(address);
-     * ```
-     *
-     * For the full API, see the [[AccountClient]] reference.
-     */
-    readonly account: AccountNamespace<IDL>;
-    /**
-     * The namespace provides functions to build [[TransactionInstruction]]
-     * objects for each method of a program.
-     *
-     * ## Usage
-     *
-     * ```javascript
-     * program.instruction.<method>(...args, ctx);
-     * ```
-     *
-     * ## Parameters
-     *
-     * 1. `args` - The positional arguments for the program. The type and number
-     *    of these arguments depend on the program being used.
-     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
-     *    Always the last parameter in the method call.
-     *
-     * ## Example
-     *
-     * To create an instruction for the `increment` method above,
-     *
-     * ```javascript
-     * const tx = await program.instruction.increment({
-     *   accounts: {
-     *     counter,
-     *   },
-     * });
-     * ```
-     * @deprecated
-     */
-    readonly instruction: InstructionNamespace<IDL>;
-    /**
-     * The namespace provides functions to build [[Transaction]] objects for each
-     * method of a program.
-     *
-     * ## Usage
-     *
-     * ```javascript
-     * program.transaction.<method>(...args, ctx);
-     * ```
-     *
-     * ## Parameters
-     *
-     * 1. `args` - The positional arguments for the program. The type and number
-     *    of these arguments depend on the program being used.
-     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
-     *    Always the last parameter in the method call.
-     *
-     * ## Example
-     *
-     * To create an instruction for the `increment` method above,
-     *
-     * ```javascript
-     * const tx = await program.transaction.increment({
-     *   accounts: {
-     *     counter,
-     *   },
-     * });
-     * ```
-     * @deprecated
-     */
-    readonly transaction: TransactionNamespace<IDL>;
-    /**
-     * The namespace provides functions to simulate transactions for each method
-     * of a program, returning a list of deserialized events *and* raw program
-     * logs.
-     *
-     * One can use this to read data calculated from a program on chain, by
-     * emitting an event in the program and reading the emitted event client side
-     * via the `simulate` namespace.
-     *
-     * ## simulate
-     *
-     * ```javascript
-     * program.simulate.<method>(...args, ctx);
-     * ```
-     *
-     * ## Parameters
-     *
-     * 1. `args` - The positional arguments for the program. The type and number
-     *    of these arguments depend on the program being used.
-     * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
-     *    Always the last parameter in the method call.
-     *
-     * ## Example
-     *
-     * To simulate the `increment` method above,
-     *
-     * ```javascript
-     * const events = await program.simulate.increment({
-     *   accounts: {
-     *     counter,
-     *   },
-     * });
-     * ```
-     * @deprecated
-     */
-    readonly simulate: SimulateNamespace<IDL>;
-    /**
-     * A client for the program state. Similar to the base [[Program]] client,
-     * one can use this to send transactions and read accounts for the state
-     * abstraction.
-     */
-    readonly state?: StateClient<IDL>;
-    /**
-     * The namespace provides a builder API for all APIs on the program.
-     * This is an alternative to using namespace the other namespaces..
-     */
-    readonly methods: MethodsNamespace<IDL>;
-    readonly views?: ViewNamespace<IDL>;
-    /**
-     * Address of the program.
-     */
-    get programId(): PublicKey;
-    private _programId;
-    /**
-     * IDL defining the program's interface.
-     */
-    get idl(): IDL;
-    private _idl;
-    /**
-     * Coder for serializing requests.
-     */
-    get coder(): Coder;
-    private _coder;
-    /**
-     * Wallet and network provider.
-     */
-    get provider(): Provider;
-    private _provider;
-    /**
-     * Handles event subscriptions.
-     */
-    private _events;
-    /**
-     * @param idl       The interface definition.
-     * @param programId The on-chain address of the program.
-     * @param provider  The network and wallet context to use. If not provided
-     *                  then uses [[getProvider]].
-     */
-    constructor(idl: IDL, programId: Address, provider?: Provider, coder?: Coder);
-    /**
-     * Generates a Program client by fetching the IDL from the network.
-     *
-     * In order to use this method, an IDL must have been previously initialized
-     * via the anchor CLI's `anchor idl init` command.
-     *
-     * @param programId The on-chain address of the program.
-     * @param provider  The network and wallet context.
-     */
-    static at<IDL extends Idl = Idl>(address: Address, provider?: Provider): Promise<Program<IDL>>;
-    /**
-     * Fetches an idl from the blockchain.
-     *
-     * In order to use this method, an IDL must have been previously initialized
-     * via the anchor CLI's `anchor idl init` command.
-     *
-     * @param programId The on-chain address of the program.
-     * @param provider  The network and wallet context.
-     */
-    static fetchIdl<IDL extends Idl = Idl>(address: Address, provider?: Provider): Promise<IDL | null>;
-    /**
-     * Invokes the given callback every time the given event is emitted.
-     *
-     * @param eventName The PascalCase name of the event, provided by the IDL.
-     * @param callback  The function to invoke whenever the event is emitted from
-     *                  program logs.
-     */
-    addEventListener(eventName: string, callback: (event: any, slot: number, signature: string) => void): number;
-    /**
-     * Unsubscribes from the given eventName.
-     */
-    removeEventListener(listener: number): Promise<void>;
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/index.d.ts.map b/dist/browser/types/src/program/index.d.ts.map
deleted file mode 100644
index 0e3082ae126f6b80dd9aafb6a9604d93b93cf931..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/account.d.ts b/dist/browser/types/src/program/namespace/account.d.ts
deleted file mode 100644
index a24b8a043421ec381126b72988286d50f1c5d315..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/account.d.ts
+++ /dev/null
@@ -1,132 +0,0 @@
-/// <reference types="node" />
-import EventEmitter from "eventemitter3";
-import { Signer, PublicKey, TransactionInstruction, Commitment, GetProgramAccountsFilter, AccountInfo } from "@solana/web3.js";
-import Provider from "../../provider.js";
-import { Idl, IdlAccountDef } from "../../idl.js";
-import { Coder } from "../../coder/index.js";
-import { Address } from "../common.js";
-import { AllAccountsMap, IdlTypes, TypeDef } from "./types.js";
-export default class AccountFactory {
-    static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): AccountNamespace<IDL>;
-}
-declare type NullableIdlAccount<IDL extends Idl> = IDL["accounts"] extends undefined ? IdlAccountDef : NonNullable<IDL["accounts"]>[number];
-/**
- * The namespace provides handles to an [[AccountClient]] object for each
- * account in a program.
- *
- * ## Usage
- *
- * ```javascript
- * account.<account-client>
- * ```
- *
- * ## Example
- *
- * To fetch a `Counter` account from the above example,
- *
- * ```javascript
- * const counter = await program.account.counter.fetch(address);
- * ```
- *
- * For the full API, see the [[AccountClient]] reference.
- */
-export declare type AccountNamespace<IDL extends Idl = Idl> = {
-    [M in keyof AllAccountsMap<IDL>]: AccountClient<IDL>;
-};
-export declare class AccountClient<IDL extends Idl = Idl, A extends NullableIdlAccount<IDL> = IDL["accounts"] extends undefined ? IdlAccountDef : NonNullable<IDL["accounts"]>[number], T = TypeDef<A, IdlTypes<IDL>>> {
-    /**
-     * Returns the number of bytes in this account.
-     */
-    get size(): number;
-    private _size;
-    /**
-     * Returns the program ID owning all accounts.
-     */
-    get programId(): PublicKey;
-    private _programId;
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    get provider(): Provider;
-    private _provider;
-    /**
-     * Returns the coder.
-     */
-    get coder(): Coder;
-    private _coder;
-    private _idlAccount;
-    constructor(idl: IDL, idlAccount: A, programId: PublicKey, provider?: Provider, coder?: Coder);
-    /**
-     * Returns a deserialized account, returning null if it doesn't exist.
-     *
-     * @param address The address of the account to fetch.
-     */
-    fetchNullable(address: Address, commitment?: Commitment): Promise<T | null>;
-    /**
-     * Returns a deserialized account.
-     *
-     * @param address The address of the account to fetch.
-     */
-    fetch(address: Address, commitment?: Commitment): Promise<T>;
-    /**
-     * Returns multiple deserialized accounts.
-     * Accounts not found or with wrong discriminator are returned as null.
-     *
-     * @param addresses The addresses of the accounts to fetch.
-     */
-    fetchMultiple(addresses: Address[], commitment?: Commitment): Promise<(Object | null)[]>;
-    /**
-     * Returns all instances of this account type for the program.
-     *
-     * @param filters User-provided filters to narrow the results from `connection.getProgramAccounts`.
-     *
-     *                When filters are not defined this method returns all
-     *                the account instances.
-     *
-     *                When filters are of type `Buffer`, the filters are appended
-     *                after the discriminator.
-     *
-     *                When filters are of type `GetProgramAccountsFilter[]`,
-     *                filters are appended after the discriminator filter.
-     */
-    all(filters?: Buffer | GetProgramAccountsFilter[]): Promise<ProgramAccount<T>[]>;
-    /**
-     * Returns an `EventEmitter` emitting a "change" event whenever the account
-     * changes.
-     */
-    subscribe(address: Address, commitment?: Commitment): EventEmitter;
-    /**
-     * Unsubscribes from the account at the given address.
-     */
-    unsubscribe(address: Address): Promise<void>;
-    /**
-     * Returns an instruction for creating this account.
-     */
-    createInstruction(signer: Signer, sizeOverride?: number): Promise<TransactionInstruction>;
-    /**
-     * @deprecated since version 14.0.
-     *
-     * Function returning the associated account. Args are keys to associate.
-     * Order matters.
-     */
-    associated(...args: Array<PublicKey | Buffer>): Promise<T>;
-    /**
-     * @deprecated since version 14.0.
-     *
-     * Function returning the associated address. Args are keys to associate.
-     * Order matters.
-     */
-    associatedAddress(...args: Array<PublicKey | Buffer>): Promise<PublicKey>;
-    getAccountInfo(address: Address, commitment?: Commitment): Promise<AccountInfo<Buffer> | null>;
-}
-/**
- * @hidden
- *
- * Deserialized account owned by a program.
- */
-export declare type ProgramAccount<T = any> = {
-    publicKey: PublicKey;
-    account: T;
-};
-export {};
-//# sourceMappingURL=account.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/account.d.ts.map b/dist/browser/types/src/program/namespace/account.d.ts.map
deleted file mode 100644
index e34df43c4a465687c400515062f78fc442d9f90a..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/account.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"account.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":";AACA,OAAO,YAAY,MAAM,eAAe,CAAC;AACzC,OAAO,EACL,MAAM,EACN,SAAS,EAET,sBAAsB,EACtB,UAAU,EACV,wBAAwB,EACxB,WAAW,EACZ,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAE,GAAG,EAAE,aAAa,EAAE,MAAM,cAAc,CAAC;AAClD,OAAO,EAAE,KAAK,EAAc,MAAM,sBAAsB,CAAC;AACzD,OAAO,EAAgB,OAAO,EAAoB,MAAM,cAAc,CAAC;AACvE,OAAO,EAAE,cAAc,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAI/D,MAAM,CAAC,OAAO,OAAO,cAAc;WACnB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,gBAAgB,CAAC,GAAG,CAAC;CAgBzB;AAED,aAAK,kBAAkB,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,UAAU,CAAC,SAAS,SAAS,GACxE,aAAa,GACb,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAEzC;;;;;;;;;;;;;;;;;;;GAmBG;AACH,oBAAY,gBAAgB,CAAC,GAAG,SAAS,GAAG,GAAG,GAAG,IAAI;KACnD,CAAC,IAAI,MAAM,cAAc,CAAC,GAAG,CAAC,GAAG,aAAa,CAAC,GAAG,CAAC;CACrD,CAAC;AAEF,qBAAa,aAAa,CACxB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,kBAAkB,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,UAAU,CAAC,SAAS,SAAS,GACjE,aAAa,GACb,WAAW,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EACxC,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;IAE7B;;OAEG;IACH,IAAI,IAAI,IAAI,MAAM,CAEjB;IACD,OAAO,CAAC,KAAK,CAAS;IAEtB;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B;;OAEG;IACH,IAAI,QAAQ,IAAI,QAAQ,CAEvB;IACD,OAAO,CAAC,SAAS,CAAW;IAE5B;;OAEG;IACH,IAAI,KAAK,IAAI,KAAK,CAEjB;IACD,OAAO,CAAC,MAAM,CAAQ;IAEtB,OAAO,CAAC,WAAW,CAAI;gBAGrB,GAAG,EAAE,GAAG,EACR,UAAU,EAAE,CAAC,EACb,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,EACnB,KAAK,CAAC,EAAE,KAAK;IASf;;;;OAIG;IACG,aAAa,CACjB,OAAO,EAAE,OAAO,EAChB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC;IAWpB;;;;OAIG;IACG,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE,UAAU,GAAG,OAAO,CAAC,CAAC,CAAC;IAQlE;;;;;OAKG;IACG,aAAa,CACjB,SAAS,EAAE,OAAO,EAAE,EACpB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC;IAmB7B;;;;;;;;;;;;;OAaG;IACG,GAAG,CACP,OAAO,CAAC,EAAE,MAAM,GAAG,wBAAwB,EAAE,GAC5C,OAAO,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE,CAAC;IA2B/B;;;OAGG;IACH,SAAS,CAAC,OAAO,EAAE,OAAO,EAAE,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IA4BlE;;OAEG;IACG,WAAW,CAAC,OAAO,EAAE,OAAO;IAgBlC;;OAEG;IACG,iBAAiB,CACrB,MAAM,EAAE,MAAM,EACd,YAAY,CAAC,EAAE,MAAM,GACpB,OAAO,CAAC,sBAAsB,CAAC;IAuBlC;;;;;OAKG;IACG,UAAU,CAAC,GAAG,IAAI,EAAE,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC;IAKhE;;;;;OAKG;IACG,iBAAiB,CACrB,GAAG,IAAI,EAAE,KAAK,CAAC,SAAS,GAAG,MAAM,CAAC,GACjC,OAAO,CAAC,SAAS,CAAC;IAIf,cAAc,CAClB,OAAO,EAAE,OAAO,EAChB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CAAC,WAAW,CAAC,MAAM,CAAC,GAAG,IAAI,CAAC;CAMvC;AAED;;;;GAIG;AACH,oBAAY,cAAc,CAAC,CAAC,GAAG,GAAG,IAAI;IACpC,SAAS,EAAE,SAAS,CAAC;IACrB,OAAO,EAAE,CAAC,CAAC;CACZ,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/index.d.ts b/dist/browser/types/src/program/namespace/index.d.ts
deleted file mode 100644
index 809b5847e7ecfb2d492c46c94921f64f9235ba13..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/index.d.ts
+++ /dev/null
@@ -1,37 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import { Coder } from "../../coder/index.js";
-import Provider from "../../provider.js";
-import { Idl } from "../../idl.js";
-import { StateClient } from "./state.js";
-import { InstructionNamespace } from "./instruction.js";
-import { TransactionNamespace } from "./transaction.js";
-import { RpcNamespace } from "./rpc.js";
-import { AccountNamespace } from "./account.js";
-import { SimulateNamespace } from "./simulate.js";
-import { MethodsNamespace } from "./methods";
-import { ViewNamespace } from "./views";
-export { StateClient } from "./state.js";
-export { InstructionNamespace, InstructionFn } from "./instruction.js";
-export { TransactionNamespace, TransactionFn } from "./transaction.js";
-export { RpcNamespace, RpcFn } from "./rpc.js";
-export { AccountNamespace, AccountClient, ProgramAccount } from "./account.js";
-export { SimulateNamespace, SimulateFn } from "./simulate.js";
-export { IdlAccounts, IdlTypes } from "./types.js";
-export { MethodsBuilderFactory, MethodsNamespace } from "./methods";
-export { ViewNamespace, ViewFn } from "./views";
-export default class NamespaceFactory {
-    /**
-     * Generates all namespaces for a given program.
-     */
-    static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider: Provider): [
-        RpcNamespace<IDL>,
-        InstructionNamespace<IDL>,
-        TransactionNamespace<IDL>,
-        AccountNamespace<IDL>,
-        SimulateNamespace<IDL>,
-        MethodsNamespace<IDL>,
-        StateClient<IDL> | undefined,
-        ViewNamespace<IDL> | undefined
-    ];
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/index.d.ts.map b/dist/browser/types/src/program/namespace/index.d.ts.map
deleted file mode 100644
index aec48524e87054421d49ab5965baad765de322d4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAqB,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACvD,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAAmB,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACpD,OAAuB,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChE,OAAwB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAyB,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAoB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACnD,OAAO,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEhD,MAAM,CAAC,OAAO,OAAO,gBAAgB;IACnC;;OAEG;WACW,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACjB;QACD,YAAY,CAAC,GAAG,CAAC;QACjB,oBAAoB,CAAC,GAAG,CAAC;QACzB,oBAAoB,CAAC,GAAG,CAAC;QACzB,gBAAgB,CAAC,GAAG,CAAC;QACrB,iBAAiB,CAAC,GAAG,CAAC;QACtB,gBAAgB,CAAC,GAAG,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;QAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS;KAC/B;CAoEF"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/instruction.d.ts b/dist/browser/types/src/program/namespace/instruction.d.ts
deleted file mode 100644
index 7c3c505c5fc2628f27b99b9f8ffe3a325d9cbddb..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/instruction.d.ts
+++ /dev/null
@@ -1,58 +0,0 @@
-/// <reference types="node" />
-import { AccountMeta, PublicKey, TransactionInstruction } from "@solana/web3.js";
-import { Idl, IdlAccountItem, IdlInstruction } from "../../idl.js";
-import { Accounts } from "../context.js";
-import { AllInstructions, AllInstructionsMap, InstructionContextFn, MakeInstructionsNamespace } from "./types.js";
-export default class InstructionNamespaceFactory {
-    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: I, encodeFn: InstructionEncodeFn<I>, programId: PublicKey): InstructionFn<IDL, I>;
-    static accountsArray(ctx: Accounts | undefined, accounts: readonly IdlAccountItem[], ixName?: string): AccountMeta[];
-}
-/**
- * The namespace provides functions to build [[TransactionInstruction]]
- * objects for each method of a program.
- *
- * ## Usage
- *
- * ```javascript
- * instruction.<method>(...args, ctx);
- * ```
- *
- * ## Parameters
- *
- * 1. `args` - The positional arguments for the program. The type and number
- *    of these arguments depend on the program being used.
- * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
- *    Always the last parameter in the method call.
- *
- * ## Example
- *
- * To create an instruction for the `increment` method above,
- *
- * ```javascript
- * const tx = await program.instruction.increment({
- *   accounts: {
- *     counter,
- *   },
- * });
- * ```
- */
-export declare type InstructionNamespace<IDL extends Idl = Idl, I extends IdlInstruction = IDL["instructions"][number]> = MakeInstructionsNamespace<IDL, I, TransactionInstruction, {
-    [M in keyof AllInstructionsMap<IDL>]: {
-        accounts: (ctx: Accounts<AllInstructionsMap<IDL>[M]["accounts"][number]>) => unknown;
-    };
-}>;
-/**
- * Function to create a `TransactionInstruction` generated from an IDL.
- * Additionally it provides an `accounts` utility method, returning a list
- * of ordered accounts for the instruction.
- */
-export declare type InstructionFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, TransactionInstruction> & IxProps<Accounts<I["accounts"][number]>>;
-declare type IxProps<A extends Accounts> = {
-    /**
-     * Returns an ordered list of accounts associated with the instruction.
-     */
-    accounts: (ctx: A) => AccountMeta[];
-};
-export declare type InstructionEncodeFn<I extends IdlInstruction = IdlInstruction> = (ixName: I["name"], ix: any) => Buffer;
-export {};
-//# sourceMappingURL=instruction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/instruction.d.ts.map b/dist/browser/types/src/program/namespace/instruction.d.ts.map
deleted file mode 100644
index c9c24306fb00d299cbaa4eee1ce6c1c5cbe1ab2a..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/instruction.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/instruction.ts"],"names":[],"mappings":";AAAA,OAAO,EACL,WAAW,EACX,SAAS,EACT,sBAAsB,EACvB,MAAM,iBAAiB,CAAC;AACzB,OAAO,EACL,GAAG,EAEH,cAAc,EAEd,cAAc,EACf,MAAM,cAAc,CAAC;AAQtB,OAAO,EAAE,QAAQ,EAAmB,MAAM,eAAe,CAAC;AAE1D,OAAO,EACL,eAAe,EACf,kBAAkB,EAClB,oBAAoB,EAEpB,yBAAyB,EAC1B,MAAM,YAAY,CAAC;AAEpB,MAAM,CAAC,OAAO,OAAO,2BAA2B;WAChC,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,CAAC,EACR,QAAQ,EAAE,mBAAmB,CAAC,CAAC,CAAC,EAChC,SAAS,EAAE,SAAS,GACnB,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC;WAyCV,aAAa,CACzB,GAAG,EAAE,QAAQ,GAAG,SAAS,EACzB,QAAQ,EAAE,SAAS,cAAc,EAAE,EACnC,MAAM,CAAC,EAAE,MAAM,GACd,WAAW,EAAE;CAwCjB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4BG;AACH,oBAAY,oBAAoB,CAC9B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,IACpD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,sBAAsB,EACtB;KACG,CAAC,IAAI,MAAM,kBAAkB,CAAC,GAAG,CAAC,GAAG;QACpC,QAAQ,EAAE,CACR,GAAG,EAAE,QAAQ,CAAC,kBAAkB,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,KAC1D,OAAO,CAAC;KACd;CACF,CACF,CAAC;AAEF;;;;GAIG;AACH,oBAAY,aAAa,CACvB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,sBAAsB,CAAC,GACtD,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;AAE3C,aAAK,OAAO,CAAC,CAAC,SAAS,QAAQ,IAAI;IACjC;;OAEG;IACH,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC,KAAK,WAAW,EAAE,CAAC;CACrC,CAAC;AAEF,oBAAY,mBAAmB,CAAC,CAAC,SAAS,cAAc,GAAG,cAAc,IAAI,CAC3E,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,EACjB,EAAE,EAAE,GAAG,KACJ,MAAM,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/methods.d.ts b/dist/browser/types/src/program/namespace/methods.d.ts
deleted file mode 100644
index 043f483ecf160a9b2af56d70b33689fdff68541c..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/methods.d.ts
+++ /dev/null
@@ -1,45 +0,0 @@
-import { ConfirmOptions, AccountMeta, Signer, Transaction, TransactionInstruction, TransactionSignature, PublicKey } from "@solana/web3.js";
-import { SimulateResponse } from "./simulate.js";
-import { TransactionFn } from "./transaction.js";
-import { Idl } from "../../idl.js";
-import { AllInstructions, MethodsFn, MakeMethodsNamespace, InstructionAccountAddresses } from "./types.js";
-import { InstructionFn } from "./instruction.js";
-import { RpcFn } from "./rpc.js";
-import { SimulateFn } from "./simulate.js";
-import { ViewFn } from "./views.js";
-import Provider from "../../provider.js";
-import { AccountNamespace } from "./account.js";
-import { Accounts } from "../context.js";
-export declare type MethodsNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeMethodsNamespace<IDL, I>;
-export declare class MethodsBuilderFactory {
-    static build<IDL extends Idl, I extends AllInstructions<IDL>>(provider: Provider, programId: PublicKey, idlIx: AllInstructions<IDL>, ixFn: InstructionFn<IDL>, txFn: TransactionFn<IDL>, rpcFn: RpcFn<IDL>, simulateFn: SimulateFn<IDL>, viewFn: ViewFn<IDL> | undefined, accountNamespace: AccountNamespace<IDL>): MethodsFn<IDL, I, MethodsBuilder<IDL, I>>;
-}
-export declare class MethodsBuilder<IDL extends Idl, I extends AllInstructions<IDL>> {
-    private _args;
-    private _ixFn;
-    private _txFn;
-    private _rpcFn;
-    private _simulateFn;
-    private _viewFn;
-    private readonly _accounts;
-    private _remainingAccounts;
-    private _signers;
-    private _preInstructions;
-    private _postInstructions;
-    private _accountsResolver;
-    private _autoResolveAccounts;
-    constructor(_args: Array<any>, _ixFn: InstructionFn<IDL>, _txFn: TransactionFn<IDL>, _rpcFn: RpcFn<IDL>, _simulateFn: SimulateFn<IDL>, _viewFn: ViewFn<IDL> | undefined, _provider: Provider, _programId: PublicKey, _idlIx: AllInstructions<IDL>, _accountNamespace: AccountNamespace<IDL>);
-    pubkeys(): Promise<Partial<InstructionAccountAddresses<IDL, I>>>;
-    accounts(accounts: Partial<Accounts<I["accounts"][number]>>): MethodsBuilder<IDL, I>;
-    accountsStrict(accounts: Accounts<I["accounts"][number]>): MethodsBuilder<IDL, I>;
-    signers(signers: Array<Signer>): MethodsBuilder<IDL, I>;
-    remainingAccounts(accounts: Array<AccountMeta>): MethodsBuilder<IDL, I>;
-    preInstructions(ixs: Array<TransactionInstruction>): MethodsBuilder<IDL, I>;
-    postInstructions(ixs: Array<TransactionInstruction>): MethodsBuilder<IDL, I>;
-    rpc(options?: ConfirmOptions): Promise<TransactionSignature>;
-    view(options?: ConfirmOptions): Promise<any>;
-    simulate(options?: ConfirmOptions): Promise<SimulateResponse<any, any>>;
-    instruction(): Promise<TransactionInstruction>;
-    transaction(): Promise<Transaction>;
-}
-//# sourceMappingURL=methods.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/methods.d.ts.map b/dist/browser/types/src/program/namespace/methods.d.ts.map
deleted file mode 100644
index 8295f356a6444b5b6260fb68e45af4f0d54d284f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/methods.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"methods.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/methods.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/rpc.d.ts b/dist/browser/types/src/program/namespace/rpc.d.ts
deleted file mode 100644
index cd63f12a2ba03ca8e6d1ea13c113c91adc78d605..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/rpc.d.ts
+++ /dev/null
@@ -1,49 +0,0 @@
-import { TransactionSignature } from "@solana/web3.js";
-import Provider from "../../provider.js";
-import { Idl } from "../../idl.js";
-import { TransactionFn } from "./transaction.js";
-import { AllInstructions, InstructionContextFn, MakeInstructionsNamespace } from "./types.js";
-export default class RpcFactory {
-    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: I, txFn: TransactionFn<IDL, I>, idlErrors: Map<number, string>, provider: Provider): RpcFn;
-}
-/**
- * The namespace provides async methods to send signed transactions for each
- * *non*-state method on Anchor program.
- *
- * Keys are method names, values are RPC functions returning a
- * [[TransactionInstruction]].
- *
- * ## Usage
- *
- * ```javascript
- * rpc.<method>(...args, ctx);
- * ```
- *
- * ## Parameters
- *
- * 1. `args` - The positional arguments for the program. The type and number
- *    of these arguments depend on the program being used.
- * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
- *    Always the last parameter in the method call.
- * ```
- *
- * ## Example
- *
- * To send a transaction invoking the `increment` method above,
- *
- * ```javascript
- * const txSignature = await program.rpc.increment({
- *   accounts: {
- *     counter,
- *     authority,
- *   },
- * });
- * ```
- */
-export declare type RpcNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<TransactionSignature>>;
-/**
- * RpcFn is a single RPC method generated from an IDL, sending a transaction
- * paid for and signed by the configured provider.
- */
-export declare type RpcFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Promise<TransactionSignature>>;
-//# sourceMappingURL=rpc.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/rpc.d.ts.map b/dist/browser/types/src/program/namespace/rpc.d.ts.map
deleted file mode 100644
index 7aa9c7083e31513f267d1bbc258f313f89b690c4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/rpc.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/rpc.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,oBAAoB,EAAE,MAAM,iBAAiB,CAAC;AACvD,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AAEjD,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,YAAY,CAAC;AAEpB,MAAM,CAAC,OAAO,OAAO,UAAU;WACf,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,CAAC,EACR,IAAI,EAAE,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC,EAC3B,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,GACjB,KAAK;CAsBT;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,YAAY,CACtB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC;AAErE;;;GAGG;AACH,oBAAY,KAAK,CACf,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,oBAAoB,CAAC,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/simulate.d.ts b/dist/browser/types/src/program/namespace/simulate.d.ts
deleted file mode 100644
index b8df9b2ea3707c46746dda67ca6ae7d96807d03b..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/simulate.d.ts
+++ /dev/null
@@ -1,59 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import Provider from "../../provider.js";
-import { TransactionFn } from "./transaction.js";
-import { Event } from "../event.js";
-import { Coder } from "../../coder/index.js";
-import { Idl, IdlEvent } from "../../idl.js";
-import { AllInstructions, IdlTypes, InstructionContextFn, MakeInstructionsNamespace } from "./types";
-export default class SimulateFactory {
-    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: AllInstructions<IDL>, txFn: TransactionFn<IDL>, idlErrors: Map<number, string>, provider: Provider, coder: Coder, programId: PublicKey, idl: IDL): SimulateFn<IDL, I>;
-}
-/**
- * The namespace provides functions to simulate transactions for each method
- * of a program, returning a list of deserialized events *and* raw program
- * logs.
- *
- * One can use this to read data calculated from a program on chain, by
- * emitting an event in the program and reading the emitted event client side
- * via the `simulate` namespace.
- *
- * ## Usage
- *
- * ```javascript
- * program.simulate.<method>(...args, ctx);
- * ```
- *
- * ## Parameters
- *
- * 1. `args` - The positional arguments for the program. The type and number
- *    of these arguments depend on the program being used.
- * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
- *    Always the last parameter in the method call.
- *
- * ## Example
- *
- * To simulate the `increment` method above,
- *
- * ```javascript
- * const events = await program.simulate.increment({
- *   accounts: {
- *     counter,
- *   },
- * });
- * ```
- */
-export declare type SimulateNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>>;
-declare type NullableEvents<IDL extends Idl> = IDL["events"] extends undefined ? IdlEvent : NonNullable<IDL["events"]>[number];
-/**
- * SimulateFn is a single method generated from an IDL. It simulates a method
- * against a cluster configured by the provider, returning a list of all the
- * events and raw logs that were emitted during the execution of the
- * method.
- */
-export declare type SimulateFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>>;
-export declare type SimulateResponse<E extends IdlEvent, Defined> = {
-    events: readonly Event<E, Defined>[];
-    raw: readonly string[];
-};
-export {};
-//# sourceMappingURL=simulate.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/simulate.d.ts.map b/dist/browser/types/src/program/namespace/simulate.d.ts.map
deleted file mode 100644
index 340cf78435756113152887e15ee4249e1b781726..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/simulate.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AAGzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAe,KAAK,EAAE,MAAM,aAAa,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,eAAe,EACf,QAAQ,EACR,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAEjB,MAAM,CAAC,OAAO,OAAO,eAAe;WACpB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,EACxB,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,GAAG,EAAE,GAAG,GACP,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;CAuCtB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,iBAAiB,CAC3B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,aAAK,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,SAAS,SAAS,GAClE,QAAQ,GACR,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAEvC;;;;;GAKG;AACH,oBAAY,UAAU,CACpB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CACtB,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,oBAAY,gBAAgB,CAAC,CAAC,SAAS,QAAQ,EAAE,OAAO,IAAI;IAC1D,MAAM,EAAE,SAAS,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC;IACrC,GAAG,EAAE,SAAS,MAAM,EAAE,CAAC;CACxB,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/state.d.ts b/dist/browser/types/src/program/namespace/state.d.ts
deleted file mode 100644
index 722980128ea238f5c887db26c620979038f09d8b..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/state.d.ts
+++ /dev/null
@@ -1,75 +0,0 @@
-import EventEmitter from "eventemitter3";
-import { PublicKey, Commitment } from "@solana/web3.js";
-import Provider from "../../provider.js";
-import { Idl, IdlInstruction, IdlTypeDef } from "../../idl.js";
-import { Coder } from "../../coder/index.js";
-import { RpcNamespace, InstructionNamespace, TransactionNamespace } from "./index.js";
-import { IdlTypes, TypeDef } from "./types.js";
-export default class StateFactory {
-    static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): StateClient<IDL> | undefined;
-}
-declare type NullableMethods<IDL extends Idl> = IDL["state"] extends undefined ? IdlInstruction[] : NonNullable<IDL["state"]>["methods"];
-/**
- * A client for the program state. Similar to the base [[Program]] client,
- * one can use this to send transactions and read accounts for the state
- * abstraction.
- */
-export declare class StateClient<IDL extends Idl> {
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    readonly provider: Provider;
-    /**
-     * Returns the coder.
-     */
-    readonly coder: Coder;
-    /**
-     * [[RpcNamespace]] for all state methods.
-     */
-    readonly rpc: RpcNamespace<IDL, NullableMethods<IDL>[number]>;
-    /**
-     * [[InstructionNamespace]] for all state methods.
-     */
-    readonly instruction: InstructionNamespace<IDL, NullableMethods<IDL>[number]>;
-    /**
-     * [[TransactionNamespace]] for all state methods.
-     */
-    readonly transaction: TransactionNamespace<IDL, NullableMethods<IDL>[number]>;
-    /**
-     * Returns the program ID owning the state.
-     */
-    get programId(): PublicKey;
-    private _programId;
-    private _address;
-    private _coder;
-    private _idl;
-    private _sub;
-    constructor(idl: IDL, programId: PublicKey, 
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    provider?: Provider, 
-    /**
-     * Returns the coder.
-     */
-    coder?: Coder);
-    /**
-     * Returns the deserialized state account.
-     */
-    fetch(): Promise<TypeDef<IDL["state"] extends undefined ? IdlTypeDef : NonNullable<IDL["state"]>["struct"], IdlTypes<IDL>>>;
-    /**
-     * Returns the state address.
-     */
-    address(): PublicKey;
-    /**
-     * Returns an `EventEmitter` with a `"change"` event that's fired whenever
-     * the state account cahnges.
-     */
-    subscribe(commitment?: Commitment): EventEmitter;
-    /**
-     * Unsubscribes to state changes.
-     */
-    unsubscribe(): void;
-}
-export {};
-//# sourceMappingURL=state.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/state.d.ts.map b/dist/browser/types/src/program/namespace/state.d.ts.map
deleted file mode 100644
index 12d4a30a1e16bdffa077338ee3293a51f327f466..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/state.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AAEzC,OAAO,EACL,SAAS,EAET,UAAU,EAEX,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAE,GAAG,EAAE,cAAc,EAAkB,UAAU,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAc,KAAK,EAAsB,MAAM,sBAAsB,CAAC;AAC7E,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACrB,MAAM,YAAY,CAAC;AAUpB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,CAAC,OAAO,OAAO,YAAY;WACjB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;CAMhC;AAED,aAAK,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,SAAS,GAClE,cAAc,EAAE,GAChB,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;AAEzC;;;;GAIG;AACH,qBAAa,WAAW,CAAC,GAAG,SAAS,GAAG;IAgCpC;;OAEG;aACa,QAAQ,EAAE,QAAQ;IAClC;;OAEG;aACa,KAAK,EAAE,KAAK;IAtC9B;;OAEG;IACH,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B,OAAO,CAAC,QAAQ,CAAY;IAC5B,OAAO,CAAC,MAAM,CAAQ;IACtB,OAAO,CAAC,IAAI,CAAM;IAClB,OAAO,CAAC,IAAI,CAAsB;gBAGhC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS;IACpB;;OAEG;IACa,QAAQ,GAAE,QAAwB;IAClD;;OAEG;IACa,KAAK,GAAE,KAA2B;IAgEpD;;OAEG;IACG,KAAK,IAAI,OAAO,CACpB,OAAO,CACL,GAAG,CAAC,OAAO,CAAC,SAAS,SAAS,GAC1B,UAAU,GACV,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EACvC,QAAQ,CAAC,GAAG,CAAC,CACd,CACF;IAkBD;;OAEG;IACH,OAAO,IAAI,SAAS;IAIpB;;;OAGG;IACH,SAAS,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IAuBhD;;OAEG;IACH,WAAW;CAUZ"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/transaction.d.ts b/dist/browser/types/src/program/namespace/transaction.d.ts
deleted file mode 100644
index 5ed2a2b1f1fb41c3543469213a421e6debc74ea4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/transaction.d.ts
+++ /dev/null
@@ -1,42 +0,0 @@
-import { Transaction } from "@solana/web3.js";
-import { Idl } from "../../idl.js";
-import { InstructionFn } from "./instruction.js";
-import { AllInstructions, InstructionContextFn, MakeInstructionsNamespace } from "./types.js";
-export default class TransactionFactory {
-    static build<IDL extends Idl, I extends AllInstructions<IDL>>(idlIx: I, ixFn: InstructionFn<IDL, I>): TransactionFn<IDL, I>;
-}
-/**
- * The namespace provides functions to build [[Transaction]] objects for each
- * method of a program.
- *
- * ## Usage
- *
- * ```javascript
- * program.transaction.<method>(...args, ctx);
- * ```
- *
- * ## Parameters
- *
- * 1. `args` - The positional arguments for the program. The type and number
- *    of these arguments depend on the program being used.
- * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
- *    Always the last parameter in the method call.
- *
- * ## Example
- *
- * To create an instruction for the `increment` method above,
- *
- * ```javascript
- * const tx = await program.transaction.increment({
- *   accounts: {
- *     counter,
- *   },
- * });
- * ```
- */
-export declare type TransactionNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Transaction>;
-/**
- * Tx is a function to create a `Transaction` for a given program instruction.
- */
-export declare type TransactionFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Transaction>;
-//# sourceMappingURL=transaction.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/transaction.d.ts.map b/dist/browser/types/src/program/namespace/transaction.d.ts.map
deleted file mode 100644
index 81dc9f1e2abc9f2a9f2a0424c012a502baaf289e..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/transaction.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"transaction.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/transaction.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAC9C,OAAO,EAAE,GAAG,EAAkB,MAAM,cAAc,CAAC;AAEnD,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,YAAY,CAAC;AAEpB,MAAM,CAAC,OAAO,OAAO,kBAAkB;WACvB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,CAAC,EACR,IAAI,EAAE,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC,GAC1B,aAAa,CAAC,GAAG,EAAE,CAAC,CAAC;CAgBzB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;GA4BG;AACH,oBAAY,oBAAoB,CAC9B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC;AAEnD;;GAEG;AACH,oBAAY,aAAa,CACvB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,WAAW,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/types.d.ts b/dist/browser/types/src/program/namespace/types.d.ts
deleted file mode 100644
index c3a3c2fce78481bec9b14fb511411aa2c493f53c..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/types.d.ts
+++ /dev/null
@@ -1,107 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import BN from "bn.js";
-import { Idl } from "../../";
-import { IdlField, IdlInstruction, IdlType, IdlTypeDef, IdlTypeDefTyEnum, IdlTypeDefTyStruct } from "../../idl";
-import { Accounts, Context } from "../context";
-import { MethodsBuilder } from "./methods";
-/**
- * All instructions for an IDL.
- */
-export declare type AllInstructions<IDL extends Idl> = IDL["instructions"][number];
-/**
- * Returns a type of instruction name to the IdlInstruction.
- */
-export declare type InstructionMap<I extends IdlInstruction> = {
-    [K in I["name"]]: I & {
-        name: K;
-    };
-};
-/**
- * Returns a type of instruction name to the IdlInstruction.
- */
-export declare type AllInstructionsMap<IDL extends Idl> = InstructionMap<AllInstructions<IDL>>;
-/**
- * All accounts for an IDL.
- */
-export declare type AllAccounts<IDL extends Idl> = IDL["accounts"] extends undefined ? IdlTypeDef : NonNullable<IDL["accounts"]>[number];
-/**
- * Returns a type of instruction name to the IdlInstruction.
- */
-export declare type AccountMap<I extends IdlTypeDef> = {
-    [K in I["name"]]: I & {
-        name: K;
-    };
-};
-/**
- * Returns a type of instruction name to the IdlInstruction.
- */
-export declare type AllAccountsMap<IDL extends Idl> = AccountMap<AllAccounts<IDL>>;
-export declare type MakeInstructionsNamespace<IDL extends Idl, I extends IdlInstruction, Ret, Mk extends {
-    [M in keyof InstructionMap<I>]: unknown;
-} = {
-    [M in keyof InstructionMap<I>]: unknown;
-}> = {
-    [M in keyof InstructionMap<I>]: InstructionContextFn<IDL, InstructionMap<I>[M], Ret> & Mk[M];
-};
-export declare type MakeMethodsNamespace<IDL extends Idl, I extends IdlInstruction> = {
-    [M in keyof InstructionMap<I>]: MethodsFn<IDL, InstructionMap<I>[M], MethodsBuilder<IDL, InstructionMap<I>[M]>>;
-};
-export declare type InstructionContextFn<IDL extends Idl, I extends AllInstructions<IDL>, Ret> = (...args: InstructionContextFnArgs<IDL, I>) => Ret;
-export declare type InstructionContextFnArgs<IDL extends Idl, I extends IDL["instructions"][number]> = [
-    ...ArgsTuple<I["args"], IdlTypes<IDL>>,
-    Context<Accounts<I["accounts"][number]>>
-];
-export declare type InstructionAccountAddresses<IDL extends Idl, I extends AllInstructions<IDL>> = {
-    [N in keyof Accounts<I["accounts"][number]>]: PublicKey;
-};
-export declare type MethodsFn<IDL extends Idl, I extends IDL["instructions"][number], Ret> = (...args: ArgsTuple<I["args"], IdlTypes<IDL>>) => Ret;
-declare type TypeMap = {
-    publicKey: PublicKey;
-    bool: boolean;
-    string: string;
-} & {
-    [K in "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "f64"]: number;
-} & {
-    [K in "u64" | "i64" | "u128" | "i128"]: BN;
-};
-export declare type DecodeType<T extends IdlType, Defined> = T extends keyof TypeMap ? TypeMap[T] : T extends {
-    defined: keyof Defined;
-} ? Defined[T["defined"]] : T extends {
-    option: {
-        defined: keyof Defined;
-    };
-} ? Defined[T["option"]["defined"]] | null : T extends {
-    option: keyof TypeMap;
-} ? TypeMap[T["option"]] | null : T extends {
-    coption: {
-        defined: keyof Defined;
-    };
-} ? Defined[T["coption"]["defined"]] | null : T extends {
-    coption: keyof TypeMap;
-} ? TypeMap[T["coption"]] | null : T extends {
-    vec: keyof TypeMap;
-} ? TypeMap[T["vec"]][] : T extends {
-    array: [defined: keyof TypeMap, size: number];
-} ? TypeMap[T["array"][0]][] : unknown;
-/**
- * Tuple of arguments.
- */
-declare type ArgsTuple<A extends IdlField[], Defined> = {
-    [K in keyof A]: A[K] extends IdlField ? DecodeType<A[K]["type"], Defined> : unknown;
-} & unknown[];
-declare type FieldsOfType<I extends IdlTypeDef> = NonNullable<I["type"] extends IdlTypeDefTyStruct ? I["type"]["fields"] : I["type"] extends IdlTypeDefTyEnum ? I["type"]["variants"][number]["fields"] : any[]>[number];
-export declare type TypeDef<I extends IdlTypeDef, Defined> = {
-    [F in FieldsOfType<I>["name"]]: DecodeType<(FieldsOfType<I> & {
-        name: F;
-    })["type"], Defined>;
-};
-declare type TypeDefDictionary<T extends IdlTypeDef[], Defined> = {
-    [K in T[number]["name"]]: TypeDef<T[number] & {
-        name: K;
-    }, Defined>;
-};
-export declare type IdlTypes<T extends Idl> = TypeDefDictionary<NonNullable<T["types"]>, Record<string, never>>;
-export declare type IdlAccounts<T extends Idl> = TypeDefDictionary<NonNullable<T["accounts"]>, Record<string, never>>;
-export declare type IdlErrorInfo<IDL extends Idl> = NonNullable<IDL["errors"]>[number];
-export {};
-//# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/types.d.ts.map b/dist/browser/types/src/program/namespace/types.d.ts.map
deleted file mode 100644
index 45ee1c5d16e3df9a1422c7f5847bcb499fdda5ee..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/types.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/types.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/views.d.ts b/dist/browser/types/src/program/namespace/views.d.ts
deleted file mode 100644
index 835cc86cd424d810c47dccc5e1c4371c96aae5ba..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/views.d.ts
+++ /dev/null
@@ -1,15 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import { Idl } from "../../idl.js";
-import { SimulateFn } from "./simulate.js";
-import { AllInstructions, InstructionContextFn, MakeInstructionsNamespace } from "./types";
-export default class ViewFactory {
-    static build<IDL extends Idl, I extends AllInstructions<IDL>>(programId: PublicKey, idlIx: AllInstructions<IDL>, simulateFn: SimulateFn<IDL>, idl: IDL): ViewFn<IDL, I> | undefined;
-}
-export declare type ViewNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<any>>;
-/**
- * ViewFn is a single method generated from an IDL. It simulates a method
- * against a cluster configured by the provider, and then parses the events
- * and extracts return data from the raw logs emitted during the simulation.
- */
-export declare type ViewFn<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = InstructionContextFn<IDL, I, Promise<any>>;
-//# sourceMappingURL=views.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/program/namespace/views.d.ts.map b/dist/browser/types/src/program/namespace/views.d.ts.map
deleted file mode 100644
index 1515d58e1ed6537a963be8bf73d7eae7f28e5582..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/program/namespace/views.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"views.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/views.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAc,MAAM,cAAc,CAAC;AAC/C,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC3C,OAAO,EACL,eAAe,EACf,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAIjB,MAAM,CAAC,OAAO,OAAO,WAAW;WAChB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,UAAU,EAAE,UAAU,CAAC,GAAG,CAAC,EAC3B,GAAG,EAAE,GAAG,GACP,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC,GAAG,SAAS;CA2B9B;AAED,oBAAY,aAAa,CACvB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;AAEpD;;;;GAIG;AACH,oBAAY,MAAM,CAChB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CAAC,GAAG,EAAE,CAAC,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/provider.d.ts b/dist/browser/types/src/provider.d.ts
deleted file mode 100644
index e2ba9863187b1e805ad5ff4658751b180b1cc72f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/provider.d.ts
+++ /dev/null
@@ -1,90 +0,0 @@
-import { Connection, Signer, PublicKey, Transaction, TransactionSignature, ConfirmOptions, Commitment, SendOptions } from "@solana/web3.js";
-import { SuccessfulTxSimulationResponse } from "./utils/rpc.js";
-export default interface Provider {
-    readonly connection: Connection;
-    readonly publicKey?: PublicKey;
-    send?(tx: Transaction, signers?: Signer[], opts?: SendOptions): Promise<TransactionSignature>;
-    sendAndConfirm?(tx: Transaction, signers?: Signer[], opts?: ConfirmOptions): Promise<TransactionSignature>;
-    sendAll?(txWithSigners: {
-        tx: Transaction;
-        signers?: Signer[];
-    }[], opts?: ConfirmOptions): Promise<Array<TransactionSignature>>;
-    simulate?(tx: Transaction, signers?: Signer[], commitment?: Commitment, includeAccounts?: boolean | PublicKey[]): Promise<SuccessfulTxSimulationResponse>;
-}
-/**
- * The network and wallet context used to send transactions paid for and signed
- * by the provider.
- */
-export declare class AnchorProvider implements Provider {
-    readonly connection: Connection;
-    readonly wallet: Wallet;
-    readonly opts: ConfirmOptions;
-    readonly publicKey: PublicKey;
-    /**
-     * @param connection The cluster connection where the program is deployed.
-     * @param wallet     The wallet used to pay for and sign all transactions.
-     * @param opts       Transaction confirmation options to use by default.
-     */
-    constructor(connection: Connection, wallet: Wallet, opts: ConfirmOptions);
-    static defaultOptions(): ConfirmOptions;
-    /**
-     * Returns a `Provider` with a wallet read from the local filesystem.
-     *
-     * @param url  The network cluster url.
-     * @param opts The default transaction confirmation options.
-     *
-     * (This api is for Node only.)
-     */
-    static local(url?: string, opts?: ConfirmOptions): AnchorProvider;
-    /**
-     * Returns a `Provider` read from the `ANCHOR_PROVIDER_URL` environment
-     * variable
-     *
-     * (This api is for Node only.)
-     */
-    static env(): AnchorProvider;
-    /**
-     * Sends the given transaction, paid for and signed by the provider's wallet.
-     *
-     * @param tx      The transaction to send.
-     * @param signers The signers of the transaction.
-     * @param opts    Transaction confirmation options.
-     */
-    sendAndConfirm(tx: Transaction, signers?: Signer[], opts?: ConfirmOptions): Promise<TransactionSignature>;
-    /**
-     * Similar to `send`, but for an array of transactions and signers.
-     */
-    sendAll(txWithSigners: {
-        tx: Transaction;
-        signers?: Signer[];
-    }[], opts?: ConfirmOptions): Promise<Array<TransactionSignature>>;
-    /**
-     * Simulates the given transaction, returning emitted logs from execution.
-     *
-     * @param tx      The transaction to send.
-     * @param signers The signers of the transaction.
-     * @param opts    Transaction confirmation options.
-     */
-    simulate(tx: Transaction, signers?: Signer[], commitment?: Commitment, includeAccounts?: boolean | PublicKey[]): Promise<SuccessfulTxSimulationResponse>;
-}
-export declare type SendTxRequest = {
-    tx: Transaction;
-    signers: Array<Signer | undefined>;
-};
-/**
- * Wallet interface for objects that can be used to sign provider transactions.
- */
-export interface Wallet {
-    signTransaction(tx: Transaction): Promise<Transaction>;
-    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
-    publicKey: PublicKey;
-}
-/**
- * Sets the default provider on the client.
- */
-export declare function setProvider(provider: Provider): void;
-/**
- * Returns the default provider being used by the client.
- */
-export declare function getProvider(): Provider;
-//# sourceMappingURL=provider.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/provider.d.ts.map b/dist/browser/types/src/provider.d.ts.map
deleted file mode 100644
index 9d7166e09c5a11de8cc7378ce01d79769dd67984..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/provider.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"provider.d.ts","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/spl/associated-token.d.ts b/dist/browser/types/src/spl/associated-token.d.ts
deleted file mode 100644
index 938c49754bf9427ffa5cb9fc2fd4c3196401a6ff..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/spl/associated-token.d.ts
+++ /dev/null
@@ -1,57 +0,0 @@
-import { Program } from "../program/index.js";
-import Provider from "../provider.js";
-import { SplAssociatedTokenCoder } from "../coder/spl-associated-token/index.js";
-export declare function program(provider?: Provider): Program<SplAssociatedToken>;
-export declare function coder(): SplAssociatedTokenCoder;
-/**
- * SplAssociatedToken IDL.
- */
-export declare type SplAssociatedToken = {
-    version: "0.1.0";
-    name: "spl_associated_token";
-    instructions: [
-        {
-            name: "create";
-            accounts: [
-                {
-                    name: "authority";
-                    isMut: true;
-                    isSigner: true;
-                },
-                {
-                    name: "associatedAccount";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "owner";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "systemProgram";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "tokenProgram";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        }
-    ];
-};
-export declare const IDL: SplAssociatedToken;
-//# sourceMappingURL=associated-token.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/spl/associated-token.d.ts.map b/dist/browser/types/src/spl/associated-token.d.ts.map
deleted file mode 100644
index cc0b108d158c0fa64f2027385e142de86315748e..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/spl/associated-token.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"associated-token.d.ts","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAMjF,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAOxE;AAED,wBAAgB,KAAK,IAAI,uBAAuB,CAE/C;AAED;;GAEG;AACH,oBAAY,kBAAkB,GAAG;IAC/B,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,sBAAsB,CAAC;IAC7B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,IAAI,CAAC;iBAChB;gBACD;oBACE,IAAI,EAAE,mBAAmB,CAAC;oBAC1B,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC;oBACd,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,kBA8CjB,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/spl/index.d.ts b/dist/browser/types/src/spl/index.d.ts
deleted file mode 100644
index 31fb8dbfa2e9c03cc038bd1d42d8b4dd871f6a9c..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/spl/index.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-import { Program, Provider } from "../index.js";
-import { SplAssociatedToken } from "./associated-token.js";
-import { SplToken } from "./token.js";
-export { SplToken } from "./token.js";
-export declare class Spl {
-    static token(provider?: Provider): Program<SplToken>;
-    static associatedToken(provider?: Provider): Program<SplAssociatedToken>;
-}
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/spl/index.d.ts.map b/dist/browser/types/src/spl/index.d.ts.map
deleted file mode 100644
index a1302db01d07f419dcf1cdba4a33b9a44b616994..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/spl/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAEL,kBAAkB,EACnB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAA2B,QAAQ,EAAE,MAAM,YAAY,CAAC;AAE/D,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC,qBAAa,GAAG;WACA,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;WAI7C,eAAe,CAC3B,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,kBAAkB,CAAC;CAG/B"}
\ No newline at end of file
diff --git a/dist/browser/types/src/spl/token.d.ts b/dist/browser/types/src/spl/token.d.ts
deleted file mode 100644
index 83907a0b82938030a4a5545fd04d88b3c94eca20..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/spl/token.d.ts
+++ /dev/null
@@ -1,614 +0,0 @@
-import { Program } from "../program/index.js";
-import Provider from "../provider.js";
-import { SplTokenCoder } from "../coder/spl-token/index.js";
-export declare function program(provider?: Provider): Program<SplToken>;
-export declare function coder(): SplTokenCoder;
-/**
- * SplToken IDL.
- */
-export declare type SplToken = {
-    version: "0.1.0";
-    name: "spl_token";
-    instructions: [
-        {
-            name: "initializeMint";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "decimals";
-                    type: "u8";
-                },
-                {
-                    name: "mintAuthority";
-                    type: "publicKey";
-                },
-                {
-                    name: "freezeAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        },
-        {
-            name: "initializeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "initializeMultisig";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "m";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "transfer";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "approve";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "delegate";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "revoke";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "setAuthority";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "authorityType";
-                    type: "u8";
-                },
-                {
-                    name: "newAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        },
-        {
-            name: "mintTo";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "burn";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "closeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "freezeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "thawAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "transferChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "approveChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "delegate";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "mintToChecked";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "burnChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "initializeAccount2";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authority";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "syncNative";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "initializeAccount3";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authority";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "initializeMultisig2";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "m";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "initializeMint2";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "decimals";
-                    type: "u8";
-                },
-                {
-                    name: "mintAuthority";
-                    type: "publicKey";
-                },
-                {
-                    name: "freezeAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        }
-    ];
-    accounts: [
-        {
-            name: "mint";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "mintAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    },
-                    {
-                        name: "supply";
-                        type: "u64";
-                    },
-                    {
-                        name: "decimals";
-                        type: "u8";
-                    },
-                    {
-                        name: "isInitialized";
-                        type: "bool";
-                    },
-                    {
-                        name: "freezeAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    }
-                ];
-            };
-        },
-        {
-            name: "token";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "mint";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "authority";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "amount";
-                        type: "u64";
-                    },
-                    {
-                        name: "delegate";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    },
-                    {
-                        name: "state";
-                        type: "u8";
-                    },
-                    {
-                        name: "isNative";
-                        type: {
-                            coption: "u64";
-                        };
-                    },
-                    {
-                        name: "delegatedAmount";
-                        type: "u64";
-                    },
-                    {
-                        name: "closeAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    }
-                ];
-            };
-        }
-    ];
-};
-export declare const IDL: SplToken;
-//# sourceMappingURL=token.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/spl/token.d.ts.map b/dist/browser/types/src/spl/token.d.ts.map
deleted file mode 100644
index fca2c151abeb5cfc61d8fe0648110de57e74992a..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/spl/token.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"token.d.ts","sourceRoot":"","sources":["../../../src/spl/token.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/base64.d.ts b/dist/browser/types/src/utils/bytes/base64.d.ts
deleted file mode 100644
index b5d66981f4399eed3b79b3a255e01af018b09182..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/base64.d.ts
+++ /dev/null
@@ -1,5 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-export declare function encode(data: Buffer): string;
-export declare function decode(data: string): Buffer;
-//# sourceMappingURL=base64.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/base64.d.ts.map b/dist/browser/types/src/utils/bytes/base64.d.ts.map
deleted file mode 100644
index 8a024185148a85b917de8cb9ebb3a536fdf316f2..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/base64.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"base64.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAE3C;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAE3C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/bs58.d.ts b/dist/browser/types/src/utils/bytes/bs58.d.ts
deleted file mode 100644
index 0d24ed3279fc48ed875394ab15654a27b96273f3..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/bs58.d.ts
+++ /dev/null
@@ -1,4 +0,0 @@
-/// <reference types="node" />
-export declare function encode(data: Buffer | number[] | Uint8Array): string;
-export declare function decode(data: string): Buffer;
-//# sourceMappingURL=bs58.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/bs58.d.ts.map b/dist/browser/types/src/utils/bytes/bs58.d.ts.map
deleted file mode 100644
index 1e56d5574aaee608f46dbc55f365e0e02b33b6d1..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/bs58.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"bs58.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";AAEA,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,UAAU,UAE1D;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,UAElC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/hex.d.ts b/dist/browser/types/src/utils/bytes/hex.d.ts
deleted file mode 100644
index 021ea9d090b78c1a325a796355c808ad55cbfbc4..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/hex.d.ts
+++ /dev/null
@@ -1,5 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-export declare function encode(data: Buffer): string;
-export declare function decode(data: string): Buffer;
-//# sourceMappingURL=hex.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/hex.d.ts.map b/dist/browser/types/src/utils/bytes/hex.d.ts.map
deleted file mode 100644
index f4d48375ea0a2ca94b7858a7c159a98119ab7da3..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/hex.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"hex.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAK3C;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAe3C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/index.d.ts b/dist/browser/types/src/utils/bytes/index.d.ts
deleted file mode 100644
index 1a0eba3ff8bbfa0572b774949c10450b628fd8c6..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/index.d.ts
+++ /dev/null
@@ -1,5 +0,0 @@
-export * as hex from "./hex.js";
-export * as utf8 from "./utf8.js";
-export * as bs58 from "./bs58.js";
-export * as base64 from "./base64.js";
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/index.d.ts.map b/dist/browser/types/src/utils/bytes/index.d.ts.map
deleted file mode 100644
index 9d33f1891f5b5dc6544fa553c7e0e8ab35493704..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/utf8.d.ts b/dist/browser/types/src/utils/bytes/utf8.d.ts
deleted file mode 100644
index e56620f12bd6c707bf2e6cfdbc6c5193f80af5b1..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/utf8.d.ts
+++ /dev/null
@@ -1,3 +0,0 @@
-export declare function decode(array: Uint8Array): string;
-export declare function encode(input: string): Uint8Array;
-//# sourceMappingURL=utf8.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/bytes/utf8.d.ts.map b/dist/browser/types/src/utils/bytes/utf8.d.ts.map
deleted file mode 100644
index 00b54f3daac42c01c70bc124ccb16125f7343348..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/bytes/utf8.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"utf8.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":"AAEA,wBAAgB,MAAM,CAAC,KAAK,EAAE,UAAU,GAAG,MAAM,CAMhD;AAED,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,CAKhD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/common.d.ts b/dist/browser/types/src/utils/common.d.ts
deleted file mode 100644
index a1b6c90c504dfd7de7f1190d14e7f3e9ed7be001..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/common.d.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-/**
- * Returns true if being run inside a web browser,
- * false if in a Node process or electron app.
- */
-export declare const isBrowser: string | boolean;
-/**
- * Splits an array into chunks
- *
- * @param array Array of objects to chunk.
- * @param size The max size of a chunk.
- * @returns A two dimensional array where each T[] length is < the provided size.
- */
-export declare function chunks<T>(array: T[], size: number): T[][];
-//# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/common.d.ts.map b/dist/browser/types/src/utils/common.d.ts.map
deleted file mode 100644
index f5a3031335445a8078488409e4b8a817ea977975..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/common.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,eAAO,MAAM,SAAS,kBAEsD,CAAC;AAE7E;;;;;;GAMG;AACH,wBAAgB,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,EAAE,CAIzD"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/features.d.ts b/dist/browser/types/src/utils/features.d.ts
deleted file mode 100644
index e5f059d358dd6fa186ef4064d3f2a35134c5c705..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/features.d.ts
+++ /dev/null
@@ -1,3 +0,0 @@
-export declare function set(key: string): void;
-export declare function isSet(key: string): boolean;
-//# sourceMappingURL=features.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/features.d.ts.map b/dist/browser/types/src/utils/features.d.ts.map
deleted file mode 100644
index fe38a8d3970df49407c96a80caa772a9e2331e1d..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/features.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"features.d.ts","sourceRoot":"","sources":["../../../src/utils/features.ts"],"names":[],"mappings":"AAIA,wBAAgB,GAAG,CAAC,GAAG,EAAE,MAAM,QAK9B;AAED,wBAAgB,KAAK,CAAC,GAAG,EAAE,MAAM,GAAG,OAAO,CAE1C"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/index.d.ts b/dist/browser/types/src/utils/index.d.ts
deleted file mode 100644
index 327136231af8e7d220eafa3bec3714d925ad7400..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/index.d.ts
+++ /dev/null
@@ -1,8 +0,0 @@
-export * as sha256 from "./sha256.js";
-export * as rpc from "./rpc.js";
-export * as publicKey from "./pubkey.js";
-export * as bytes from "./bytes/index.js";
-export * as token from "./token.js";
-export * as features from "./features.js";
-export * as registry from "./registry.js";
-//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/index.d.ts.map b/dist/browser/types/src/utils/index.d.ts.map
deleted file mode 100644
index 1d7fce0199ec5e07ff55020320f9206030315969..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/index.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/utils/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AACtC,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,SAAS,MAAM,aAAa,CAAC;AACzC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,OAAO,KAAK,KAAK,MAAM,YAAY,CAAC;AACpC,OAAO,KAAK,QAAQ,MAAM,eAAe,CAAC;AAC1C,OAAO,KAAK,QAAQ,MAAM,eAAe,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/pubkey.d.ts b/dist/browser/types/src/utils/pubkey.d.ts
deleted file mode 100644
index 6b245692eab63352d894ce94f36cadd5df9b815c..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/pubkey.d.ts
+++ /dev/null
@@ -1,9 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { PublicKey } from "@solana/web3.js";
-import { Address } from "../program/common.js";
-export declare function createWithSeedSync(fromPublicKey: PublicKey, seed: string, programId: PublicKey): PublicKey;
-export declare function createProgramAddressSync(seeds: Array<Buffer | Uint8Array>, programId: PublicKey): PublicKey;
-export declare function findProgramAddressSync(seeds: Array<Buffer | Uint8Array>, programId: PublicKey): [PublicKey, number];
-export declare function associated(programId: Address, ...args: Array<Address | Buffer>): Promise<PublicKey>;
-//# sourceMappingURL=pubkey.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/pubkey.d.ts.map b/dist/browser/types/src/utils/pubkey.d.ts.map
deleted file mode 100644
index 42eafb368f708502df5cbd3aaf47fa861291565f..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/pubkey.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"pubkey.d.ts","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AAGjE,wBAAgB,kBAAkB,CAChC,aAAa,EAAE,SAAS,EACxB,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,SAAS,CAQX;AAGD,wBAAgB,wBAAwB,CACtC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,SAAS,CAqBX;AAGD,wBAAgB,sBAAsB,CACpC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,CAAC,SAAS,EAAE,MAAM,CAAC,CAiBrB;AAYD,wBAAsB,UAAU,CAC9B,SAAS,EAAE,OAAO,EAClB,GAAG,IAAI,EAAE,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAC/B,OAAO,CAAC,SAAS,CAAC,CAUpB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/registry.d.ts b/dist/browser/types/src/utils/registry.d.ts
deleted file mode 100644
index 109b7c68bdea6701d38f6d006b4d9bebbf26e279..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/registry.d.ts
+++ /dev/null
@@ -1,35 +0,0 @@
-/// <reference types="node" />
-import BN from "bn.js";
-import { Connection, PublicKey } from "@solana/web3.js";
-/**
- * Returns a verified build from the anchor registry. null if no such
- * verified build exists, e.g., if the program has been upgraded since the
- * last verified build.
- */
-export declare function verifiedBuild(connection: Connection, programId: PublicKey, limit?: number): Promise<Build | null>;
-/**
- * Returns the program data account for this program, containing the
- * metadata for this program, e.g., the upgrade authority.
- */
-export declare function fetchData(connection: Connection, programId: PublicKey): Promise<ProgramData>;
-export declare function decodeUpgradeableLoaderState(data: Buffer): any;
-export declare type ProgramData = {
-    slot: BN;
-    upgradeAuthorityAddress: PublicKey | null;
-};
-export declare type Build = {
-    aborted: boolean;
-    address: string;
-    created_at: string;
-    updated_at: string;
-    descriptor: string[];
-    docker: string;
-    id: number;
-    name: string;
-    sha256: string;
-    upgrade_authority: string;
-    verified: string;
-    verified_slot: number;
-    state: string;
-};
-//# sourceMappingURL=registry.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/registry.d.ts.map b/dist/browser/types/src/utils/registry.d.ts.map
deleted file mode 100644
index c9ac69fe32fe0aa9c24a542299b72bb5acd0d5f3..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/registry.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"registry.d.ts","sourceRoot":"","sources":["../../../src/utils/registry.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAGvB,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAExD;;;;GAIG;AACH,wBAAsB,aAAa,CACjC,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,SAAS,EACpB,KAAK,GAAE,MAAU,GAChB,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,CAyBvB;AAED;;;GAGG;AACH,wBAAsB,SAAS,CAC7B,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,WAAW,CAAC,CAgBtB;AAsBD,wBAAgB,4BAA4B,CAAC,IAAI,EAAE,MAAM,GAAG,GAAG,CAE9D;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,EAAE,CAAC;IACT,uBAAuB,EAAE,SAAS,GAAG,IAAI,CAAC;CAC3C,CAAC;AAEF,oBAAY,KAAK,GAAG;IAClB,OAAO,EAAE,OAAO,CAAC;IACjB,OAAO,EAAE,MAAM,CAAC;IAChB,UAAU,EAAE,MAAM,CAAC;IACnB,UAAU,EAAE,MAAM,CAAC;IACnB,UAAU,EAAE,MAAM,EAAE,CAAC;IACrB,MAAM,EAAE,MAAM,CAAC;IACf,EAAE,EAAE,MAAM,CAAC;IACX,IAAI,EAAE,MAAM,CAAC;IACb,MAAM,EAAE,MAAM,CAAC;IACf,iBAAiB,EAAE,MAAM,CAAC;IAC1B,QAAQ,EAAE,MAAM,CAAC;IACjB,aAAa,EAAE,MAAM,CAAC;IACtB,KAAK,EAAE,MAAM,CAAC;CACf,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/rpc.d.ts b/dist/browser/types/src/utils/rpc.d.ts
deleted file mode 100644
index 9f0ce0f122b8d6496016401e1e89a0e09f39aeed..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/rpc.d.ts
+++ /dev/null
@@ -1,17 +0,0 @@
-/// <reference types="node" />
-import { Buffer } from "buffer";
-import { AccountInfo, AccountMeta, Connection, PublicKey, TransactionSignature, Transaction, Commitment, Signer, RpcResponseAndContext, SimulatedTransactionResponse } from "@solana/web3.js";
-import { Address } from "../program/common.js";
-import Provider from "../provider.js";
-/**
- * Sends a transaction to a program with the given accounts and instruction
- * data.
- */
-export declare function invoke(programId: Address, accounts?: Array<AccountMeta>, data?: Buffer, provider?: Provider): Promise<TransactionSignature>;
-export declare function getMultipleAccounts(connection: Connection, publicKeys: PublicKey[], commitment?: Commitment): Promise<Array<null | {
-    publicKey: PublicKey;
-    account: AccountInfo<Buffer>;
-}>>;
-export declare function simulateTransaction(connection: Connection, transaction: Transaction, signers?: Array<Signer>, commitment?: Commitment, includeAccounts?: boolean | Array<PublicKey>): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
-export declare type SuccessfulTxSimulationResponse = Omit<SimulatedTransactionResponse, "err">;
-//# sourceMappingURL=rpc.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/rpc.d.ts.map b/dist/browser/types/src/utils/rpc.d.ts.map
deleted file mode 100644
index f4fde80572cd8f57bda2162ac9fa6ced5b31da03..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/rpc.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EACL,WAAW,EACX,WAAW,EACX,UAAU,EACV,SAAS,EACT,oBAAoB,EACpB,WAAW,EAEX,UAAU,EACV,MAAM,EACN,qBAAqB,EACrB,4BAA4B,EAE7B,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AACjE,OAAO,QAAiC,MAAM,gBAAgB,CAAC;AAqB/D;;;GAGG;AACH,wBAAsB,MAAM,CAC1B,SAAS,EAAE,OAAO,EAClB,QAAQ,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC7B,IAAI,CAAC,EAAE,MAAM,EACb,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,oBAAoB,CAAC,CAsB/B;AAID,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,SAAS,EAAE,EACvB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CACR,KAAK,CAAC,IAAI,GAAG;IAAE,SAAS,EAAE,SAAS,CAAC;IAAC,OAAO,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;CAAE,CAAC,CACrE,CAcA;AA0BD,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,WAAW,EAAE,WAAW,EACxB,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EACvB,UAAU,CAAC,EAAE,UAAU,EACvB,eAAe,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,GAC3C,OAAO,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,CAAC,CAmD9D;AA2ED,oBAAY,8BAA8B,GAAG,IAAI,CAC/C,4BAA4B,EAC5B,KAAK,CACN,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/sha256.d.ts b/dist/browser/types/src/utils/sha256.d.ts
deleted file mode 100644
index 2f9b1f515546ea0f02388eec9ca079784d4b7f20..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/sha256.d.ts
+++ /dev/null
@@ -1,2 +0,0 @@
-export declare function hash(data: string): string;
-//# sourceMappingURL=sha256.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/sha256.d.ts.map b/dist/browser/types/src/utils/sha256.d.ts.map
deleted file mode 100644
index b79f726c7bd9540d373706da350d259770d73311..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/sha256.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"sha256.d.ts","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAEA,wBAAgB,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEzC"}
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/token.d.ts b/dist/browser/types/src/utils/token.d.ts
deleted file mode 100644
index c9745ca8fa4bf112d1de28fd207e5e13d28e5ba1..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/token.d.ts
+++ /dev/null
@@ -1,8 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-export declare const TOKEN_PROGRAM_ID: PublicKey;
-export declare const ASSOCIATED_PROGRAM_ID: PublicKey;
-export declare function associatedAddress({ mint, owner, }: {
-    mint: PublicKey;
-    owner: PublicKey;
-}): Promise<PublicKey>;
-//# sourceMappingURL=token.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/utils/token.d.ts.map b/dist/browser/types/src/utils/token.d.ts.map
deleted file mode 100644
index 1c83b507b623180792f9c7e04b616420b69415d9..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/utils/token.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"token.d.ts","sourceRoot":"","sources":["../../../src/utils/token.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,eAAO,MAAM,gBAAgB,WAE5B,CAAC;AACF,eAAO,MAAM,qBAAqB,WAEjC,CAAC;AAEF,wBAAsB,iBAAiB,CAAC,EACtC,IAAI,EACJ,KAAK,GACN,EAAE;IACD,IAAI,EAAE,SAAS,CAAC;IAChB,KAAK,EAAE,SAAS,CAAC;CAClB,GAAG,OAAO,CAAC,SAAS,CAAC,CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/types/src/workspace.d.ts b/dist/browser/types/src/workspace.d.ts
deleted file mode 100644
index 63ba1f6c48d4d4adaaeea8fd2b5978acfecb6161..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/workspace.d.ts
+++ /dev/null
@@ -1,10 +0,0 @@
-/**
- * The `workspace` namespace provides a convenience API to automatically
- * search for and deserialize [[Program]] objects defined by compiled IDLs
- * in an Anchor workspace.
- *
- * This API is for Node only.
- */
-declare const workspace: any;
-export default workspace;
-//# sourceMappingURL=workspace.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/types/src/workspace.d.ts.map b/dist/browser/types/src/workspace.d.ts.map
deleted file mode 100644
index 594bdacb9d7971097bef0a6e44a6dc426cde9d6e..0000000000000000000000000000000000000000
--- a/dist/browser/types/src/workspace.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"workspace.d.ts","sourceRoot":"","sources":["../../src/workspace.ts"],"names":[],"mappings":"AASA;;;;;;GAMG;AACH,QAAA,MAAM,SAAS,KAmEb,CAAC;AAwBH,eAAe,SAAS,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/base64.d.ts b/dist/browser/utils/bytes/base64.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d2733a9e5df4072269dd8e68d99a098626f3cd9c
--- /dev/null
+++ b/dist/browser/utils/bytes/base64.d.ts
@@ -0,0 +1,5 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+export declare function encode(data: Buffer | Uint8Array): string;
+export declare function decode(data: string): Buffer;
+//# sourceMappingURL=base64.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/base64.d.ts.map b/dist/browser/utils/bytes/base64.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..cc32a65e814cd32eb45b644450b05e3763d5cd9e
--- /dev/null
+++ b/dist/browser/utils/bytes/base64.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"base64.d.ts","sourceRoot":"","sources":["../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CAExD;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAG3C"}
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/bs58.d.ts b/dist/browser/utils/bytes/bs58.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0d24ed3279fc48ed875394ab15654a27b96273f3
--- /dev/null
+++ b/dist/browser/utils/bytes/bs58.d.ts
@@ -0,0 +1,4 @@
+/// <reference types="node" />
+export declare function encode(data: Buffer | number[] | Uint8Array): string;
+export declare function decode(data: string): Buffer;
+//# sourceMappingURL=bs58.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/bs58.d.ts.map b/dist/browser/utils/bytes/bs58.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..61a91bc303f2cd96cfb9ef795d9b290b463bb58e
--- /dev/null
+++ b/dist/browser/utils/bytes/bs58.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"bs58.d.ts","sourceRoot":"","sources":["../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";AAEA,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,UAAU,GAAG,MAAM,CAEnE;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAG3C"}
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/buffer.d.ts b/dist/browser/utils/bytes/buffer.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c1f92756174e6b33572fd2a2b8aa4b5b1c9019a2
--- /dev/null
+++ b/dist/browser/utils/bytes/buffer.d.ts
@@ -0,0 +1,3 @@
+/// <reference types="node" />
+export declare function toBuffer(arr: Buffer | Uint8Array | Array<number>): Buffer;
+//# sourceMappingURL=buffer.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/buffer.d.ts.map b/dist/browser/utils/bytes/buffer.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..32915788b56d7fd4e071e95e9843c87dbed76cc7
--- /dev/null
+++ b/dist/browser/utils/bytes/buffer.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer.d.ts","sourceRoot":"","sources":["../../../src/utils/bytes/buffer.ts"],"names":[],"mappings":";AAAA,wBAAgB,QAAQ,CAAC,GAAG,EAAE,MAAM,GAAG,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,CAQzE"}
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/hex.d.ts b/dist/browser/utils/bytes/hex.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..685d3fdee24382ca6bbfb9928f8dfbd147d53b05
--- /dev/null
+++ b/dist/browser/utils/bytes/hex.d.ts
@@ -0,0 +1,5 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+export declare function encode(data: Buffer | Uint8Array): string;
+export declare function decode(data: string): Buffer;
+//# sourceMappingURL=hex.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/hex.d.ts.map b/dist/browser/utils/bytes/hex.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..cbd5bcdeabe12c97d8f7a28d83bb7875aaac633f
--- /dev/null
+++ b/dist/browser/utils/bytes/hex.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"hex.d.ts","sourceRoot":"","sources":["../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CASxD;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAS3C"}
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/index.d.ts b/dist/browser/utils/bytes/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..1ac2c4941f23b361ecd72ce7ea34bbac61e036ee
--- /dev/null
+++ b/dist/browser/utils/bytes/index.d.ts
@@ -0,0 +1,6 @@
+export * as hex from "./hex.js";
+export * as utf8 from "./utf8.js";
+export * as bs58 from "./bs58.js";
+export * as base64 from "./base64.js";
+export * from "./buffer.js";
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/index.d.ts.map b/dist/browser/utils/bytes/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..d656f23ce5a370748785720498421a1cfd5eabf7
--- /dev/null
+++ b/dist/browser/utils/bytes/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AAEtC,cAAc,aAAa,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/utf8.d.ts b/dist/browser/utils/bytes/utf8.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..3998fb8ae6acf031e3dffcfacb067562e35a8f50
--- /dev/null
+++ b/dist/browser/utils/bytes/utf8.d.ts
@@ -0,0 +1,4 @@
+/// <reference types="node" />
+export declare function decode(array: Buffer | Uint8Array): string;
+export declare function encode(input: string): Buffer;
+//# sourceMappingURL=utf8.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/bytes/utf8.d.ts.map b/dist/browser/utils/bytes/utf8.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..cacd1345776671d4176399da9139525cc7aace58
--- /dev/null
+++ b/dist/browser/utils/bytes/utf8.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"utf8.d.ts","sourceRoot":"","sources":["../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":";AAgBA,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CAEzD;AAED,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,MAAM,CAG5C"}
\ No newline at end of file
diff --git a/dist/browser/utils/common.d.ts b/dist/browser/utils/common.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..693f36ef777c758cd8041c9c675927a729812730
--- /dev/null
+++ b/dist/browser/utils/common.d.ts
@@ -0,0 +1,14 @@
+/**
+ * Returns true if being run inside a web browser,
+ * false if in a Node process or electron app.
+ */
+export declare const isBrowser: boolean;
+/**
+ * Splits an array into chunks
+ *
+ * @param array Array of objects to chunk.
+ * @param size The max size of a chunk.
+ * @returns A two dimensional array where each T[] length is < the provided size.
+ */
+export declare function chunks<T>(array: T[], size: number): T[][];
+//# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/common.d.ts.map b/dist/browser/utils/common.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..756d97ce31007cbe3cd2c0b0128cd7aa97f56a8d
--- /dev/null
+++ b/dist/browser/utils/common.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../src/utils/common.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,eAAO,MAAM,SAAS,SAEsD,CAAC;AAE7E;;;;;;GAMG;AACH,wBAAgB,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,EAAE,CAIzD"}
\ No newline at end of file
diff --git a/dist/browser/utils/features.d.ts b/dist/browser/utils/features.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e5f059d358dd6fa186ef4064d3f2a35134c5c705
--- /dev/null
+++ b/dist/browser/utils/features.d.ts
@@ -0,0 +1,3 @@
+export declare function set(key: string): void;
+export declare function isSet(key: string): boolean;
+//# sourceMappingURL=features.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/features.d.ts.map b/dist/browser/utils/features.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..6cf7832d64fb11252ef431f5a33d5228621971fe
--- /dev/null
+++ b/dist/browser/utils/features.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"features.d.ts","sourceRoot":"","sources":["../../src/utils/features.ts"],"names":[],"mappings":"AAIA,wBAAgB,GAAG,CAAC,GAAG,EAAE,MAAM,QAK9B;AAED,wBAAgB,KAAK,CAAC,GAAG,EAAE,MAAM,GAAG,OAAO,CAE1C"}
\ No newline at end of file
diff --git a/dist/browser/utils/index.d.ts b/dist/browser/utils/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..327136231af8e7d220eafa3bec3714d925ad7400
--- /dev/null
+++ b/dist/browser/utils/index.d.ts
@@ -0,0 +1,8 @@
+export * as sha256 from "./sha256.js";
+export * as rpc from "./rpc.js";
+export * as publicKey from "./pubkey.js";
+export * as bytes from "./bytes/index.js";
+export * as token from "./token.js";
+export * as features from "./features.js";
+export * as registry from "./registry.js";
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/index.d.ts.map b/dist/browser/utils/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..2833f2f1058351328f9b71e81448885162934a6f
--- /dev/null
+++ b/dist/browser/utils/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/utils/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AACtC,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,SAAS,MAAM,aAAa,CAAC;AACzC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,OAAO,KAAK,KAAK,MAAM,YAAY,CAAC;AACpC,OAAO,KAAK,QAAQ,MAAM,eAAe,CAAC;AAC1C,OAAO,KAAK,QAAQ,MAAM,eAAe,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/utils/pubkey.d.ts b/dist/browser/utils/pubkey.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..6b245692eab63352d894ce94f36cadd5df9b815c
--- /dev/null
+++ b/dist/browser/utils/pubkey.d.ts
@@ -0,0 +1,9 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { PublicKey } from "@solana/web3.js";
+import { Address } from "../program/common.js";
+export declare function createWithSeedSync(fromPublicKey: PublicKey, seed: string, programId: PublicKey): PublicKey;
+export declare function createProgramAddressSync(seeds: Array<Buffer | Uint8Array>, programId: PublicKey): PublicKey;
+export declare function findProgramAddressSync(seeds: Array<Buffer | Uint8Array>, programId: PublicKey): [PublicKey, number];
+export declare function associated(programId: Address, ...args: Array<Address | Buffer>): Promise<PublicKey>;
+//# sourceMappingURL=pubkey.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/pubkey.d.ts.map b/dist/browser/utils/pubkey.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..a6207849057415a6817aef32aa423207b4b462b0
--- /dev/null
+++ b/dist/browser/utils/pubkey.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"pubkey.d.ts","sourceRoot":"","sources":["../../src/utils/pubkey.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AAIjE,wBAAgB,kBAAkB,CAChC,aAAa,EAAE,SAAS,EACxB,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,SAAS,CAOX;AAGD,wBAAgB,wBAAwB,CACtC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,SAAS,CAqBX;AAGD,wBAAgB,sBAAsB,CACpC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,CAAC,SAAS,EAAE,MAAM,CAAC,CAiBrB;AAED,wBAAsB,UAAU,CAC9B,SAAS,EAAE,OAAO,EAClB,GAAG,IAAI,EAAE,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAC/B,OAAO,CAAC,SAAS,CAAC,CAUpB"}
\ No newline at end of file
diff --git a/dist/browser/utils/registry.d.ts b/dist/browser/utils/registry.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..109b7c68bdea6701d38f6d006b4d9bebbf26e279
--- /dev/null
+++ b/dist/browser/utils/registry.d.ts
@@ -0,0 +1,35 @@
+/// <reference types="node" />
+import BN from "bn.js";
+import { Connection, PublicKey } from "@solana/web3.js";
+/**
+ * Returns a verified build from the anchor registry. null if no such
+ * verified build exists, e.g., if the program has been upgraded since the
+ * last verified build.
+ */
+export declare function verifiedBuild(connection: Connection, programId: PublicKey, limit?: number): Promise<Build | null>;
+/**
+ * Returns the program data account for this program, containing the
+ * metadata for this program, e.g., the upgrade authority.
+ */
+export declare function fetchData(connection: Connection, programId: PublicKey): Promise<ProgramData>;
+export declare function decodeUpgradeableLoaderState(data: Buffer): any;
+export declare type ProgramData = {
+    slot: BN;
+    upgradeAuthorityAddress: PublicKey | null;
+};
+export declare type Build = {
+    aborted: boolean;
+    address: string;
+    created_at: string;
+    updated_at: string;
+    descriptor: string[];
+    docker: string;
+    id: number;
+    name: string;
+    sha256: string;
+    upgrade_authority: string;
+    verified: string;
+    verified_slot: number;
+    state: string;
+};
+//# sourceMappingURL=registry.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/registry.d.ts.map b/dist/browser/utils/registry.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..5733b617fda481f984bdfc029093e1a97ac3fa0d
--- /dev/null
+++ b/dist/browser/utils/registry.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"registry.d.ts","sourceRoot":"","sources":["../../src/utils/registry.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAGvB,OAAO,EAAE,UAAU,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAExD;;;;GAIG;AACH,wBAAsB,aAAa,CACjC,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,SAAS,EACpB,KAAK,GAAE,MAAU,GAChB,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,CAyBvB;AAED;;;GAGG;AACH,wBAAsB,SAAS,CAC7B,UAAU,EAAE,UAAU,EACtB,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,WAAW,CAAC,CAgBtB;AAsBD,wBAAgB,4BAA4B,CAAC,IAAI,EAAE,MAAM,GAAG,GAAG,CAE9D;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,EAAE,CAAC;IACT,uBAAuB,EAAE,SAAS,GAAG,IAAI,CAAC;CAC3C,CAAC;AAEF,oBAAY,KAAK,GAAG;IAClB,OAAO,EAAE,OAAO,CAAC;IACjB,OAAO,EAAE,MAAM,CAAC;IAChB,UAAU,EAAE,MAAM,CAAC;IACnB,UAAU,EAAE,MAAM,CAAC;IACnB,UAAU,EAAE,MAAM,EAAE,CAAC;IACrB,MAAM,EAAE,MAAM,CAAC;IACf,EAAE,EAAE,MAAM,CAAC;IACX,IAAI,EAAE,MAAM,CAAC;IACb,MAAM,EAAE,MAAM,CAAC;IACf,iBAAiB,EAAE,MAAM,CAAC;IAC1B,QAAQ,EAAE,MAAM,CAAC;IACjB,aAAa,EAAE,MAAM,CAAC;IACtB,KAAK,EAAE,MAAM,CAAC;CACf,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/utils/rpc.d.ts b/dist/browser/utils/rpc.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0fd21fc4aedd6a9985dc325b06edee253ff1bec7
--- /dev/null
+++ b/dist/browser/utils/rpc.d.ts
@@ -0,0 +1,16 @@
+/// <reference types="node" />
+import { Buffer } from "buffer";
+import { AccountInfo, AccountMeta, Connection, PublicKey, TransactionSignature, Commitment } from "@solana/web3.js";
+import { Address } from "../program/common.js";
+import Provider from "../provider.js";
+/**
+ * Sends a transaction to a program with the given accounts and instruction
+ * data.
+ */
+export declare function invoke(programId: Address, accounts?: Array<AccountMeta>, data?: Buffer, provider?: Provider): Promise<TransactionSignature>;
+export declare function getMultipleAccounts(connection: Connection, publicKeys: PublicKey[], commitment?: Commitment): Promise<Array<null | {
+    publicKey: PublicKey;
+    account: AccountInfo<Buffer>;
+}>>;
+export { simulateTransaction, SuccessfulTxSimulationResponse, } from "./simulate";
+//# sourceMappingURL=rpc.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/rpc.d.ts.map b/dist/browser/utils/rpc.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..41026026f00f626e5ebd861beac558a741cb08f2
--- /dev/null
+++ b/dist/browser/utils/rpc.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../src/utils/rpc.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EACL,WAAW,EACX,WAAW,EACX,UAAU,EACV,SAAS,EACT,oBAAoB,EAGpB,UAAU,EACX,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AACjE,OAAO,QAAyB,MAAM,gBAAgB,CAAC;AAEvD;;;GAGG;AACH,wBAAsB,MAAM,CAC1B,SAAS,EAAE,OAAO,EAClB,QAAQ,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC7B,IAAI,CAAC,EAAE,MAAM,EACb,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,oBAAoB,CAAC,CAsB/B;AAID,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,SAAS,EAAE,EACvB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CACR,KAAK,CAAC,IAAI,GAAG;IAAE,SAAS,EAAE,SAAS,CAAC;IAAC,OAAO,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;CAAE,CAAC,CACrE,CAcA;AAyBD,OAAO,EACL,mBAAmB,EACnB,8BAA8B,GAC/B,MAAM,YAAY,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/utils/sha256.d.ts b/dist/browser/utils/sha256.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c1be9929839de118aafaf12c987b2c6899eb678e
--- /dev/null
+++ b/dist/browser/utils/sha256.d.ts
@@ -0,0 +1,3 @@
+export declare function hash(data: string): string;
+export declare function digest(data: string): Array<number>;
+//# sourceMappingURL=sha256.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/sha256.d.ts.map b/dist/browser/utils/sha256.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..d87a11a73221e8be092b16d5333def90a0122826
--- /dev/null
+++ b/dist/browser/utils/sha256.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"sha256.d.ts","sourceRoot":"","sources":["../../src/utils/sha256.ts"],"names":[],"mappings":"AAEA,wBAAgB,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEzC;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAElD"}
\ No newline at end of file
diff --git a/dist/browser/utils/simulate.d.ts b/dist/browser/utils/simulate.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e055ffe898d91319d813e07b5dc1386bdc613e5d
--- /dev/null
+++ b/dist/browser/utils/simulate.d.ts
@@ -0,0 +1,15 @@
+/// <reference types="node" />
+import { Transaction } from "@solana/web3.js";
+import type { Commitment, Connection, PublicKey, RpcResponseAndContext, Signer, SimulatedTransactionResponse } from "@solana/web3.js";
+declare module "@solana/web3.js" {
+    interface Transaction {
+        _compile(): Message;
+        _serialize(signData: Buffer): Buffer;
+    }
+    interface Connection {
+        _rpcRequest(method: string, args: Array<unknown>): Promise<unknown>;
+    }
+}
+export declare function simulateTransaction(connection: Connection, transaction: Transaction, signers?: Array<Signer>, commitment?: Commitment, includeAccounts?: boolean | Array<PublicKey>): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
+export declare type SuccessfulTxSimulationResponse = Omit<SimulatedTransactionResponse, "err">;
+//# sourceMappingURL=simulate.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/simulate.d.ts.map b/dist/browser/utils/simulate.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..b96bffe332faf0c8d8f372fd57bd6e5e96c9c049
--- /dev/null
+++ b/dist/browser/utils/simulate.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../src/utils/simulate.ts"],"names":[],"mappings":";AAAA,OAAO,EAAwB,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAEpE,OAAO,KAAK,EACV,UAAU,EACV,UAAU,EACV,SAAS,EACT,qBAAqB,EACrB,MAAM,EACN,4BAA4B,EAC7B,MAAM,iBAAiB,CAAC;AAkBzB,OAAO,QAAQ,iBAAiB,CAAC;IAC/B,UAAU,WAAW;QACnB,QAAQ,IAAI,OAAO,CAAC;QACpB,UAAU,CAAC,QAAQ,EAAE,MAAM,GAAG,MAAM,CAAC;KACtC;IACD,UAAU,UAAU;QAClB,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;KACrE;CACF;AAGD,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,WAAW,EAAE,WAAW,EACxB,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EACvB,UAAU,CAAC,EAAE,UAAU,EACvB,eAAe,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,GAC3C,OAAO,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,CAAC,CAqD9D;AA2ED,oBAAY,8BAA8B,GAAG,IAAI,CAC/C,4BAA4B,EAC5B,KAAK,CACN,CAAC"}
\ No newline at end of file
diff --git a/dist/browser/utils/token.d.ts b/dist/browser/utils/token.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c9745ca8fa4bf112d1de28fd207e5e13d28e5ba1
--- /dev/null
+++ b/dist/browser/utils/token.d.ts
@@ -0,0 +1,8 @@
+import { PublicKey } from "@solana/web3.js";
+export declare const TOKEN_PROGRAM_ID: PublicKey;
+export declare const ASSOCIATED_PROGRAM_ID: PublicKey;
+export declare function associatedAddress({ mint, owner, }: {
+    mint: PublicKey;
+    owner: PublicKey;
+}): Promise<PublicKey>;
+//# sourceMappingURL=token.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/utils/token.d.ts.map b/dist/browser/utils/token.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..4eb1a6475222a490c5cbb6c189bd704b8cc866c8
--- /dev/null
+++ b/dist/browser/utils/token.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"token.d.ts","sourceRoot":"","sources":["../../src/utils/token.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,eAAO,MAAM,gBAAgB,WAE5B,CAAC;AACF,eAAO,MAAM,qBAAqB,WAEjC,CAAC;AAEF,wBAAsB,iBAAiB,CAAC,EACtC,IAAI,EACJ,KAAK,GACN,EAAE;IACD,IAAI,EAAE,SAAS,CAAC;IAChB,KAAK,EAAE,SAAS,CAAC;CAClB,GAAG,OAAO,CAAC,SAAS,CAAC,CAOrB"}
\ No newline at end of file
diff --git a/dist/browser/wallet.d.ts b/dist/browser/wallet.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e8916054c9551085699f7c69e7e0ffeb7ee4ec64
--- /dev/null
+++ b/dist/browser/wallet.d.ts
@@ -0,0 +1,11 @@
+import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
+import { Wallet as IWallet } from "./provider";
+export declare class Wallet implements IWallet {
+    readonly payer: Keypair;
+    constructor(payer: Keypair);
+    static local(): Wallet | never;
+    signTransaction(tx: Transaction): Promise<Transaction>;
+    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
+    get publicKey(): PublicKey;
+}
+//# sourceMappingURL=wallet.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/wallet.d.ts.map b/dist/browser/wallet.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..a951bf56c7438c5f32cf8ff1755313b8214add53
--- /dev/null
+++ b/dist/browser/wallet.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"wallet.d.ts","sourceRoot":"","sources":["../src/wallet.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,MAAM,IAAI,OAAO,EAAE,MAAM,YAAY,CAAC;AAG/C,qBAAa,MAAO,YAAW,OAAO;IACxB,QAAQ,CAAC,KAAK,EAAE,OAAO;gBAAd,KAAK,EAAE,OAAO;IAEnC,MAAM,CAAC,KAAK,IAAI,MAAM,GAAG,KAAK;IA0BxB,eAAe,CAAC,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAKtD,mBAAmB,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAOrE,IAAI,SAAS,IAAI,SAAS,CAEzB;CACF"}
\ No newline at end of file
diff --git a/dist/browser/workspace.d.ts b/dist/browser/workspace.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..63ba1f6c48d4d4adaaeea8fd2b5978acfecb6161
--- /dev/null
+++ b/dist/browser/workspace.d.ts
@@ -0,0 +1,10 @@
+/**
+ * The `workspace` namespace provides a convenience API to automatically
+ * search for and deserialize [[Program]] objects defined by compiled IDLs
+ * in an Anchor workspace.
+ *
+ * This API is for Node only.
+ */
+declare const workspace: any;
+export default workspace;
+//# sourceMappingURL=workspace.d.ts.map
\ No newline at end of file
diff --git a/dist/browser/workspace.d.ts.map b/dist/browser/workspace.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..07ba269280324d0e510087b3a73e8ea3ff365ebe
--- /dev/null
+++ b/dist/browser/workspace.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"workspace.d.ts","sourceRoot":"","sources":["../src/workspace.ts"],"names":[],"mappings":"AASA;;;;;;GAMG;AACH,QAAA,MAAM,SAAS,KAmEb,CAAC;AAwBH,eAAe,SAAS,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/accounts.d.ts.map b/dist/cjs/coder/borsh/accounts.d.ts.map
index 3cbde67f6da03897532accc6001fbe9e7e97b05f..8bcd918e3f29b48a90f6e699eb69288928a16ab8 100644
--- a/dist/cjs/coder/borsh/accounts.d.ts.map
+++ b/dist/cjs/coder/borsh/accounts.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAG5C;;GAEG;AACH,eAAO,MAAM,0BAA0B,IAAI,CAAC;AAE5C;;GAEG;AACH,qBAAa,kBAAkB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACvD,YAAW,aAAa;IAExB;;OAEG;IACH,OAAO,CAAC,cAAc,CAAiB;IAEvC;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAad,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAYlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC;IAShD,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAUvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG;IAUhD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;IAM3C;;;;OAIG;WACW,oBAAoB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;CAKzD"}
\ No newline at end of file
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAI5C;;GAEG;AACH,eAAO,MAAM,0BAA0B,IAAI,CAAC;AAE5C;;GAEG;AACH,qBAAa,kBAAkB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACvD,YAAW,aAAa;IAExB;;OAEG;IACH,OAAO,CAAC,cAAc,CAAuC;IAE7D;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAsBd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAYlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC;IAShD,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAUvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG;IAUhD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;IAM3C;;;;OAIG;WACW,oBAAoB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;CAIzD"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/accounts.js b/dist/cjs/coder/borsh/accounts.js
index 624aded73c433a9bb25c10764ef248f0beea2160..19b922033683613bed63c8340548633266139df5 100644
--- a/dist/cjs/coder/borsh/accounts.js
+++ b/dist/cjs/coder/borsh/accounts.js
@@ -6,10 +6,11 @@ Object.defineProperty(exports, "__esModule", { value: true });
 exports.BorshAccountsCoder = exports.ACCOUNT_DISCRIMINATOR_SIZE = void 0;
 const bs58_1 = __importDefault(require("bs58"));
 const buffer_1 = require("buffer");
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 const js_sha256_1 = require("js-sha256");
 const idl_js_1 = require("./idl.js");
 const common_js_1 = require("../common.js");
+const web3_js_1 = require("@solana/web3.js");
 /**
  * Number of bytes of the account discriminator.
  */
@@ -24,38 +25,46 @@ class BorshAccountsCoder {
             return;
         }
         const layouts = idl.accounts.map((acc) => {
-            return [acc.name, idl_js_1.IdlCoder.typeDefLayout(acc, idl.types)];
+            const layout = idl_js_1.IdlCoder.typeDefLayout(acc, idl.types);
+            let size;
+            try {
+                size = (0, common_js_1.layoutSize)(layout);
+            }
+            catch (_) {
+                // noop
+            }
+            return [acc.name, [layout, size]];
         });
         this.accountLayouts = new Map(layouts);
         this.idl = idl;
     }
     async encode(accountName, account) {
-        const buffer = buffer_1.Buffer.alloc(1000); // TODO: use a tighter buffer.
-        const layout = this.accountLayouts.get(accountName);
-        if (!layout) {
+        const entry = this.accountLayouts.get(accountName);
+        if (!entry) {
             throw new Error(`Unknown account: ${accountName}`);
         }
+        const [layout, size] = entry;
+        const buffer = buffer_1.Buffer.alloc(size !== null && size !== void 0 ? size : web3_js_1.PACKET_DATA_SIZE);
         const len = layout.encode(account, buffer);
-        let accountData = buffer.slice(0, len);
-        let discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
-        return buffer_1.Buffer.concat([discriminator, accountData]);
+        const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
+        return buffer_1.Buffer.concat([discriminator, buffer.subarray(0, len)]);
     }
     decode(accountName, data) {
         // Assert the account discriminator is correct.
         const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
-        if (discriminator.compare(data.slice(0, 8))) {
+        if (discriminator.compare(data.subarray(0, exports.ACCOUNT_DISCRIMINATOR_SIZE))) {
             throw new Error("Invalid account discriminator");
         }
         return this.decodeUnchecked(accountName, data);
     }
     decodeUnchecked(accountName, ix) {
-        // Chop off the discriminator before decoding.
-        const data = ix.slice(exports.ACCOUNT_DISCRIMINATOR_SIZE);
-        const layout = this.accountLayouts.get(accountName);
-        if (!layout) {
+        const entry = this.accountLayouts.get(accountName);
+        if (!entry) {
             throw new Error(`Unknown account: ${accountName}`);
         }
-        return layout.decode(data);
+        const [layout] = entry;
+        // Chop off the discriminator before decoding.
+        return layout.decode(ix.subarray(exports.ACCOUNT_DISCRIMINATOR_SIZE));
     }
     memcmp(accountName, appendData) {
         const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
@@ -74,7 +83,8 @@ class BorshAccountsCoder {
      * @param name The name of the account to calculate the discriminator.
      */
     static accountDiscriminator(name) {
-        return buffer_1.Buffer.from(js_sha256_1.sha256.digest(`account:${(0, camelcase_1.default)(name, { pascalCase: true })}`)).slice(0, exports.ACCOUNT_DISCRIMINATOR_SIZE);
+        const digest = js_sha256_1.sha256.digest(`account:${(0, case_1.pascalCase)(name)}`);
+        return buffer_1.Buffer.from(digest).subarray(0, exports.ACCOUNT_DISCRIMINATOR_SIZE);
     }
 }
 exports.BorshAccountsCoder = BorshAccountsCoder;
diff --git a/dist/cjs/coder/borsh/accounts.js.map b/dist/cjs/coder/borsh/accounts.js.map
index cef9051f3a4568a664f2359dd2aba45784273490..57fe30d71c39df46b124a74107cf8b091b851b60 100644
--- a/dist/cjs/coder/borsh/accounts.js.map
+++ b/dist/cjs/coder/borsh/accounts.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/event.d.ts.map b/dist/cjs/coder/borsh/event.d.ts.map
index d80e63071b9bb3a75ddccb00bb13c2947a010076..925cd5c4ff5b1dece770de5a6ee837c3368afae4 100644
--- a/dist/cjs/coder/borsh/event.d.ts.map
+++ b/dist/cjs/coder/borsh/event.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAc,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,KAAK,EAAa,MAAM,wBAAwB,CAAC;AAE1D,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC,qBAAa,eAAgB,YAAW,UAAU;IAChD;;OAEG;IACH,OAAO,CAAC,OAAO,CAAsB;IAErC;;OAEG;IACH,OAAO,CAAC,cAAc,CAAsB;gBAEzB,GAAG,EAAE,GAAG;IA6BpB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,EACpE,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CA0BtB;AAED,wBAAgB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEvD"}
\ No newline at end of file
+{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAc,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,KAAK,EAAa,MAAM,wBAAwB,CAAC;AAE1D,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC,qBAAa,eAAgB,YAAW,UAAU;IAChD;;OAEG;IACH,OAAO,CAAC,OAAO,CAAsB;IAErC;;OAEG;IACH,OAAO,CAAC,cAAc,CAAsB;gBAEzB,GAAG,EAAE,GAAG;IA6BpB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,EACpE,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CA2BtB;AAED,wBAAgB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEvD"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/event.js b/dist/cjs/coder/borsh/event.js
index 40e4b14501ec63b2e4f8acccb0e46a90f09fa310..f128eaefd26e852040d342122a34ba9c36d6c4bf 100644
--- a/dist/cjs/coder/borsh/event.js
+++ b/dist/cjs/coder/borsh/event.js
@@ -55,15 +55,16 @@ class BorshEventCoder {
             ]));
     }
     decode(log) {
-        let logArr;
+        let logBytes;
         // This will throw if log length is not a multiple of 4.
         try {
-            logArr = buffer_1.Buffer.from(base64.toByteArray(log));
+            const bytes = base64.toByteArray(log);
+            logBytes = buffer_1.Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength);
         }
         catch (e) {
             return null;
         }
-        const disc = base64.fromByteArray(logArr.slice(0, 8));
+        const disc = base64.fromByteArray(logBytes.subarray(0, 8));
         // Only deserialize if the discriminator implies a proper event.
         const eventName = this.discriminators.get(disc);
         if (eventName === undefined) {
@@ -73,13 +74,13 @@ class BorshEventCoder {
         if (!layout) {
             throw new Error(`Unknown event: ${eventName}`);
         }
-        const data = layout.decode(logArr.slice(8));
+        const data = layout.decode(logBytes.subarray(8));
         return { data, name: eventName };
     }
 }
 exports.BorshEventCoder = BorshEventCoder;
 function eventDiscriminator(name) {
-    return buffer_1.Buffer.from(js_sha256_1.sha256.digest(`event:${name}`)).slice(0, 8);
+    return buffer_1.Buffer.from(js_sha256_1.sha256.digest(`event:${name}`)).subarray(0, 8);
 }
 exports.eventDiscriminator = eventDiscriminator;
 //# sourceMappingURL=event.js.map
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/event.js.map b/dist/cjs/coder/borsh/event.js.map
index 6666ffb4172826331ce102236465408e94e2c4ac..ad6a746eb17f8b97432fe1730163c8edd6b979d5 100644
--- a/dist/cjs/coder/borsh/event.js.map
+++ b/dist/cjs/coder/borsh/event.js.map
@@ -1 +1 @@
-{"version":3,"file":"event.js","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAChC,kDAAoC;AAEpC,yCAAmC;AAGnC,qCAAoC;AAGpC,MAAa,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,MAAM,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACzB,OAAO;SACR;QACD,MAAM,OAAO,GAA4B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YAChE,IAAI,YAAY,GAAe;gBAC7B,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,IAAI,EAAE;oBACJ,IAAI,EAAE,QAAQ;oBACd,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;wBAC7B,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBACxC,CAAC,CAAC;iBACH;aACF,CAAC;YACF,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QAEhC,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,CAC3B,GAAG,CAAC,MAAM,KAAK,SAAS;YACtB,CAAC,CAAC,EAAE;YACJ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAChD,CAAC,CAAC,IAAI;aACP,CAAC,CACP,CAAC;IACJ,CAAC;IAEM,MAAM,CACX,GAAW;QAEX,IAAI,MAAc,CAAC;QACnB,wDAAwD;QACxD,IAAI;YACF,MAAM,GAAG,eAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;SAC/C;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,IAAI,CAAC;SACb;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEtD,gEAAgE;QAChE,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,kBAAkB,SAAS,EAAE,CAAC,CAAC;SAChD;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAGzC,CAAC;QACF,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IACnC,CAAC;CACF;AApED,0CAoEC;AAED,SAAgB,kBAAkB,CAAC,IAAY;IAC7C,OAAO,eAAM,CAAC,IAAI,CAAC,kBAAM,CAAC,MAAM,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC;AAFD,gDAEC"}
\ No newline at end of file
+{"version":3,"file":"event.js","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAChC,kDAAoC;AAEpC,yCAAmC;AAGnC,qCAAoC;AAGpC,MAAa,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,MAAM,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACzB,OAAO;SACR;QACD,MAAM,OAAO,GAA4B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YAChE,IAAI,YAAY,GAAe;gBAC7B,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,IAAI,EAAE;oBACJ,IAAI,EAAE,QAAQ;oBACd,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;wBAC7B,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBACxC,CAAC,CAAC;iBACH;aACF,CAAC;YACF,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QAEhC,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,CAC3B,GAAG,CAAC,MAAM,KAAK,SAAS;YACtB,CAAC,CAAC,EAAE;YACJ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAChD,CAAC,CAAC,IAAI;aACP,CAAC,CACP,CAAC;IACJ,CAAC;IAEM,MAAM,CACX,GAAW;QAEX,IAAI,QAAgB,CAAC;QACrB,wDAAwD;QACxD,IAAI;YACF,MAAM,KAAK,GAAG,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;YACtC,QAAQ,GAAG,eAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,UAAU,EAAE,KAAK,CAAC,UAAU,CAAC,CAAC;SAC1E;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,IAAI,CAAC;SACb;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAE3D,gEAAgE;QAChE,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,kBAAkB,SAAS,EAAE,CAAC,CAAC;SAChD;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAAC,CAG9C,CAAC;QACF,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IACnC,CAAC;CACF;AArED,0CAqEC;AAED,SAAgB,kBAAkB,CAAC,IAAY;IAC7C,OAAO,eAAM,CAAC,IAAI,CAAC,kBAAM,CAAC,MAAM,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpE,CAAC;AAFD,gDAEC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/idl.d.ts.map b/dist/cjs/coder/borsh/idl.d.ts.map
index fa8edc04ebd0dec5bcd5dd592b83a34188f4502f..95f47d0e0dc72198c9c374d1f70c4b95408c4eb4 100644
--- a/dist/cjs/coder/borsh/idl.d.ts.map
+++ b/dist/cjs/coder/borsh/idl.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEvC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAA2B,MAAM,cAAc,CAAC;AAG7E,qBAAa,QAAQ;WACL,WAAW,CACvB,KAAK,EAAE;QAAE,IAAI,CAAC,EAAE,MAAM,CAAA;KAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,EACjD,KAAK,CAAC,EAAE,UAAU,EAAE,GACnB,MAAM;WAwGK,aAAa,CACzB,OAAO,EAAE,UAAU,EACnB,KAAK,GAAE,UAAU,EAAO,EACxB,IAAI,CAAC,EAAE,MAAM,GACZ,MAAM;CAqCV"}
\ No newline at end of file
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEvC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAA2B,MAAM,cAAc,CAAC;AAI7E,qBAAa,QAAQ;WACL,WAAW,CACvB,KAAK,EAAE;QAAE,IAAI,CAAC,EAAE,MAAM,CAAA;KAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,EACjD,KAAK,CAAC,EAAE,UAAU,EAAE,GACnB,MAAM;WAwGK,aAAa,CACzB,OAAO,EAAE,UAAU,EACnB,KAAK,GAAE,UAAU,EAAO,EACxB,IAAI,CAAC,EAAE,MAAM,GACZ,MAAM;CAqCV"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/idl.js b/dist/cjs/coder/borsh/idl.js
index d9a2c06d6d53cff080fe63cfd260e8161af5d317..a2de3f2df048bc236aa6d208a3316fa261a0ce2f 100644
--- a/dist/cjs/coder/borsh/idl.js
+++ b/dist/cjs/coder/borsh/idl.js
@@ -22,17 +22,14 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.IdlCoder = void 0;
-const camelcase_1 = __importDefault(require("camelcase"));
 const borsh = __importStar(require("@project-serum/borsh"));
 const error_js_1 = require("../../error.js");
+const case_1 = require("@juici/case");
 class IdlCoder {
     static fieldLayout(field, types) {
-        const fieldName = field.name !== undefined ? (0, camelcase_1.default)(field.name) : undefined;
+        const fieldName = field.name !== undefined ? (0, case_1.camelCase)(field.name) : undefined;
         switch (field.type) {
             case "bool": {
                 return borsh.bool(fieldName);
@@ -131,8 +128,8 @@ class IdlCoder {
             return borsh.struct(fieldLayouts, name);
         }
         else if (typeDef.type.kind === "enum") {
-            let variants = typeDef.type.variants.map((variant) => {
-                const name = (0, camelcase_1.default)(variant.name);
+            const variants = typeDef.type.variants.map((variant) => {
+                const name = (0, case_1.camelCase)(variant.name);
                 if (variant.fields === undefined) {
                     return borsh.struct([], name);
                 }
diff --git a/dist/cjs/coder/borsh/idl.js.map b/dist/cjs/coder/borsh/idl.js.map
index cab189698611a64b177ed13b37a1c5e3a0d2571d..8e2d12a1ace634b257e402ebe873dad926f0e0b0 100644
--- a/dist/cjs/coder/borsh/idl.js.map
+++ b/dist/cjs/coder/borsh/idl.js.map
@@ -1 +1 @@
-{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/index.d.ts b/dist/cjs/coder/borsh/index.d.ts
index 02dad4c411eeede4664b6a68cccfef2e497ce8cc..f2dc711ec807ff67d435845a593780566c04ec87 100644
--- a/dist/cjs/coder/borsh/index.d.ts
+++ b/dist/cjs/coder/borsh/index.d.ts
@@ -25,7 +25,7 @@ export declare class BorshCoder<A extends string = string, T extends string = st
     /**
      * Coder for state structs.
      */
-    readonly state: BorshStateCoder;
+    readonly state?: BorshStateCoder | undefined;
     /**
      * Coder for events.
      */
diff --git a/dist/cjs/coder/borsh/index.d.ts.map b/dist/cjs/coder/borsh/index.d.ts.map
index f6a7d1e2cb400e757963c1086099f77167f3b6e0..3bbbd53fef3896a9bc6b5aa6908b1f6f1e3b9d87 100644
--- a/dist/cjs/coder/borsh/index.d.ts.map
+++ b/dist/cjs/coder/borsh/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,0BAA0B,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AACjE,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEjE;;;GAGG;AACH,qBAAa,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1E,YAAW,KAAK;IAEhB;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,qBAAqB,CAAC;IAE5C;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAEzC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC;IAEhC;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,eAAe,CAAC;IAEjC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;gBAEvB,GAAG,EAAE,GAAG;CASrB"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,0BAA0B,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AACjE,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEjE;;;GAGG;AACH,qBAAa,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1E,YAAW,KAAK;IAEhB;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,qBAAqB,CAAC;IAE5C;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAEzC;;OAEG;IACH,QAAQ,CAAC,KAAK,CAAC,EAAE,eAAe,GAAG,SAAS,CAAC;IAE7C;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,eAAe,CAAC;IAEjC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;gBAEvB,GAAG,EAAE,GAAG;CASrB"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/instruction.d.ts.map b/dist/cjs/coder/borsh/instruction.d.ts.map
index ec4b9e711fb2600594f13aba5a0d707dce105f39..370ace909911be6a444833d74d71cce71623a78e 100644
--- a/dist/cjs/coder/borsh/instruction.d.ts.map
+++ b/dist/cjs/coder/borsh/instruction.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAMhC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EACL,GAAG,EAYJ,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C;;GAEG;AACH,eAAO,MAAM,uBAAuB,UAAU,CAAC;AAC/C;;;GAGG;AACH,eAAO,MAAM,wBAAwB,WAAW,CAAC;AAEjD;;GAEG;AACH,qBAAa,qBAAsB,YAAW,gBAAgB;IAOzC,OAAO,CAAC,GAAG;IAL9B,OAAO,CAAC,QAAQ,CAAsB;IAGtC,OAAO,CAAC,cAAc,CAAgD;gBAE3C,GAAG,EAAE,GAAG;IAyBnC;;OAEG;IACI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAI9C;;OAEG;IACI,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAInD,OAAO,CAAC,OAAO;IAYf,OAAO,CAAC,MAAM,CAAC,aAAa;IA6B5B;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,MAAM,GAAG,MAAM,EACnB,QAAQ,GAAE,KAAK,GAAG,QAAgB,GACjC,WAAW,GAAG,IAAI;IAgBrB;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,WAAW,EACf,YAAY,EAAE,WAAW,EAAE,GAC1B,kBAAkB,GAAG,IAAI;CAG7B;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd,CAAC;AAEF,oBAAY,kBAAkB,GAAG;IAC/B,IAAI,EAAE;QAAE,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAA;KAAE,EAAE,CAAC;IACrD,QAAQ,EAAE;QACR,IAAI,CAAC,EAAE,MAAM,CAAC;QACd,MAAM,EAAE,SAAS,CAAC;QAClB,QAAQ,EAAE,OAAO,CAAC;QAClB,UAAU,EAAE,OAAO,CAAC;KACrB,EAAE,CAAC;CACL,CAAC"}
\ No newline at end of file
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAKhC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EACL,GAAG,EAYJ,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAG/C;;GAEG;AACH,eAAO,MAAM,uBAAuB,UAAU,CAAC;AAC/C;;;GAGG;AACH,eAAO,MAAM,wBAAwB,WAAW,CAAC;AAEjD;;GAEG;AACH,qBAAa,qBAAsB,YAAW,gBAAgB;IAOzC,OAAO,CAAC,GAAG;IAL9B,OAAO,CAAC,QAAQ,CAAsB;IAGtC,OAAO,CAAC,cAAc,CAAgD;gBAE3C,GAAG,EAAE,GAAG;IAyBnC;;OAEG;IACI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAI9C;;OAEG;IACI,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAInD,OAAO,CAAC,OAAO;IAYf,OAAO,CAAC,MAAM,CAAC,aAAa;IA6B5B;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,MAAM,GAAG,MAAM,EACnB,QAAQ,GAAE,KAAK,GAAG,QAAgB,GACjC,WAAW,GAAG,IAAI;IAgBrB;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,WAAW,EACf,YAAY,EAAE,WAAW,EAAE,GAC1B,kBAAkB,GAAG,IAAI;CAG7B;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd,CAAC;AAEF,oBAAY,kBAAkB,GAAG;IAC/B,IAAI,EAAE;QAAE,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAA;KAAE,EAAE,CAAC;IACrD,QAAQ,EAAE;QACR,IAAI,CAAC,EAAE,MAAM,CAAC;QACd,MAAM,EAAE,SAAS,CAAC;QAClB,QAAQ,EAAE,OAAO,CAAC;QAClB,UAAU,EAAE,OAAO,CAAC;KACrB,EAAE,CAAC;CACL,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/instruction.js b/dist/cjs/coder/borsh/instruction.js
index 2ad9e4b84cc488ecf1690abc8c09a1deec5bba6b..378507f032c0b617ba4fa21efa96125370efe758 100644
--- a/dist/cjs/coder/borsh/instruction.js
+++ b/dist/cjs/coder/borsh/instruction.js
@@ -22,18 +22,14 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.BorshInstructionCoder = exports.SIGHASH_GLOBAL_NAMESPACE = exports.SIGHASH_STATE_NAMESPACE = void 0;
-const bs58_1 = __importDefault(require("bs58"));
 const buffer_1 = require("buffer");
-const camelcase_1 = __importDefault(require("camelcase"));
-const snake_case_1 = require("snake-case");
+const case_1 = require("@juici/case");
 const js_sha256_1 = require("js-sha256");
 const borsh = __importStar(require("@project-serum/borsh"));
 const idl_js_1 = require("./idl.js");
+const index_js_1 = require("../../utils/bytes/index.js");
 /**
  * Namespace for state method function signatures.
  */
@@ -53,7 +49,7 @@ class BorshInstructionCoder {
         const sighashLayouts = new Map();
         idl.instructions.forEach((ix) => {
             const sh = sighash(exports.SIGHASH_GLOBAL_NAMESPACE, ix.name);
-            sighashLayouts.set(bs58_1.default.encode(sh), {
+            sighashLayouts.set(index_js_1.bs58.encode(sh), {
                 layout: this.ixLayout.get(ix.name),
                 name: ix.name,
             });
@@ -61,7 +57,7 @@ class BorshInstructionCoder {
         if (idl.state) {
             idl.state.methods.map((ix) => {
                 const sh = sighash(exports.SIGHASH_STATE_NAMESPACE, ix.name);
-                sighashLayouts.set(bs58_1.default.encode(sh), {
+                sighashLayouts.set(index_js_1.bs58.encode(sh), {
                     layout: this.ixLayout.get(ix.name),
                     name: ix.name,
                 });
@@ -83,7 +79,7 @@ class BorshInstructionCoder {
     }
     _encode(nameSpace, ixName, ix) {
         const buffer = buffer_1.Buffer.alloc(1000); // TODO: use a tighter buffer.
-        const methodName = (0, camelcase_1.default)(ixName);
+        const methodName = (0, case_1.camelCase)(ixName);
         const layout = this.ixLayout.get(methodName);
         if (!layout) {
             throw new Error(`Unknown method: ${methodName}`);
@@ -100,7 +96,7 @@ class BorshInstructionCoder {
                 var _a, _b;
                 return idl_js_1.IdlCoder.fieldLayout(arg, Array.from([...((_a = idl.accounts) !== null && _a !== void 0 ? _a : []), ...((_b = idl.types) !== null && _b !== void 0 ? _b : [])]));
             });
-            const name = (0, camelcase_1.default)(m.name);
+            const name = (0, case_1.camelCase)(m.name);
             return [name, borsh.struct(fieldLayouts, name)];
         })
             .concat(idl.instructions.map((ix) => {
@@ -108,7 +104,7 @@ class BorshInstructionCoder {
                 var _a, _b;
                 return idl_js_1.IdlCoder.fieldLayout(arg, Array.from([...((_a = idl.accounts) !== null && _a !== void 0 ? _a : []), ...((_b = idl.types) !== null && _b !== void 0 ? _b : [])]));
             });
-            const name = (0, camelcase_1.default)(ix.name);
+            const name = (0, case_1.camelCase)(ix.name);
             return [name, borsh.struct(fieldLayouts, name)];
         }));
         return new Map(ixLayouts);
@@ -118,14 +114,14 @@ class BorshInstructionCoder {
      */
     decode(ix, encoding = "hex") {
         if (typeof ix === "string") {
-            ix = encoding === "hex" ? buffer_1.Buffer.from(ix, "hex") : bs58_1.default.decode(ix);
+            ix = encoding === "hex" ? buffer_1.Buffer.from(ix, "hex") : index_js_1.bs58.decode(ix);
         }
-        let sighash = bs58_1.default.encode(ix.slice(0, 8));
-        let data = ix.slice(8);
+        const sighash = index_js_1.bs58.encode(ix.subarray(0, 8));
         const decoder = this.sighashLayouts.get(sighash);
         if (!decoder) {
             return null;
         }
+        const data = ix.subarray(8);
         return {
             data: decoder.layout.decode(data),
             name: decoder.name,
@@ -256,7 +252,7 @@ class InstructionFormatter {
                         InstructionFormatter.formatIdlData(idlField, fieldData, types));
                 })
                     .join(", ");
-                const variantName = (0, camelcase_1.default)(variant, { pascalCase: true });
+                const variantName = (0, case_1.pascalCase)(variant);
                 if (namedFields.length === 0) {
                     return variantName;
                 }
@@ -294,8 +290,7 @@ function sentenceCase(field) {
 // Not technically sighash, since we don't include the arguments, as Rust
 // doesn't allow function overloading.
 function sighash(nameSpace, ixName) {
-    let name = (0, snake_case_1.snakeCase)(ixName);
-    let preimage = `${nameSpace}:${name}`;
-    return buffer_1.Buffer.from(js_sha256_1.sha256.digest(preimage)).slice(0, 8);
+    const digest = js_sha256_1.sha256.digest(`${nameSpace}:${(0, case_1.snakeCase)(ixName)}`);
+    return buffer_1.Buffer.from(digest).subarray(0, 8);
 }
 //# sourceMappingURL=instruction.js.map
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/instruction.js.map b/dist/cjs/coder/borsh/instruction.js.map
index e83bad4a1633a671aa3f9f4c2d1a45c1d55dccdd..638f020ba6372e3078ce0a31d39a21c0ff796e6c 100644
--- a/dist/cjs/coder/borsh/instruction.js.map
+++ b/dist/cjs/coder/borsh/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAAwB;AACxB,mCAAgC;AAEhC,0DAAkC;AAClC,2CAAuC;AACvC,yCAAmC;AACnC,4DAA8C;AAgB9C,qCAAoC;AAGpC;;GAEG;AACU,QAAA,uBAAuB,GAAG,OAAO,CAAC;AAC/C;;;GAGG;AACU,QAAA,wBAAwB,GAAG,QAAQ,CAAC;AAEjD;;GAEG;AACH,MAAa,qBAAqB;IAOhC,YAA2B,GAAQ;QAAR,QAAG,GAAH,GAAG,CAAK;QACjC,IAAI,CAAC,QAAQ,GAAG,qBAAqB,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAEzD,MAAM,cAAc,GAAG,IAAI,GAAG,EAAE,CAAC;QACjC,GAAG,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE;YAC9B,MAAM,EAAE,GAAG,OAAO,CAAC,gCAAwB,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;YACtD,cAAc,CAAC,GAAG,CAAC,cAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;gBAClC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC;gBAClC,IAAI,EAAE,EAAE,CAAC,IAAI;aACd,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;QAEH,IAAI,GAAG,CAAC,KAAK,EAAE;YACb,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE;gBAC3B,MAAM,EAAE,GAAG,OAAO,CAAC,+BAAuB,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;gBACrD,cAAc,CAAC,GAAG,CAAC,cAAI,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;oBAClC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,CAAW;oBAC5C,IAAI,EAAE,EAAE,CAAC,IAAI;iBACd,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACvC,CAAC;IAED;;OAEG;IACI,MAAM,CAAC,MAAc,EAAE,EAAO;QACnC,OAAO,IAAI,CAAC,OAAO,CAAC,gCAAwB,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;IAC5D,CAAC;IAED;;OAEG;IACI,WAAW,CAAC,MAAc,EAAE,EAAO;QACxC,OAAO,IAAI,CAAC,OAAO,CAAC,+BAAuB,EAAE,MAAM,EAAE,EAAE,CAAC,CAAC;IAC3D,CAAC;IAEO,OAAO,CAAC,SAAiB,EAAE,MAAc,EAAE,EAAO;QACxD,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,UAAU,GAAG,IAAA,mBAAS,EAAC,MAAM,CAAC,CAAC;QACrC,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,mBAAmB,UAAU,EAAE,CAAC,CAAC;SAClD;QACD,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC;QACtC,MAAM,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAClC,OAAO,eAAM,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;IAC3D,CAAC;IAEO,MAAM,CAAC,aAAa,CAAC,GAAQ;QACnC,MAAM,YAAY,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;QAExD,MAAM,SAAS,GAAG,YAAY;aAC3B,GAAG,CAAC,CAAC,CAAiB,EAA6B,EAAE;YACpD,IAAI,YAAY,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAa,EAAE,EAAE;;gBAC9C,OAAO,iBAAQ,CAAC,WAAW,CACzB,GAAG,EACH,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAA,GAAG,CAAC,QAAQ,mCAAI,EAAE,CAAC,EAAE,GAAG,CAAC,MAAA,GAAG,CAAC,KAAK,mCAAI,EAAE,CAAC,CAAC,CAAC,CAC5D,CAAC;YACJ,CAAC,CAAC,CAAC;YACH,MAAM,IAAI,GAAG,IAAA,mBAAS,EAAC,CAAC,CAAC,IAAI,CAAC,CAAC;YAC/B,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC;aACD,MAAM,CACL,GAAG,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE;YAC1B,IAAI,YAAY,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAa,EAAE,EAAE;;gBAC/C,OAAA,iBAAQ,CAAC,WAAW,CAClB,GAAG,EACH,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,MAAA,GAAG,CAAC,QAAQ,mCAAI,EAAE,CAAC,EAAE,GAAG,CAAC,MAAA,GAAG,CAAC,KAAK,mCAAI,EAAE,CAAC,CAAC,CAAC,CAC5D,CAAA;aAAA,CACF,CAAC;YACF,MAAM,IAAI,GAAG,IAAA,mBAAS,EAAC,EAAE,CAAC,IAAI,CAAC,CAAC;YAChC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CACH,CAAC;QACJ,OAAO,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC;IAC5B,CAAC;IAED;;OAEG;IACI,MAAM,CACX,EAAmB,EACnB,WAA6B,KAAK;QAElC,IAAI,OAAO,EAAE,KAAK,QAAQ,EAAE;YAC1B,EAAE,GAAG,QAAQ,KAAK,KAAK,CAAC,CAAC,CAAC,eAAM,CAAC,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,cAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;SACpE;QACD,IAAI,OAAO,GAAG,cAAI,CAAC,MAAM,CAAC,EAAE,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC1C,IAAI,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACvB,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,EAAE;YACZ,OAAO,IAAI,CAAC;SACb;QACD,OAAO;YACL,IAAI,EAAE,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;YACjC,IAAI,EAAE,OAAO,CAAC,IAAI;SACnB,CAAC;IACJ,CAAC;IAED;;OAEG;IACI,MAAM,CACX,EAAe,EACf,YAA2B;QAE3B,OAAO,oBAAoB,CAAC,MAAM,CAAC,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IACjE,CAAC;CACF;AAtHD,sDAsHC;AAiBD,MAAM,oBAAoB;IACjB,MAAM,CAAC,MAAM,CAClB,EAAe,EACf,YAA2B,EAC3B,GAAQ;QAER,MAAM,KAAK,GAAG,GAAG,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,CAAC,IAAI,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,IAAI,KAAK,KAAK,SAAS,EAAE;YACvB,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;YAC3C,OAAO,IAAI,CAAC;SACb;QAED,MAAM,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,EAAE;YACvC,OAAO;gBACL,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,IAAI,EAAE,oBAAoB,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACvD,IAAI,EAAE,oBAAoB,CAAC,aAAa,CACtC,QAAQ,EACR,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EACtB,GAAG,CAAC,KAAK,CACV;aACF,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,MAAM,eAAe,GAAG,oBAAoB,CAAC,kBAAkB,CAC7D,KAAK,CAAC,QAAQ,CACf,CAAC;QAEF,MAAM,QAAQ,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,EAAE,EAAE;YAC9C,IAAI,GAAG,GAAG,eAAe,CAAC,MAAM,EAAE;gBAChC,OAAO;oBACL,IAAI,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,IAAI;oBAC/B,GAAG,IAAI;iBACR,CAAC;aACH;YACD,8CAA8C;iBACzC;gBACH,OAAO;oBACL,IAAI,EAAE,SAAS;oBACf,GAAG,IAAI;iBACR,CAAC;aACH;QACH,CAAC,CAAC,CAAC;QAEH,OAAO;YACL,IAAI;YACJ,QAAQ;SACT,CAAC;IACJ,CAAC;IAEO,MAAM,CAAC,aAAa,CAAC,OAAgB;QAC3C,IAAI,OAAO,OAAO,KAAK,QAAQ,EAAE;YAC/B,OAAO,OAAiB,CAAC;SAC1B;QAED,IAAI,KAAK,IAAI,OAAO,EAAE;YACpB,OAAO,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC;SAClD;QACD,IAAI,QAAQ,IAAI,OAAO,EAAE;YACvB,OAAO,UAAU,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC;SACxD;QACD,IAAI,SAAS,IAAI,OAAO,EAAE;YACxB,OAAO,OAAO,CAAC,OAAO,CAAC;SACxB;QACD,IAAI,OAAO,IAAI,OAAO,EAAE;YACtB,OAAO,SAAS,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC;SAC1D;QAED,MAAM,IAAI,KAAK,CAAC,qBAAqB,OAAO,EAAE,CAAC,CAAC;IAClD,CAAC;IAEO,MAAM,CAAC,aAAa,CAC1B,QAAkB,EAClB,IAAY,EACZ,KAAoB;QAEpB,IAAI,OAAO,QAAQ,CAAC,IAAI,KAAK,QAAQ,EAAE;YACrC,OAAO,IAAI,CAAC,QAAQ,EAAE,CAAC;SACxB;QACD,IAAI,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;YACvC,OAAO,CACL,GAAG;gBACe,IAAK;qBACpB,GAAG,CAAC,CAAC,CAAW,EAAE,EAAE,CACnB,IAAI,CAAC,aAAa,CAChB,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAe,QAAQ,CAAC,IAAK,CAAC,GAAG,EAAE,EACnD,CAAC,CACF,CACF;qBACA,IAAI,CAAC,IAAI,CAAC;gBACb,GAAG,CACJ,CAAC;SACH;QACD,IAAI,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;YAC1C,OAAO,IAAI,KAAK,IAAI;gBAClB,CAAC,CAAC,MAAM;gBACR,CAAC,CAAC,IAAI,CAAC,aAAa,CAChB,EAAE,IAAI,EAAE,EAAE,EAAE,IAAI,EAAkB,QAAQ,CAAC,IAAK,CAAC,MAAM,EAAE,EACzD,IAAI,EACJ,KAAK,CACN,CAAC;SACP;QACD,IAAI,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,EAAE;YAC3C,IAAI,KAAK,KAAK,SAAS,EAAE;gBACvB,MAAM,IAAI,KAAK,CAAC,iCAAiC,CAAC,CAAC;aACpD;YACD,MAAM,QAAQ,GAAG,KAAK,CAAC,MAAM,CAC3B,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAsB,QAAQ,CAAC,IAAK,CAAC,OAAO,CAC1D,CAAC;YACF,IAAI,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;gBACzB,MAAM,IAAI,KAAK,CACb,mBAAoC,QAAQ,CAAC,IAAK,CAAC,OAAO,EAAE,CAC7D,CAAC;aACH;YACD,OAAO,oBAAoB,CAAC,oBAAoB,CAC9C,QAAQ,CAAC,CAAC,CAAC,EACX,IAAI,EACJ,KAAK,CACN,CAAC;SACH;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,MAAM,CAAC,oBAAoB,CACjC,OAAmB,EACnB,IAAY,EACZ,KAAmB;QAEnB,IAAI,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,QAAQ,EAAE;YAClC,MAAM,MAAM,GAAuB,OAAO,CAAC,IAAI,CAAC;YAChD,MAAM,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;iBAC7B,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gBACT,MAAM,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACvD,IAAI,CAAC,KAAK,SAAS,EAAE;oBACnB,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAC;iBACxC;gBACD,OAAO,CACL,CAAC,GAAG,IAAI,GAAG,oBAAoB,CAAC,aAAa,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CACjE,CAAC;YACJ,CAAC,CAAC;iBACD,IAAI,CAAC,IAAI,CAAC,CAAC;YACd,OAAO,IAAI,GAAG,MAAM,GAAG,IAAI,CAAC;SAC7B;aAAM;YACL,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,EAAE;gBACtC,OAAO,IAAI,CAAC;aACb;YACD,eAAe;YACf,IAAI,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE;gBACjC,MAAM,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;gBACvC,MAAM,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gBACrC,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC/B,MAAM,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;qBACtC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;;oBACT,MAAM,SAAS,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;oBAC9B,MAAM,QAAQ,GAAG,MAAA,QAAQ,CAAC,OAAO,CAAC,0CAAE,MAAM,CACxC,CAAC,CAAW,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,EAC7B,CAAC,CAAC,CAAC;oBACL,IAAI,QAAQ,KAAK,SAAS,EAAE;wBAC1B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;qBAC3C;oBACD,OAAO,CACL,CAAC;wBACD,IAAI;wBACJ,oBAAoB,CAAC,aAAa,CAAC,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,CAC/D,CAAC;gBACJ,CAAC,CAAC;qBACD,IAAI,CAAC,IAAI,CAAC,CAAC;gBAEd,MAAM,WAAW,GAAG,IAAA,mBAAS,EAAC,OAAO,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC,CAAC;gBAC7D,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,EAAE;oBAC5B,OAAO,WAAW,CAAC;iBACpB;gBACD,OAAO,GAAG,WAAW,MAAM,WAAW,IAAI,CAAC;aAC5C;YACD,cAAc;iBACT;gBACH,QAAQ;gBACR,OAAO,sCAAsC,CAAC;aAC/C;SACF;IACH,CAAC;IAEO,MAAM,CAAC,kBAAkB,CAC/B,QAA0B,EAC1B,MAAe;QAEf,OAAO,QAAQ;aACZ,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;YACf,MAAM,OAAO,GAAG,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;YAC3C,IAAI,OAAO,CAAC,cAAc,CAAC,UAAU,CAAC,EAAE;gBACtC,MAAM,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,MAAM,OAAO,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;gBAC9D,OAAO,oBAAoB,CAAC,kBAAkB,CAC9B,OAAQ,CAAC,QAAQ,EAC/B,SAAS,CACV,CAAC;aACH;iBAAM;gBACL,OAAO;oBACL,GAAgB,OAAQ;oBACxB,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,MAAM,MAAM,OAAO,EAAE,CAAC,CAAC,CAAC,OAAO;iBAClD,CAAC;aACH;QACH,CAAC,CAAC;aACD,IAAI,EAAE,CAAC;IACZ,CAAC;CACF;AAED,SAAS,YAAY,CAAC,KAAa;IACjC,MAAM,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;IAChD,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAC1D,CAAC;AAED,yEAAyE;AACzE,sCAAsC;AACtC,SAAS,OAAO,CAAC,SAAiB,EAAE,MAAc;IAChD,IAAI,IAAI,GAAG,IAAA,sBAAS,EAAC,MAAM,CAAC,CAAC;IAC7B,IAAI,QAAQ,GAAG,GAAG,SAAS,IAAI,IAAI,EAAE,CAAC;IACtC,OAAO,eAAM,CAAC,IAAI,CAAC,kBAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1D,CAAC"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/state.d.ts b/dist/cjs/coder/borsh/state.d.ts
index 3e1cb4b1f00dd44b911ba33c0c5b096f6544a108..745a2181207253a0a032a4502aaa980072babaee 100644
--- a/dist/cjs/coder/borsh/state.d.ts
+++ b/dist/cjs/coder/borsh/state.d.ts
@@ -3,6 +3,7 @@ import { Buffer } from "buffer";
 import { Idl } from "../../idl.js";
 export declare class BorshStateCoder {
     private layout;
+    private maxSize;
     constructor(idl: Idl);
     encode<T = any>(name: string, account: T): Promise<Buffer>;
     decode<T = any>(ix: Buffer): T;
diff --git a/dist/cjs/coder/borsh/state.d.ts.map b/dist/cjs/coder/borsh/state.d.ts.map
index f4c9b0d3ffa939b195a79159b696428382c38862..5f2eda0e2e5d4270461d547629d8d889fdd6145a 100644
--- a/dist/cjs/coder/borsh/state.d.ts.map
+++ b/dist/cjs/coder/borsh/state.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAInC,qBAAa,eAAe;IAC1B,OAAO,CAAC,MAAM,CAAS;gBAEJ,GAAG,EAAE,GAAG;IAOd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAUhE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;CAKtC;AAGD,wBAAsB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAGtE"}
\ No newline at end of file
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAMnC,qBAAa,eAAe;IAC1B,OAAO,CAAC,MAAM,CAAS;IACvB,OAAO,CAAC,OAAO,CAAqB;gBAEjB,GAAG,EAAE,GAAG;IAQd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAUhE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;CAKtC;AAGD,wBAAsB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAGtE"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/state.js b/dist/cjs/coder/borsh/state.js
index eb552818a335e9c3be7cb7b4247a8ccbd9685ea2..1649f55018281a4505cef6dd617b1eda6d7ecabe 100644
--- a/dist/cjs/coder/borsh/state.js
+++ b/dist/cjs/coder/borsh/state.js
@@ -28,31 +28,35 @@ const buffer_1 = require("buffer");
 const js_sha256_1 = require("js-sha256");
 const idl_js_1 = require("./idl.js");
 const features = __importStar(require("../../utils/features.js"));
+const common_js_1 = require("../common.js");
+const web3_js_1 = require("@solana/web3.js");
 class BorshStateCoder {
     constructor(idl) {
         if (idl.state === undefined) {
             throw new Error("Idl state not defined.");
         }
         this.layout = idl_js_1.IdlCoder.typeDefLayout(idl.state.struct, idl.types);
+        this.maxSize = (0, common_js_1.layoutSize)(this.layout);
     }
     async encode(name, account) {
-        const buffer = buffer_1.Buffer.alloc(1000); // TODO: use a tighter buffer.
+        var _a;
+        const buffer = buffer_1.Buffer.alloc((_a = this.maxSize) !== null && _a !== void 0 ? _a : web3_js_1.PACKET_DATA_SIZE);
         const len = this.layout.encode(account, buffer);
         const disc = await stateDiscriminator(name);
-        const accData = buffer.slice(0, len);
+        const accData = buffer.subarray(0, len);
         return buffer_1.Buffer.concat([disc, accData]);
     }
     decode(ix) {
         // Chop off discriminator.
-        const data = ix.slice(8);
+        const data = ix.subarray(8);
         return this.layout.decode(data);
     }
 }
 exports.BorshStateCoder = BorshStateCoder;
 // Calculates unique 8 byte discriminator prepended to all anchor state accounts.
 async function stateDiscriminator(name) {
-    let ns = features.isSet("anchor-deprecated-state") ? "account" : "state";
-    return buffer_1.Buffer.from(js_sha256_1.sha256.digest(`${ns}:${name}`)).slice(0, 8);
+    const ns = features.isSet("anchor-deprecated-state") ? "account" : "state";
+    return buffer_1.Buffer.from(js_sha256_1.sha256.digest(`${ns}:${name}`)).subarray(0, 8);
 }
 exports.stateDiscriminator = stateDiscriminator;
 //# sourceMappingURL=state.js.map
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/state.js.map b/dist/cjs/coder/borsh/state.js.map
index 2ff1e1c60e4f659cd8c8701d24a58878ec4ce813..c4c69312d2be69094b4a0e130300b18b2f7cddd9 100644
--- a/dist/cjs/coder/borsh/state.js.map
+++ b/dist/cjs/coder/borsh/state.js.map
@@ -1 +1 @@
-{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAEhC,yCAAmC;AAEnC,qCAAoC;AACpC,kEAAoD;AAEpD,MAAa,eAAe;IAG1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,MAAM,GAAG,iBAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;IAEM,KAAK,CAAC,MAAM,CAAU,IAAY,EAAE,OAAU;QACnD,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEhD,MAAM,IAAI,GAAG,MAAM,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAErC,OAAO,eAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAU,EAAU;QAC/B,0BAA0B;QAC1B,MAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;CACF;AAzBD,0CAyBC;AAED,iFAAiF;AAC1E,KAAK,UAAU,kBAAkB,CAAC,IAAY;IACnD,IAAI,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;IACzE,OAAO,eAAM,CAAC,IAAI,CAAC,kBAAM,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC;AAHD,gDAGC"}
\ No newline at end of file
+{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAEhC,yCAAmC;AAEnC,qCAAoC;AACpC,kEAAoD;AACpD,4CAA0C;AAC1C,6CAAmD;AAEnD,MAAa,eAAe;IAI1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,MAAM,GAAG,iBAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,GAAG,IAAA,sBAAU,EAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAU,IAAY,EAAE,OAAU;;QACnD,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,MAAA,IAAI,CAAC,OAAO,mCAAI,0BAAgB,CAAC,CAAC;QAC9D,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEhD,MAAM,IAAI,GAAG,MAAM,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAExC,OAAO,eAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAU,EAAU;QAC/B,0BAA0B;QAC1B,MAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;CACF;AA3BD,0CA2BC;AAED,iFAAiF;AAC1E,KAAK,UAAU,kBAAkB,CAAC,IAAY;IACnD,MAAM,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;IAC3E,OAAO,eAAM,CAAC,IAAI,CAAC,kBAAM,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpE,CAAC;AAHD,gDAGC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/types.d.ts.map b/dist/cjs/coder/borsh/types.d.ts.map
index 02d631a504d4b8b0393d5993aea74bec31ba19b7..571ebf391202c77bed919219ceed3b7fcaeb075f 100644
--- a/dist/cjs/coder/borsh/types.d.ts.map
+++ b/dist/cjs/coder/borsh/types.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC;;GAEG;AACH,qBAAa,eAAe,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAAE,YAAW,UAAU;IAC3E;;OAEG;IACH,OAAO,CAAC,WAAW,CAAiB;IAEpC;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAapB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM;IAW7C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC;CAOzD"}
\ No newline at end of file
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAGzC;;GAEG;AACH,qBAAa,eAAe,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAAE,YAAW,UAAU;IAC3E;;OAEG;IACH,OAAO,CAAC,WAAW,CAAuC;IAE1D;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAqBpB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM;IAW7C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC;CAQzD"}
\ No newline at end of file
diff --git a/dist/cjs/coder/borsh/types.js b/dist/cjs/coder/borsh/types.js
index 194ce44c965379a176384b94933be72cf4b673cb..ae995df7eb08ad1aeb2747c19cd0becff8971809 100644
--- a/dist/cjs/coder/borsh/types.js
+++ b/dist/cjs/coder/borsh/types.js
@@ -2,7 +2,9 @@
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.BorshTypesCoder = void 0;
 const buffer_1 = require("buffer");
+const web3_js_1 = require("@solana/web3.js");
 const idl_js_1 = require("./idl.js");
+const common_js_1 = require("../common.js");
 /**
  * Encodes and decodes user-defined types.
  */
@@ -12,26 +14,36 @@ class BorshTypesCoder {
             this.typeLayouts = new Map();
             return;
         }
-        const layouts = idl.types.map((acc) => {
-            return [acc.name, idl_js_1.IdlCoder.typeDefLayout(acc, idl.types)];
+        const layouts = idl.types.map((type) => {
+            const layout = idl_js_1.IdlCoder.typeDefLayout(type, idl.types);
+            let size;
+            try {
+                size = (0, common_js_1.layoutSize)(layout);
+            }
+            catch (_) {
+                // noop
+            }
+            return [type.name, [layout, size]];
         });
         this.typeLayouts = new Map(layouts);
         this.idl = idl;
     }
     encode(typeName, type) {
-        const buffer = buffer_1.Buffer.alloc(1000); // TODO: use a tighter buffer.
-        const layout = this.typeLayouts.get(typeName);
-        if (!layout) {
+        const entry = this.typeLayouts.get(typeName);
+        if (!entry) {
             throw new Error(`Unknown type: ${typeName}`);
         }
+        const [layout, size] = entry;
+        const buffer = buffer_1.Buffer.alloc(size !== null && size !== void 0 ? size : web3_js_1.PACKET_DATA_SIZE);
         const len = layout.encode(type, buffer);
-        return buffer.slice(0, len);
+        return buffer.subarray(0, len);
     }
     decode(typeName, typeData) {
-        const layout = this.typeLayouts.get(typeName);
-        if (!layout) {
+        const entry = this.typeLayouts.get(typeName);
+        if (!entry) {
             throw new Error(`Unknown type: ${typeName}`);
         }
+        const [layout] = entry;
         return layout.decode(typeData);
     }
 }
diff --git a/dist/cjs/coder/borsh/types.js.map b/dist/cjs/coder/borsh/types.js.map
index 35234bb2912c354f5a68b701732d9c17bb23f683..bad07b6c32dfc72f27d3fa81660278937d2e0edb 100644
--- a/dist/cjs/coder/borsh/types.js.map
+++ b/dist/cjs/coder/borsh/types.js.map
@@ -1 +1 @@
-{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";;;AAAA,mCAAgC;AAGhC,qCAAoC;AAGpC;;GAEG;AACH,MAAa,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;YAC7B,OAAO;SACR;QACD,MAAM,OAAO,GAAkB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACnD,OAAO,CAAC,GAAG,CAAC,IAAS,EAAE,iBAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,IAAO;QACzC,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAExC,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,QAAgB;QAClD,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;CACF;AA1CD,0CA0CC"}
\ No newline at end of file
+{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";;;AAAA,mCAAgC;AAEhC,6CAAmD;AAEnD,qCAAoC;AAEpC,4CAA0C;AAE1C;;GAEG;AACH,MAAa,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;YAC7B,OAAO;SACR;QACD,MAAM,OAAO,GAAwC,GAAG,CAAC,KAAK,CAAC,GAAG,CAChE,CAAC,IAAI,EAAE,EAAE;YACP,MAAM,MAAM,GAAG,iBAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,IAAwB,CAAC;YAC7B,IAAI;gBACF,IAAI,GAAG,IAAA,sBAAU,EAAC,MAAM,CAAC,CAAC;aAC3B;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO;aACR;YACD,OAAO,CAAC,IAAI,CAAC,IAAS,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;QAC1C,CAAC,CACF,CAAC;QACF,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,IAAO;QACzC,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,KAAK,CAAC;QAC7B,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,IAAI,aAAJ,IAAI,cAAJ,IAAI,GAAI,0BAAgB,CAAC,CAAC;QACtD,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IACjC,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,QAAgB;QAClD,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;QACvB,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;CACF;AAnDD,0CAmDC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/common.d.ts b/dist/cjs/coder/common.d.ts
index e4e6d62f6445d15ef33619a5413eebb14175873f..e6532db54ce6ef89977d3757fcd047956bb62ba1 100644
--- a/dist/cjs/coder/common.d.ts
+++ b/dist/cjs/coder/common.d.ts
@@ -1,3 +1,5 @@
 import { Idl, IdlTypeDef } from "../idl.js";
+import * as BufferLayout from "buffer-layout";
+export declare function layoutSize(layout: BufferLayout.Layout): number;
 export declare function accountSize(idl: Idl, idlAccount: IdlTypeDef): number;
 //# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/coder/common.d.ts.map b/dist/cjs/coder/common.d.ts.map
index 180fa94c32af973c09bbfd9df51aaa4884147696..b3e407c4d6fffc4de750ea5623c6eab76c4819c1 100644
--- a/dist/cjs/coder/common.d.ts.map
+++ b/dist/cjs/coder/common.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAY,UAAU,EAA2B,MAAM,WAAW,CAAC;AAG/E,wBAAgB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,GAAG,MAAM,CAyBpE"}
\ No newline at end of file
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAY,UAAU,EAA2B,MAAM,WAAW,CAAC;AAE/E,OAAO,KAAK,YAAY,MAAM,eAAe,CAAC;AAsB9C,wBAAgB,UAAU,CAAC,MAAM,EAAE,YAAY,CAAC,MAAM,GAAG,MAAM,CA4B9D;AAED,wBAAgB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,GAAG,MAAM,CAyBpE"}
\ No newline at end of file
diff --git a/dist/cjs/coder/common.js b/dist/cjs/coder/common.js
index 43faf41662fae8a3e7881a6d04cc7832d8b1b8bb..21651aab1de66fcbf85d4f78d7ffd9b08437ed55 100644
--- a/dist/cjs/coder/common.js
+++ b/dist/cjs/coder/common.js
@@ -1,7 +1,70 @@
 "use strict";
+var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
+    if (k2 === undefined) k2 = k;
+    var desc = Object.getOwnPropertyDescriptor(m, k);
+    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
+      desc = { enumerable: true, get: function() { return m[k]; } };
+    }
+    Object.defineProperty(o, k2, desc);
+}) : (function(o, m, k, k2) {
+    if (k2 === undefined) k2 = k;
+    o[k2] = m[k];
+}));
+var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
+    Object.defineProperty(o, "default", { enumerable: true, value: v });
+}) : function(o, v) {
+    o["default"] = v;
+});
+var __importStar = (this && this.__importStar) || function (mod) {
+    if (mod && mod.__esModule) return mod;
+    var result = {};
+    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
+    __setModuleDefault(result, mod);
+    return result;
+};
 Object.defineProperty(exports, "__esModule", { value: true });
-exports.accountSize = void 0;
+exports.accountSize = exports.layoutSize = void 0;
 const error_js_1 = require("../error.js");
+const BufferLayout = __importStar(require("buffer-layout"));
+const isOptionLayout = (() => {
+    return (layout) => layout["layout"] instanceof BufferLayout.Layout &&
+        layout["discriminator"] instanceof BufferLayout.UInt;
+})();
+const isWrappedLayout = (() => {
+    return (layout) => layout["layout"] instanceof BufferLayout.Layout &&
+        typeof layout["decoder"] === "function" &&
+        typeof layout["encoder"] === "function";
+})();
+function layoutSize(layout) {
+    if (layout.span >= 0) {
+        return layout.span;
+    }
+    if (layout instanceof BufferLayout.Structure) {
+        return layout.fields.reduce((acc, field) => acc + layoutSize(field), 0);
+    }
+    else if (layout instanceof BufferLayout.Union) {
+        let span = Object.values(layout.registry).reduce((max, variant) => {
+            const span = layoutSize(variant);
+            return span > max ? span : max;
+        }, 0);
+        if (layout.usesPrefixDiscriminator) {
+            span += layout.discriminator
+                .layout.span;
+        }
+        return span;
+    }
+    else if (layout instanceof BufferLayout.VariantLayout) {
+        return layout.layout == null ? 0 : layoutSize(layout.layout);
+    }
+    else if (isOptionLayout(layout)) {
+        return layoutSize(layout.discriminator) + layoutSize(layout.layout);
+    }
+    else if (isWrappedLayout(layout)) {
+        return layoutSize(layout.layout);
+    }
+    throw new Error("indeterminate span");
+}
+exports.layoutSize = layoutSize;
 function accountSize(idl, idlAccount) {
     if (idlAccount.type.kind === "enum") {
         let variantSizes = idlAccount.type.variants.map((variant) => {
@@ -27,39 +90,33 @@ function accountSize(idl, idlAccount) {
         .reduce((a, b) => a + b, 0);
 }
 exports.accountSize = accountSize;
-// Returns the size of the type in bytes. For variable length types, just return
-// 1. Users should override this value in such cases.
+// Returns the size of the type in bytes.
+//
+// For variable length types, just return 1.
+// Users should override this value in such cases.
 function typeSize(idl, ty) {
     var _a, _b;
     switch (ty) {
         case "bool":
             return 1;
         case "u8":
-            return 1;
         case "i8":
             return 1;
         case "i16":
-            return 2;
         case "u16":
             return 2;
         case "u32":
-            return 4;
         case "i32":
-            return 4;
         case "f32":
             return 4;
         case "u64":
-            return 8;
         case "i64":
-            return 8;
         case "f64":
             return 8;
         case "u128":
-            return 16;
         case "i128":
             return 16;
         case "bytes":
-            return 1;
         case "string":
             return 1;
         case "publicKey":
diff --git a/dist/cjs/coder/common.js.map b/dist/cjs/coder/common.js.map
index 8a01865a6e0c685a83bcf6c0d3b5e602f8ac70a9..7ceca349674529db3bb68cff1ef3653449fbc39f 100644
--- a/dist/cjs/coder/common.js.map
+++ b/dist/cjs/coder/common.js.map
@@ -1 +1 @@
-{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/index.d.ts b/dist/cjs/coder/index.d.ts
index 29e6e0f75b11a07b37cf685c94e3e659ae261d1b..4749bace77292d175f189ddb6dbe50094406cdf6 100644
--- a/dist/cjs/coder/index.d.ts
+++ b/dist/cjs/coder/index.d.ts
@@ -19,7 +19,7 @@ export interface Coder<A extends string = string, T extends string = string> {
     /**
      * Coder for state structs.
      */
-    readonly state: StateCoder;
+    readonly state?: StateCoder | undefined;
     /**
      * Coder for events.
      */
diff --git a/dist/cjs/coder/index.d.ts.map b/dist/cjs/coder/index.d.ts.map
index 4228f59fc0f1406db49b0db46f584e1b973886a7..3d25d3393da1e64f84f472ec243956590e97bc1c 100644
--- a/dist/cjs/coder/index.d.ts.map
+++ b/dist/cjs/coder/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/index.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAE5C,cAAc,kBAAkB,CAAC;AACjC,cAAc,sBAAsB,CAAC;AACrC,cAAc,mBAAmB,CAAC;AAElC;;GAEG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM;IACzE;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC;IAEvC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;IAEpC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC;IAE3B;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC;IAE5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;CAC/B;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,aAAa,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACtD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IAC/C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IACxD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM,CAAC;CACtC;AAED,MAAM,WAAW,gBAAgB;IAC/B,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;IACxC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;CAC9C;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;CACvB;AAED,MAAM,WAAW,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACnD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC;IAC9C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;CACnD"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/index.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAE5C,cAAc,kBAAkB,CAAC;AACjC,cAAc,sBAAsB,CAAC;AACrC,cAAc,mBAAmB,CAAC;AAElC;;GAEG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM;IACzE;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC;IAEvC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;IAEpC;;OAEG;IACH,QAAQ,CAAC,KAAK,CAAC,EAAE,UAAU,GAAG,SAAS,CAAC;IAExC;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC;IAE5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;CAC/B;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,aAAa,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACtD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IAC/C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IACxD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM,CAAC;CACtC;AAED,MAAM,WAAW,gBAAgB;IAC/B,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;IACxC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;CAC9C;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;CACvB;AAED,MAAM,WAAW,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACnD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC;IAC9C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;CACnD"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-associated-token/instruction.js b/dist/cjs/coder/spl-associated-token/instruction.js
index fcc57c21ea916508e8a3bd0687c863984e4c1d86..806c8f094b9103b60397f927c74bc91ac3ffdde7 100644
--- a/dist/cjs/coder/spl-associated-token/instruction.js
+++ b/dist/cjs/coder/spl-associated-token/instruction.js
@@ -1,14 +1,11 @@
 "use strict";
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.SplAssociatedTokenInstructionCoder = void 0;
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 class SplAssociatedTokenInstructionCoder {
     constructor(_) { }
     encode(ixName, _) {
-        switch ((0, camelcase_1.default)(ixName)) {
+        switch ((0, case_1.camelCase)(ixName)) {
             case "create": {
                 return Buffer.alloc(0);
             }
diff --git a/dist/cjs/coder/spl-associated-token/instruction.js.map b/dist/cjs/coder/spl-associated-token/instruction.js.map
index f5b8b1b598132402697fe14ab911360b07ec135b..d52bfd327209380fc4519a0fa404613b246a681e 100644
--- a/dist/cjs/coder/spl-associated-token/instruction.js.map
+++ b/dist/cjs/coder/spl-associated-token/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/instruction.ts"],"names":[],"mappings":";;;;;;AAAA,0DAAkC;AAIlC,MAAa,kCAAkC;IAC7C,YAAY,CAAM,IAAG,CAAC;IAEtB,MAAM,CAAC,MAAc,EAAE,CAAM;QAC3B,QAAQ,IAAA,mBAAS,EAAC,MAAM,CAAC,EAAE;YACzB,KAAK,QAAQ,CAAC,CAAC;gBACb,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,wBAAwB,MAAM,EAAE,CAAC,CAAC;aACnD;SACF;IACH,CAAC;IAED,WAAW,CAAC,OAAe,EAAE,GAAQ;QACnC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;IAC9D,CAAC;CACF;AAjBD,gFAiBC"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/instruction.ts"],"names":[],"mappings":";;;AAAA,sCAAwC;AAIxC,MAAa,kCAAkC;IAC7C,YAAY,CAAM,IAAG,CAAC;IAEtB,MAAM,CAAC,MAAc,EAAE,CAAM;QAC3B,QAAQ,IAAA,gBAAS,EAAC,MAAM,CAAC,EAAE;YACzB,KAAK,QAAQ,CAAC,CAAC;gBACb,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,wBAAwB,MAAM,EAAE,CAAC,CAAC;aACnD;SACF;IACH,CAAC;IAED,WAAW,CAAC,OAAe,EAAE,GAAQ;QACnC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;IAC9D,CAAC;CACF;AAjBD,gFAiBC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/accounts.d.ts.map b/dist/cjs/coder/spl-token/accounts.d.ts.map
index 1939b6ac486c152e5f933fc6b21a7aac3f364e9e..b727d04a9a7d585f2b33c5b8dc61ce0ac345f220 100644
--- a/dist/cjs/coder/spl-token/accounts.d.ts.map
+++ b/dist/cjs/coder/spl-token/accounts.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,qBAAqB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1D,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAkBlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAevD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAkBjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,qBAAqB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1D,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAoBlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAevD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAkBjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/accounts.js b/dist/cjs/coder/spl-token/accounts.js
index 042a901c5323afd0e8c2ca3497f1c779c421c7f5..1cc12ecad9c35a8ccfd3a9bc74c99530ca6bfeb4 100644
--- a/dist/cjs/coder/spl-token/accounts.js
+++ b/dist/cjs/coder/spl-token/accounts.js
@@ -35,11 +35,13 @@ class SplTokenAccountsCoder {
         switch (accountName) {
             case "token": {
                 const buffer = Buffer.alloc(165);
+                // @ts-ignore
                 const len = TOKEN_ACCOUNT_LAYOUT.encode(account, buffer);
                 return buffer.slice(0, len);
             }
             case "mint": {
                 const buffer = Buffer.alloc(82);
+                // @ts-ignore
                 const len = MINT_ACCOUNT_LAYOUT.encode(account, buffer);
                 return buffer.slice(0, len);
             }
diff --git a/dist/cjs/coder/spl-token/accounts.js.map b/dist/cjs/coder/spl-token/accounts.js.map
index 6befa2e3222ec25b30917158712da1cfb649e846..722c649ca86dfa17a9f8a90ddb5d413ba1008341 100644
--- a/dist/cjs/coder/spl-token/accounts.js.map
+++ b/dist/cjs/coder/spl-token/accounts.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/buffer-layout.d.ts b/dist/cjs/coder/spl-token/buffer-layout.d.ts
index c20a4909b0b64a11fd5932b7cb594b83c6e23928..9d9eecf0f6b367db7f856524978ba698ff7e2cdd 100644
--- a/dist/cjs/coder/spl-token/buffer-layout.d.ts
+++ b/dist/cjs/coder/spl-token/buffer-layout.d.ts
@@ -2,7 +2,7 @@
 import BN from "bn.js";
 import { Layout } from "buffer-layout";
 import { PublicKey } from "@solana/web3.js";
-export declare function uint64(property?: string): Layout<u64 | null>;
+export declare function uint64(property?: string): Layout<u64>;
 export declare function bool(property?: string): Layout<boolean>;
 export declare function publicKey(property?: string): Layout<PublicKey>;
 export declare function coption<T>(layout: Layout<T>, property?: string): Layout<T | null>;
diff --git a/dist/cjs/coder/spl-token/buffer-layout.d.ts.map b/dist/cjs/coder/spl-token/buffer-layout.d.ts.map
index 818c845cb85c3fc0c8de86cd15c02286c2bcd740..6da8adae8e6d7e40b802cc815d0beb611b70d663 100644
--- a/dist/cjs/coder/spl-token/buffer-layout.d.ts.map
+++ b/dist/cjs/coder/spl-token/buffer-layout.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"buffer-layout.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvB,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,wBAAgB,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,CAO5D;AAED,wBAAgB,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAEvD;AAED,wBAAgB,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAO9D;AAED,wBAAgB,OAAO,CAAC,CAAC,EACvB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EACjB,QAAQ,CAAC,EAAE,MAAM,GAChB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAElB;AAgCD,qBAAa,aAAa,CAAC,CAAC,CAAE,SAAQ,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IACpD,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAClB,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM;IAMhD,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;IAQpD,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,CAAC,GAAG,IAAI;IAUvC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;CAGvC;AAeD,qBAAa,GAAI,SAAQ,EAAE;IACzB;;OAEG;IACH,QAAQ,IAAI,MAAM;IAelB;;OAEG;IACH,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,GAAG;CAYvC"}
\ No newline at end of file
+{"version":3,"file":"buffer-layout.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvB,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,wBAAgB,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAOrD;AAED,wBAAgB,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAEvD;AAED,wBAAgB,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAO9D;AAED,wBAAgB,OAAO,CAAC,CAAC,EACvB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EACjB,QAAQ,CAAC,EAAE,MAAM,GAChB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAElB;AAgCD,qBAAa,aAAa,CAAC,CAAC,CAAE,SAAQ,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IACpD,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAClB,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM;IAMhD,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;IAQpD,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,CAAC,GAAG,IAAI;IAUvC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;CAGvC;AAeD,qBAAa,GAAI,SAAQ,EAAE;IACzB;;OAEG;IACH,QAAQ,IAAI,MAAM;IAQlB;;OAEG;IACH,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,GAAG;CAMvC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/buffer-layout.js b/dist/cjs/coder/spl-token/buffer-layout.js
index 0e1eefb45d4a0456c7df50d2e212c0f9cdad109d..0c1b91723829d3f3c99fa67ec3797d083764a3d8 100644
--- a/dist/cjs/coder/spl-token/buffer-layout.js
+++ b/dist/cjs/coder/spl-token/buffer-layout.js
@@ -75,7 +75,7 @@ class COptionLayout extends buffer_layout_1.Layout {
             return this.layout.span + this.discriminator.encode(0, b, offset);
         }
         this.discriminator.encode(1, b, offset);
-        return this.layout.encode(src, b, offset + 4) + 4;
+        return 4 + this.layout.encode(src, b, offset + 4);
     }
     decode(b, offset = 0) {
         const discriminator = this.discriminator.decode(b, offset);
@@ -109,17 +109,11 @@ class u64 extends bn_js_1.default {
      * Convert to Buffer representation
      */
     toBuffer() {
-        const a = super.toArray().reverse();
-        const b = Buffer.from(a);
-        if (b.length === 8) {
-            return b;
-        }
-        if (b.length >= 8) {
+        const buf = super.toArrayLike(Buffer, "le", 8);
+        if (buf.length >= 8) {
             throw new Error("u64 too large");
         }
-        const zeroPad = Buffer.alloc(8);
-        b.copy(zeroPad);
-        return zeroPad;
+        return buf;
     }
     /**
      * Construct a u64 from Buffer representation
@@ -128,10 +122,7 @@ class u64 extends bn_js_1.default {
         if (buffer.length !== 8) {
             throw new Error(`Invalid buffer length: ${buffer.length}`);
         }
-        return new u64([...buffer]
-            .reverse()
-            .map((i) => `00${i.toString(16)}`.slice(-2))
-            .join(""), 16);
+        return new u64(buffer, "le");
     }
 }
 exports.u64 = u64;
diff --git a/dist/cjs/coder/spl-token/buffer-layout.js.map b/dist/cjs/coder/spl-token/buffer-layout.js.map
index 6252c01a6f3387a6ec57303d974a96383e83648f..f79515292f4357b2449ebb91f90db00dfff6735a 100644
--- a/dist/cjs/coder/spl-token/buffer-layout.js.map
+++ b/dist/cjs/coder/spl-token/buffer-layout.js.map
@@ -1 +1 @@
-{"version":3,"file":"buffer-layout.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"buffer-layout.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/instruction.d.ts.map b/dist/cjs/coder/spl-token/instruction.d.ts.map
index 9521286f89c14933296101a0102b1ace5edd4b25..5db0259ed7dffebb743305ac0a3579c41583f0e4 100644
--- a/dist/cjs/coder/spl-token/instruction.d.ts.map
+++ b/dist/cjs/coder/spl-token/instruction.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,wBAAyB,YAAW,gBAAgB;gBACnD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAuEvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAGnC,qBAAa,wBAAyB,YAAW,gBAAgB;gBACnD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAuEvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/instruction.js b/dist/cjs/coder/spl-token/instruction.js
index b69ccc2d4793c69033887919e9d6226d129cb719..e394f63b25512fb7dd3c8f635a23e036a1be6dbe 100644
--- a/dist/cjs/coder/spl-token/instruction.js
+++ b/dist/cjs/coder/spl-token/instruction.js
@@ -22,18 +22,16 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.SplTokenInstructionCoder = void 0;
 const BufferLayout = __importStar(require("buffer-layout"));
-const camelcase_1 = __importDefault(require("camelcase"));
-const web3_js_1 = require("@solana/web3.js");
+const borsh = __importStar(require("@project-serum/borsh"));
+const case_1 = require("@juici/case");
+const common_js_1 = require("../common.js");
 class SplTokenInstructionCoder {
     constructor(_) { }
     encode(ixName, ix) {
-        switch ((0, camelcase_1.default)(ixName)) {
+        switch ((0, case_1.camelCase)(ixName)) {
             case "initializeMint": {
                 return encodeInitializeMint(ix);
             }
@@ -111,9 +109,8 @@ function encodeInitializeMint({ decimals, mintAuthority, freezeAuthority, }) {
     return encodeData({
         initializeMint: {
             decimals,
-            mintAuthority: mintAuthority.toBuffer(),
-            freezeAuthorityOption: !!freezeAuthority,
-            freezeAuthority: (freezeAuthority || web3_js_1.PublicKey.default).toBuffer(),
+            mintAuthority,
+            freezeAuthority,
         },
     });
 }
@@ -216,66 +213,47 @@ function encodeInitializeMultisig2({ m }) {
 }
 function encodeInitializeMint2({ decimals, mintAuthority, freezeAuthority, }) {
     return encodeData({
-        encodeInitializeMint2: { decimals, mintAuthority, freezeAuthority },
+        initializeMint2: { decimals, mintAuthority, freezeAuthority },
     });
 }
 const LAYOUT = BufferLayout.union(BufferLayout.u8("instruction"));
 LAYOUT.addVariant(0, BufferLayout.struct([
     BufferLayout.u8("decimals"),
-    BufferLayout.blob(32, "mintAuthority"),
-    BufferLayout.u8("freezeAuthorityOption"),
-    publicKey("freezeAuthority"),
+    borsh.publicKey("mintAuthority"),
+    borsh.option(borsh.publicKey(), "freezeAuthority"),
 ]), "initializeMint");
 LAYOUT.addVariant(1, BufferLayout.struct([]), "initializeAccount");
 LAYOUT.addVariant(2, BufferLayout.struct([BufferLayout.u8("m")]), "initializeMultisig");
-LAYOUT.addVariant(3, BufferLayout.struct([BufferLayout.nu64("amount")]), "transfer");
-LAYOUT.addVariant(4, BufferLayout.struct([BufferLayout.nu64("amount")]), "approve");
+LAYOUT.addVariant(3, BufferLayout.struct([borsh.u64("amount")]), "transfer");
+LAYOUT.addVariant(4, BufferLayout.struct([borsh.u64("amount")]), "approve");
 LAYOUT.addVariant(5, BufferLayout.struct([]), "revoke");
 LAYOUT.addVariant(6, BufferLayout.struct([
     BufferLayout.u8("authorityType"),
-    BufferLayout.u8("newAuthorityOption"),
-    publicKey("newAuthority"),
+    borsh.option(borsh.publicKey(), "newAuthority"),
 ]), "setAuthority");
-LAYOUT.addVariant(7, BufferLayout.struct([BufferLayout.nu64("amount")]), "mintTo");
-LAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.nu64("amount")]), "burn");
+LAYOUT.addVariant(7, BufferLayout.struct([borsh.u64("amount")]), "mintTo");
+LAYOUT.addVariant(8, BufferLayout.struct([borsh.u64("amount")]), "burn");
 LAYOUT.addVariant(9, BufferLayout.struct([]), "closeAccount");
 LAYOUT.addVariant(10, BufferLayout.struct([]), "freezeAccount");
 LAYOUT.addVariant(11, BufferLayout.struct([]), "thawAccount");
-LAYOUT.addVariant(12, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "transferChecked");
-LAYOUT.addVariant(13, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "approvedChecked");
-LAYOUT.addVariant(14, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "mintToChecked");
-LAYOUT.addVariant(15, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "burnedChecked");
-LAYOUT.addVariant(16, BufferLayout.struct([publicKey("authority")]), "InitializeAccount2");
+LAYOUT.addVariant(12, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "transferChecked");
+LAYOUT.addVariant(13, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "approvedChecked");
+LAYOUT.addVariant(14, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "mintToChecked");
+LAYOUT.addVariant(15, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "burnedChecked");
+LAYOUT.addVariant(16, BufferLayout.struct([borsh.publicKey("authority")]), "InitializeAccount2");
 LAYOUT.addVariant(17, BufferLayout.struct([]), "syncNative");
-LAYOUT.addVariant(18, BufferLayout.struct([publicKey("authority")]), "initializeAccount3");
+LAYOUT.addVariant(18, BufferLayout.struct([borsh.publicKey("authority")]), "initializeAccount3");
 LAYOUT.addVariant(19, BufferLayout.struct([BufferLayout.u8("m")]), "initializeMultisig2");
 LAYOUT.addVariant(20, BufferLayout.struct([
     BufferLayout.u8("decimals"),
-    publicKey("mintAuthority"),
+    borsh.publicKey("mintAuthority"),
     BufferLayout.u8("freezeAuthorityOption"),
-    publicKey("freezeAuthority"),
+    borsh.publicKey("freezeAuthority"),
 ]), "initializeMint2");
-function publicKey(property) {
-    return BufferLayout.blob(32, property);
-}
 function encodeData(instruction) {
     let b = Buffer.alloc(instructionMaxSpan);
     let span = LAYOUT.encode(instruction, b);
-    return b.slice(0, span);
+    return b.subarray(0, span);
 }
-const instructionMaxSpan = Math.max(
-// @ts-ignore
-...Object.values(LAYOUT.registry).map((r) => r.span));
+const instructionMaxSpan = (0, common_js_1.layoutSize)(LAYOUT);
 //# sourceMappingURL=instruction.js.map
\ No newline at end of file
diff --git a/dist/cjs/coder/spl-token/instruction.js.map b/dist/cjs/coder/spl-token/instruction.js.map
index 77ea02bfaa920eedf66abf0375dac7424fc93f85..1b8c5ff3dc288d3544e10f1e970eb0d52c9bd002 100644
--- a/dist/cjs/coder/spl-token/instruction.js.map
+++ b/dist/cjs/coder/spl-token/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/coder/system/accounts.d.ts.map b/dist/cjs/coder/system/accounts.d.ts.map
index 675249c7b99d8fa1542bf2f2a459549a91f0bc5d..60892f211c91326178a65aa115cdd3a4ad67b9cf 100644
--- a/dist/cjs/coder/system/accounts.d.ts.map
+++ b/dist/cjs/coder/system/accounts.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAK/C,qBAAa,mBAAmB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACxD,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAalE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAYvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAajD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAO/C,qBAAa,mBAAmB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACxD,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAalE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAYvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAajD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/cjs/coder/system/accounts.js b/dist/cjs/coder/system/accounts.js
index 4f57f6dd379e0bd4697f3e8a6d2c72acdded34f3..e9a44f96d70c2902ce1170b72ce5cd71f27ba9a0 100644
--- a/dist/cjs/coder/system/accounts.js
+++ b/dist/cjs/coder/system/accounts.js
@@ -25,6 +25,7 @@ var __importStar = (this && this.__importStar) || function (mod) {
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.SystemAccountsCoder = void 0;
 const BufferLayout = __importStar(require("buffer-layout"));
+const borsh = __importStar(require("@project-serum/borsh"));
 const web3_js_1 = require("@solana/web3.js");
 const common_js_1 = require("../common.js");
 class SystemAccountsCoder {
@@ -36,7 +37,7 @@ class SystemAccountsCoder {
             case "nonce": {
                 const buffer = Buffer.alloc(web3_js_1.NONCE_ACCOUNT_LENGTH);
                 const len = NONCE_ACCOUNT_LAYOUT.encode(account, buffer);
-                return buffer.slice(0, len);
+                return buffer.subarray(0, len);
             }
             default: {
                 throw new Error(`Invalid account name: ${accountName}`);
@@ -78,31 +79,11 @@ exports.SystemAccountsCoder = SystemAccountsCoder;
 function decodeNonceAccount(ix) {
     return NONCE_ACCOUNT_LAYOUT.decode(ix);
 }
-class WrappedLayout extends BufferLayout.Layout {
-    constructor(layout, decoder, encoder, property) {
-        super(layout.span, property);
-        this.layout = layout;
-        this.decoder = decoder;
-        this.encoder = encoder;
-    }
-    decode(b, offset) {
-        return this.decoder(this.layout.decode(b, offset));
-    }
-    encode(src, b, offset) {
-        return this.layout.encode(this.encoder(src), b, offset);
-    }
-    getSpan(b, offset) {
-        return this.layout.getSpan(b, offset);
-    }
-}
-function publicKey(property) {
-    return new WrappedLayout(BufferLayout.blob(32), (b) => new web3_js_1.PublicKey(b), (key) => key.toBuffer(), property);
-}
 const NONCE_ACCOUNT_LAYOUT = BufferLayout.struct([
     BufferLayout.u32("version"),
     BufferLayout.u32("state"),
-    publicKey("authorizedPubkey"),
-    publicKey("nonce"),
-    BufferLayout.struct([BufferLayout.nu64("lamportsPerSignature")], "feeCalculator"),
+    borsh.publicKey("authorizedPubkey"),
+    borsh.publicKey("nonce"),
+    BufferLayout.struct([borsh.u64("lamportsPerSignature")], "feeCalculator"),
 ]);
 //# sourceMappingURL=accounts.js.map
\ No newline at end of file
diff --git a/dist/cjs/coder/system/accounts.js.map b/dist/cjs/coder/system/accounts.js.map
index 90c35b395e498ad8a4cb5b9153831e8ae362ffa4..b928f0898f5e918a3dde95c36d718ba34cdc44b9 100644
--- a/dist/cjs/coder/system/accounts.js.map
+++ b/dist/cjs/coder/system/accounts.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,4DAA8C;AAC9C,4DAA8C;AAC9C,6CAAuD;AACvD,4CAA2C;AAG3C,MAAa,mBAAmB;IAG9B,YAAoB,GAAQ;QAAR,QAAG,GAAH,GAAG,CAAK;IAAG,CAAC;IAEzB,KAAK,CAAC,MAAM,CAAU,WAAc,EAAE,OAAU;QACrD,QAAQ,WAAW,EAAE;YACnB,KAAK,OAAO,CAAC,CAAC;gBACZ,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,8BAAoB,CAAC,CAAC;gBAClD,MAAM,GAAG,GAAG,oBAAoB,CAAC,MAAM,CAAC,OAAc,EAAE,MAAM,CAAC,CAAC;gBAChE,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;aAChC;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAEM,MAAM,CAAU,WAAc,EAAE,EAAU;QAC/C,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;IAC/C,CAAC;IAEM,eAAe,CAAU,WAAc,EAAE,EAAU;QACxD,QAAQ,WAAW,EAAE;YACnB,KAAK,OAAO,CAAC,CAAC;gBACZ,OAAO,kBAAkB,CAAC,EAAE,CAAC,CAAC;aAC/B;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAED,uCAAuC;IAChC,MAAM,CAAC,WAAc,EAAE,WAAoB;QAChD,QAAQ,WAAW,EAAE;YACnB,KAAK,OAAO,CAAC,CAAC;gBACZ,OAAO;oBACL,QAAQ,EAAE,8BAAoB;iBAC/B,CAAC;aACH;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAEM,IAAI,CAAC,UAAsB;;QAChC,OAAO,MAAA,IAAA,uBAAW,EAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,mCAAI,CAAC,CAAC;IAChD,CAAC;CACF;AAlDD,kDAkDC;AAED,SAAS,kBAAkB,CAAU,EAAU;IAC7C,OAAO,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAM,CAAC;AAC9C,CAAC;AAED,MAAM,oBAAoB,GAAG,YAAY,CAAC,MAAM,CAAC;IAC/C,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;IAC3B,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC;IACzB,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC;IACnC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC;IACxB,YAAY,CAAC,MAAM,CACjB,CAAC,KAAK,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,EACnC,eAAe,CAChB;CACF,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/coder/system/instruction.d.ts.map b/dist/cjs/coder/system/instruction.d.ts.map
index 983fc74eacbf6353f79c3d97f245137740b25f5d..876583c117be25ea483b47d62aae6a32965ca1db 100644
--- a/dist/cjs/coder/system/instruction.d.ts.map
+++ b/dist/cjs/coder/system/instruction.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C,qBAAa,sBAAuB,YAAW,gBAAgB;gBAEjD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IA4CvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":";AAIA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAG/C,qBAAa,sBAAuB,YAAW,gBAAgB;gBAEjD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IA4CvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/cjs/coder/system/instruction.js b/dist/cjs/coder/system/instruction.js
index 78604efdf819a59432159b9c31f47194e0741407..f98646516bad1d8a99802a3caacf8baed50a3c3e 100644
--- a/dist/cjs/coder/system/instruction.js
+++ b/dist/cjs/coder/system/instruction.js
@@ -22,19 +22,17 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.SystemInstructionCoder = void 0;
-const bn_js_1 = __importDefault(require("bn.js"));
 const BufferLayout = __importStar(require("buffer-layout"));
-const camelcase_1 = __importDefault(require("camelcase"));
+const borsh = __importStar(require("@project-serum/borsh"));
+const case_1 = require("@juici/case");
+const index_js_1 = require("../../utils/bytes/index.js");
 class SystemInstructionCoder {
     // eslint-disable-next-line @typescript-eslint/no-empty-function
     constructor(_) { }
     encode(ixName, ix) {
-        switch ((0, camelcase_1.default)(ixName)) {
+        switch ((0, case_1.camelCase)(ixName)) {
             case "createAccount": {
                 return encodeCreateAccount(ix);
             }
@@ -96,26 +94,23 @@ class RustStringLayout extends BufferLayout.Layout {
             return this.layout.span;
         }
         const data = {
-            chars: Buffer.from(src, "utf8"),
+            chars: Buffer.from(src, "utf-8"),
         };
         return this.layout.encode(data, b, offset);
     }
     decode(b, offset = 0) {
-        const data = this.layout.decode(b, offset);
-        return data["chars"].toString();
+        const { chars } = this.layout.decode(b, offset);
+        return index_js_1.utf8.decode(chars);
     }
     getSpan(b, offset = 0) {
-        return (BufferLayout.u32().span +
-            BufferLayout.u32().span +
-            new bn_js_1.default(new Uint8Array(b).slice(offset, offset + 4), 10, "le").toNumber());
+        const view = new DataView(b.buffer, b.byteOffset, b.byteLength);
+        const len = view.getUint32(offset, true);
+        return 8 + len;
     }
 }
 function rustStringLayout(property) {
     return new RustStringLayout(property);
 }
-function publicKey(property) {
-    return BufferLayout.blob(32, property);
-}
 function encodeCreateAccount({ lamports, space, owner }) {
     return encodeData({
         createAccount: { lamports, space, owner: owner.toBuffer() },
@@ -197,45 +192,45 @@ function encodeTransferWithSeed({ lamports, seed, owner }) {
 }
 const LAYOUT = BufferLayout.union(BufferLayout.u32("instruction"));
 LAYOUT.addVariant(0, BufferLayout.struct([
-    BufferLayout.ns64("lamports"),
-    BufferLayout.ns64("space"),
-    publicKey("owner"),
+    borsh.u64("lamports"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
 ]), "createAccount");
-LAYOUT.addVariant(1, BufferLayout.struct([publicKey("owner")]), "assign");
-LAYOUT.addVariant(2, BufferLayout.struct([BufferLayout.ns64("lamports")]), "transfer");
+LAYOUT.addVariant(1, BufferLayout.struct([borsh.publicKey("owner")]), "assign");
+LAYOUT.addVariant(2, BufferLayout.struct([borsh.u64("lamports")]), "transfer");
 LAYOUT.addVariant(3, BufferLayout.struct([
-    publicKey("base"),
+    borsh.publicKey("base"),
     rustStringLayout("seed"),
-    BufferLayout.ns64("lamports"),
-    BufferLayout.ns64("space"),
-    publicKey("owner"),
+    borsh.u64("lamports"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
 ]), "createAccountWithSeed");
-LAYOUT.addVariant(4, BufferLayout.struct([publicKey("authorized")]), "advanceNonceAccount");
-LAYOUT.addVariant(5, BufferLayout.struct([BufferLayout.ns64("lamports")]), "withdrawNonceAccount");
-LAYOUT.addVariant(6, BufferLayout.struct([publicKey("authorized")]), "initializeNonceAccount");
-LAYOUT.addVariant(7, BufferLayout.struct([publicKey("authorized")]), "authorizeNonceAccount");
-LAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.ns64("space")]), "allocate");
+LAYOUT.addVariant(4, BufferLayout.struct([borsh.publicKey("authorized")]), "advanceNonceAccount");
+LAYOUT.addVariant(5, BufferLayout.struct([borsh.u64("lamports")]), "withdrawNonceAccount");
+LAYOUT.addVariant(6, BufferLayout.struct([borsh.publicKey("authorized")]), "initializeNonceAccount");
+LAYOUT.addVariant(7, BufferLayout.struct([borsh.publicKey("authorized")]), "authorizeNonceAccount");
+LAYOUT.addVariant(8, BufferLayout.struct([borsh.u64("space")]), "allocate");
 LAYOUT.addVariant(9, BufferLayout.struct([
-    publicKey("base"),
+    borsh.publicKey("base"),
     rustStringLayout("seed"),
-    BufferLayout.ns64("space"),
-    publicKey("owner"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
 ]), "allocateWithSeed");
 LAYOUT.addVariant(10, BufferLayout.struct([
-    publicKey("base"),
+    borsh.publicKey("base"),
     rustStringLayout("seed"),
-    publicKey("owner"),
+    borsh.publicKey("owner"),
 ]), "assignWithSeed");
 LAYOUT.addVariant(11, BufferLayout.struct([
-    BufferLayout.ns64("lamports"),
+    borsh.u64("lamports"),
     rustStringLayout("seed"),
-    publicKey("owner"),
+    borsh.publicKey("owner"),
 ]), "transferWithSeed");
 function encodeData(instruction, maxSpan) {
     const b = Buffer.alloc(maxSpan !== null && maxSpan !== void 0 ? maxSpan : instructionMaxSpan);
     const span = LAYOUT.encode(instruction, b);
     if (maxSpan === undefined) {
-        return b.slice(0, span);
+        return b.subarray(0, span);
     }
     return b;
 }
diff --git a/dist/cjs/coder/system/instruction.js.map b/dist/cjs/coder/system/instruction.js.map
index 7dd1272b98806008149977fe00617fb31087decc..91756cde85b8bdca1b73eeb7dbe583b3057562ac 100644
--- a/dist/cjs/coder/system/instruction.js.map
+++ b/dist/cjs/coder/system/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/error.d.ts b/dist/cjs/error.d.ts
index 0d23b7ebbc7f6ab15768f659114fc4ef5c518342..edc9bf74224d337c660ce8e0c540546d4d536651 100644
--- a/dist/cjs/error.d.ts
+++ b/dist/cjs/error.d.ts
@@ -37,72 +37,72 @@ export declare class AnchorError extends Error {
 }
 export declare class ProgramError extends Error {
     readonly code: number;
-    readonly msg: string;
     readonly logs?: string[] | undefined;
     private readonly _programErrorStack?;
     constructor(code: number, msg: string, logs?: string[] | undefined);
     static parse(err: any, idlErrors: Map<number, string>): ProgramError | null;
+    get msg(): string;
     get program(): PublicKey | undefined;
     get programErrorStack(): PublicKey[] | undefined;
     toString(): string;
 }
 export declare function translateError(err: any, idlErrors: Map<number, string>): any;
-export declare const LangErrorCode: {
-    InstructionMissing: number;
-    InstructionFallbackNotFound: number;
-    InstructionDidNotDeserialize: number;
-    InstructionDidNotSerialize: number;
-    IdlInstructionStub: number;
-    IdlInstructionInvalidProgram: number;
-    ConstraintMut: number;
-    ConstraintHasOne: number;
-    ConstraintSigner: number;
-    ConstraintRaw: number;
-    ConstraintOwner: number;
-    ConstraintRentExempt: number;
-    ConstraintSeeds: number;
-    ConstraintExecutable: number;
-    ConstraintState: number;
-    ConstraintAssociated: number;
-    ConstraintAssociatedInit: number;
-    ConstraintClose: number;
-    ConstraintAddress: number;
-    ConstraintZero: number;
-    ConstraintTokenMint: number;
-    ConstraintTokenOwner: number;
-    ConstraintMintMintAuthority: number;
-    ConstraintMintFreezeAuthority: number;
-    ConstraintMintDecimals: number;
-    ConstraintSpace: number;
-    RequireViolated: number;
-    RequireEqViolated: number;
-    RequireKeysEqViolated: number;
-    RequireNeqViolated: number;
-    RequireKeysNeqViolated: number;
-    RequireGtViolated: number;
-    RequireGteViolated: number;
-    AccountDiscriminatorAlreadySet: number;
-    AccountDiscriminatorNotFound: number;
-    AccountDiscriminatorMismatch: number;
-    AccountDidNotDeserialize: number;
-    AccountDidNotSerialize: number;
-    AccountNotEnoughKeys: number;
-    AccountNotMutable: number;
-    AccountOwnedByWrongProgram: number;
-    InvalidProgramId: number;
-    InvalidProgramExecutable: number;
-    AccountNotSigner: number;
-    AccountNotSystemOwned: number;
-    AccountNotInitialized: number;
-    AccountNotProgramData: number;
-    AccountNotAssociatedTokenAccount: number;
-    AccountSysvarMismatch: number;
-    AccountReallocExceedsLimit: number;
-    AccountDuplicateReallocs: number;
-    StateInvalidAddress: number;
-    DeclaredProgramIdMismatch: number;
-    Deprecated: number;
-};
-export declare const LangErrorMessage: Map<number, string>;
+export declare enum LangErrorCode {
+    InstructionMissing = 100,
+    InstructionFallbackNotFound = 101,
+    InstructionDidNotDeserialize = 102,
+    InstructionDidNotSerialize = 103,
+    IdlInstructionStub = 1000,
+    IdlInstructionInvalidProgram = 1001,
+    ConstraintMut = 2000,
+    ConstraintHasOne = 2001,
+    ConstraintSigner = 2002,
+    ConstraintRaw = 2003,
+    ConstraintOwner = 2004,
+    ConstraintRentExempt = 2005,
+    ConstraintSeeds = 2006,
+    ConstraintExecutable = 2007,
+    ConstraintState = 2008,
+    ConstraintAssociated = 2009,
+    ConstraintAssociatedInit = 2010,
+    ConstraintClose = 2011,
+    ConstraintAddress = 2012,
+    ConstraintZero = 2013,
+    ConstraintTokenMint = 2014,
+    ConstraintTokenOwner = 2015,
+    ConstraintMintMintAuthority = 2016,
+    ConstraintMintFreezeAuthority = 2017,
+    ConstraintMintDecimals = 2018,
+    ConstraintSpace = 2019,
+    RequireViolated = 2500,
+    RequireEqViolated = 2501,
+    RequireKeysEqViolated = 2502,
+    RequireNeqViolated = 2503,
+    RequireKeysNeqViolated = 2504,
+    RequireGtViolated = 2505,
+    RequireGteViolated = 2506,
+    AccountDiscriminatorAlreadySet = 3000,
+    AccountDiscriminatorNotFound = 3001,
+    AccountDiscriminatorMismatch = 3002,
+    AccountDidNotDeserialize = 3003,
+    AccountDidNotSerialize = 3004,
+    AccountNotEnoughKeys = 3005,
+    AccountNotMutable = 3006,
+    AccountOwnedByWrongProgram = 3007,
+    InvalidProgramId = 3008,
+    InvalidProgramExecutable = 3009,
+    AccountNotSigner = 3010,
+    AccountNotSystemOwned = 3011,
+    AccountNotInitialized = 3012,
+    AccountNotProgramData = 3013,
+    AccountNotAssociatedTokenAccount = 3014,
+    AccountSysvarMismatch = 3015,
+    AccountReallocExceedsLimit = 3016,
+    AccountDuplicateReallocs = 3017,
+    StateInvalidAddress = 4000,
+    DeclaredProgramIdMismatch = 4100,
+    Deprecated = 5000
+}
+export declare const LangErrorMessage: Map<LangErrorCode, string>;
 export {};
 //# sourceMappingURL=error.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/error.d.ts.map b/dist/cjs/error.d.ts.map
index dda1abc95abe720ddbff089576d575ba875ac1e0..437ade11c39bbb29a6fd1216ebc3d24dc3fa1ee2 100644
--- a/dist/cjs/error.d.ts.map
+++ b/dist/cjs/error.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"error.d.ts","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAG5C,qBAAa,QAAS,SAAQ,KAAK;gBACrB,OAAO,EAAE,MAAM;CAI5B;AAED,UAAU,SAAS;IACjB,IAAI,EAAE,MAAM,CAAC;IACb,MAAM,EAAE,MAAM,CAAC;CAChB;AAED,UAAU,QAAQ;IAChB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd;AAED,aAAK,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC;AAChC,aAAK,oBAAoB,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC7C,aAAK,kBAAkB,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AACjD,aAAK,cAAc,GAAG,oBAAoB,GAAG,kBAAkB,CAAC;AAEhE,qBAAa,iBAAiB;IAChB,QAAQ,CAAC,KAAK,EAAE,SAAS,EAAE;gBAAlB,KAAK,EAAE,SAAS,EAAE;WAEzB,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE;CAmBnC;AAED,qBAAa,WAAY,SAAQ,KAAK;IAYlC,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE;IAC5B,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE;IAZzB,QAAQ,CAAC,KAAK,EAAE;QACd,SAAS,EAAE,SAAS,CAAC;QACrB,YAAY,EAAE,MAAM,CAAC;QACrB,cAAc,CAAC,EAAE,cAAc,CAAC;QAChC,MAAM,CAAC,EAAE,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAoB;gBAGrD,SAAS,EAAE,SAAS,EACpB,YAAY,EAAE,MAAM,EACX,SAAS,EAAE,MAAM,EAAE,EACnB,IAAI,EAAE,MAAM,EAAE,EACvB,MAAM,CAAC,EAAE,MAAM,EACf,cAAc,CAAC,EAAE,cAAc;WAOnB,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE;IA4GlC,IAAI,OAAO,IAAI,SAAS,CAIvB;IAED,IAAI,iBAAiB,IAAI,SAAS,EAAE,CAEnC;IAEM,QAAQ,IAAI,MAAM;CAG1B;AAGD,qBAAa,YAAa,SAAQ,KAAK;IAInC,QAAQ,CAAC,IAAI,EAAE,MAAM;IACrB,QAAQ,CAAC,GAAG,EAAE,MAAM;IACpB,QAAQ,CAAC,IAAI,CAAC;IALhB,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAoB;gBAG7C,IAAI,EAAE,MAAM,EACZ,GAAG,EAAE,MAAM,EACX,IAAI,CAAC,sBAAU;WAQZ,KAAK,CACjB,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,GAC7B,YAAY,GAAG,IAAI;IA2CtB,IAAI,OAAO,IAAI,SAAS,GAAG,SAAS,CAInC;IAED,IAAI,iBAAiB,IAAI,SAAS,EAAE,GAAG,SAAS,CAE/C;IAEM,QAAQ,IAAI,MAAM;CAG1B;AAED,wBAAgB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,OAmCtE;AAED,eAAO,MAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAsEzB,CAAC;AAEF,eAAO,MAAM,gBAAgB,qBA0J3B,CAAC"}
\ No newline at end of file
+{"version":3,"file":"error.d.ts","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/error.js b/dist/cjs/error.js
index 6e99351b0f90ad06b4c773c06e26153b3695be9d..8ac602521f7f1f7bedd7dcd62e9ede8ac2e089a2 100644
--- a/dist/cjs/error.js
+++ b/dist/cjs/error.js
@@ -155,9 +155,8 @@ exports.AnchorError = AnchorError;
 // An error from a user defined program.
 class ProgramError extends Error {
     constructor(code, msg, logs) {
-        super();
+        super(msg);
         this.code = code;
-        this.msg = msg;
         this.logs = logs;
         if (logs) {
             this._programErrorStack = ProgramErrorStack.parse(logs);
@@ -204,6 +203,9 @@ class ProgramError extends Error {
         // Unable to parse the error. Just return the untranslated error.
         return null;
     }
+    get msg() {
+        return this.message;
+    }
     get program() {
         var _a;
         return (_a = this._programErrorStack) === null || _a === void 0 ? void 0 : _a.stack[this._programErrorStack.stack.length - 1];
@@ -213,7 +215,7 @@ class ProgramError extends Error {
         return (_a = this._programErrorStack) === null || _a === void 0 ? void 0 : _a.stack;
     }
     toString() {
-        return this.msg;
+        return this.message;
     }
 }
 exports.ProgramError = ProgramError;
@@ -252,215 +254,216 @@ function translateError(err, idlErrors) {
     return err;
 }
 exports.translateError = translateError;
-exports.LangErrorCode = {
+var LangErrorCode;
+(function (LangErrorCode) {
     // Instructions.
-    InstructionMissing: 100,
-    InstructionFallbackNotFound: 101,
-    InstructionDidNotDeserialize: 102,
-    InstructionDidNotSerialize: 103,
+    LangErrorCode[LangErrorCode["InstructionMissing"] = 100] = "InstructionMissing";
+    LangErrorCode[LangErrorCode["InstructionFallbackNotFound"] = 101] = "InstructionFallbackNotFound";
+    LangErrorCode[LangErrorCode["InstructionDidNotDeserialize"] = 102] = "InstructionDidNotDeserialize";
+    LangErrorCode[LangErrorCode["InstructionDidNotSerialize"] = 103] = "InstructionDidNotSerialize";
     // IDL instructions.
-    IdlInstructionStub: 1000,
-    IdlInstructionInvalidProgram: 1001,
+    LangErrorCode[LangErrorCode["IdlInstructionStub"] = 1000] = "IdlInstructionStub";
+    LangErrorCode[LangErrorCode["IdlInstructionInvalidProgram"] = 1001] = "IdlInstructionInvalidProgram";
     // Constraints.
-    ConstraintMut: 2000,
-    ConstraintHasOne: 2001,
-    ConstraintSigner: 2002,
-    ConstraintRaw: 2003,
-    ConstraintOwner: 2004,
-    ConstraintRentExempt: 2005,
-    ConstraintSeeds: 2006,
-    ConstraintExecutable: 2007,
-    ConstraintState: 2008,
-    ConstraintAssociated: 2009,
-    ConstraintAssociatedInit: 2010,
-    ConstraintClose: 2011,
-    ConstraintAddress: 2012,
-    ConstraintZero: 2013,
-    ConstraintTokenMint: 2014,
-    ConstraintTokenOwner: 2015,
-    ConstraintMintMintAuthority: 2016,
-    ConstraintMintFreezeAuthority: 2017,
-    ConstraintMintDecimals: 2018,
-    ConstraintSpace: 2019,
+    LangErrorCode[LangErrorCode["ConstraintMut"] = 2000] = "ConstraintMut";
+    LangErrorCode[LangErrorCode["ConstraintHasOne"] = 2001] = "ConstraintHasOne";
+    LangErrorCode[LangErrorCode["ConstraintSigner"] = 2002] = "ConstraintSigner";
+    LangErrorCode[LangErrorCode["ConstraintRaw"] = 2003] = "ConstraintRaw";
+    LangErrorCode[LangErrorCode["ConstraintOwner"] = 2004] = "ConstraintOwner";
+    LangErrorCode[LangErrorCode["ConstraintRentExempt"] = 2005] = "ConstraintRentExempt";
+    LangErrorCode[LangErrorCode["ConstraintSeeds"] = 2006] = "ConstraintSeeds";
+    LangErrorCode[LangErrorCode["ConstraintExecutable"] = 2007] = "ConstraintExecutable";
+    LangErrorCode[LangErrorCode["ConstraintState"] = 2008] = "ConstraintState";
+    LangErrorCode[LangErrorCode["ConstraintAssociated"] = 2009] = "ConstraintAssociated";
+    LangErrorCode[LangErrorCode["ConstraintAssociatedInit"] = 2010] = "ConstraintAssociatedInit";
+    LangErrorCode[LangErrorCode["ConstraintClose"] = 2011] = "ConstraintClose";
+    LangErrorCode[LangErrorCode["ConstraintAddress"] = 2012] = "ConstraintAddress";
+    LangErrorCode[LangErrorCode["ConstraintZero"] = 2013] = "ConstraintZero";
+    LangErrorCode[LangErrorCode["ConstraintTokenMint"] = 2014] = "ConstraintTokenMint";
+    LangErrorCode[LangErrorCode["ConstraintTokenOwner"] = 2015] = "ConstraintTokenOwner";
+    LangErrorCode[LangErrorCode["ConstraintMintMintAuthority"] = 2016] = "ConstraintMintMintAuthority";
+    LangErrorCode[LangErrorCode["ConstraintMintFreezeAuthority"] = 2017] = "ConstraintMintFreezeAuthority";
+    LangErrorCode[LangErrorCode["ConstraintMintDecimals"] = 2018] = "ConstraintMintDecimals";
+    LangErrorCode[LangErrorCode["ConstraintSpace"] = 2019] = "ConstraintSpace";
     // Require.
-    RequireViolated: 2500,
-    RequireEqViolated: 2501,
-    RequireKeysEqViolated: 2502,
-    RequireNeqViolated: 2503,
-    RequireKeysNeqViolated: 2504,
-    RequireGtViolated: 2505,
-    RequireGteViolated: 2506,
+    LangErrorCode[LangErrorCode["RequireViolated"] = 2500] = "RequireViolated";
+    LangErrorCode[LangErrorCode["RequireEqViolated"] = 2501] = "RequireEqViolated";
+    LangErrorCode[LangErrorCode["RequireKeysEqViolated"] = 2502] = "RequireKeysEqViolated";
+    LangErrorCode[LangErrorCode["RequireNeqViolated"] = 2503] = "RequireNeqViolated";
+    LangErrorCode[LangErrorCode["RequireKeysNeqViolated"] = 2504] = "RequireKeysNeqViolated";
+    LangErrorCode[LangErrorCode["RequireGtViolated"] = 2505] = "RequireGtViolated";
+    LangErrorCode[LangErrorCode["RequireGteViolated"] = 2506] = "RequireGteViolated";
     // Accounts.
-    AccountDiscriminatorAlreadySet: 3000,
-    AccountDiscriminatorNotFound: 3001,
-    AccountDiscriminatorMismatch: 3002,
-    AccountDidNotDeserialize: 3003,
-    AccountDidNotSerialize: 3004,
-    AccountNotEnoughKeys: 3005,
-    AccountNotMutable: 3006,
-    AccountOwnedByWrongProgram: 3007,
-    InvalidProgramId: 3008,
-    InvalidProgramExecutable: 3009,
-    AccountNotSigner: 3010,
-    AccountNotSystemOwned: 3011,
-    AccountNotInitialized: 3012,
-    AccountNotProgramData: 3013,
-    AccountNotAssociatedTokenAccount: 3014,
-    AccountSysvarMismatch: 3015,
-    AccountReallocExceedsLimit: 3016,
-    AccountDuplicateReallocs: 3017,
+    LangErrorCode[LangErrorCode["AccountDiscriminatorAlreadySet"] = 3000] = "AccountDiscriminatorAlreadySet";
+    LangErrorCode[LangErrorCode["AccountDiscriminatorNotFound"] = 3001] = "AccountDiscriminatorNotFound";
+    LangErrorCode[LangErrorCode["AccountDiscriminatorMismatch"] = 3002] = "AccountDiscriminatorMismatch";
+    LangErrorCode[LangErrorCode["AccountDidNotDeserialize"] = 3003] = "AccountDidNotDeserialize";
+    LangErrorCode[LangErrorCode["AccountDidNotSerialize"] = 3004] = "AccountDidNotSerialize";
+    LangErrorCode[LangErrorCode["AccountNotEnoughKeys"] = 3005] = "AccountNotEnoughKeys";
+    LangErrorCode[LangErrorCode["AccountNotMutable"] = 3006] = "AccountNotMutable";
+    LangErrorCode[LangErrorCode["AccountOwnedByWrongProgram"] = 3007] = "AccountOwnedByWrongProgram";
+    LangErrorCode[LangErrorCode["InvalidProgramId"] = 3008] = "InvalidProgramId";
+    LangErrorCode[LangErrorCode["InvalidProgramExecutable"] = 3009] = "InvalidProgramExecutable";
+    LangErrorCode[LangErrorCode["AccountNotSigner"] = 3010] = "AccountNotSigner";
+    LangErrorCode[LangErrorCode["AccountNotSystemOwned"] = 3011] = "AccountNotSystemOwned";
+    LangErrorCode[LangErrorCode["AccountNotInitialized"] = 3012] = "AccountNotInitialized";
+    LangErrorCode[LangErrorCode["AccountNotProgramData"] = 3013] = "AccountNotProgramData";
+    LangErrorCode[LangErrorCode["AccountNotAssociatedTokenAccount"] = 3014] = "AccountNotAssociatedTokenAccount";
+    LangErrorCode[LangErrorCode["AccountSysvarMismatch"] = 3015] = "AccountSysvarMismatch";
+    LangErrorCode[LangErrorCode["AccountReallocExceedsLimit"] = 3016] = "AccountReallocExceedsLimit";
+    LangErrorCode[LangErrorCode["AccountDuplicateReallocs"] = 3017] = "AccountDuplicateReallocs";
     // State.
-    StateInvalidAddress: 4000,
+    LangErrorCode[LangErrorCode["StateInvalidAddress"] = 4000] = "StateInvalidAddress";
     // Miscellaneous
-    DeclaredProgramIdMismatch: 4100,
+    LangErrorCode[LangErrorCode["DeclaredProgramIdMismatch"] = 4100] = "DeclaredProgramIdMismatch";
     // Used for APIs that shouldn't be used anymore.
-    Deprecated: 5000,
-};
+    LangErrorCode[LangErrorCode["Deprecated"] = 5000] = "Deprecated";
+})(LangErrorCode = exports.LangErrorCode || (exports.LangErrorCode = {}));
 exports.LangErrorMessage = new Map([
     // Instructions.
     [
-        exports.LangErrorCode.InstructionMissing,
+        LangErrorCode.InstructionMissing,
         "8 byte instruction identifier not provided",
     ],
     [
-        exports.LangErrorCode.InstructionFallbackNotFound,
+        LangErrorCode.InstructionFallbackNotFound,
         "Fallback functions are not supported",
     ],
     [
-        exports.LangErrorCode.InstructionDidNotDeserialize,
+        LangErrorCode.InstructionDidNotDeserialize,
         "The program could not deserialize the given instruction",
     ],
     [
-        exports.LangErrorCode.InstructionDidNotSerialize,
+        LangErrorCode.InstructionDidNotSerialize,
         "The program could not serialize the given instruction",
     ],
     // Idl instructions.
     [
-        exports.LangErrorCode.IdlInstructionStub,
+        LangErrorCode.IdlInstructionStub,
         "The program was compiled without idl instructions",
     ],
     [
-        exports.LangErrorCode.IdlInstructionInvalidProgram,
+        LangErrorCode.IdlInstructionInvalidProgram,
         "The transaction was given an invalid program for the IDL instruction",
     ],
     // Constraints.
-    [exports.LangErrorCode.ConstraintMut, "A mut constraint was violated"],
-    [exports.LangErrorCode.ConstraintHasOne, "A has_one constraint was violated"],
-    [exports.LangErrorCode.ConstraintSigner, "A signer constraint was violated"],
-    [exports.LangErrorCode.ConstraintRaw, "A raw constraint was violated"],
-    [exports.LangErrorCode.ConstraintOwner, "An owner constraint was violated"],
+    [LangErrorCode.ConstraintMut, "A mut constraint was violated"],
+    [LangErrorCode.ConstraintHasOne, "A has_one constraint was violated"],
+    [LangErrorCode.ConstraintSigner, "A signer constraint was violated"],
+    [LangErrorCode.ConstraintRaw, "A raw constraint was violated"],
+    [LangErrorCode.ConstraintOwner, "An owner constraint was violated"],
     [
-        exports.LangErrorCode.ConstraintRentExempt,
+        LangErrorCode.ConstraintRentExempt,
         "A rent exemption constraint was violated",
     ],
-    [exports.LangErrorCode.ConstraintSeeds, "A seeds constraint was violated"],
-    [exports.LangErrorCode.ConstraintExecutable, "An executable constraint was violated"],
-    [exports.LangErrorCode.ConstraintState, "A state constraint was violated"],
-    [exports.LangErrorCode.ConstraintAssociated, "An associated constraint was violated"],
+    [LangErrorCode.ConstraintSeeds, "A seeds constraint was violated"],
+    [LangErrorCode.ConstraintExecutable, "An executable constraint was violated"],
+    [LangErrorCode.ConstraintState, "A state constraint was violated"],
+    [LangErrorCode.ConstraintAssociated, "An associated constraint was violated"],
     [
-        exports.LangErrorCode.ConstraintAssociatedInit,
+        LangErrorCode.ConstraintAssociatedInit,
         "An associated init constraint was violated",
     ],
-    [exports.LangErrorCode.ConstraintClose, "A close constraint was violated"],
-    [exports.LangErrorCode.ConstraintAddress, "An address constraint was violated"],
-    [exports.LangErrorCode.ConstraintZero, "Expected zero account discriminant"],
-    [exports.LangErrorCode.ConstraintTokenMint, "A token mint constraint was violated"],
-    [exports.LangErrorCode.ConstraintTokenOwner, "A token owner constraint was violated"],
+    [LangErrorCode.ConstraintClose, "A close constraint was violated"],
+    [LangErrorCode.ConstraintAddress, "An address constraint was violated"],
+    [LangErrorCode.ConstraintZero, "Expected zero account discriminant"],
+    [LangErrorCode.ConstraintTokenMint, "A token mint constraint was violated"],
+    [LangErrorCode.ConstraintTokenOwner, "A token owner constraint was violated"],
     [
-        exports.LangErrorCode.ConstraintMintMintAuthority,
+        LangErrorCode.ConstraintMintMintAuthority,
         "A mint mint authority constraint was violated",
     ],
     [
-        exports.LangErrorCode.ConstraintMintFreezeAuthority,
+        LangErrorCode.ConstraintMintFreezeAuthority,
         "A mint freeze authority constraint was violated",
     ],
     [
-        exports.LangErrorCode.ConstraintMintDecimals,
+        LangErrorCode.ConstraintMintDecimals,
         "A mint decimals constraint was violated",
     ],
-    [exports.LangErrorCode.ConstraintSpace, "A space constraint was violated"],
+    [LangErrorCode.ConstraintSpace, "A space constraint was violated"],
     // Require.
-    [exports.LangErrorCode.RequireViolated, "A require expression was violated"],
-    [exports.LangErrorCode.RequireEqViolated, "A require_eq expression was violated"],
+    [LangErrorCode.RequireViolated, "A require expression was violated"],
+    [LangErrorCode.RequireEqViolated, "A require_eq expression was violated"],
     [
-        exports.LangErrorCode.RequireKeysEqViolated,
+        LangErrorCode.RequireKeysEqViolated,
         "A require_keys_eq expression was violated",
     ],
-    [exports.LangErrorCode.RequireNeqViolated, "A require_neq expression was violated"],
+    [LangErrorCode.RequireNeqViolated, "A require_neq expression was violated"],
     [
-        exports.LangErrorCode.RequireKeysNeqViolated,
+        LangErrorCode.RequireKeysNeqViolated,
         "A require_keys_neq expression was violated",
     ],
-    [exports.LangErrorCode.RequireGtViolated, "A require_gt expression was violated"],
-    [exports.LangErrorCode.RequireGteViolated, "A require_gte expression was violated"],
+    [LangErrorCode.RequireGtViolated, "A require_gt expression was violated"],
+    [LangErrorCode.RequireGteViolated, "A require_gte expression was violated"],
     // Accounts.
     [
-        exports.LangErrorCode.AccountDiscriminatorAlreadySet,
+        LangErrorCode.AccountDiscriminatorAlreadySet,
         "The account discriminator was already set on this account",
     ],
     [
-        exports.LangErrorCode.AccountDiscriminatorNotFound,
+        LangErrorCode.AccountDiscriminatorNotFound,
         "No 8 byte discriminator was found on the account",
     ],
     [
-        exports.LangErrorCode.AccountDiscriminatorMismatch,
+        LangErrorCode.AccountDiscriminatorMismatch,
         "8 byte discriminator did not match what was expected",
     ],
-    [exports.LangErrorCode.AccountDidNotDeserialize, "Failed to deserialize the account"],
-    [exports.LangErrorCode.AccountDidNotSerialize, "Failed to serialize the account"],
+    [LangErrorCode.AccountDidNotDeserialize, "Failed to deserialize the account"],
+    [LangErrorCode.AccountDidNotSerialize, "Failed to serialize the account"],
     [
-        exports.LangErrorCode.AccountNotEnoughKeys,
+        LangErrorCode.AccountNotEnoughKeys,
         "Not enough account keys given to the instruction",
     ],
-    [exports.LangErrorCode.AccountNotMutable, "The given account is not mutable"],
+    [LangErrorCode.AccountNotMutable, "The given account is not mutable"],
     [
-        exports.LangErrorCode.AccountOwnedByWrongProgram,
+        LangErrorCode.AccountOwnedByWrongProgram,
         "The given account is owned by a different program than expected",
     ],
-    [exports.LangErrorCode.InvalidProgramId, "Program ID was not as expected"],
-    [exports.LangErrorCode.InvalidProgramExecutable, "Program account is not executable"],
-    [exports.LangErrorCode.AccountNotSigner, "The given account did not sign"],
+    [LangErrorCode.InvalidProgramId, "Program ID was not as expected"],
+    [LangErrorCode.InvalidProgramExecutable, "Program account is not executable"],
+    [LangErrorCode.AccountNotSigner, "The given account did not sign"],
     [
-        exports.LangErrorCode.AccountNotSystemOwned,
+        LangErrorCode.AccountNotSystemOwned,
         "The given account is not owned by the system program",
     ],
     [
-        exports.LangErrorCode.AccountNotInitialized,
+        LangErrorCode.AccountNotInitialized,
         "The program expected this account to be already initialized",
     ],
     [
-        exports.LangErrorCode.AccountNotProgramData,
+        LangErrorCode.AccountNotProgramData,
         "The given account is not a program data account",
     ],
     [
-        exports.LangErrorCode.AccountNotAssociatedTokenAccount,
+        LangErrorCode.AccountNotAssociatedTokenAccount,
         "The given account is not the associated token account",
     ],
     [
-        exports.LangErrorCode.AccountSysvarMismatch,
+        LangErrorCode.AccountSysvarMismatch,
         "The given public key does not match the required sysvar",
     ],
     [
-        exports.LangErrorCode.AccountReallocExceedsLimit,
+        LangErrorCode.AccountReallocExceedsLimit,
         "The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit",
     ],
     [
-        exports.LangErrorCode.AccountDuplicateReallocs,
+        LangErrorCode.AccountDuplicateReallocs,
         "The account was duplicated for more than one reallocation",
     ],
     // State.
     [
-        exports.LangErrorCode.StateInvalidAddress,
+        LangErrorCode.StateInvalidAddress,
         "The given state account does not have the correct address",
     ],
     // Miscellaneous
     [
-        exports.LangErrorCode.DeclaredProgramIdMismatch,
+        LangErrorCode.DeclaredProgramIdMismatch,
         "The declared program id does not match the actual program id",
     ],
     // Deprecated
     [
-        exports.LangErrorCode.Deprecated,
+        LangErrorCode.Deprecated,
         "The API being used is deprecated and should no longer be used",
     ],
 ]);
diff --git a/dist/cjs/error.js.map b/dist/cjs/error.js.map
index 53da1860769d15d81372f8beb8f412d3622c1777..8e523042597a2f08fddc8e591c20c95e047e78c9 100644
--- a/dist/cjs/error.js.map
+++ b/dist/cjs/error.js.map
@@ -1 +1 @@
-{"version":3,"file":"error.js","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"error.js","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/idl.js b/dist/cjs/idl.js
index b54bfc249719fbc9403a9c3019b785a7e8ebf6c9..bd38ce3280af4c0784c63ba9749994b028c9f079 100644
--- a/dist/cjs/idl.js
+++ b/dist/cjs/idl.js
@@ -47,9 +47,9 @@ function decodeIdlAccount(data) {
 }
 exports.decodeIdlAccount = decodeIdlAccount;
 function encodeIdlAccount(acc) {
-    const buffer = buffer_1.Buffer.alloc(1000); // TODO: use a tighter buffer.
+    const buffer = buffer_1.Buffer.alloc(32 + 4 + acc.data.length);
     const len = IDL_ACCOUNT_LAYOUT.encode(acc, buffer);
-    return buffer.slice(0, len);
+    return buffer.subarray(0, len);
 }
 exports.encodeIdlAccount = encodeIdlAccount;
 //# sourceMappingURL=idl.js.map
\ No newline at end of file
diff --git a/dist/cjs/idl.js.map b/dist/cjs/idl.js.map
index f8208f0bf73fd9bde07340f54de93c4d4d0601fb..0a98015cb4d2841c4288bdad781861963242b013 100644
--- a/dist/cjs/idl.js.map
+++ b/dist/cjs/idl.js.map
@@ -1 +1 @@
-{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../src/idl.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAChC,6CAA4C;AAC5C,4DAA8C;AAuK9C,6DAA6D;AACtD,KAAK,UAAU,UAAU,CAAC,SAAoB;IACnD,MAAM,IAAI,GAAG,CAAC,MAAM,mBAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,OAAO,MAAM,mBAAS,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;AACjE,CAAC;AAHD,gCAGC;AAED,sCAAsC;AACtC,SAAgB,IAAI;IAClB,OAAO,YAAY,CAAC;AACtB,CAAC;AAFD,oBAEC;AAQD,MAAM,kBAAkB,GAAoC,KAAK,CAAC,MAAM,CAAC;IACvE,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;IAC5B,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;CACpB,CAAC,CAAC;AAEH,SAAgB,gBAAgB,CAAC,IAAY;IAC3C,OAAO,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzC,CAAC;AAFD,4CAEC;AAED,SAAgB,gBAAgB,CAAC,GAAsB;IACrD,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;IACjE,MAAM,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACnD,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AAC9B,CAAC;AAJD,4CAIC"}
\ No newline at end of file
+{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../src/idl.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAChC,6CAA4C;AAC5C,4DAA8C;AAuK9C,6DAA6D;AACtD,KAAK,UAAU,UAAU,CAAC,SAAoB;IACnD,MAAM,IAAI,GAAG,CAAC,MAAM,mBAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,OAAO,MAAM,mBAAS,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;AACjE,CAAC;AAHD,gCAGC;AAED,sCAAsC;AACtC,SAAgB,IAAI;IAClB,OAAO,YAAY,CAAC;AACtB,CAAC;AAFD,oBAEC;AAQD,MAAM,kBAAkB,GAAoC,KAAK,CAAC,MAAM,CAAC;IACvE,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;IAC5B,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;CACpB,CAAC,CAAC;AAEH,SAAgB,gBAAgB,CAAC,IAAY;IAC3C,OAAO,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzC,CAAC;AAFD,4CAEC;AAED,SAAgB,gBAAgB,CAAC,GAAsB;IACrD,MAAM,MAAM,GAAG,eAAM,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,MAAM,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACnD,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACjC,CAAC;AAJD,4CAIC"}
\ No newline at end of file
diff --git a/dist/cjs/index.d.ts b/dist/cjs/index.d.ts
index b9b32251a18b9de0aa1bb01f72689d875158d050..8eef719b1aa3f3ad4ade9cd155b01e4cbeb6f053 100644
--- a/dist/cjs/index.d.ts
+++ b/dist/cjs/index.d.ts
@@ -1,4 +1,3 @@
-import NodeWallet from "./nodewallet";
 export { default as BN } from "bn.js";
 export * as web3 from "@solana/web3.js";
 export { default as Provider, getProvider, setProvider, AnchorProvider, } from "./provider.js";
@@ -11,6 +10,5 @@ export * from "./program/index.js";
 export * from "./spl/index.js";
 export * from "./native/index.js";
 export declare const workspace: any;
-export declare class Wallet extends NodeWallet {
-}
+export { Wallet } from "./wallet";
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/index.d.ts.map b/dist/cjs/index.d.ts.map
index ba51f0560f20bb4ca5537b470bb28129264a07cf..97f1c9604be8b2cbff16fc612dd5adfd226f98b8 100644
--- a/dist/cjs/index.d.ts.map
+++ b/dist/cjs/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,UAAU,MAAM,cAAc,CAAC;AAGtC,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EACL,OAAO,IAAI,QAAQ,EACnB,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAC3B,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAC/B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,SAAS,EAAE,GAAG,CAAC;AACpC,MAAM,CAAC,OAAO,OAAO,MAAO,SAAQ,UAAU;CAAG"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EACL,OAAO,IAAI,QAAQ,EACnB,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAC3B,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAC/B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,SAAS,EAAE,GAAG,CAAC;AAEpC,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/index.js b/dist/cjs/index.js
index bf3a33e55c432b3e01eeb974d404cd45dc0a6487..a6599d8e0185e325ee63c7263d8ed0a02e908969 100644
--- a/dist/cjs/index.js
+++ b/dist/cjs/index.js
@@ -29,8 +29,7 @@ var __importDefault = (this && this.__importDefault) || function (mod) {
     return (mod && mod.__esModule) ? mod : { "default": mod };
 };
 Object.defineProperty(exports, "__esModule", { value: true });
-exports.utils = exports.AnchorProvider = exports.setProvider = exports.getProvider = exports.web3 = exports.BN = void 0;
-const nodewallet_1 = __importDefault(require("./nodewallet"));
+exports.Wallet = exports.utils = exports.AnchorProvider = exports.setProvider = exports.getProvider = exports.web3 = exports.BN = void 0;
 const common_js_1 = require("./utils/common.js");
 var bn_js_1 = require("bn.js");
 Object.defineProperty(exports, "BN", { enumerable: true, get: function () { return __importDefault(bn_js_1).default; } });
@@ -45,8 +44,9 @@ exports.utils = __importStar(require("./utils/index.js"));
 __exportStar(require("./program/index.js"), exports);
 __exportStar(require("./spl/index.js"), exports);
 __exportStar(require("./native/index.js"), exports);
+var wallet_1 = require("./wallet");
+Object.defineProperty(exports, "Wallet", { enumerable: true, get: function () { return wallet_1.Wallet; } });
 if (!common_js_1.isBrowser) {
     exports.workspace = require("./workspace.js").default;
-    exports.Wallet = require("./nodewallet.js").default;
 }
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/cjs/index.js.map b/dist/cjs/index.js.map
index 26ab0cf5307bfac2c1a7f430656d02a390c3b385..94b038e58dc563becd59ceceb3b5c2a1a1104843 100644
--- a/dist/cjs/index.js.map
+++ b/dist/cjs/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,8DAAsC;AACtC,iDAA8C;AAE9C,+BAAsC;AAA7B,4GAAA,OAAO,OAAM;AACtB,wDAAwC;AACxC,6CAKuB;AAHrB,0GAAA,WAAW,OAAA;AACX,0GAAA,WAAW,OAAA;AACX,6GAAA,cAAc,OAAA;AAEhB,6CAA2B;AAG3B,mDAAiC;AACjC,0DAA0C;AAC1C,qDAAmC;AACnC,iDAA+B;AAC/B,oDAAkC;AAKlC,IAAI,CAAC,qBAAS,EAAE;IACd,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC;IACtD,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC;CACrD"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iDAA8C;AAE9C,+BAAsC;AAA7B,4GAAA,OAAO,OAAM;AACtB,wDAAwC;AACxC,6CAKuB;AAHrB,0GAAA,WAAW,OAAA;AACX,0GAAA,WAAW,OAAA;AACX,6GAAA,cAAc,OAAA;AAEhB,6CAA2B;AAG3B,mDAAiC;AACjC,0DAA0C;AAC1C,qDAAmC;AACnC,iDAA+B;AAC/B,oDAAkC;AAIlC,mCAAkC;AAAzB,gGAAA,MAAM,OAAA;AAEf,IAAI,CAAC,qBAAS,EAAE;IACd,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC;CACvD"}
\ No newline at end of file
diff --git a/dist/cjs/native/system.d.ts b/dist/cjs/native/system.d.ts
index 750bc0c8e5b21d0cbea775e6c8d698486d4ba46f..f1c2e89b47b8ae4f98eaa6f12c3ec449f679c8d3 100644
--- a/dist/cjs/native/system.d.ts
+++ b/dist/cjs/native/system.d.ts
@@ -386,6 +386,53 @@ export declare type SystemProgram = {
             };
         }
     ];
+    errors: [
+        {
+            code: 0;
+            name: "AccountAlreadyInUse";
+            msg: "an account with the same address already exists";
+        },
+        {
+            code: 1;
+            name: "ResultWithNegativeLamports";
+            msg: "account does not have enough SOL to perform the operation";
+        },
+        {
+            code: 2;
+            name: "InvalidProgramId";
+            msg: "cannot assign account to this program id";
+        },
+        {
+            code: 3;
+            name: "InvalidAccountDataLength";
+            msg: "cannot allocate account data of this length";
+        },
+        {
+            code: 4;
+            name: "MaxSeedLengthExceeded";
+            msg: "length of requested seed is too long";
+        },
+        {
+            code: 5;
+            name: "AddressWithSeedMismatch";
+            msg: "provided address does not match addressed derived from seed";
+        },
+        {
+            code: 6;
+            name: "NonceNoRecentBlockhashes";
+            msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar";
+        },
+        {
+            code: 7;
+            name: "NonceBlockhashNotExpired";
+            msg: "stored nonce is still in recent_blockhashes";
+        },
+        {
+            code: 8;
+            name: "NonceUnexpectedBlockhashValue";
+            msg: "specified nonce does not match stored nonce";
+        }
+    ];
 };
 export declare const IDL: SystemProgram;
 //# sourceMappingURL=system.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/native/system.d.ts.map b/dist/cjs/native/system.d.ts.map
index 63de88169e7427f07596877357d2dbf53c0a9fd6..cf3f770397dc61b30c0e82fc8a75578fa69e7f2b 100644
--- a/dist/cjs/native/system.d.ts.map
+++ b/dist/cjs/native/system.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"system.d.ts","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"system.d.ts","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/native/system.js b/dist/cjs/native/system.js
index 8d228a10ce8c8f95331de037b7311482c5c5f7e3..502d4f2bce8e7311d71374fc8130d4fb16d0fec5 100644
--- a/dist/cjs/native/system.js
+++ b/dist/cjs/native/system.js
@@ -393,5 +393,52 @@ exports.IDL = {
             },
         },
     ],
+    errors: [
+        {
+            code: 0,
+            name: "AccountAlreadyInUse",
+            msg: "an account with the same address already exists",
+        },
+        {
+            code: 1,
+            name: "ResultWithNegativeLamports",
+            msg: "account does not have enough SOL to perform the operation",
+        },
+        {
+            code: 2,
+            name: "InvalidProgramId",
+            msg: "cannot assign account to this program id",
+        },
+        {
+            code: 3,
+            name: "InvalidAccountDataLength",
+            msg: "cannot allocate account data of this length",
+        },
+        {
+            code: 4,
+            name: "MaxSeedLengthExceeded",
+            msg: "length of requested seed is too long",
+        },
+        {
+            code: 5,
+            name: "AddressWithSeedMismatch",
+            msg: "provided address does not match addressed derived from seed",
+        },
+        {
+            code: 6,
+            name: "NonceNoRecentBlockhashes",
+            msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar",
+        },
+        {
+            code: 7,
+            name: "NonceBlockhashNotExpired",
+            msg: "stored nonce is still in recent_blockhashes",
+        },
+        {
+            code: 8,
+            name: "NonceUnexpectedBlockhashValue",
+            msg: "specified nonce does not match stored nonce",
+        },
+    ],
 };
 //# sourceMappingURL=system.js.map
\ No newline at end of file
diff --git a/dist/cjs/native/system.js.map b/dist/cjs/native/system.js.map
index 8afde5b1846abbe9e6cc2656eb379ef7e229293d..b860f9ebf6e547122c39184ee5b0c77a93f88c4d 100644
--- a/dist/cjs/native/system.js.map
+++ b/dist/cjs/native/system.js.map
@@ -1 +1 @@
-{"version":3,"file":"system.js","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"system.js","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/nodewallet.d.ts b/dist/cjs/nodewallet.d.ts
deleted file mode 100644
index abdac8031f6f811e3962f018888d9e92b7f363b4..0000000000000000000000000000000000000000
--- a/dist/cjs/nodewallet.d.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
-import { Wallet } from "./provider";
-/**
- * Node only wallet.
- */
-export default class NodeWallet implements Wallet {
-    readonly payer: Keypair;
-    constructor(payer: Keypair);
-    static local(): NodeWallet | never;
-    signTransaction(tx: Transaction): Promise<Transaction>;
-    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
-    get publicKey(): PublicKey;
-}
-//# sourceMappingURL=nodewallet.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/nodewallet.d.ts.map b/dist/cjs/nodewallet.d.ts.map
deleted file mode 100644
index b3369ee6cd029ca43307dc3b9aa2f85dd0c4758c..0000000000000000000000000000000000000000
--- a/dist/cjs/nodewallet.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"nodewallet.d.ts","sourceRoot":"","sources":["../../src/nodewallet.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,UAAW,YAAW,MAAM;IACnC,QAAQ,CAAC,KAAK,EAAE,OAAO;gBAAd,KAAK,EAAE,OAAO;IAEnC,MAAM,CAAC,KAAK,IAAI,UAAU,GAAG,KAAK;IAsB5B,eAAe,CAAC,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAKtD,mBAAmB,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAOrE,IAAI,SAAS,IAAI,SAAS,CAEzB;CACF"}
\ No newline at end of file
diff --git a/dist/cjs/nodewallet.js b/dist/cjs/nodewallet.js
deleted file mode 100644
index 26d58102dd2f9ac94d0ecb4ce56b6c79c4f550ed..0000000000000000000000000000000000000000
--- a/dist/cjs/nodewallet.js
+++ /dev/null
@@ -1,37 +0,0 @@
-"use strict";
-Object.defineProperty(exports, "__esModule", { value: true });
-const buffer_1 = require("buffer");
-const web3_js_1 = require("@solana/web3.js");
-/**
- * Node only wallet.
- */
-class NodeWallet {
-    constructor(payer) {
-        this.payer = payer;
-    }
-    static local() {
-        const process = require("process");
-        if (!process.env.ANCHOR_WALLET || process.env.ANCHOR_WALLET === "") {
-            throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");
-        }
-        const payer = web3_js_1.Keypair.fromSecretKey(buffer_1.Buffer.from(JSON.parse(require("fs").readFileSync(process.env.ANCHOR_WALLET, {
-            encoding: "utf-8",
-        }))));
-        return new NodeWallet(payer);
-    }
-    async signTransaction(tx) {
-        tx.partialSign(this.payer);
-        return tx;
-    }
-    async signAllTransactions(txs) {
-        return txs.map((t) => {
-            t.partialSign(this.payer);
-            return t;
-        });
-    }
-    get publicKey() {
-        return this.payer.publicKey;
-    }
-}
-exports.default = NodeWallet;
-//# sourceMappingURL=nodewallet.js.map
\ No newline at end of file
diff --git a/dist/cjs/nodewallet.js.map b/dist/cjs/nodewallet.js.map
deleted file mode 100644
index 62ff8d26106378695c0974284e7abda99dd8126c..0000000000000000000000000000000000000000
--- a/dist/cjs/nodewallet.js.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"nodewallet.js","sourceRoot":"","sources":["../../src/nodewallet.ts"],"names":[],"mappings":";;AAAA,mCAAgC;AAChC,6CAAkE;AAGlE;;GAEG;AACH,MAAqB,UAAU;IAC7B,YAAqB,KAAc;QAAd,UAAK,GAAL,KAAK,CAAS;IAAG,CAAC;IAEvC,MAAM,CAAC,KAAK;QACV,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,KAAK,EAAE,EAAE;YAClE,MAAM,IAAI,KAAK,CACb,2DAA2D,CAC5D,CAAC;SACH;QAED,MAAM,KAAK,GAAG,iBAAO,CAAC,aAAa,CACjC,eAAM,CAAC,IAAI,CACT,IAAI,CAAC,KAAK,CACR,OAAO,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE;YACpD,QAAQ,EAAE,OAAO;SAClB,CAAC,CACH,CACF,CACF,CAAC;QAEF,OAAO,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,EAAe;QACnC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,GAAkB;QAC1C,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACnB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;IAC9B,CAAC;CACF;AAxCD,6BAwCC"}
\ No newline at end of file
diff --git a/dist/cjs/program/accounts-resolver.d.ts.map b/dist/cjs/program/accounts-resolver.d.ts.map
index 5429b4d44c96149f02fab3a85d22ecda9310997b..0dc3ab4f6212d2818d05419d56db8a512910655a 100644
--- a/dist/cjs/program/accounts-resolver.d.ts.map
+++ b/dist/cjs/program/accounts-resolver.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts-resolver.d.ts","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAqC,MAAM,iBAAiB,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAuB,MAAM,WAAW,CAAC;AAGrD,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAI1D,qBAAa,gBAAgB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC;IAWzE,OAAO,CAAC,KAAK;IACb,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,UAAU;IAClB,OAAO,CAAC,MAAM;IAdhB,MAAM,CAAC,QAAQ,CAAC,cAAc;;;;;MAK5B;IAEF,OAAO,CAAC,aAAa,CAAoB;gBAG/B,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,EACjB,SAAS,EAAE;QAAE,CAAC,IAAI,EAAE,MAAM,GAAG,SAAS,CAAA;KAAE,EACxC,SAAS,EAAE,QAAQ,EACnB,UAAU,EAAE,SAAS,EACrB,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,EACpC,iBAAiB,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAc7B,OAAO;YAgDN,eAAe;YAcf,cAAc;YAoBd,QAAQ;IAatB,OAAO,CAAC,aAAa;YAIP,WAAW;IAKzB,OAAO,CAAC,QAAQ;YAaF,eAAe;YAKf,YAAY;IAyB1B,OAAO,CAAC,iBAAiB;IAazB,OAAO,CAAC,aAAa;CA2BtB;AAGD,qBAAa,YAAY,CAAC,GAAG,SAAS,GAAG;IAKrC,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IALnB,OAAO,CAAC,MAAM,CAA0B;gBAI9B,SAAS,EAAE,QAAQ,EACnB,SAAS,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAG7B,YAAY,CAAC,CAAC,GAAG,GAAG,EAC/B,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,CAAC,CAAC;CAmBd"}
\ No newline at end of file
+{"version":3,"file":"accounts-resolver.d.ts","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAqC,MAAM,iBAAiB,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAuB,MAAM,WAAW,CAAC;AAGrD,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAQ1D,qBAAa,gBAAgB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC;IAWzE,OAAO,CAAC,KAAK;IACb,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,UAAU;IAClB,OAAO,CAAC,MAAM;IAdhB,MAAM,CAAC,QAAQ,CAAC,cAAc;;;;;MAK5B;IAEF,OAAO,CAAC,aAAa,CAAoB;gBAG/B,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,EACjB,SAAS,EAAE;QAAE,CAAC,IAAI,EAAE,MAAM,GAAG,SAAS,CAAA;KAAE,EACxC,SAAS,EAAE,QAAQ,EACnB,UAAU,EAAE,SAAS,EACrB,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,EACpC,iBAAiB,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAc7B,OAAO;YA8CN,eAAe;YAcf,cAAc;YAoBd,QAAQ;IAatB,OAAO,CAAC,aAAa;YAIP,WAAW;IAKzB,OAAO,CAAC,QAAQ;YAaF,eAAe;YAKf,YAAY;IAyB1B,OAAO,CAAC,iBAAiB;IAazB,OAAO,CAAC,aAAa;CA2BtB;AAGD,qBAAa,YAAY,CAAC,GAAG,SAAS,GAAG;IAIrC,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IAJnB,OAAO,CAAC,MAAM,CAA0B;gBAG9B,SAAS,EAAE,QAAQ,EACnB,SAAS,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAG7B,YAAY,CAAC,CAAC,GAAG,GAAG,EAC/B,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,CAAC,CAAC;CAmBd"}
\ No newline at end of file
diff --git a/dist/cjs/program/accounts-resolver.js b/dist/cjs/program/accounts-resolver.js
index 94791cbc309adbf264bb147078ecb301c97b73eb..d4fe415b4ead425483608016875a74665adde717 100644
--- a/dist/cjs/program/accounts-resolver.js
+++ b/dist/cjs/program/accounts-resolver.js
@@ -22,16 +22,15 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.AccountStore = exports.AccountsResolver = void 0;
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 const web3_js_1 = require("@solana/web3.js");
 const utf8 = __importStar(require("../utils/bytes/utf8.js"));
 const token_js_1 = require("../utils/token.js");
-const token_1 = require("../spl/token");
+const idl_1 = require("../spl/token/idl");
+const spl_token_1 = require("../coder/spl-token");
+const splCoder = new spl_token_1.SplTokenCoder(idl_1.IDL);
 // Populates a given accounts context with PDAs and common missing accounts.
 class AccountsResolver {
     constructor(_args, _accounts, _provider, _programId, _idlIx, _accountNamespace) {
@@ -56,14 +55,12 @@ class AccountsResolver {
             // Cast is ok because only a non-nested IdlAccount can have a seeds
             // cosntraint.
             const accountDesc = this._idlIx.accounts[k];
-            const accountDescName = (0, camelcase_1.default)(accountDesc.name);
+            const accountDescName = (0, case_1.camelCase)(accountDesc.name);
             // Signers default to the provider.
             if (accountDesc.isSigner && !this._accounts[accountDescName]) {
-                // @ts-expect-error
                 if (this._provider.wallet === undefined) {
                     throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");
                 }
-                // @ts-expect-error
                 this._accounts[accountDescName] = this._provider.wallet.publicKey;
                 continue;
             }
@@ -78,7 +75,7 @@ class AccountsResolver {
             // Cast is ok because only a non-nested IdlAccount can have a seeds
             // cosntraint.
             const accountDesc = this._idlIx.accounts[k];
-            const accountDescName = (0, camelcase_1.default)(accountDesc.name);
+            const accountDescName = (0, case_1.camelCase)(accountDesc.name);
             // PDA derived from IDL seeds.
             if (accountDesc.pda &&
                 accountDesc.pda.seeds.length > 0 &&
@@ -94,7 +91,7 @@ class AccountsResolver {
         const seeds = await Promise.all(accountDesc.pda.seeds.map((seedDesc) => this.toBuffer(seedDesc)));
         const programId = await this.parseProgramId(accountDesc);
         const [pubkey] = await web3_js_1.PublicKey.findProgramAddress(seeds, programId);
-        this._accounts[(0, camelcase_1.default)(accountDesc.name)] = pubkey;
+        this._accounts[(0, case_1.camelCase)(accountDesc.name)] = pubkey;
     }
     async parseProgramId(accountDesc) {
         var _a;
@@ -132,7 +129,7 @@ class AccountsResolver {
         return this.toBufferValue(seedDesc.type, argValue);
     }
     argValue(seedDesc) {
-        const seedArgName = (0, camelcase_1.default)(seedDesc.path.split(".")[0]);
+        const seedArgName = (0, case_1.camelCase)(seedDesc.path.split(".")[0]);
         const idlArgPosition = this._idlIx.args.findIndex((argDesc) => argDesc.name === seedArgName);
         if (idlArgPosition === -1) {
             throw new Error(`Unable to find argument for seed: ${seedArgName}`);
@@ -146,7 +143,7 @@ class AccountsResolver {
     async accountValue(seedDesc) {
         const pathComponents = seedDesc.path.split(".");
         const fieldName = pathComponents[0];
-        const fieldPubkey = this._accounts[(0, camelcase_1.default)(fieldName)];
+        const fieldPubkey = this._accounts[(0, case_1.camelCase)(fieldName)];
         // The seed is a pubkey of the account.
         if (pathComponents.length === 1) {
             return fieldPubkey;
@@ -163,7 +160,7 @@ class AccountsResolver {
     parseAccountValue(account, path) {
         let accountField;
         while (path.length > 0) {
-            accountField = account[(0, camelcase_1.default)(path[0])];
+            accountField = account[(0, case_1.camelCase)(path[0])];
             path = path.slice(1);
         }
         return accountField;
@@ -189,7 +186,7 @@ class AccountsResolver {
                 bU64.writeBigUInt64LE(BigInt(value));
                 return bU64;
             case "string":
-                return Buffer.from(utf8.encode(value));
+                return utf8.encode(value);
             case "publicKey":
                 return value.toBuffer();
             default:
@@ -209,7 +206,6 @@ AccountsResolver.CONST_ACCOUNTS = {
 };
 // TODO: this should be configureable to avoid unnecessary requests.
 class AccountStore {
-    // todo: don't use the progrma use the account namespace.
     constructor(_provider, _accounts) {
         this._provider = _provider;
         this._accounts = _accounts;
@@ -223,11 +219,11 @@ class AccountStore {
                 if (accountInfo === null) {
                     throw new Error(`invalid account info for ${address}`);
                 }
-                const data = (0, token_1.coder)().accounts.decode("token", accountInfo.data);
+                const data = splCoder.accounts.decode("token", accountInfo.data);
                 this._cache.set(address, data);
             }
             else {
-                const account = this._accounts[(0, camelcase_1.default)(name)].fetch(publicKey);
+                const account = this._accounts[(0, case_1.camelCase)(name)].fetch(publicKey);
                 this._cache.set(address, account);
             }
         }
diff --git a/dist/cjs/program/accounts-resolver.js.map b/dist/cjs/program/accounts-resolver.js.map
index fe302369ab43be5d6fe9cad7fa44aa61699ec4b0..deb1e9b51975e1735916e5f542b495e1d13d0454 100644
--- a/dist/cjs/program/accounts-resolver.js.map
+++ b/dist/cjs/program/accounts-resolver.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts-resolver.js","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts-resolver.js","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,sCAAwC;AACxC,6CAA+E;AAE/E,6DAA+C;AAC/C,gDAA4E;AAK5E,0CAAkD;AAClD,kDAAmD;AAEnD,MAAM,QAAQ,GAAG,IAAI,yBAAa,CAAC,SAAO,CAAC,CAAC;AAE5C,4EAA4E;AAC5E,MAAa,gBAAgB;IAU3B,YACU,KAAiB,EACjB,SAAwC,EACxC,SAAmB,EACnB,UAAqB,EACrB,MAA4B,EACpC,iBAAwC;QALhC,UAAK,GAAL,KAAK,CAAY;QACjB,cAAS,GAAT,SAAS,CAA+B;QACxC,cAAS,GAAT,SAAS,CAAU;QACnB,eAAU,GAAV,UAAU,CAAW;QACrB,WAAM,GAAN,MAAM,CAAsB;QAGpC,IAAI,CAAC,aAAa,GAAG,IAAI,YAAY,CAAC,SAAS,EAAE,iBAAiB,CAAC,CAAC;IACtE,CAAC;IAED,mEAAmE;IACnE,8DAA8D;IAC9D,sEAAsE;IACtE,EAAE;IACF,mEAAmE;IACnE,iEAAiE;IACjE,gEAAgE;IAChE,oDAAoD;IACpD,EAAE;IACK,KAAK,CAAC,OAAO;QAClB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;YACvD,mEAAmE;YACnE,cAAc;YACd,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAe,CAAC;YAC1D,MAAM,eAAe,GAAG,IAAA,gBAAS,EAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAEpD,mCAAmC;YACnC,IAAI,WAAW,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,EAAE;gBAC5D,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,EAAE;oBACvC,MAAM,IAAI,KAAK,CACb,qFAAqF,CACtF,CAAC;iBACH;gBACD,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC;gBAClE,SAAS;aACV;YAED,qEAAqE;YACrE,IACE,OAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,cAAc,EAAE,eAAe,CAAC;gBAC7D,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,EAChC;gBACA,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC;oBAC7B,gBAAgB,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;aACpD;SACF;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC,EAAE;YACvD,mEAAmE;YACnE,cAAc;YACd,MAAM,WAAW,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,CAAe,CAAC;YAC1D,MAAM,eAAe,GAAG,IAAA,gBAAS,EAAC,WAAW,CAAC,IAAI,CAAC,CAAC;YAEpD,8BAA8B;YAC9B,IACE,WAAW,CAAC,GAAG;gBACf,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC;gBAChC,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC,EAChC;gBACA,MAAM,IAAI,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC;gBACxC,SAAS;aACV;SACF;IACH,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,WAAuB;QACnD,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,KAAK;YAC5C,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;QAErC,MAAM,KAAK,GAAa,MAAM,OAAO,CAAC,GAAG,CACvC,WAAW,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,QAAiB,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,CAC1E,CAAC;QAEF,MAAM,SAAS,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;QACzD,MAAM,CAAC,MAAM,CAAC,GAAG,MAAM,mBAAS,CAAC,kBAAkB,CAAC,KAAK,EAAE,SAAS,CAAC,CAAC;QAEtE,IAAI,CAAC,SAAS,CAAC,IAAA,gBAAS,EAAC,WAAW,CAAC,IAAI,CAAC,CAAC,GAAG,MAAM,CAAC;IACvD,CAAC;IAEO,KAAK,CAAC,cAAc,CAAC,WAAuB;;QAClD,IAAI,CAAC,CAAA,MAAA,WAAW,CAAC,GAAG,0CAAE,SAAS,CAAA,EAAE;YAC/B,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB;QACD,QAAQ,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE;YACtC,KAAK,OAAO;gBACV,OAAO,IAAI,mBAAS,CAClB,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,CACpD,CAAC;YACJ,KAAK,KAAK;gBACR,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAClD,KAAK,SAAS;gBACZ,OAAO,MAAM,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;YAC5D;gBACE,MAAM,IAAI,KAAK,CACb,iCAAiC,WAAW,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,CAClE,CAAC;SACL;IACH,CAAC;IAEO,KAAK,CAAC,QAAQ,CAAC,QAAiB;QACtC,QAAQ,QAAQ,CAAC,IAAI,EAAE;YACrB,KAAK,OAAO;gBACV,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;YACtC,KAAK,KAAK;gBACR,OAAO,MAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;YAC1C,KAAK,SAAS;gBACZ,OAAO,MAAM,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;YAC9C;gBACE,MAAM,IAAI,KAAK,CAAC,yBAAyB,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;SAC7D;IACH,CAAC;IAEO,aAAa,CAAC,QAAiB;QACrC,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;IAC3D,CAAC;IAEO,KAAK,CAAC,WAAW,CAAC,QAAiB;QACzC,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC;IAEO,QAAQ,CAAC,QAAiB;QAChC,MAAM,WAAW,GAAG,IAAA,gBAAS,EAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE3D,MAAM,cAAc,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAC/C,CAAC,OAAY,EAAE,EAAE,CAAC,OAAO,CAAC,IAAI,KAAK,WAAW,CAC/C,CAAC;QACF,IAAI,cAAc,KAAK,CAAC,CAAC,EAAE;YACzB,MAAM,IAAI,KAAK,CAAC,qCAAqC,WAAW,EAAE,CAAC,CAAC;SACrE;QAED,OAAO,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;IACpC,CAAC;IAEO,KAAK,CAAC,eAAe,CAAC,QAAiB;QAC7C,MAAM,YAAY,GAAG,MAAM,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;QACvD,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,IAAI,EAAE,YAAY,CAAC,CAAC;IACzD,CAAC;IAEO,KAAK,CAAC,YAAY,CAAC,QAAiB;QAC1C,MAAM,cAAc,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAEhD,MAAM,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC;QACpC,MAAM,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAA,gBAAS,EAAC,SAAS,CAAC,CAAC,CAAC;QAEzD,uCAAuC;QACvC,IAAI,cAAc,CAAC,MAAM,KAAK,CAAC,EAAE;YAC/B,OAAO,WAAW,CAAC;SACpB;QAED,2BAA2B;QAC3B,EAAE;QACF,4BAA4B;QAC5B,MAAM,OAAO,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,YAAY,CACnD,QAAQ,CAAC,OAAO,EAChB,WAAW,CACZ,CAAC;QAEF,4DAA4D;QAC5D,oBAAoB;QACpB,MAAM,UAAU,GAAG,IAAI,CAAC,iBAAiB,CAAC,OAAO,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAC5E,OAAO,UAAU,CAAC;IACpB,CAAC;IAEO,iBAAiB,CAAU,OAAU,EAAE,IAAmB;QAChE,IAAI,YAAiB,CAAC;QACtB,OAAO,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACtB,YAAY,GAAG,OAAO,CAAC,IAAA,gBAAS,EAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3C,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;SACtB;QACD,OAAO,YAAY,CAAC;IACtB,CAAC;IAED,uEAAuE;IACvE,+BAA+B;IAC/B,EAAE;IACF,uCAAuC;IAC/B,aAAa,CAAC,IAAkB,EAAE,KAAU;QAClD,QAAQ,IAAI,EAAE;YACZ,KAAK,IAAI;gBACP,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC9B,KAAK,KAAK;gBACR,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBACxB,CAAC,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACvB,OAAO,CAAC,CAAC;YACX,KAAK,KAAK;gBACR,IAAI,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;gBACzB,OAAO,GAAG,CAAC;YACb,KAAK,KAAK;gBACR,IAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC3B,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;gBACrC,OAAO,IAAI,CAAC;YACd,KAAK,QAAQ;gBACX,OAAO,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC5B,KAAK,WAAW;gBACd,OAAO,KAAK,CAAC,QAAQ,EAAE,CAAC;YAC1B;gBACE,IAAI,IAAI,CAAC,KAAK,EAAE;oBACd,OAAO,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBAC3B;gBACD,MAAM,IAAI,KAAK,CAAC,yBAAyB,IAAI,EAAE,CAAC,CAAC;SACpD;IACH,CAAC;;AAtNH,4CAuNC;AAtNiB,+BAAc,GAAG;IAC/B,sBAAsB,EAAE,gCAAqB;IAC7C,IAAI,EAAE,4BAAkB;IACxB,aAAa,EAAE,uBAAa,CAAC,SAAS;IACtC,YAAY,EAAE,2BAAgB;CAC/B,CAAC;AAmNJ,oEAAoE;AACpE,MAAa,YAAY;IAGvB,YACU,SAAmB,EACnB,SAAgC;QADhC,cAAS,GAAT,SAAS,CAAU;QACnB,cAAS,GAAT,SAAS,CAAuB;QAJlC,WAAM,GAAG,IAAI,GAAG,EAAe,CAAC;IAKrC,CAAC;IAEG,KAAK,CAAC,YAAY,CACvB,IAAY,EACZ,SAAoB;QAEpB,MAAM,OAAO,GAAG,SAAS,CAAC,QAAQ,EAAE,CAAC;QACrC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE;YAC7B,IAAI,IAAI,KAAK,cAAc,EAAE;gBAC3B,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,cAAc,CAChE,SAAS,CACV,CAAC;gBACF,IAAI,WAAW,KAAK,IAAI,EAAE;oBACxB,MAAM,IAAI,KAAK,CAAC,4BAA4B,OAAO,EAAE,CAAC,CAAC;iBACxD;gBACD,MAAM,IAAI,GAAG,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC,OAAO,EAAE,WAAW,CAAC,IAAI,CAAC,CAAC;gBACjE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;aAChC;iBAAM;gBACL,MAAM,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,IAAA,gBAAS,EAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACjE,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;aACnC;SACF;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;CACF;AA9BD,oCA8BC"}
\ No newline at end of file
diff --git a/dist/cjs/program/index.d.ts b/dist/cjs/program/index.d.ts
index 77f9eab52fb795b37819967a001e061f2c81549b..d20426681b214e6c2ccb851de972c8cbcc31cb01 100644
--- a/dist/cjs/program/index.d.ts
+++ b/dist/cjs/program/index.d.ts
@@ -2,7 +2,7 @@ import { PublicKey } from "@solana/web3.js";
 import Provider from "../provider.js";
 import { Idl } from "../idl.js";
 import { Coder } from "../coder/index.js";
-import { RpcNamespace, InstructionNamespace, TransactionNamespace, AccountNamespace, StateClient, SimulateNamespace, MethodsNamespace, ViewNamespace } from "./namespace/index.js";
+import type { RpcNamespace, InstructionNamespace, TransactionNamespace, AccountNamespace, StateClient, SimulateNamespace, MethodsNamespace, ViewNamespace } from "./namespace/index.js";
 import { Address } from "./common.js";
 export * from "./common.js";
 export * from "./context.js";
diff --git a/dist/cjs/program/index.d.ts.map b/dist/cjs/program/index.d.ts.map
index 0e3082ae126f6b80dd9aafb6a9604d93b93cf931..db3f02907965a7ad4ed236bd5e5f5f1edb65b92f 100644
--- a/dist/cjs/program/index.d.ts.map
+++ b/dist/cjs/program/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/program/index.js b/dist/cjs/program/index.js
index d5fc58331cd4d850b8b0fabe172a02e8d65492db..29cdb808035633570bb11a6ea9a7c461319fd7d0 100644
--- a/dist/cjs/program/index.js
+++ b/dist/cjs/program/index.js
@@ -144,7 +144,7 @@ class Program {
             return null;
         }
         // Chop off account discriminator.
-        let idlAccount = (0, idl_js_1.decodeIdlAccount)(accountInfo.data.slice(8));
+        const idlAccount = (0, idl_js_1.decodeIdlAccount)(accountInfo.data.subarray(8));
         const inflatedIdl = (0, pako_1.inflate)(idlAccount.data);
         return JSON.parse(index_js_3.utf8.decode(inflatedIdl));
     }
diff --git a/dist/cjs/program/index.js.map b/dist/cjs/program/index.js.map
index aaf6f1186f9c4d54aede4a7fcf403856a35ee08f..1effe46725d326da472c79fc74e9808c27e479ef 100644
--- a/dist/cjs/program/index.js.map
+++ b/dist/cjs/program/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/account.d.ts b/dist/cjs/program/namespace/account.d.ts
index a24b8a043421ec381126b72988286d50f1c5d315..afdbca26f4aa06ace8bcefae1daac7dc3662a3ec 100644
--- a/dist/cjs/program/namespace/account.d.ts
+++ b/dist/cjs/program/namespace/account.d.ts
@@ -1,15 +1,15 @@
 /// <reference types="node" />
+import { CamelCase } from "@juici/case";
 import EventEmitter from "eventemitter3";
 import { Signer, PublicKey, TransactionInstruction, Commitment, GetProgramAccountsFilter, AccountInfo } from "@solana/web3.js";
 import Provider from "../../provider.js";
 import { Idl, IdlAccountDef } from "../../idl.js";
 import { Coder } from "../../coder/index.js";
 import { Address } from "../common.js";
-import { AllAccountsMap, IdlTypes, TypeDef } from "./types.js";
+import { IdlTypes, TypeDef } from "./types.js";
 export default class AccountFactory {
     static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): AccountNamespace<IDL>;
 }
-declare type NullableIdlAccount<IDL extends Idl> = IDL["accounts"] extends undefined ? IdlAccountDef : NonNullable<IDL["accounts"]>[number];
 /**
  * The namespace provides handles to an [[AccountClient]] object for each
  * account in a program.
@@ -31,9 +31,11 @@ declare type NullableIdlAccount<IDL extends Idl> = IDL["accounts"] extends undef
  * For the full API, see the [[AccountClient]] reference.
  */
 export declare type AccountNamespace<IDL extends Idl = Idl> = {
-    [M in keyof AllAccountsMap<IDL>]: AccountClient<IDL>;
+    [K in NonNullable<IDL["accounts"]>[number]["name"] as CamelCase<K>]: AccountClient<IDL, NonNullable<IDL["accounts"]>[number] & {
+        name: K;
+    }>;
 };
-export declare class AccountClient<IDL extends Idl = Idl, A extends NullableIdlAccount<IDL> = IDL["accounts"] extends undefined ? IdlAccountDef : NonNullable<IDL["accounts"]>[number], T = TypeDef<A, IdlTypes<IDL>>> {
+export declare class AccountClient<IDL extends Idl = Idl, A extends IdlAccountDef = IdlAccountDef, T = TypeDef<A, IdlTypes<IDL>>> {
     /**
      * Returns the number of bytes in this account.
      */
@@ -128,5 +130,4 @@ export declare type ProgramAccount<T = any> = {
     publicKey: PublicKey;
     account: T;
 };
-export {};
 //# sourceMappingURL=account.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/account.d.ts.map b/dist/cjs/program/namespace/account.d.ts.map
index e34df43c4a465687c400515062f78fc442d9f90a..96a4be40a8b1641877443cd61721dd921e89c37e 100644
--- a/dist/cjs/program/namespace/account.d.ts.map
+++ b/dist/cjs/program/namespace/account.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"account.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"account.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/account.js b/dist/cjs/program/namespace/account.js
index 62952c57a9791fae2af3cb0bf723d8e1f98a6153..2bd9479fbe4f5fb9126d9c55ffa3e476cbccba78 100644
--- a/dist/cjs/program/namespace/account.js
+++ b/dist/cjs/program/namespace/account.js
@@ -27,7 +27,7 @@ var __importDefault = (this && this.__importDefault) || function (mod) {
 };
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.AccountClient = void 0;
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 const eventemitter3_1 = __importDefault(require("eventemitter3"));
 const web3_js_1 = require("@solana/web3.js");
 const provider_js_1 = require("../../provider.js");
@@ -40,7 +40,7 @@ class AccountFactory {
         var _a;
         const accountFns = {};
         (_a = idl.accounts) === null || _a === void 0 ? void 0 : _a.forEach((idlAccount) => {
-            const name = (0, camelcase_1.default)(idlAccount.name);
+            const name = (0, case_1.camelCase)(idlAccount.name);
             accountFns[name] = new AccountClient(idl, idlAccount, programId, provider, coder);
         });
         return accountFns;
@@ -194,12 +194,10 @@ class AccountClient {
      */
     async createInstruction(signer, sizeOverride) {
         const size = this.size;
-        // @ts-expect-error
         if (this._provider.wallet === undefined) {
             throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");
         }
         return web3_js_1.SystemProgram.createAccount({
-            // @ts-expect-error
             fromPubkey: this._provider.wallet.publicKey,
             newAccountPubkey: signer.publicKey,
             space: sizeOverride !== null && sizeOverride !== void 0 ? sizeOverride : size,
diff --git a/dist/cjs/program/namespace/account.js.map b/dist/cjs/program/namespace/account.js.map
index 6d8d89656e51e9a9ef6fd5c1680223cabb18a6aa..e4b02848fbd1508ff20d1dc5e61dd572b5508069 100644
--- a/dist/cjs/program/namespace/account.js.map
+++ b/dist/cjs/program/namespace/account.js.map
@@ -1 +1 @@
-{"version":3,"file":"account.js","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,0DAAkC;AAClC,kEAAyC;AACzC,6CAQyB;AACzB,mDAA0D;AAE1D,mDAAyD;AACzD,4CAAuE;AAEvE,kEAAoD;AACpD,4DAA8C;AAE9C,MAAqB,cAAc;IAC1B,MAAM,CAAC,KAAK,CACjB,GAAQ,EACR,KAAY,EACZ,SAAoB,EACpB,QAAmB;;QAEnB,MAAM,UAAU,GAAqB,EAAE,CAAC;QAExC,MAAA,GAAG,CAAC,QAAQ,0CAAE,OAAO,CAAC,CAAC,UAAU,EAAE,EAAE;YACnC,MAAM,IAAI,GAAG,IAAA,mBAAS,EAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxC,UAAU,CAAC,IAAI,CAAC,GAAG,IAAI,aAAa,CAClC,GAAG,EACH,UAAU,EACV,SAAS,EACT,QAAQ,EACR,KAAK,CACN,CAAC;QACJ,CAAC,CAAC,CAAC;QAEH,OAAO,UAAmC,CAAC;IAC7C,CAAC;CACF;AAtBD,iCAsBC;AA8BD,MAAa,aAAa;IAyCxB,YACE,GAAQ,EACR,UAAa,EACb,SAAoB,EACpB,QAAmB,EACnB,KAAa;QAEb,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;QAC9B,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;QAC5B,IAAI,CAAC,SAAS,GAAG,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,IAAA,yBAAW,GAAE,CAAC;QAC3C,IAAI,CAAC,MAAM,GAAG,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,IAAI,qBAAU,CAAC,GAAG,CAAC,CAAC;QAC3C,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;IACrD,CAAC;IA9CD;;OAEG;IACH,IAAI,IAAI;QACN,OAAO,IAAI,CAAC,KAAK,CAAC;IACpB,CAAC;IAGD;;OAEG;IACH,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,UAAU,CAAC;IACzB,CAAC;IAGD;;OAEG;IACH,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,SAAS,CAAC;IACxB,CAAC;IAGD;;OAEG;IACH,IAAI,KAAK;QACP,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAmBD;;;;OAIG;IACH,KAAK,CAAC,aAAa,CACjB,OAAgB,EAChB,UAAuB;QAEvB,MAAM,WAAW,GAAG,MAAM,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QACnE,IAAI,WAAW,KAAK,IAAI,EAAE;YACxB,OAAO,IAAI,CAAC;SACb;QACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EACrB,WAAW,CAAC,IAAI,CACjB,CAAC;IACJ,CAAC;IAED;;;;OAIG;IACH,KAAK,CAAC,KAAK,CAAC,OAAgB,EAAE,UAAuB;QACnD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,UAAU,CAAC,CAAC;QAC3D,IAAI,IAAI,KAAK,IAAI,EAAE;YACjB,MAAM,IAAI,KAAK,CAAC,0BAA0B,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;SACjE;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAED;;;;;OAKG;IACH,KAAK,CAAC,aAAa,CACjB,SAAoB,EACpB,UAAuB;QAEvB,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,mBAAmB,CAChD,IAAI,CAAC,SAAS,CAAC,UAAU,EACzB,SAAS,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE,CAAC,IAAA,4BAAgB,EAAC,OAAO,CAAC,CAAC,EACrD,UAAU,CACX,CAAC;QAEF,iEAAiE;QACjE,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,EAAE;YAC9B,IAAI,OAAO,IAAI,IAAI,EAAE;gBACnB,OAAO,IAAI,CAAC;aACb;YACD,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EACrB,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,OAAO,CAAC,IAAI,CACtB,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;;;;;;;;;;OAaG;IACH,KAAK,CAAC,GAAG,CACP,OAA6C;QAE7C,IAAI,IAAI,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,kBAAkB,CAC3D,IAAI,CAAC,UAAU,EACf;YACE,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU;YAChD,OAAO,EAAE;gBACP;oBACE,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAChC,IAAI,CAAC,WAAW,CAAC,IAAI,EACrB,OAAO,YAAY,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAChD;iBACF;gBACD,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE,CAAC;aAC3C;SACF,CACF,CAAC;QACF,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,EAAE;YACtC,OAAO;gBACL,SAAS,EAAE,MAAM;gBACjB,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAClC,IAAI,CAAC,WAAW,CAAC,IAAI,EACrB,OAAO,CAAC,IAAI,CACb;aACF,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;OAGG;IACH,SAAS,CAAC,OAAgB,EAAE,UAAuB;QACjD,MAAM,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;QAClD,IAAI,GAAG,EAAE;YACP,OAAO,GAAG,CAAC,EAAE,CAAC;SACf;QAED,MAAM,EAAE,GAAG,IAAI,uBAAY,EAAE,CAAC;QAC9B,OAAO,GAAG,IAAA,4BAAgB,EAAC,OAAO,CAAC,CAAC;QACpC,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,eAAe,CACxD,OAAO,EACP,CAAC,GAAG,EAAE,EAAE;YACN,MAAM,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CACzC,IAAI,CAAC,WAAW,CAAC,IAAI,EACrB,GAAG,CAAC,IAAI,CACT,CAAC;YACF,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;QAC7B,CAAC,EACD,UAAU,CACX,CAAC;QAEF,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE;YACpC,EAAE;YACF,QAAQ;SACT,CAAC,CAAC;QAEH,OAAO,EAAE,CAAC;IACZ,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,WAAW,CAAC,OAAgB;QAChC,IAAI,GAAG,GAAG,aAAa,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;QAChD,IAAI,CAAC,GAAG,EAAE;YACR,OAAO,CAAC,IAAI,CAAC,2BAA2B,CAAC,CAAC;YAC1C,OAAO;SACR;QACD,IAAI,aAAa,EAAE;YACjB,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU;iBAC5B,2BAA2B,CAAC,GAAG,CAAC,QAAQ,CAAC;iBACzC,IAAI,CAAC,GAAG,EAAE;gBACT,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC3C,CAAC,CAAC;iBACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;SACzB;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,iBAAiB,CACrB,MAAc,EACd,YAAqB;QAErB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QAEvB,mBAAmB;QACnB,IAAI,IAAI,CAAC,SAAS,CAAC,MAAM,KAAK,SAAS,EAAE;YACvC,MAAM,IAAI,KAAK,CACb,qFAAqF,CACtF,CAAC;SACH;QAED,OAAO,uBAAa,CAAC,aAAa,CAAC;YACjC,mBAAmB;YACnB,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS;YAC3C,gBAAgB,EAAE,MAAM,CAAC,SAAS;YAClC,KAAK,EAAE,YAAY,aAAZ,YAAY,cAAZ,YAAY,GAAI,IAAI;YAC3B,QAAQ,EACN,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,iCAAiC,CAC/D,YAAY,aAAZ,YAAY,cAAZ,YAAY,GAAI,IAAI,CACrB;YACH,SAAS,EAAE,IAAI,CAAC,UAAU;SAC3B,CAAC,CAAC;IACL,CAAC;IAED;;;;;OAKG;IACH,KAAK,CAAC,UAAU,CAAC,GAAG,IAA+B;QACjD,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,iBAAiB,CAAC,GAAG,IAAI,CAAC,CAAC;QACnD,OAAO,MAAM,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAChC,CAAC;IAED;;;;;OAKG;IACH,KAAK,CAAC,iBAAiB,CACrB,GAAG,IAA+B;QAElC,OAAO,MAAM,UAAU,CAAC,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,IAAI,CAAC,CAAC;IAC/D,CAAC;IAED,KAAK,CAAC,cAAc,CAClB,OAAgB,EAChB,UAAuB;QAEvB,OAAO,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,cAAc,CACnD,IAAA,4BAAgB,EAAC,OAAO,CAAC,EACzB,UAAU,CACX,CAAC;IACJ,CAAC;CACF;AA9QD,sCA8QC;AAYD,4BAA4B;AAC5B,MAAM,aAAa,GAA8B,IAAI,GAAG,EAAE,CAAC"}
\ No newline at end of file
+{"version":3,"file":"account.js","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/index.d.ts b/dist/cjs/program/namespace/index.d.ts
index 809b5847e7ecfb2d492c46c94921f64f9235ba13..698b79068949282b1a76aaa1375503c3b69158cf 100644
--- a/dist/cjs/program/namespace/index.d.ts
+++ b/dist/cjs/program/namespace/index.d.ts
@@ -16,7 +16,7 @@ export { TransactionNamespace, TransactionFn } from "./transaction.js";
 export { RpcNamespace, RpcFn } from "./rpc.js";
 export { AccountNamespace, AccountClient, ProgramAccount } from "./account.js";
 export { SimulateNamespace, SimulateFn } from "./simulate.js";
-export { IdlAccounts, IdlTypes } from "./types.js";
+export { IdlAccounts, IdlTypes, IdlEvents, DecodeType } from "./types.js";
 export { MethodsBuilderFactory, MethodsNamespace } from "./methods";
 export { ViewNamespace, ViewFn } from "./views";
 export default class NamespaceFactory {
diff --git a/dist/cjs/program/namespace/index.d.ts.map b/dist/cjs/program/namespace/index.d.ts.map
index aec48524e87054421d49ab5965baad765de322d4..3485c42bb4865404ea6c6f7c27f84c491bacf4a4 100644
--- a/dist/cjs/program/namespace/index.d.ts.map
+++ b/dist/cjs/program/namespace/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAqB,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACvD,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAAmB,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACpD,OAAuB,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChE,OAAwB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAyB,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAoB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACnD,OAAO,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEhD,MAAM,CAAC,OAAO,OAAO,gBAAgB;IACnC;;OAEG;WACW,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACjB;QACD,YAAY,CAAC,GAAG,CAAC;QACjB,oBAAoB,CAAC,GAAG,CAAC;QACzB,oBAAoB,CAAC,GAAG,CAAC;QACzB,gBAAgB,CAAC,GAAG,CAAC;QACrB,iBAAiB,CAAC,GAAG,CAAC;QACtB,gBAAgB,CAAC,GAAG,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;QAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS;KAC/B;CAoEF"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAqB,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACvD,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAAmB,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACpD,OAAuB,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChE,OAAwB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAyB,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAoB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AAC1E,OAAO,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEhD,MAAM,CAAC,OAAO,OAAO,gBAAgB;IACnC;;OAEG;WACW,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACjB;QACD,YAAY,CAAC,GAAG,CAAC;QACjB,oBAAoB,CAAC,GAAG,CAAC;QACzB,oBAAoB,CAAC,GAAG,CAAC;QACzB,gBAAgB,CAAC,GAAG,CAAC;QACrB,iBAAiB,CAAC,GAAG,CAAC;QACtB,gBAAgB,CAAC,GAAG,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;QAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS;KAC/B;CAoEF"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/index.js b/dist/cjs/program/namespace/index.js
index 9f5dae5340ccee2212596128bc198395da4d0713..135368639cb619910910ccfa707a7732cc6b450e 100644
--- a/dist/cjs/program/namespace/index.js
+++ b/dist/cjs/program/namespace/index.js
@@ -4,7 +4,7 @@ var __importDefault = (this && this.__importDefault) || function (mod) {
 };
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.MethodsBuilderFactory = exports.AccountClient = exports.StateClient = void 0;
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 const state_js_1 = __importDefault(require("./state.js"));
 const instruction_js_1 = __importDefault(require("./instruction.js"));
 const transaction_js_1 = __importDefault(require("./transaction.js"));
@@ -44,7 +44,7 @@ class NamespaceFactory {
             const simulateItem = simulate_js_1.default.build(idlIx, txItem, idlErrors, provider, coder, programId, idl);
             const viewItem = views_1.default.build(programId, idlIx, simulateItem, idl);
             const methodItem = methods_1.MethodsBuilderFactory.build(provider, programId, idlIx, ixItem, txItem, rpcItem, simulateItem, viewItem, account);
-            const name = (0, camelcase_1.default)(idlIx.name);
+            const name = (0, case_1.camelCase)(idlIx.name);
             instruction[name] = ixItem;
             transaction[name] = txItem;
             rpc[name] = rpcItem;
diff --git a/dist/cjs/program/namespace/index.js.map b/dist/cjs/program/namespace/index.js.map
index c1a7ef9e360093f6a019854b2fbe78a0a6a87d7e..bfd210a564ac9c91dd60f70b0be88cb1a062677a 100644
--- a/dist/cjs/program/namespace/index.js.map
+++ b/dist/cjs/program/namespace/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/simulate.d.ts b/dist/cjs/program/namespace/simulate.d.ts
index b8df9b2ea3707c46746dda67ca6ae7d96807d03b..bba3fd2b265e66abdc2b5cc964f4b56e0d3f8af6 100644
--- a/dist/cjs/program/namespace/simulate.d.ts
+++ b/dist/cjs/program/namespace/simulate.d.ts
@@ -43,7 +43,7 @@ export default class SimulateFactory {
  * ```
  */
 export declare type SimulateNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>>;
-declare type NullableEvents<IDL extends Idl> = IDL["events"] extends undefined ? IdlEvent : NonNullable<IDL["events"]>[number];
+declare type NullableEvents<IDL extends Idl> = IDL["events"] extends IdlEvent[] ? IDL["events"][number] : IdlEvent;
 /**
  * SimulateFn is a single method generated from an IDL. It simulates a method
  * against a cluster configured by the provider, returning a list of all the
diff --git a/dist/cjs/program/namespace/simulate.d.ts.map b/dist/cjs/program/namespace/simulate.d.ts.map
index 340cf78435756113152887e15ee4249e1b781726..2c02c207c3b1299aa18463c154e5477010dad900 100644
--- a/dist/cjs/program/namespace/simulate.d.ts.map
+++ b/dist/cjs/program/namespace/simulate.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AAGzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAe,KAAK,EAAE,MAAM,aAAa,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,eAAe,EACf,QAAQ,EACR,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAEjB,MAAM,CAAC,OAAO,OAAO,eAAe;WACpB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,EACxB,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,GAAG,EAAE,GAAG,GACP,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;CAuCtB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,iBAAiB,CAC3B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,aAAK,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,SAAS,SAAS,GAClE,QAAQ,GACR,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAEvC;;;;;GAKG;AACH,oBAAY,UAAU,CACpB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CACtB,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,oBAAY,gBAAgB,CAAC,CAAC,SAAS,QAAQ,EAAE,OAAO,IAAI;IAC1D,MAAM,EAAE,SAAS,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC;IACrC,GAAG,EAAE,SAAS,MAAM,EAAE,CAAC;CACxB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AAEzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAe,KAAK,EAAE,MAAM,aAAa,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,eAAe,EACf,QAAQ,EACR,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAIjB,MAAM,CAAC,OAAO,OAAO,eAAe;WACpB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,EACxB,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,GAAG,EAAE,GAAG,GACP,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;CAuCtB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,iBAAiB,CAC3B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,aAAK,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,SAAS,QAAQ,EAAE,GACnE,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,GACrB,QAAQ,CAAC;AAEb;;;;;GAKG;AACH,oBAAY,UAAU,CACpB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CACtB,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,oBAAY,gBAAgB,CAAC,CAAC,SAAS,QAAQ,EAAE,OAAO,IAAI;IAC1D,MAAM,EAAE,SAAS,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC;IACrC,GAAG,EAAE,SAAS,MAAM,EAAE,CAAC;CACxB,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/simulate.js.map b/dist/cjs/program/namespace/simulate.js.map
index 6d56753e74e0acf22008f8c374dde4cba6acbc95..cf53e37c5f04512334a827a692a0f58f0eb3c3c7 100644
--- a/dist/cjs/program/namespace/simulate.js.map
+++ b/dist/cjs/program/namespace/simulate.js.map
@@ -1 +1 @@
-{"version":3,"file":"simulate.js","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":";;AAGA,8CAAgD;AAEhD,0CAAiD;AAGjD,6CAAgD;AAQhD,MAAqB,eAAe;IAC3B,MAAM,CAAC,KAAK,CACjB,KAA2B,EAC3B,IAAwB,EACxB,SAA8B,EAC9B,QAAkB,EAClB,KAAY,EACZ,SAAoB,EACpB,GAAQ;QAER,MAAM,QAAQ,GAAoB,KAAK,EAAE,GAAG,IAAI,EAAE,EAAE;;YAClD,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,IAAA,4BAAe,EAAC,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,IAAI,GAA+C,SAAS,CAAC;YACjE,IAAI,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE;gBACnC,MAAM,IAAI,KAAK,CACb,+DAA+D,CAChE,CAAC;aACH;YACD,IAAI;gBACF,IAAI,GAAG,MAAM,QAAS,CAAC,QAAQ,CAC7B,EAAE,EACF,GAAG,CAAC,OAAO,EACX,MAAA,GAAG,CAAC,OAAO,0CAAE,UAAU,CACxB,CAAC;aACH;YAAC,OAAO,GAAG,EAAE;gBACZ,MAAM,IAAA,yBAAc,EAAC,GAAG,EAAE,SAAS,CAAC,CAAC;aACtC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;aACnD;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,IAAI,CAAC,IAAI,EAAE;gBACT,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YAED,MAAM,MAAM,GAAqC,EAAE,CAAC;YACpD,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,MAAM,GAAG,IAAI,sBAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC/C,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBAC1C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACpB;aACF;YACD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF;AAhDD,kCAgDC"}
\ No newline at end of file
+{"version":3,"file":"simulate.js","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":";;AAEA,8CAAgD;AAEhD,0CAAiD;AAGjD,6CAAgD;AAUhD,MAAqB,eAAe;IAC3B,MAAM,CAAC,KAAK,CACjB,KAA2B,EAC3B,IAAwB,EACxB,SAA8B,EAC9B,QAAkB,EAClB,KAAY,EACZ,SAAoB,EACpB,GAAQ;QAER,MAAM,QAAQ,GAAoB,KAAK,EAAE,GAAG,IAAI,EAAE,EAAE;;YAClD,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,IAAA,4BAAe,EAAC,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,IAAI,GAA+C,SAAS,CAAC;YACjE,IAAI,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE;gBACnC,MAAM,IAAI,KAAK,CACb,+DAA+D,CAChE,CAAC;aACH;YACD,IAAI;gBACF,IAAI,GAAG,MAAM,QAAS,CAAC,QAAQ,CAC7B,EAAE,EACF,GAAG,CAAC,OAAO,EACX,MAAA,GAAG,CAAC,OAAO,0CAAE,UAAU,CACxB,CAAC;aACH;YAAC,OAAO,GAAG,EAAE;gBACZ,MAAM,IAAA,yBAAc,EAAC,GAAG,EAAE,SAAS,CAAC,CAAC;aACtC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;aACnD;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,IAAI,CAAC,IAAI,EAAE;gBACT,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YAED,MAAM,MAAM,GAAqC,EAAE,CAAC;YACpD,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,MAAM,GAAG,IAAI,sBAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC/C,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBAC1C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACpB;aACF;YACD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF;AAhDD,kCAgDC"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/state.d.ts b/dist/cjs/program/namespace/state.d.ts
index 722980128ea238f5c887db26c620979038f09d8b..dd9e3b97120b629a17fb8cec9c3d94a0c8b02f2b 100644
--- a/dist/cjs/program/namespace/state.d.ts
+++ b/dist/cjs/program/namespace/state.d.ts
@@ -1,14 +1,17 @@
 import EventEmitter from "eventemitter3";
 import { PublicKey, Commitment } from "@solana/web3.js";
 import Provider from "../../provider.js";
-import { Idl, IdlInstruction, IdlTypeDef } from "../../idl.js";
-import { Coder } from "../../coder/index.js";
+import { Idl, IdlInstruction, IdlState, IdlTypeDef } from "../../idl.js";
+import { Coder, StateCoder } from "../../coder/index.js";
 import { RpcNamespace, InstructionNamespace, TransactionNamespace } from "./index.js";
 import { IdlTypes, TypeDef } from "./types.js";
 export default class StateFactory {
     static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): StateClient<IDL> | undefined;
 }
-declare type NullableMethods<IDL extends Idl> = IDL["state"] extends undefined ? IdlInstruction[] : NonNullable<IDL["state"]>["methods"];
+declare type NullableMethods<IDL extends Idl> = IDL["state"] extends IdlState ? IDL["state"]["methods"] : IdlInstruction[];
+declare type CoderWithState = Coder & {
+    state: StateCoder;
+};
 /**
  * A client for the program state. Similar to the base [[Program]] client,
  * one can use this to send transactions and read accounts for the state
@@ -22,7 +25,7 @@ export declare class StateClient<IDL extends Idl> {
     /**
      * Returns the coder.
      */
-    readonly coder: Coder;
+    readonly coder: CoderWithState;
     /**
      * [[RpcNamespace]] for all state methods.
      */
@@ -41,22 +44,13 @@ export declare class StateClient<IDL extends Idl> {
     get programId(): PublicKey;
     private _programId;
     private _address;
-    private _coder;
     private _idl;
     private _sub;
-    constructor(idl: IDL, programId: PublicKey, 
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    provider?: Provider, 
-    /**
-     * Returns the coder.
-     */
-    coder?: Coder);
+    constructor(idl: IDL, programId: PublicKey, provider?: Provider, coder?: Coder);
     /**
      * Returns the deserialized state account.
      */
-    fetch(): Promise<TypeDef<IDL["state"] extends undefined ? IdlTypeDef : NonNullable<IDL["state"]>["struct"], IdlTypes<IDL>>>;
+    fetch(): Promise<TypeDef<IDL["state"] extends IdlState ? IDL["state"]["struct"] : IdlTypeDef, IdlTypes<IDL>>>;
     /**
      * Returns the state address.
      */
diff --git a/dist/cjs/program/namespace/state.d.ts.map b/dist/cjs/program/namespace/state.d.ts.map
index 12d4a30a1e16bdffa077338ee3293a51f327f466..fb3eaea1d0552c0f7e9c8b05878d8632f086e7bc 100644
--- a/dist/cjs/program/namespace/state.d.ts.map
+++ b/dist/cjs/program/namespace/state.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AAEzC,OAAO,EACL,SAAS,EAET,UAAU,EAEX,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAE,GAAG,EAAE,cAAc,EAAkB,UAAU,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAc,KAAK,EAAsB,MAAM,sBAAsB,CAAC;AAC7E,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACrB,MAAM,YAAY,CAAC;AAUpB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,CAAC,OAAO,OAAO,YAAY;WACjB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;CAMhC;AAED,aAAK,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,SAAS,GAClE,cAAc,EAAE,GAChB,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;AAEzC;;;;GAIG;AACH,qBAAa,WAAW,CAAC,GAAG,SAAS,GAAG;IAgCpC;;OAEG;aACa,QAAQ,EAAE,QAAQ;IAClC;;OAEG;aACa,KAAK,EAAE,KAAK;IAtC9B;;OAEG;IACH,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B,OAAO,CAAC,QAAQ,CAAY;IAC5B,OAAO,CAAC,MAAM,CAAQ;IACtB,OAAO,CAAC,IAAI,CAAM;IAClB,OAAO,CAAC,IAAI,CAAsB;gBAGhC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS;IACpB;;OAEG;IACa,QAAQ,GAAE,QAAwB;IAClD;;OAEG;IACa,KAAK,GAAE,KAA2B;IAgEpD;;OAEG;IACG,KAAK,IAAI,OAAO,CACpB,OAAO,CACL,GAAG,CAAC,OAAO,CAAC,SAAS,SAAS,GAC1B,UAAU,GACV,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EACvC,QAAQ,CAAC,GAAG,CAAC,CACd,CACF;IAkBD;;OAEG;IACH,OAAO,IAAI,SAAS;IAIpB;;;OAGG;IACH,SAAS,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IAuBhD;;OAEG;IACH,WAAW;CAUZ"}
\ No newline at end of file
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AAEzC,OAAO,EACL,SAAS,EAET,UAAU,EAEX,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EACL,GAAG,EACH,cAAc,EACd,QAAQ,EAER,UAAU,EACX,MAAM,cAAc,CAAC;AACtB,OAAO,EAEL,KAAK,EACL,UAAU,EAEX,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACrB,MAAM,YAAY,CAAC;AAUpB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,CAAC,OAAO,OAAO,YAAY;WACjB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;CAMhC;AAED,aAAK,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,QAAQ,GACjE,GAAG,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GACvB,cAAc,EAAE,CAAC;AAErB,aAAK,cAAc,GAAG,KAAK,GAAG;IAAE,KAAK,EAAE,UAAU,CAAA;CAAE,CAAC;AAEpD;;;;GAIG;AACH,qBAAa,WAAW,CAAC,GAAG,SAAS,GAAG;IACtC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,cAAc,CAAC;IAE/B;;OAEG;IACH,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B,OAAO,CAAC,QAAQ,CAAY;IAC5B,OAAO,CAAC,IAAI,CAAM;IAClB,OAAO,CAAC,IAAI,CAAsB;gBAGhC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,EACnB,KAAK,CAAC,EAAE,KAAK;IA4Ef;;OAEG;IACG,KAAK,IAAI,OAAO,CACpB,OAAO,CACL,GAAG,CAAC,OAAO,CAAC,SAAS,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,GAAG,UAAU,EACnE,QAAQ,CAAC,GAAG,CAAC,CACd,CACF;IAkBD;;OAEG;IACH,OAAO,IAAI,SAAS;IAIpB;;;OAGG;IACH,SAAS,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IAuBhD;;OAEG;IACH,WAAW;CAUZ"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/state.js b/dist/cjs/program/namespace/state.js
index 98d00a53ea7393eef3e8944e0f6c20e57771fa0e..e1248b31cb5f266a8acc9e2e04a699e26782eab2 100644
--- a/dist/cjs/program/namespace/state.js
+++ b/dist/cjs/program/namespace/state.js
@@ -5,7 +5,7 @@ var __importDefault = (this && this.__importDefault) || function (mod) {
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.StateClient = void 0;
 const eventemitter3_1 = __importDefault(require("eventemitter3"));
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 const web3_js_1 = require("@solana/web3.js");
 const provider_js_1 = require("../../provider.js");
 const index_js_1 = require("../../coder/index.js");
@@ -29,17 +29,12 @@ exports.default = StateFactory;
  * abstraction.
  */
 class StateClient {
-    constructor(idl, programId, 
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    provider = (0, provider_js_1.getProvider)(), 
-    /**
-     * Returns the coder.
-     */
-    coder = new index_js_1.BorshCoder(idl)) {
-        this.provider = provider;
-        this.coder = coder;
+    constructor(idl, programId, provider, coder) {
+        if (!idl.state || (coder && !coder.state)) {
+            throw new Error("State is not specified in IDL.");
+        }
+        this.coder = (coder !== null && coder !== void 0 ? coder : new index_js_1.BorshCoder(idl));
+        this.provider = provider !== null && provider !== void 0 ? provider : (0, provider_js_1.getProvider)();
         this._idl = idl;
         this._programId = programId;
         this._address = programStateAddress(programId);
@@ -52,17 +47,17 @@ class StateClient {
             let rpc = {};
             (_a = idl.state) === null || _a === void 0 ? void 0 : _a.methods.forEach((m) => {
                 // Build instruction method.
-                const ixItem = instruction_js_1.default.build(m, (ixName, ix) => coder.instruction.encodeState(ixName, ix), programId);
+                const ixItem = instruction_js_1.default.build(m, (ixName, ix) => this.coder.instruction.encodeState(ixName, ix), programId);
                 ixItem["accounts"] = (accounts) => {
-                    const keys = stateInstructionKeys(programId, provider, m, accounts);
+                    const keys = stateInstructionKeys(programId, this.provider, m, accounts);
                     return keys.concat(instruction_js_1.default.accountsArray(accounts, m.accounts, m.name));
                 };
                 // Build transaction method.
                 const txItem = transaction_js_1.default.build(m, ixItem);
                 // Build RPC method.
-                const rpcItem = rpc_js_1.default.build(m, txItem, (0, common_js_1.parseIdlErrors)(idl), provider);
+                const rpcItem = rpc_js_1.default.build(m, txItem, (0, common_js_1.parseIdlErrors)(idl), this.provider);
                 // Attach them all to their respective namespaces.
-                const name = (0, camelcase_1.default)(m.name);
+                const name = (0, case_1.camelCase)(m.name);
                 instruction[name] = ixItem;
                 transaction[name] = txItem;
                 rpc[name] = rpcItem;
@@ -98,7 +93,7 @@ class StateClient {
             throw new Error("State is not specified in IDL.");
         }
         const expectedDiscriminator = await (0, index_js_1.stateDiscriminator)(state.struct.name);
-        if (expectedDiscriminator.compare(accountInfo.data.slice(0, 8))) {
+        if (expectedDiscriminator.compare(accountInfo.data.subarray(0, 8))) {
             throw new Error("Invalid account discriminator");
         }
         return this.coder.state.decode(accountInfo.data);
@@ -154,13 +149,11 @@ function stateInstructionKeys(programId, provider, m, accounts) {
     if (m.name === "new") {
         // Ctor `new` method.
         const [programSigner] = (0, pubkey_js_1.findProgramAddressSync)([], programId);
-        // @ts-expect-error
         if (provider.wallet === undefined) {
             throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");
         }
         return [
             {
-                // @ts-expect-error
                 pubkey: provider.wallet.publicKey,
                 isWritable: false,
                 isSigner: true,
diff --git a/dist/cjs/program/namespace/state.js.map b/dist/cjs/program/namespace/state.js.map
index 49ae77bb081a1c8c2efc9a51bf5053b1841be56d..94c6923f41281fd8fa8b259db02c39b90698d184 100644
--- a/dist/cjs/program/namespace/state.js.map
+++ b/dist/cjs/program/namespace/state.js.map
@@ -1 +1 @@
-{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/types.d.ts b/dist/cjs/program/namespace/types.d.ts
index c3a3c2fce78481bec9b14fb511411aa2c493f53c..752c66dc97670ff7afc14430d551d6bb68269e9d 100644
--- a/dist/cjs/program/namespace/types.d.ts
+++ b/dist/cjs/program/namespace/types.d.ts
@@ -1,7 +1,9 @@
+/// <reference types="node" />
 import { PublicKey } from "@solana/web3.js";
 import BN from "bn.js";
+import { CamelCase } from "@juici/case";
 import { Idl } from "../../";
-import { IdlField, IdlInstruction, IdlType, IdlTypeDef, IdlTypeDefTyEnum, IdlTypeDefTyStruct } from "../../idl";
+import { IdlAccountDef, IdlEnumFields, IdlEnumFieldsNamed, IdlEnumFieldsTuple, IdlField, IdlInstruction, IdlType, IdlTypeDef, IdlTypeDefTyEnum, IdlTypeDefTyStruct } from "../../idl";
 import { Accounts, Context } from "../context";
 import { MethodsBuilder } from "./methods";
 /**
@@ -23,11 +25,11 @@ export declare type AllInstructionsMap<IDL extends Idl> = InstructionMap<AllInst
 /**
  * All accounts for an IDL.
  */
-export declare type AllAccounts<IDL extends Idl> = IDL["accounts"] extends undefined ? IdlTypeDef : NonNullable<IDL["accounts"]>[number];
+export declare type AllAccounts<IDL extends Idl> = IDL["accounts"] extends IdlAccountDef[] ? IDL["accounts"][number] : IdlAccountDef;
 /**
  * Returns a type of instruction name to the IdlInstruction.
  */
-export declare type AccountMap<I extends IdlTypeDef> = {
+export declare type AccountMap<I extends IdlAccountDef> = {
     [K in I["name"]]: I & {
         name: K;
     };
@@ -59,6 +61,7 @@ declare type TypeMap = {
     publicKey: PublicKey;
     bool: boolean;
     string: string;
+    bytes: Buffer;
 } & {
     [K in "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "f64"]: number;
 } & {
@@ -81,6 +84,10 @@ export declare type DecodeType<T extends IdlType, Defined> = T extends keyof Typ
 } ? TypeMap[T["coption"]] | null : T extends {
     vec: keyof TypeMap;
 } ? TypeMap[T["vec"]][] : T extends {
+    vec: {
+        defined: keyof Defined;
+    };
+} ? Defined[T["vec"]["defined"]][] : T extends {
     array: [defined: keyof TypeMap, size: number];
 } ? TypeMap[T["array"][0]][] : unknown;
 /**
@@ -89,19 +96,57 @@ export declare type DecodeType<T extends IdlType, Defined> = T extends keyof Typ
 declare type ArgsTuple<A extends IdlField[], Defined> = {
     [K in keyof A]: A[K] extends IdlField ? DecodeType<A[K]["type"], Defined> : unknown;
 } & unknown[];
-declare type FieldsOfType<I extends IdlTypeDef> = NonNullable<I["type"] extends IdlTypeDefTyStruct ? I["type"]["fields"] : I["type"] extends IdlTypeDefTyEnum ? I["type"]["variants"][number]["fields"] : any[]>[number];
-export declare type TypeDef<I extends IdlTypeDef, Defined> = {
-    [F in FieldsOfType<I>["name"]]: DecodeType<(FieldsOfType<I> & {
-        name: F;
-    })["type"], Defined>;
+/**
+ * Flatten { a: number, b: { c: string } } into number | string
+ */
+declare type UnboxToUnion<T> = T extends (infer U)[] ? UnboxToUnion<U> : T extends Record<string, never> ? "__empty_object__" : T extends Record<string, infer V> ? UnboxToUnion<V> : T;
+/**
+ * Decode a single enum field.
+ */
+declare type DecodeEnumField<F, Defined> = F extends IdlType ? DecodeType<F, Defined> : never;
+/**
+ * Decode enum variant: named or tuple.
+ */
+declare type DecodeEnumFields<F extends IdlEnumFields, Defined> = F extends IdlEnumFieldsNamed ? {
+    [F2 in F[number] as F2["name"]]: DecodeEnumField<F2["type"], Defined>;
+} : F extends IdlEnumFieldsTuple ? {
+    [F3 in keyof F as Exclude<F3, keyof unknown[]>]: DecodeEnumField<F[F3], Defined>;
+} : Record<never, never>;
+declare type DecodeEnumVariants<I extends IdlTypeDefTyEnum, Defined> = {
+    [V in I["variants"][number] as CamelCase<V["name"]>]: DecodeEnumFields<NonNullable<V["fields"]>, Defined>;
 };
-declare type TypeDefDictionary<T extends IdlTypeDef[], Defined> = {
-    [K in T[number]["name"]]: TypeDef<T[number] & {
-        name: K;
-    }, Defined>;
+declare type ValueOf<T> = T[keyof T];
+declare type XorEnumVariants<T extends Record<string, unknown>> = ValueOf<{
+    [K1 in keyof T]: {
+        [K2 in Exclude<keyof T, K1>]?: never;
+    } & {
+        [K2 in K1]: T[K2];
+    };
+}>;
+declare type DecodeEnum<I extends IdlTypeDefTyEnum, Defined> = XorEnumVariants<DecodeEnumVariants<I, Defined>>;
+declare type DecodeStruct<I extends IdlTypeDefTyStruct, Defined> = {
+    [T in I["fields"][number] as T["name"]]: DecodeType<T["type"], Defined>;
+};
+export declare type TypeDef<I extends IdlTypeDef, Defined> = I["type"] extends IdlTypeDefTyEnum ? DecodeEnum<I["type"], Defined> : I["type"] extends IdlTypeDefTyStruct ? DecodeStruct<I["type"], Defined> : never;
+declare type TypeDefDictionary<I extends IdlTypeDef[], Defined> = {
+    [T in I[number] as T["name"]]: TypeDef<T, Defined>;
+};
+declare type DecodedHelper<T extends IdlTypeDef[], Defined> = {
+    [D in T[number] as D["name"]]: TypeDef<D, Defined>;
+};
+declare type UnknownType = "__unkown_defined_type__";
+declare type EmptyDefined = Record<UnknownType, never>;
+declare type RecursiveTypes4<I extends IdlTypeDef[], Defined = EmptyDefined> = DecodedHelper<I, Defined>;
+declare type RecursiveTypes3<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes4<I, DecodedHelper<I, Defined>> : Decoded;
+declare type RecursiveTypes2<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes3<I, DecodedHelper<I, Defined>> : Decoded;
+declare type RecursiveTypes<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes2<I, DecodedHelper<I, Defined>> : Decoded;
+export declare type IdlTypes<I extends Idl> = RecursiveTypes<NonNullable<I["types"]>>;
+export declare type IdlAccounts<I extends Idl> = TypeDefDictionary<NonNullable<I["accounts"]>, IdlTypes<I>>;
+export declare type IdlEvents<I extends Idl, Defined = IdlTypes<I>> = {
+    [E in NonNullable<I["events"]>[number] as E["name"]]: {
+        [F in E["fields"][number] as F["name"]]: DecodeType<F["type"], Defined>;
+    };
 };
-export declare type IdlTypes<T extends Idl> = TypeDefDictionary<NonNullable<T["types"]>, Record<string, never>>;
-export declare type IdlAccounts<T extends Idl> = TypeDefDictionary<NonNullable<T["accounts"]>, Record<string, never>>;
-export declare type IdlErrorInfo<IDL extends Idl> = NonNullable<IDL["errors"]>[number];
+export declare type IdlErrorInfo<I extends Idl> = NonNullable<I["errors"]>[number];
 export {};
 //# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/program/namespace/types.d.ts.map b/dist/cjs/program/namespace/types.d.ts.map
index 45ee1c5d16e3df9a1422c7f5847bcb499fdda5ee..d42e412601c556e42425b39eac38ecae4d57f4cc 100644
--- a/dist/cjs/program/namespace/types.d.ts.map
+++ b/dist/cjs/program/namespace/types.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/types.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,MAAM,OAAO,CAAC;AACvB,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACxC,OAAO,EAAE,GAAG,EAAE,MAAM,QAAQ,CAAC;AAC7B,OAAO,EACL,aAAa,EACb,aAAa,EACb,kBAAkB,EAClB,kBAAkB,EAClB,QAAQ,EACR,cAAc,EACd,OAAO,EACP,UAAU,EACV,gBAAgB,EAChB,kBAAkB,EACnB,MAAM,WAAW,CAAC;AACnB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAC/C,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAE3C;;GAEG;AACH,oBAAY,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,CAAC;AAE3E;;GAEG;AACH,oBAAY,cAAc,CAAC,CAAC,SAAS,cAAc,IAAI;KACpD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE;CAClC,CAAC;AAEF;;GAEG;AACH,oBAAY,kBAAkB,CAAC,GAAG,SAAS,GAAG,IAAI,cAAc,CAC9D,eAAe,CAAC,GAAG,CAAC,CACrB,CAAC;AAEF;;GAEG;AACH,oBAAY,WAAW,CAAC,GAAG,SAAS,GAAG,IACrC,GAAG,CAAC,UAAU,CAAC,SAAS,aAAa,EAAE,GACnC,GAAG,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GACvB,aAAa,CAAC;AAEpB;;GAEG;AACH,oBAAY,UAAU,CAAC,CAAC,SAAS,aAAa,IAAI;KAC/C,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE;CAClC,CAAC;AAEF;;GAEG;AACH,oBAAY,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;AAE3E,oBAAY,yBAAyB,CACnC,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,cAAc,EACxB,GAAG,EACH,EAAE,SAAS;KAAG,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,OAAO;CAAE,GAAG;KACtD,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,OAAO;CACxC,IACC;KACD,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,oBAAoB,CAClD,GAAG,EACH,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACpB,GAAG,CACJ,GACC,EAAE,CAAC,CAAC,CAAC;CACR,CAAC;AAEF,oBAAY,oBAAoB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,cAAc,IAAI;KAC3E,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,SAAS,CACvC,GAAG,EACH,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACpB,cAAc,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1C;CACF,CAAC;AAEF,oBAAY,oBAAoB,CAC9B,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EAC9B,GAAG,IACD,CAAC,GAAG,IAAI,EAAE,wBAAwB,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC;AAEvD,oBAAY,wBAAwB,CAClC,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,IACnC;IACF,GAAG,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;IACtC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;CACzC,CAAC;AAEF,oBAAY,2BAA2B,CACrC,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,IAC5B;KACD,CAAC,IAAI,MAAM,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,SAAS;CACxD,CAAC;AAEF,oBAAY,SAAS,CACnB,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,EACrC,GAAG,IACD,CAAC,GAAG,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC;AAE1D,aAAK,OAAO,GAAG;IACb,SAAS,EAAE,SAAS,CAAC;IACrB,IAAI,EAAE,OAAO,CAAC;IACd,MAAM,EAAE,MAAM,CAAC;IACf,KAAK,EAAE,MAAM,CAAC;CACf,GAAG;KACD,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM;CAC3E,GAAG;KACD,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,MAAM,GAAG,MAAM,GAAG,EAAE;CAC3C,CAAC;AAEF,oBAAY,UAAU,CAAC,CAAC,SAAS,OAAO,EAAE,OAAO,IAAI,CAAC,SAAS,MAAM,OAAO,GACxE,OAAO,CAAC,CAAC,CAAC,GACV,CAAC,SAAS;IAAE,OAAO,EAAE,MAAM,OAAO,CAAA;CAAE,GACpC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GACrB,CAAC,SAAS;IAAE,MAAM,EAAE;QAAE,OAAO,EAAE,MAAM,OAAO,CAAA;KAAE,CAAA;CAAE,GAChD,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,GACtC,CAAC,SAAS;IAAE,MAAM,EAAE,MAAM,OAAO,CAAA;CAAE,GACnC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,GAC3B,CAAC,SAAS;IAAE,OAAO,EAAE;QAAE,OAAO,EAAE,MAAM,OAAO,CAAA;KAAE,CAAA;CAAE,GACjD,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,GACvC,CAAC,SAAS;IAAE,OAAO,EAAE,MAAM,OAAO,CAAA;CAAE,GACpC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,GAC5B,CAAC,SAAS;IAAE,GAAG,EAAE,MAAM,OAAO,CAAA;CAAE,GAChC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,GACnB,CAAC,SAAS;IAAE,GAAG,EAAE;QAAE,OAAO,EAAE,MAAM,OAAO,CAAA;KAAE,CAAA;CAAE,GAC7C,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,GAC9B,CAAC,SAAS;IAAE,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,CAAA;CAAE,GAC3D,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GACxB,OAAO,CAAC;AAEZ;;GAEG;AACH,aAAK,SAAS,CAAC,CAAC,SAAS,QAAQ,EAAE,EAAE,OAAO,IAAI;KAC7C,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,QAAQ,GACjC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,GACjC,OAAO;CACZ,GAAG,OAAO,EAAE,CAAC;AAEd;;GAEG;AACH,aAAK,YAAY,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GACxC,YAAY,CAAC,CAAC,CAAC,GACf,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,GAC/B,kBAAkB,GAClB,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,GACjC,YAAY,CAAC,CAAC,CAAC,GACf,CAAC,CAAC;AAEN;;GAEG;AACH,aAAK,eAAe,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,SAAS,OAAO,GAChD,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,GACtB,KAAK,CAAC;AAEV;;GAEG;AACH,aAAK,gBAAgB,CACnB,CAAC,SAAS,aAAa,EACvB,OAAO,IACL,CAAC,SAAS,kBAAkB,GAC5B;KACG,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,GAAG,eAAe,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;CACtE,GACD,CAAC,SAAS,kBAAkB,GAC5B;KACG,EAAE,IAAI,MAAM,CAAC,IAAI,OAAO,CAAC,EAAE,EAAE,MAAM,OAAO,EAAE,CAAC,GAAG,eAAe,CAC9D,CAAC,CAAC,EAAE,CAAC,EACL,OAAO,CACR;CACF,GACD,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AAEzB,aAAK,kBAAkB,CAAC,CAAC,SAAS,gBAAgB,EAAE,OAAO,IAAI;KAC5D,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,gBAAgB,CACpE,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EACxB,OAAO,CACR;CACF,CAAC;AAEF,aAAK,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC7B,aAAK,eAAe,CAAC,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,IAAI,OAAO,CAAC;KAC/D,EAAE,IAAI,MAAM,CAAC,GAAG;SACd,EAAE,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK;KACrC,GAAG;SAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;KAAE;CAC1B,CAAC,CAAC;AAEH,aAAK,UAAU,CAAC,CAAC,SAAS,gBAAgB,EAAE,OAAO,IAAI,eAAe,CACpE,kBAAkB,CAAC,CAAC,EAAE,OAAO,CAAC,CAC/B,CAAC;AAEF,aAAK,YAAY,CAAC,CAAC,SAAS,kBAAkB,EAAE,OAAO,IAAI;KACxD,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;CACxE,CAAC;AAEF,oBAAY,OAAO,CACjB,CAAC,SAAS,UAAU,EACpB,OAAO,IACL,CAAC,CAAC,MAAM,CAAC,SAAS,gBAAgB,GAClC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,GAC9B,CAAC,CAAC,MAAM,CAAC,SAAS,kBAAkB,GACpC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,GAChC,KAAK,CAAC;AAEV,aAAK,iBAAiB,CAAC,CAAC,SAAS,UAAU,EAAE,EAAE,OAAO,IAAI;KACvD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC;CACnD,CAAC;AAEF,aAAK,aAAa,CAAC,CAAC,SAAS,UAAU,EAAE,EAAE,OAAO,IAAI;KACnD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC;CACnD,CAAC;AAEF,aAAK,WAAW,GAAG,yBAAyB,CAAC;AAC7C,aAAK,YAAY,GAAG,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AAE/C,aAAK,eAAe,CAClB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,IACpB,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AAE9B,aAAK,eAAe,CAClB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,EACtB,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,IACjC,WAAW,SAAS,YAAY,CAAC,OAAO,CAAC,GACzC,eAAe,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAC7C,OAAO,CAAC;AAEZ,aAAK,eAAe,CAClB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,EACtB,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,IACjC,WAAW,SAAS,YAAY,CAAC,OAAO,CAAC,GACzC,eAAe,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAC7C,OAAO,CAAC;AAEZ,aAAK,cAAc,CACjB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,EACtB,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,IACjC,WAAW,SAAS,YAAY,CAAC,OAAO,CAAC,GACzC,eAAe,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAC7C,OAAO,CAAC;AAEZ,oBAAY,QAAQ,CAAC,CAAC,SAAS,GAAG,IAAI,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAE9E,oBAAY,WAAW,CAAC,CAAC,SAAS,GAAG,IAAI,iBAAiB,CACxD,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,EAC1B,QAAQ,CAAC,CAAC,CAAC,CACZ,CAAC;AAEF,oBAAY,SAAS,CAAC,CAAC,SAAS,GAAG,EAAE,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI;KAC3D,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG;SACnD,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;KACxE;CACF,CAAC;AAEF,oBAAY,YAAY,CAAC,CAAC,SAAS,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/provider.d.ts b/dist/cjs/provider.d.ts
index e2ba9863187b1e805ad5ff4658751b180b1cc72f..7cdbad0412f277206aa1c9c92f8e50f990802de9 100644
--- a/dist/cjs/provider.d.ts
+++ b/dist/cjs/provider.d.ts
@@ -1,8 +1,9 @@
 import { Connection, Signer, PublicKey, Transaction, TransactionSignature, ConfirmOptions, Commitment, SendOptions } from "@solana/web3.js";
-import { SuccessfulTxSimulationResponse } from "./utils/rpc.js";
+import { SuccessfulTxSimulationResponse } from "./utils/simulate";
 export default interface Provider {
     readonly connection: Connection;
-    readonly publicKey?: PublicKey;
+    readonly wallet: Wallet;
+    readonly publicKey: PublicKey;
     send?(tx: Transaction, signers?: Signer[], opts?: SendOptions): Promise<TransactionSignature>;
     sendAndConfirm?(tx: Transaction, signers?: Signer[], opts?: ConfirmOptions): Promise<TransactionSignature>;
     sendAll?(txWithSigners: {
diff --git a/dist/cjs/provider.d.ts.map b/dist/cjs/provider.d.ts.map
index 9d7166e09c5a11de8cc7378ce01d79769dd67984..69a9cfce2eb99acb80aefd47bcb69a538a365efb 100644
--- a/dist/cjs/provider.d.ts.map
+++ b/dist/cjs/provider.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"provider.d.ts","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"provider.d.ts","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/provider.js b/dist/cjs/provider.js
index dcb8ae2945c4ef9400dedd026cd24e20fba16e60..27a38e53cf3004ab783fb3881de78a2a89cfccfd 100644
--- a/dist/cjs/provider.js
+++ b/dist/cjs/provider.js
@@ -4,7 +4,8 @@ exports.getProvider = exports.setProvider = exports.AnchorProvider = void 0;
 const web3_js_1 = require("@solana/web3.js");
 const index_js_1 = require("./utils/bytes/index.js");
 const common_js_1 = require("./utils/common.js");
-const rpc_js_1 = require("./utils/rpc.js");
+const simulate_1 = require("./utils/simulate");
+const wallet_1 = require("./wallet");
 /**
  * The network and wallet context used to send transactions paid for and signed
  * by the provider.
@@ -41,8 +42,7 @@ class AnchorProvider {
         }
         opts = opts !== null && opts !== void 0 ? opts : AnchorProvider.defaultOptions();
         const connection = new web3_js_1.Connection(url !== null && url !== void 0 ? url : "http://localhost:8899", opts.preflightCommitment);
-        const NodeWallet = require("./nodewallet.js").default;
-        const wallet = NodeWallet.local();
+        const wallet = wallet_1.Wallet.local();
         return new AnchorProvider(connection, wallet, opts);
     }
     /**
@@ -62,8 +62,7 @@ class AnchorProvider {
         }
         const options = AnchorProvider.defaultOptions();
         const connection = new web3_js_1.Connection(url, options.commitment);
-        const NodeWallet = require("./nodewallet.js").default;
-        const wallet = NodeWallet.local();
+        const wallet = wallet_1.Wallet.local();
         return new AnchorProvider(connection, wallet, options);
     }
     /**
@@ -149,7 +148,7 @@ class AnchorProvider {
         tx.feePayer = this.wallet.publicKey;
         tx.recentBlockhash = (await this.connection.getLatestBlockhash(commitment !== null && commitment !== void 0 ? commitment : this.connection.commitment)).blockhash;
         tx = await this.wallet.signTransaction(tx);
-        const result = await (0, rpc_js_1.simulateTransaction)(this.connection, tx, signers, commitment, includeAccounts);
+        const result = await (0, simulate_1.simulateTransaction)(this.connection, tx, signers, commitment, includeAccounts);
         if (result.value.err) {
             throw new SimulateError(result.value);
         }
diff --git a/dist/cjs/provider.js.map b/dist/cjs/provider.js.map
index 9eb361b9c7d4b44ac5445e6ff313d7ff3f8b3658..a3c2445ff4f2b4f43432650e381687015d5ccb19 100644
--- a/dist/cjs/provider.js.map
+++ b/dist/cjs/provider.js.map
@@ -1 +1 @@
-{"version":3,"file":"provider.js","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"provider.js","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/spl/associated-token.d.ts b/dist/cjs/spl/associated-token.d.ts
index 938c49754bf9427ffa5cb9fc2fd4c3196401a6ff..510742c0f5d99f96dfe71d85beb01fa91efce3da 100644
--- a/dist/cjs/spl/associated-token.d.ts
+++ b/dist/cjs/spl/associated-token.d.ts
@@ -52,6 +52,13 @@ export declare type SplAssociatedToken = {
             args: [];
         }
     ];
+    errors: [
+        {
+            code: 0;
+            name: "InvalidOwner";
+            msg: "Associated token account owner does not match address derivation";
+        }
+    ];
 };
 export declare const IDL: SplAssociatedToken;
 //# sourceMappingURL=associated-token.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/spl/associated-token.d.ts.map b/dist/cjs/spl/associated-token.d.ts.map
index cc0b108d158c0fa64f2027385e142de86315748e..c8ef58ec15805e71f27bddb7a5d90b8e31d18374 100644
--- a/dist/cjs/spl/associated-token.d.ts.map
+++ b/dist/cjs/spl/associated-token.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"associated-token.d.ts","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAMjF,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAOxE;AAED,wBAAgB,KAAK,IAAI,uBAAuB,CAE/C;AAED;;GAEG;AACH,oBAAY,kBAAkB,GAAG;IAC/B,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,sBAAsB,CAAC;IAC7B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,IAAI,CAAC;iBAChB;gBACD;oBACE,IAAI,EAAE,mBAAmB,CAAC;oBAC1B,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC;oBACd,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,kBA8CjB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"associated-token.d.ts","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAMjF,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAOxE;AAED,wBAAgB,KAAK,IAAI,uBAAuB,CAE/C;AAED;;GAEG;AACH,oBAAY,kBAAkB,GAAG;IAC/B,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,sBAAsB,CAAC;IAC7B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,IAAI,CAAC;iBAChB;gBACD;oBACE,IAAI,EAAE,mBAAmB,CAAC;oBAC1B,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC;oBACd,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;KACF,CAAC;IACF,MAAM,EAAE;QACN;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,cAAc,CAAC;YACrB,GAAG,EAAE,kEAAkE,CAAC;SACzE;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,kBAqDjB,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/spl/associated-token.js b/dist/cjs/spl/associated-token.js
index 2e5feda4d3477f8cdc93eb3f013461aac28d8642..82fe7dcad0309ae98f68955508e2fdf7f18336bd 100644
--- a/dist/cjs/spl/associated-token.js
+++ b/dist/cjs/spl/associated-token.js
@@ -59,5 +59,12 @@ exports.IDL = {
             args: [],
         },
     ],
+    errors: [
+        {
+            code: 0,
+            name: "InvalidOwner",
+            msg: "Associated token account owner does not match address derivation",
+        },
+    ],
 };
 //# sourceMappingURL=associated-token.js.map
\ No newline at end of file
diff --git a/dist/cjs/spl/associated-token.js.map b/dist/cjs/spl/associated-token.js.map
index d85ecb5388f1fd88401f08b3ef58466a6acc153e..decb42232d0fcc29da584f195f7855e2687e1d30 100644
--- a/dist/cjs/spl/associated-token.js.map
+++ b/dist/cjs/spl/associated-token.js.map
@@ -1 +1 @@
-{"version":3,"file":"associated-token.js","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":";;;AAAA,6CAA4C;AAC5C,kDAA8C;AAE9C,qEAAiF;AAEjF,MAAM,2BAA2B,GAAG,IAAI,mBAAS,CAC/C,8CAA8C,CAC/C,CAAC;AAEF,SAAgB,OAAO,CAAC,QAAmB;IACzC,OAAO,IAAI,kBAAO,CAChB,WAAG,EACH,2BAA2B,EAC3B,QAAQ,EACR,KAAK,EAAE,CACR,CAAC;AACJ,CAAC;AAPD,0BAOC;AAED,SAAgB,KAAK;IACnB,OAAO,IAAI,kCAAuB,CAAC,WAAG,CAAC,CAAC;AAC1C,CAAC;AAFD,sBAEC;AAqDY,QAAA,GAAG,GAAuB;IACrC,OAAO,EAAE,OAAO;IAChB,IAAI,EAAE,sBAAsB;IAC5B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,IAAI;iBACf;gBACD;oBACE,IAAI,EAAE,mBAAmB;oBACzB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,eAAe;oBACrB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;aACF;YACD,IAAI,EAAE,EAAE;SACT;KACF;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"associated-token.js","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":";;;AAAA,6CAA4C;AAC5C,kDAA8C;AAE9C,qEAAiF;AAEjF,MAAM,2BAA2B,GAAG,IAAI,mBAAS,CAC/C,8CAA8C,CAC/C,CAAC;AAEF,SAAgB,OAAO,CAAC,QAAmB;IACzC,OAAO,IAAI,kBAAO,CAChB,WAAG,EACH,2BAA2B,EAC3B,QAAQ,EACR,KAAK,EAAE,CACR,CAAC;AACJ,CAAC;AAPD,0BAOC;AAED,SAAgB,KAAK;IACnB,OAAO,IAAI,kCAAuB,CAAC,WAAG,CAAC,CAAC;AAC1C,CAAC;AAFD,sBAEC;AA4DY,QAAA,GAAG,GAAuB;IACrC,OAAO,EAAE,OAAO;IAChB,IAAI,EAAE,sBAAsB;IAC5B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,IAAI;iBACf;gBACD;oBACE,IAAI,EAAE,mBAAmB;oBACzB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,eAAe;oBACrB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;aACF;YACD,IAAI,EAAE,EAAE;SACT;KACF;IACD,MAAM,EAAE;QACN;YACE,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,cAAc;YACpB,GAAG,EAAE,kEAAkE;SACxE;KACF;CACF,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/spl/index.d.ts b/dist/cjs/spl/index.d.ts
index 31fb8dbfa2e9c03cc038bd1d42d8b4dd871f6a9c..90de68593b8ed87286f8eea3e80b7d3bceb5b288 100644
--- a/dist/cjs/spl/index.d.ts
+++ b/dist/cjs/spl/index.d.ts
@@ -1,7 +1,7 @@
 import { Program, Provider } from "../index.js";
 import { SplAssociatedToken } from "./associated-token.js";
-import { SplToken } from "./token.js";
-export { SplToken } from "./token.js";
+import { SplToken } from "./token";
+export { SplToken } from "./token";
 export declare class Spl {
     static token(provider?: Provider): Program<SplToken>;
     static associatedToken(provider?: Provider): Program<SplAssociatedToken>;
diff --git a/dist/cjs/spl/index.d.ts.map b/dist/cjs/spl/index.d.ts.map
index a1302db01d07f419dcf1cdba4a33b9a44b616994..a978083a76f08de8a9410f9032d222be285374db 100644
--- a/dist/cjs/spl/index.d.ts.map
+++ b/dist/cjs/spl/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAEL,kBAAkB,EACnB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAA2B,QAAQ,EAAE,MAAM,YAAY,CAAC;AAE/D,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC,qBAAa,GAAG;WACA,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;WAI7C,eAAe,CAC3B,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,kBAAkB,CAAC;CAG/B"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAEL,kBAAkB,EACnB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAA2B,QAAQ,EAAE,MAAM,SAAS,CAAC;AAE5D,OAAO,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAEnC,qBAAa,GAAG;WACA,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;WAI7C,eAAe,CAC3B,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,kBAAkB,CAAC;CAG/B"}
\ No newline at end of file
diff --git a/dist/cjs/spl/index.js b/dist/cjs/spl/index.js
index 3e9ca0baa49673a763c8d3635253e6253422f18c..554c782b231531c5f07a5f051cdacc066109cb0a 100644
--- a/dist/cjs/spl/index.js
+++ b/dist/cjs/spl/index.js
@@ -2,10 +2,10 @@
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.Spl = void 0;
 const associated_token_js_1 = require("./associated-token.js");
-const token_js_1 = require("./token.js");
+const token_1 = require("./token");
 class Spl {
     static token(provider) {
-        return (0, token_js_1.program)(provider);
+        return (0, token_1.program)(provider);
     }
     static associatedToken(provider) {
         return (0, associated_token_js_1.program)(provider);
diff --git a/dist/cjs/spl/index.js.map b/dist/cjs/spl/index.js.map
index 437782bdff5912f6f8e191a8be1d4019c1278c03..047baf710e5f6c76a9080dc8ca0c329900456fc6 100644
--- a/dist/cjs/spl/index.js.map
+++ b/dist/cjs/spl/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":";;;AACA,+DAG+B;AAC/B,yCAA+D;AAI/D,MAAa,GAAG;IACP,MAAM,CAAC,KAAK,CAAC,QAAmB;QACrC,OAAO,IAAA,kBAAY,EAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAEM,MAAM,CAAC,eAAe,CAC3B,QAAmB;QAEnB,OAAO,IAAA,6BAAsB,EAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC;CACF;AAVD,kBAUC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":";;;AACA,+DAG+B;AAC/B,mCAA4D;AAI5D,MAAa,GAAG;IACP,MAAM,CAAC,KAAK,CAAC,QAAmB;QACrC,OAAO,IAAA,eAAY,EAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAEM,MAAM,CAAC,eAAe,CAC3B,QAAmB;QAEnB,OAAO,IAAA,6BAAsB,EAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC;CACF;AAVD,kBAUC"}
\ No newline at end of file
diff --git a/dist/cjs/spl/token/idl.d.ts b/dist/cjs/spl/token/idl.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..48e0b2323a1d634afa601c6917a9d8089841baa9
--- /dev/null
+++ b/dist/cjs/spl/token/idl.d.ts
@@ -0,0 +1,711 @@
+/**
+ * SplToken IDL.
+ */
+export declare type SplToken = {
+    version: "0.1.0";
+    name: "spl_token";
+    instructions: [
+        {
+            name: "initializeMint";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "decimals";
+                    type: "u8";
+                },
+                {
+                    name: "mintAuthority";
+                    type: "publicKey";
+                },
+                {
+                    name: "freezeAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        },
+        {
+            name: "initializeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "initializeMultisig";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "m";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "transfer";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "approve";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "delegate";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "revoke";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "setAuthority";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "authorityType";
+                    type: "u8";
+                },
+                {
+                    name: "newAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        },
+        {
+            name: "mintTo";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "burn";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "closeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "freezeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "thawAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "transferChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "approveChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "delegate";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "mintToChecked";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "burnChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "initializeAccount2";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authority";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "syncNative";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "initializeAccount3";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authority";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "initializeMultisig2";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "m";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "initializeMint2";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "decimals";
+                    type: "u8";
+                },
+                {
+                    name: "mintAuthority";
+                    type: "publicKey";
+                },
+                {
+                    name: "freezeAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        }
+    ];
+    accounts: [
+        {
+            name: "mint";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "mintAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    },
+                    {
+                        name: "supply";
+                        type: "u64";
+                    },
+                    {
+                        name: "decimals";
+                        type: "u8";
+                    },
+                    {
+                        name: "isInitialized";
+                        type: "bool";
+                    },
+                    {
+                        name: "freezeAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    }
+                ];
+            };
+        },
+        {
+            name: "token";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "mint";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "authority";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "amount";
+                        type: "u64";
+                    },
+                    {
+                        name: "delegate";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    },
+                    {
+                        name: "state";
+                        type: "u8";
+                    },
+                    {
+                        name: "isNative";
+                        type: {
+                            coption: "u64";
+                        };
+                    },
+                    {
+                        name: "delegatedAmount";
+                        type: "u64";
+                    },
+                    {
+                        name: "closeAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    }
+                ];
+            };
+        }
+    ];
+    errors: [
+        {
+            code: 0;
+            name: "NotRentExempt";
+            msg: "Lamport balance below rent-exempt threshold";
+        },
+        {
+            code: 1;
+            name: "InsufficientFunds";
+            msg: "Insufficient funds";
+        },
+        {
+            code: 2;
+            name: "InvalidMint";
+            msg: "Invalid Mint";
+        },
+        {
+            code: 3;
+            name: "MintMismatch";
+            msg: "Account not associated with this Mint";
+        },
+        {
+            code: 4;
+            name: "OwnerMismatch";
+            msg: "Owner does not match";
+        },
+        {
+            code: 5;
+            name: "FixedSupply";
+            msg: "Fixed supply";
+        },
+        {
+            code: 6;
+            name: "AlreadyInUse";
+            msg: "Already in use";
+        },
+        {
+            code: 7;
+            name: "InvalidNumberOfProvidedSigners";
+            msg: "Invalid number of provided signers";
+        },
+        {
+            code: 8;
+            name: "InvalidNumberOfRequiredSigners";
+            msg: "Invalid number of required signers";
+        },
+        {
+            code: 9;
+            name: "UninitializedState";
+            msg: "State is unititialized";
+        },
+        {
+            code: 10;
+            name: "NativeNotSupported";
+            msg: "Instruction does not support native tokens";
+        },
+        {
+            code: 11;
+            name: "NonNativeHasBalance";
+            msg: "Non-native account can only be closed if its balance is zero";
+        },
+        {
+            code: 12;
+            name: "InvalidInstruction";
+            msg: "Invalid instruction";
+        },
+        {
+            code: 13;
+            name: "InvalidState";
+            msg: "State is invalid for requested operation";
+        },
+        {
+            code: 14;
+            name: "Overflow";
+            msg: "Operation overflowed";
+        },
+        {
+            code: 15;
+            name: "AuthorityTypeNotSupported";
+            msg: "Account does not support specified authority type";
+        },
+        {
+            code: 16;
+            name: "MintCannotFreeze";
+            msg: "This token mint cannot freeze accounts";
+        },
+        {
+            code: 17;
+            name: "AccountFrozen";
+            msg: "Account is frozen";
+        },
+        {
+            code: 18;
+            name: "MintDecimalsMismatch";
+            msg: "The provided decimals value different from the Mint decimals";
+        },
+        {
+            code: 19;
+            name: "NonNativeNotSupported";
+            msg: "Instruction does not support non-native tokens";
+        }
+    ];
+};
+export declare const IDL: SplToken;
+//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/spl/token/idl.d.ts.map b/dist/cjs/spl/token/idl.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..09496a9ee6bc79c2b5b4f5fcc4d2a13128e78ad9
--- /dev/null
+++ b/dist/cjs/spl/token/idl.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/spl/token/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/spl/token/idl.js b/dist/cjs/spl/token/idl.js
new file mode 100644
index 0000000000000000000000000000000000000000..a2d1dbe2d23f0ef04675901f289230d411c00f0d
--- /dev/null
+++ b/dist/cjs/spl/token/idl.js
@@ -0,0 +1,710 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.IDL = void 0;
+exports.IDL = {
+    version: "0.1.0",
+    name: "spl_token",
+    instructions: [
+        {
+            name: "initializeMint",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+                {
+                    name: "mintAuthority",
+                    type: "publicKey",
+                },
+                {
+                    name: "freezeAuthority",
+                    type: {
+                        coption: "publicKey",
+                    },
+                },
+            ],
+        },
+        {
+            name: "initializeAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "initializeMultisig",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "m",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "transfer",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "destination",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "approve",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "delegate",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "revoke",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "setAuthority",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "authorityType",
+                    type: "u8",
+                },
+                {
+                    name: "newAuthority",
+                    type: {
+                        coption: "publicKey",
+                    },
+                },
+            ],
+        },
+        {
+            name: "mintTo",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "to",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "burn",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "closeAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "destination",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "freezeAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "thawAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "transferChecked",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "destination",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "approveChecked",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "delegate",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "mintToChecked",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "to",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "burnChecked",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "initializeAccount2",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "authority",
+                    type: "publicKey",
+                },
+            ],
+        },
+        {
+            name: "syncNative",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "initializeAccount3",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "authority",
+                    type: "publicKey",
+                },
+            ],
+        },
+        {
+            name: "initializeMultisig2",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "m",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "initializeMint2",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+                {
+                    name: "mintAuthority",
+                    type: "publicKey",
+                },
+                {
+                    name: "freezeAuthority",
+                    type: {
+                        coption: "publicKey",
+                    },
+                },
+            ],
+        },
+    ],
+    accounts: [
+        {
+            name: "mint",
+            type: {
+                kind: "struct",
+                fields: [
+                    {
+                        name: "mintAuthority",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                    {
+                        name: "supply",
+                        type: "u64",
+                    },
+                    {
+                        name: "decimals",
+                        type: "u8",
+                    },
+                    {
+                        name: "isInitialized",
+                        type: "bool",
+                    },
+                    {
+                        name: "freezeAuthority",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                ],
+            },
+        },
+        {
+            name: "token",
+            type: {
+                kind: "struct",
+                fields: [
+                    {
+                        name: "mint",
+                        type: "publicKey",
+                    },
+                    {
+                        name: "authority",
+                        type: "publicKey",
+                    },
+                    {
+                        name: "amount",
+                        type: "u64",
+                    },
+                    {
+                        name: "delegate",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                    {
+                        name: "state",
+                        type: "u8",
+                    },
+                    {
+                        name: "isNative",
+                        type: {
+                            coption: "u64",
+                        },
+                    },
+                    {
+                        name: "delegatedAmount",
+                        type: "u64",
+                    },
+                    {
+                        name: "closeAuthority",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                ],
+            },
+        },
+    ],
+    errors: [
+        {
+            code: 0,
+            name: "NotRentExempt",
+            msg: "Lamport balance below rent-exempt threshold",
+        },
+        {
+            code: 1,
+            name: "InsufficientFunds",
+            msg: "Insufficient funds",
+        },
+        {
+            code: 2,
+            name: "InvalidMint",
+            msg: "Invalid Mint",
+        },
+        {
+            code: 3,
+            name: "MintMismatch",
+            msg: "Account not associated with this Mint",
+        },
+        {
+            code: 4,
+            name: "OwnerMismatch",
+            msg: "Owner does not match",
+        },
+        {
+            code: 5,
+            name: "FixedSupply",
+            msg: "Fixed supply",
+        },
+        {
+            code: 6,
+            name: "AlreadyInUse",
+            msg: "Already in use",
+        },
+        {
+            code: 7,
+            name: "InvalidNumberOfProvidedSigners",
+            msg: "Invalid number of provided signers",
+        },
+        {
+            code: 8,
+            name: "InvalidNumberOfRequiredSigners",
+            msg: "Invalid number of required signers",
+        },
+        {
+            code: 9,
+            name: "UninitializedState",
+            msg: "State is unititialized",
+        },
+        {
+            code: 10,
+            name: "NativeNotSupported",
+            msg: "Instruction does not support native tokens",
+        },
+        {
+            code: 11,
+            name: "NonNativeHasBalance",
+            msg: "Non-native account can only be closed if its balance is zero",
+        },
+        {
+            code: 12,
+            name: "InvalidInstruction",
+            msg: "Invalid instruction",
+        },
+        {
+            code: 13,
+            name: "InvalidState",
+            msg: "State is invalid for requested operation",
+        },
+        {
+            code: 14,
+            name: "Overflow",
+            msg: "Operation overflowed",
+        },
+        {
+            code: 15,
+            name: "AuthorityTypeNotSupported",
+            msg: "Account does not support specified authority type",
+        },
+        {
+            code: 16,
+            name: "MintCannotFreeze",
+            msg: "This token mint cannot freeze accounts",
+        },
+        {
+            code: 17,
+            name: "AccountFrozen",
+            msg: "Account is frozen",
+        },
+        {
+            code: 18,
+            name: "MintDecimalsMismatch",
+            msg: "The provided decimals value different from the Mint decimals",
+        },
+        {
+            code: 19,
+            name: "NonNativeNotSupported",
+            msg: "Instruction does not support non-native tokens",
+        },
+    ],
+};
+//# sourceMappingURL=idl.js.map
\ No newline at end of file
diff --git a/dist/cjs/spl/token/idl.js.map b/dist/cjs/spl/token/idl.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..16697912224f3fa5b05627990d8124f909685738
--- /dev/null
+++ b/dist/cjs/spl/token/idl.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../../../src/spl/token/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/spl/token/index.d.ts b/dist/cjs/spl/token/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b980883d7104c529a7db60b8438ccf62e0c07a52
--- /dev/null
+++ b/dist/cjs/spl/token/index.d.ts
@@ -0,0 +1,8 @@
+import { Program } from "../../program/index.js";
+import Provider from "../../provider.js";
+import { SplTokenCoder } from "../../coder/spl-token/index.js";
+import { SplToken } from "./idl";
+export { IDL, SplToken } from "./idl";
+export declare function program(provider?: Provider): Program<SplToken>;
+export declare function coder(): SplTokenCoder;
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/spl/token/index.d.ts.map b/dist/cjs/spl/token/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..ae042aebcbc870a2a08344bcb86cf80da04fe033
--- /dev/null
+++ b/dist/cjs/spl/token/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/spl/token/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAC;AACjD,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,gCAAgC,CAAC;AAE/D,OAAO,EAAO,QAAQ,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAMtC,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC,CAE9D;AAED,wBAAgB,KAAK,IAAI,aAAa,CAErC"}
\ No newline at end of file
diff --git a/dist/cjs/spl/token/index.js b/dist/cjs/spl/token/index.js
new file mode 100644
index 0000000000000000000000000000000000000000..4d401dc721a3252b8f99b0558e99b655f90858e8
--- /dev/null
+++ b/dist/cjs/spl/token/index.js
@@ -0,0 +1,19 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.coder = exports.program = exports.IDL = void 0;
+const web3_js_1 = require("@solana/web3.js");
+const index_js_1 = require("../../program/index.js");
+const index_js_2 = require("../../coder/spl-token/index.js");
+const idl_1 = require("./idl");
+var idl_2 = require("./idl");
+Object.defineProperty(exports, "IDL", { enumerable: true, get: function () { return idl_2.IDL; } });
+const TOKEN_PROGRAM_ID = new web3_js_1.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
+function program(provider) {
+    return new index_js_1.Program(idl_1.IDL, TOKEN_PROGRAM_ID, provider, coder());
+}
+exports.program = program;
+function coder() {
+    return new index_js_2.SplTokenCoder(idl_1.IDL);
+}
+exports.coder = coder;
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/cjs/spl/token/index.js.map b/dist/cjs/spl/token/index.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..4c73e3ad36a6c663142178f6d7ba491b02cd27ea
--- /dev/null
+++ b/dist/cjs/spl/token/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/spl/token/index.ts"],"names":[],"mappings":";;;AAAA,6CAA4C;AAC5C,qDAAiD;AAEjD,6DAA+D;AAE/D,+BAAsC;AACtC,6BAAsC;AAA7B,0FAAA,GAAG,OAAA;AAEZ,MAAM,gBAAgB,GAAG,IAAI,mBAAS,CACpC,6CAA6C,CAC9C,CAAC;AAEF,SAAgB,OAAO,CAAC,QAAmB;IACzC,OAAO,IAAI,kBAAO,CAAW,SAAG,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;AACzE,CAAC;AAFD,0BAEC;AAED,SAAgB,KAAK;IACnB,OAAO,IAAI,wBAAa,CAAC,SAAG,CAAC,CAAC;AAChC,CAAC;AAFD,sBAEC"}
\ No newline at end of file
diff --git a/dist/cjs/spl/token.d.ts b/dist/cjs/spl/token.d.ts
deleted file mode 100644
index 83907a0b82938030a4a5545fd04d88b3c94eca20..0000000000000000000000000000000000000000
--- a/dist/cjs/spl/token.d.ts
+++ /dev/null
@@ -1,614 +0,0 @@
-import { Program } from "../program/index.js";
-import Provider from "../provider.js";
-import { SplTokenCoder } from "../coder/spl-token/index.js";
-export declare function program(provider?: Provider): Program<SplToken>;
-export declare function coder(): SplTokenCoder;
-/**
- * SplToken IDL.
- */
-export declare type SplToken = {
-    version: "0.1.0";
-    name: "spl_token";
-    instructions: [
-        {
-            name: "initializeMint";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "decimals";
-                    type: "u8";
-                },
-                {
-                    name: "mintAuthority";
-                    type: "publicKey";
-                },
-                {
-                    name: "freezeAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        },
-        {
-            name: "initializeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "initializeMultisig";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "m";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "transfer";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "approve";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "delegate";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "revoke";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "setAuthority";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "authorityType";
-                    type: "u8";
-                },
-                {
-                    name: "newAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        },
-        {
-            name: "mintTo";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "burn";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "closeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "freezeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "thawAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "transferChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "approveChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "delegate";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "mintToChecked";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "burnChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "initializeAccount2";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authority";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "syncNative";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "initializeAccount3";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authority";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "initializeMultisig2";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "m";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "initializeMint2";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "decimals";
-                    type: "u8";
-                },
-                {
-                    name: "mintAuthority";
-                    type: "publicKey";
-                },
-                {
-                    name: "freezeAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        }
-    ];
-    accounts: [
-        {
-            name: "mint";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "mintAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    },
-                    {
-                        name: "supply";
-                        type: "u64";
-                    },
-                    {
-                        name: "decimals";
-                        type: "u8";
-                    },
-                    {
-                        name: "isInitialized";
-                        type: "bool";
-                    },
-                    {
-                        name: "freezeAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    }
-                ];
-            };
-        },
-        {
-            name: "token";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "mint";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "authority";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "amount";
-                        type: "u64";
-                    },
-                    {
-                        name: "delegate";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    },
-                    {
-                        name: "state";
-                        type: "u8";
-                    },
-                    {
-                        name: "isNative";
-                        type: {
-                            coption: "u64";
-                        };
-                    },
-                    {
-                        name: "delegatedAmount";
-                        type: "u64";
-                    },
-                    {
-                        name: "closeAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    }
-                ];
-            };
-        }
-    ];
-};
-export declare const IDL: SplToken;
-//# sourceMappingURL=token.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/spl/token.d.ts.map b/dist/cjs/spl/token.d.ts.map
deleted file mode 100644
index fca2c151abeb5cfc61d8fe0648110de57e74992a..0000000000000000000000000000000000000000
--- a/dist/cjs/spl/token.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"token.d.ts","sourceRoot":"","sources":["../../../src/spl/token.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/spl/token.js b/dist/cjs/spl/token.js
deleted file mode 100644
index 91e1bf007fb1ef2fb3475ef3f37f32a3f32de42a..0000000000000000000000000000000000000000
--- a/dist/cjs/spl/token.js
+++ /dev/null
@@ -1,620 +0,0 @@
-"use strict";
-Object.defineProperty(exports, "__esModule", { value: true });
-exports.IDL = exports.coder = exports.program = void 0;
-const web3_js_1 = require("@solana/web3.js");
-const index_js_1 = require("../program/index.js");
-const index_js_2 = require("../coder/spl-token/index.js");
-const TOKEN_PROGRAM_ID = new web3_js_1.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
-function program(provider) {
-    return new index_js_1.Program(exports.IDL, TOKEN_PROGRAM_ID, provider, coder());
-}
-exports.program = program;
-function coder() {
-    return new index_js_2.SplTokenCoder(exports.IDL);
-}
-exports.coder = coder;
-exports.IDL = {
-    version: "0.1.0",
-    name: "spl_token",
-    instructions: [
-        {
-            name: "initializeMint",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-                {
-                    name: "mintAuthority",
-                    type: "publicKey",
-                },
-                {
-                    name: "freezeAuthority",
-                    type: {
-                        coption: "publicKey",
-                    },
-                },
-            ],
-        },
-        {
-            name: "initializeAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "initializeMultisig",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "m",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "transfer",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "destination",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "approve",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "delegate",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "revoke",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "setAuthority",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "authorityType",
-                    type: "u8",
-                },
-                {
-                    name: "newAuthority",
-                    type: {
-                        coption: "publicKey",
-                    },
-                },
-            ],
-        },
-        {
-            name: "mintTo",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "to",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "burn",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "closeAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "destination",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "freezeAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "thawAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "transferChecked",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "destination",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "approveChecked",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "delegate",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "mintToChecked",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "to",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "burnChecked",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "initializeAccount2",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "authority",
-                    type: "publicKey",
-                },
-            ],
-        },
-        {
-            name: "syncNative",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "initializeAccount3",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "authority",
-                    type: "publicKey",
-                },
-            ],
-        },
-        {
-            name: "initializeMultisig2",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "m",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "initializeMint2",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-                {
-                    name: "mintAuthority",
-                    type: "publicKey",
-                },
-                {
-                    name: "freezeAuthority",
-                    type: {
-                        coption: "publicKey",
-                    },
-                },
-            ],
-        },
-    ],
-    accounts: [
-        {
-            name: "mint",
-            type: {
-                kind: "struct",
-                fields: [
-                    {
-                        name: "mintAuthority",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                    {
-                        name: "supply",
-                        type: "u64",
-                    },
-                    {
-                        name: "decimals",
-                        type: "u8",
-                    },
-                    {
-                        name: "isInitialized",
-                        type: "bool",
-                    },
-                    {
-                        name: "freezeAuthority",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                ],
-            },
-        },
-        {
-            name: "token",
-            type: {
-                kind: "struct",
-                fields: [
-                    {
-                        name: "mint",
-                        type: "publicKey",
-                    },
-                    {
-                        name: "authority",
-                        type: "publicKey",
-                    },
-                    {
-                        name: "amount",
-                        type: "u64",
-                    },
-                    {
-                        name: "delegate",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                    {
-                        name: "state",
-                        type: "u8",
-                    },
-                    {
-                        name: "isNative",
-                        type: {
-                            coption: "u64",
-                        },
-                    },
-                    {
-                        name: "delegatedAmount",
-                        type: "u64",
-                    },
-                    {
-                        name: "closeAuthority",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                ],
-            },
-        },
-    ],
-};
-//# sourceMappingURL=token.js.map
\ No newline at end of file
diff --git a/dist/cjs/spl/token.js.map b/dist/cjs/spl/token.js.map
deleted file mode 100644
index 1f6db944c700dbd160fd1234c6e822071c98a6b1..0000000000000000000000000000000000000000
--- a/dist/cjs/spl/token.js.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"token.js","sourceRoot":"","sources":["../../../src/spl/token.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/base64.d.ts b/dist/cjs/utils/bytes/base64.d.ts
index b5d66981f4399eed3b79b3a255e01af018b09182..d2733a9e5df4072269dd8e68d99a098626f3cd9c 100644
--- a/dist/cjs/utils/bytes/base64.d.ts
+++ b/dist/cjs/utils/bytes/base64.d.ts
@@ -1,5 +1,5 @@
 /// <reference types="node" />
 import { Buffer } from "buffer";
-export declare function encode(data: Buffer): string;
+export declare function encode(data: Buffer | Uint8Array): string;
 export declare function decode(data: string): Buffer;
 //# sourceMappingURL=base64.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/base64.d.ts.map b/dist/cjs/utils/bytes/base64.d.ts.map
index 8a024185148a85b917de8cb9ebb3a536fdf316f2..b01d6604f949c9977d257d0a1c184f431cda5899 100644
--- a/dist/cjs/utils/bytes/base64.d.ts.map
+++ b/dist/cjs/utils/bytes/base64.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"base64.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAE3C;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAE3C"}
\ No newline at end of file
+{"version":3,"file":"base64.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CAExD;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAG3C"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/base64.js b/dist/cjs/utils/bytes/base64.js
index 22017a6a16e8abc7ed0ff03919ebf906470273d6..de7fb1a0d79e58d3bea237858d1c031f83602b4e 100644
--- a/dist/cjs/utils/bytes/base64.js
+++ b/dist/cjs/utils/bytes/base64.js
@@ -31,7 +31,8 @@ function encode(data) {
 }
 exports.encode = encode;
 function decode(data) {
-    return buffer_1.Buffer.from(base64.toByteArray(data));
+    const buf = base64.toByteArray(data);
+    return buffer_1.Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
 }
 exports.decode = decode;
 //# sourceMappingURL=base64.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/base64.js.map b/dist/cjs/utils/bytes/base64.js.map
index be1704fd849d370cdea20dd3836e555fc137e5fb..515e01cd18b3347f8a8c458f359ff56eddee4d6c 100644
--- a/dist/cjs/utils/bytes/base64.js.map
+++ b/dist/cjs/utils/bytes/base64.js.map
@@ -1 +1 @@
-{"version":3,"file":"base64.js","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAChC,kDAAoC;AAEpC,SAAgB,MAAM,CAAC,IAAY;IACjC,OAAO,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAFD,wBAEC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,OAAO,eAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;AAC/C,CAAC;AAFD,wBAEC"}
\ No newline at end of file
+{"version":3,"file":"base64.js","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,mCAAgC;AAChC,kDAAoC;AAEpC,SAAgB,MAAM,CAAC,IAAyB;IAC9C,OAAO,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAFD,wBAEC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACrC,OAAO,eAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;AACjE,CAAC;AAHD,wBAGC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/bs58.d.ts.map b/dist/cjs/utils/bytes/bs58.d.ts.map
index 1e56d5574aaee608f46dbc55f365e0e02b33b6d1..f4144750d52826a64c226a21c576098f27cb26f6 100644
--- a/dist/cjs/utils/bytes/bs58.d.ts.map
+++ b/dist/cjs/utils/bytes/bs58.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"bs58.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";AAEA,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,UAAU,UAE1D;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,UAElC"}
\ No newline at end of file
+{"version":3,"file":"bs58.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";AAEA,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,UAAU,GAAG,MAAM,CAEnE;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAG3C"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/bs58.js b/dist/cjs/utils/bytes/bs58.js
index 1661c41f2672bde8c1e3f358613e303582ba717e..0f14fe0009ed92151243ecd5659195adeee093a9 100644
--- a/dist/cjs/utils/bytes/bs58.js
+++ b/dist/cjs/utils/bytes/bs58.js
@@ -10,7 +10,8 @@ function encode(data) {
 }
 exports.encode = encode;
 function decode(data) {
-    return bs58_1.default.decode(data);
+    const buf = bs58_1.default.decode(data);
+    return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
 }
 exports.decode = decode;
 //# sourceMappingURL=bs58.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/bs58.js.map b/dist/cjs/utils/bytes/bs58.js.map
index 23783145c191250f81501c1f8272552caf17a68a..d4de5f540e1568dec4dd58572a987c17e9b4f1fb 100644
--- a/dist/cjs/utils/bytes/bs58.js.map
+++ b/dist/cjs/utils/bytes/bs58.js.map
@@ -1 +1 @@
-{"version":3,"file":"bs58.js","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";;;;;;AAAA,gDAAwB;AAExB,SAAgB,MAAM,CAAC,IAAoC;IACzD,OAAO,cAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAFD,wBAEC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,OAAO,cAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAFD,wBAEC"}
\ No newline at end of file
+{"version":3,"file":"bs58.js","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";;;;;;AAAA,gDAAwB;AAExB,SAAgB,MAAM,CAAC,IAAoC;IACzD,OAAO,cAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAFD,wBAEC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,MAAM,GAAG,GAAG,cAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;AACjE,CAAC;AAHD,wBAGC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/buffer.d.ts b/dist/cjs/utils/bytes/buffer.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c1f92756174e6b33572fd2a2b8aa4b5b1c9019a2
--- /dev/null
+++ b/dist/cjs/utils/bytes/buffer.d.ts
@@ -0,0 +1,3 @@
+/// <reference types="node" />
+export declare function toBuffer(arr: Buffer | Uint8Array | Array<number>): Buffer;
+//# sourceMappingURL=buffer.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/buffer.d.ts.map b/dist/cjs/utils/bytes/buffer.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..1fae016e8177e8cf0fd6043df2f3d6449ce50043
--- /dev/null
+++ b/dist/cjs/utils/bytes/buffer.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/buffer.ts"],"names":[],"mappings":";AAAA,wBAAgB,QAAQ,CAAC,GAAG,EAAE,MAAM,GAAG,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,CAQzE"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/buffer.js b/dist/cjs/utils/bytes/buffer.js
new file mode 100644
index 0000000000000000000000000000000000000000..e12c274ec93ed3c4d30eb0a9176dc9a3d4a473ce
--- /dev/null
+++ b/dist/cjs/utils/bytes/buffer.js
@@ -0,0 +1,16 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.toBuffer = void 0;
+function toBuffer(arr) {
+    if (Buffer.isBuffer(arr)) {
+        return arr;
+    }
+    else if (arr instanceof Uint8Array) {
+        return Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);
+    }
+    else {
+        return Buffer.from(arr);
+    }
+}
+exports.toBuffer = toBuffer;
+//# sourceMappingURL=buffer.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/buffer.js.map b/dist/cjs/utils/bytes/buffer.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..31ffa3a0499ef33b2028225f3b4588decaed2b59
--- /dev/null
+++ b/dist/cjs/utils/bytes/buffer.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer.js","sourceRoot":"","sources":["../../../../src/utils/bytes/buffer.ts"],"names":[],"mappings":";;;AAAA,SAAgB,QAAQ,CAAC,GAAwC;IAC/D,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACxB,OAAO,GAAG,CAAC;KACZ;SAAM,IAAI,GAAG,YAAY,UAAU,EAAE;QACpC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;KAChE;SAAM;QACL,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACzB;AACH,CAAC;AARD,4BAQC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/hex.d.ts b/dist/cjs/utils/bytes/hex.d.ts
index 021ea9d090b78c1a325a796355c808ad55cbfbc4..685d3fdee24382ca6bbfb9928f8dfbd147d53b05 100644
--- a/dist/cjs/utils/bytes/hex.d.ts
+++ b/dist/cjs/utils/bytes/hex.d.ts
@@ -1,5 +1,5 @@
 /// <reference types="node" />
 import { Buffer } from "buffer";
-export declare function encode(data: Buffer): string;
+export declare function encode(data: Buffer | Uint8Array): string;
 export declare function decode(data: string): Buffer;
 //# sourceMappingURL=hex.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/hex.d.ts.map b/dist/cjs/utils/bytes/hex.d.ts.map
index f4d48375ea0a2ca94b7858a7c159a98119ab7da3..4e1225e244d4922af7d3ab43b36d2ce628ed4295 100644
--- a/dist/cjs/utils/bytes/hex.d.ts.map
+++ b/dist/cjs/utils/bytes/hex.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"hex.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAK3C;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAe3C"}
\ No newline at end of file
+{"version":3,"file":"hex.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CASxD;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAS3C"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/hex.js b/dist/cjs/utils/bytes/hex.js
index 41119d409402169af3395d20c1d323018207b620..94f3a0858fbf587e4ecd56fde1329d5237fa486d 100644
--- a/dist/cjs/utils/bytes/hex.js
+++ b/dist/cjs/utils/bytes/hex.js
@@ -3,21 +3,20 @@ Object.defineProperty(exports, "__esModule", { value: true });
 exports.decode = exports.encode = void 0;
 const buffer_1 = require("buffer");
 function encode(data) {
+    if (buffer_1.Buffer.isBuffer(data)) {
+        return "0x" + data.toString("hex");
+    }
     return data.reduce((str, byte) => str + byte.toString(16).padStart(2, "0"), "0x");
 }
 exports.encode = encode;
 function decode(data) {
     if (data.indexOf("0x") === 0) {
-        data = data.substr(2);
+        data = data.slice(2);
     }
     if (data.length % 2 === 1) {
         data = "0" + data;
     }
-    let key = data.match(/.{2}/g);
-    if (key === null) {
-        return buffer_1.Buffer.from([]);
-    }
-    return buffer_1.Buffer.from(key.map((byte) => parseInt(byte, 16)));
+    return buffer_1.Buffer.from(data, "hex");
 }
 exports.decode = decode;
 //# sourceMappingURL=hex.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/hex.js.map b/dist/cjs/utils/bytes/hex.js.map
index d172cf414036402837cb3a5ee7b058a3b79b39b8..4608c2dbdbf9321b61ca6cd21bba39a0c2459e88 100644
--- a/dist/cjs/utils/bytes/hex.js.map
+++ b/dist/cjs/utils/bytes/hex.js.map
@@ -1 +1 @@
-{"version":3,"file":"hex.js","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";;;AAAA,mCAAgC;AAEhC,SAAgB,MAAM,CAAC,IAAY;IACjC,OAAO,IAAI,CAAC,MAAM,CAChB,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EACvD,IAAI,CACL,CAAC;AACJ,CAAC;AALD,wBAKC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC5B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACvB;IACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KACnB;IAED,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAE9B,IAAI,GAAG,KAAK,IAAI,EAAE;QAChB,OAAO,eAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACxB;IAED,OAAO,eAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5D,CAAC;AAfD,wBAeC"}
\ No newline at end of file
+{"version":3,"file":"hex.js","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";;;AAAA,mCAAgC;AAEhC,SAAgB,MAAM,CAAC,IAAyB;IAC9C,IAAI,eAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;QACzB,OAAO,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACpC;IAED,OAAO,IAAI,CAAC,MAAM,CAChB,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EACvD,IAAI,CACL,CAAC;AACJ,CAAC;AATD,wBASC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC5B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KACtB;IACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KACnB;IAED,OAAO,eAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAClC,CAAC;AATD,wBASC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/index.d.ts b/dist/cjs/utils/bytes/index.d.ts
index 1a0eba3ff8bbfa0572b774949c10450b628fd8c6..1ac2c4941f23b361ecd72ce7ea34bbac61e036ee 100644
--- a/dist/cjs/utils/bytes/index.d.ts
+++ b/dist/cjs/utils/bytes/index.d.ts
@@ -2,4 +2,5 @@ export * as hex from "./hex.js";
 export * as utf8 from "./utf8.js";
 export * as bs58 from "./bs58.js";
 export * as base64 from "./base64.js";
+export * from "./buffer.js";
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/index.d.ts.map b/dist/cjs/utils/bytes/index.d.ts.map
index 9d33f1891f5b5dc6544fa553c7e0e8ab35493704..cc1cd77e3653623192bbd847a726052f22c0e373 100644
--- a/dist/cjs/utils/bytes/index.d.ts.map
+++ b/dist/cjs/utils/bytes/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AAEtC,cAAc,aAAa,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/index.js b/dist/cjs/utils/bytes/index.js
index 4c2fea8e07428e0033ae0029188a96d95b715470..ea8140da60f266cc61c0f5d0033826b43fd3f6d1 100644
--- a/dist/cjs/utils/bytes/index.js
+++ b/dist/cjs/utils/bytes/index.js
@@ -22,10 +22,14 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
+var __exportStar = (this && this.__exportStar) || function(m, exports) {
+    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);
+};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.base64 = exports.bs58 = exports.utf8 = exports.hex = void 0;
 exports.hex = __importStar(require("./hex.js"));
 exports.utf8 = __importStar(require("./utf8.js"));
 exports.bs58 = __importStar(require("./bs58.js"));
 exports.base64 = __importStar(require("./base64.js"));
+__exportStar(require("./buffer.js"), exports);
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/index.js.map b/dist/cjs/utils/bytes/index.js.map
index 29e7ba5d55fb9569fb7cc4b9e147871b12848062..49865bbdc7abf1191276fdd32215128a22378965 100644
--- a/dist/cjs/utils/bytes/index.js.map
+++ b/dist/cjs/utils/bytes/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAAgC;AAChC,kDAAkC;AAClC,kDAAkC;AAClC,sDAAsC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,gDAAgC;AAChC,kDAAkC;AAClC,kDAAkC;AAClC,sDAAsC;AAEtC,8CAA4B"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/utf8.d.ts b/dist/cjs/utils/bytes/utf8.d.ts
index e56620f12bd6c707bf2e6cfdbc6c5193f80af5b1..3998fb8ae6acf031e3dffcfacb067562e35a8f50 100644
--- a/dist/cjs/utils/bytes/utf8.d.ts
+++ b/dist/cjs/utils/bytes/utf8.d.ts
@@ -1,3 +1,4 @@
-export declare function decode(array: Uint8Array): string;
-export declare function encode(input: string): Uint8Array;
+/// <reference types="node" />
+export declare function decode(array: Buffer | Uint8Array): string;
+export declare function encode(input: string): Buffer;
 //# sourceMappingURL=utf8.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/utf8.d.ts.map b/dist/cjs/utils/bytes/utf8.d.ts.map
index 00b54f3daac42c01c70bc124ccb16125f7343348..016ce3566e369b7aa557ed396ee11a8d2cd85088 100644
--- a/dist/cjs/utils/bytes/utf8.d.ts.map
+++ b/dist/cjs/utils/bytes/utf8.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"utf8.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":"AAEA,wBAAgB,MAAM,CAAC,KAAK,EAAE,UAAU,GAAG,MAAM,CAMhD;AAED,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,CAKhD"}
\ No newline at end of file
+{"version":3,"file":"utf8.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":";AAgBA,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CAEzD;AAED,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,MAAM,CAG5C"}
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/utf8.js b/dist/cjs/utils/bytes/utf8.js
index 63b24b2c5fb2546d0aa686abe4f92bac07776769..461fe14e33dde38efac166fe5c3b308579f486c4 100644
--- a/dist/cjs/utils/bytes/utf8.js
+++ b/dist/cjs/utils/bytes/utf8.js
@@ -2,18 +2,26 @@
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.encode = exports.decode = void 0;
 const common_1 = require("../common");
+let encoder;
+let decoder;
+if (common_1.isBrowser) {
+    // Browser https://caniuse.com/textencoder.
+    encoder = new TextEncoder();
+    decoder = new TextDecoder("utf-8");
+}
+else {
+    // Node.
+    const util = require("util");
+    encoder = new util.TextEncoder();
+    decoder = new util.TextDecoder("utf-8");
+}
 function decode(array) {
-    const decoder = common_1.isBrowser
-        ? new TextDecoder("utf-8") // Browser https://caniuse.com/textencoder.
-        : new (require("util").TextDecoder)("utf-8"); // Node.
     return decoder.decode(array);
 }
 exports.decode = decode;
 function encode(input) {
-    const encoder = common_1.isBrowser
-        ? new TextEncoder() // Browser.
-        : new (require("util").TextEncoder)("utf-8"); // Node.
-    return encoder.encode(input);
+    const buf = encoder.encode(input);
+    return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
 }
 exports.encode = encode;
 //# sourceMappingURL=utf8.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/bytes/utf8.js.map b/dist/cjs/utils/bytes/utf8.js.map
index b71f23279b316c963bf960d1ff0bd81687bb5166..2483b4d395a440de903b90dcb38b1b0052d8e7d2 100644
--- a/dist/cjs/utils/bytes/utf8.js.map
+++ b/dist/cjs/utils/bytes/utf8.js.map
@@ -1 +1 @@
-{"version":3,"file":"utf8.js","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":";;;AAAA,sCAAsC;AAEtC,SAAgB,MAAM,CAAC,KAAiB;IACtC,MAAM,OAAO,GAAG,kBAAS;QACvB,CAAC,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,2CAA2C;QACtE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ;IAExD,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AAND,wBAMC;AAED,SAAgB,MAAM,CAAC,KAAa;IAClC,MAAM,OAAO,GAAG,kBAAS;QACvB,CAAC,CAAC,IAAI,WAAW,EAAE,CAAC,WAAW;QAC/B,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ;IACxD,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AALD,wBAKC"}
\ No newline at end of file
+{"version":3,"file":"utf8.js","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":";;;AAAA,sCAAsC;AAEtC,IAAI,OAAoB,CAAC;AACzB,IAAI,OAAoB,CAAC;AAEzB,IAAI,kBAAS,EAAE;IACb,2CAA2C;IAC3C,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;IAC5B,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;CACpC;KAAM;IACL,QAAQ;IACR,MAAM,IAAI,GAA0B,OAAO,CAAC,MAAM,CAAC,CAAC;IACpD,OAAO,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;IACjC,OAAO,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAgB,CAAC;CACxD;AAED,SAAgB,MAAM,CAAC,KAA0B;IAC/C,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AAFD,wBAEC;AAED,SAAgB,MAAM,CAAC,KAAa;IAClC,MAAM,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAClC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;AACjE,CAAC;AAHD,wBAGC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/common.d.ts b/dist/cjs/utils/common.d.ts
index a1b6c90c504dfd7de7f1190d14e7f3e9ed7be001..693f36ef777c758cd8041c9c675927a729812730 100644
--- a/dist/cjs/utils/common.d.ts
+++ b/dist/cjs/utils/common.d.ts
@@ -2,7 +2,7 @@
  * Returns true if being run inside a web browser,
  * false if in a Node process or electron app.
  */
-export declare const isBrowser: string | boolean;
+export declare const isBrowser: boolean;
 /**
  * Splits an array into chunks
  *
diff --git a/dist/cjs/utils/common.d.ts.map b/dist/cjs/utils/common.d.ts.map
index f5a3031335445a8078488409e4b8a817ea977975..39f7030ae76c28f9297f95cfdcc1c03aae06290c 100644
--- a/dist/cjs/utils/common.d.ts.map
+++ b/dist/cjs/utils/common.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,eAAO,MAAM,SAAS,kBAEsD,CAAC;AAE7E;;;;;;GAMG;AACH,wBAAgB,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,EAAE,CAIzD"}
\ No newline at end of file
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,eAAO,MAAM,SAAS,SAEsD,CAAC;AAE7E;;;;;;GAMG;AACH,wBAAgB,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,EAAE,CAIzD"}
\ No newline at end of file
diff --git a/dist/cjs/utils/common.js b/dist/cjs/utils/common.js
index 83276e95cd745a70dae433bb7cd60202f78275dd..39bf57d4d34a2d1a5b0cc7e3098407e5530e9234 100644
--- a/dist/cjs/utils/common.js
+++ b/dist/cjs/utils/common.js
@@ -6,7 +6,7 @@ exports.chunks = exports.isBrowser = void 0;
  * Returns true if being run inside a web browser,
  * false if in a Node process or electron app.
  */
-exports.isBrowser = process.env.ANCHOR_BROWSER ||
+exports.isBrowser = !!process.env.BROWSER ||
     (typeof window !== "undefined" && !((_a = window.process) === null || _a === void 0 ? void 0 : _a.hasOwnProperty("type")));
 /**
  * Splits an array into chunks
diff --git a/dist/cjs/utils/common.js.map b/dist/cjs/utils/common.js.map
index 12c20af431bd3f5b0f8a7159ccf35414f683987f..412711724c1becb1826e4200da149a582eb9292e 100644
--- a/dist/cjs/utils/common.js.map
+++ b/dist/cjs/utils/common.js.map
@@ -1 +1 @@
-{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":";;;;AAAA;;;GAGG;AACU,QAAA,SAAS,GACpB,OAAO,CAAC,GAAG,CAAC,cAAc;IAC1B,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,CAAA,MAAA,MAAM,CAAC,OAAO,0CAAE,cAAc,CAAC,MAAM,CAAC,CAAA,CAAC,CAAC;AAE7E;;;;;;GAMG;AACH,SAAgB,MAAM,CAAI,KAAU,EAAE,IAAY;IAChD,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAClE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAC5D,CAAC;AACJ,CAAC;AAJD,wBAIC"}
\ No newline at end of file
+{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":";;;;AAAA;;;GAGG;AACU,QAAA,SAAS,GACpB,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IACrB,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,CAAA,MAAA,MAAM,CAAC,OAAO,0CAAE,cAAc,CAAC,MAAM,CAAC,CAAA,CAAC,CAAC;AAE7E;;;;;;GAMG;AACH,SAAgB,MAAM,CAAI,KAAU,EAAE,IAAY;IAChD,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAClE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAC5D,CAAC;AACJ,CAAC;AAJD,wBAIC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/pubkey.d.ts.map b/dist/cjs/utils/pubkey.d.ts.map
index 42eafb368f708502df5cbd3aaf47fa861291565f..39fe77cc7117cb9bcdd7852054f7b109715e3600 100644
--- a/dist/cjs/utils/pubkey.d.ts.map
+++ b/dist/cjs/utils/pubkey.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"pubkey.d.ts","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AAGjE,wBAAgB,kBAAkB,CAChC,aAAa,EAAE,SAAS,EACxB,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,SAAS,CAQX;AAGD,wBAAgB,wBAAwB,CACtC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,SAAS,CAqBX;AAGD,wBAAgB,sBAAsB,CACpC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,CAAC,SAAS,EAAE,MAAM,CAAC,CAiBrB;AAYD,wBAAsB,UAAU,CAC9B,SAAS,EAAE,OAAO,EAClB,GAAG,IAAI,EAAE,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAC/B,OAAO,CAAC,SAAS,CAAC,CAUpB"}
\ No newline at end of file
+{"version":3,"file":"pubkey.d.ts","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AAIjE,wBAAgB,kBAAkB,CAChC,aAAa,EAAE,SAAS,EACxB,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,SAAS,CAOX;AAGD,wBAAgB,wBAAwB,CACtC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,SAAS,CAqBX;AAGD,wBAAgB,sBAAsB,CACpC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,CAAC,SAAS,EAAE,MAAM,CAAC,CAiBrB;AAED,wBAAsB,UAAU,CAC9B,SAAS,EAAE,OAAO,EAClB,GAAG,IAAI,EAAE,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAC/B,OAAO,CAAC,SAAS,CAAC,CAUpB"}
\ No newline at end of file
diff --git a/dist/cjs/utils/pubkey.js b/dist/cjs/utils/pubkey.js
index ca0147d0cb5a4e370be008ef3f7b7fa0cb10b4aa..23d099b94c7201861a85d6bc5e79f9323705666c 100644
--- a/dist/cjs/utils/pubkey.js
+++ b/dist/cjs/utils/pubkey.js
@@ -1,14 +1,11 @@
 "use strict";
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
 exports.associated = exports.findProgramAddressSync = exports.createProgramAddressSync = exports.createWithSeedSync = void 0;
 const buffer_1 = require("buffer");
-const bn_js_1 = __importDefault(require("bn.js"));
 const js_sha256_1 = require("js-sha256");
 const web3_js_1 = require("@solana/web3.js");
 const common_js_1 = require("../program/common.js");
+const buffer_js_1 = require("./bytes/buffer.js");
 // Sync version of web3.PublicKey.createWithSeed.
 function createWithSeedSync(fromPublicKey, seed, programId) {
     const buffer = buffer_1.Buffer.concat([
@@ -16,31 +13,29 @@ function createWithSeedSync(fromPublicKey, seed, programId) {
         buffer_1.Buffer.from(seed),
         programId.toBuffer(),
     ]);
-    const hash = js_sha256_1.sha256.digest(buffer);
-    return new web3_js_1.PublicKey(buffer_1.Buffer.from(hash));
+    return new web3_js_1.PublicKey(js_sha256_1.sha256.digest(buffer));
 }
 exports.createWithSeedSync = createWithSeedSync;
 // Sync version of web3.PublicKey.createProgramAddress.
 function createProgramAddressSync(seeds, programId) {
     const MAX_SEED_LENGTH = 32;
     let buffer = buffer_1.Buffer.alloc(0);
-    seeds.forEach(function (seed) {
+    seeds.forEach((seed) => {
         if (seed.length > MAX_SEED_LENGTH) {
             throw new TypeError(`Max seed length exceeded`);
         }
-        buffer = buffer_1.Buffer.concat([buffer, toBuffer(seed)]);
+        buffer = buffer_1.Buffer.concat([buffer, (0, buffer_js_1.toBuffer)(seed)]);
     });
     buffer = buffer_1.Buffer.concat([
         buffer,
         programId.toBuffer(),
         buffer_1.Buffer.from("ProgramDerivedAddress"),
     ]);
-    let hash = (0, js_sha256_1.sha256)(new Uint8Array(buffer));
-    let publicKeyBytes = new bn_js_1.default(hash, 16).toArray(undefined, 32);
-    if (web3_js_1.PublicKey.isOnCurve(new Uint8Array(publicKeyBytes))) {
+    const key = new web3_js_1.PublicKey(js_sha256_1.sha256.digest(buffer));
+    if (web3_js_1.PublicKey.isOnCurve(key)) {
         throw new Error(`Invalid seeds, address must fall off the curve`);
     }
-    return new web3_js_1.PublicKey(publicKeyBytes);
+    return key;
 }
 exports.createProgramAddressSync = createProgramAddressSync;
 // Sync version of web3.PublicKey.findProgramAddress.
@@ -64,17 +59,6 @@ function findProgramAddressSync(seeds, programId) {
     throw new Error(`Unable to find a viable program address nonce`);
 }
 exports.findProgramAddressSync = findProgramAddressSync;
-const toBuffer = (arr) => {
-    if (arr instanceof buffer_1.Buffer) {
-        return arr;
-    }
-    else if (arr instanceof Uint8Array) {
-        return buffer_1.Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);
-    }
-    else {
-        return buffer_1.Buffer.from(arr);
-    }
-};
 async function associated(programId, ...args) {
     let seeds = [buffer_1.Buffer.from([97, 110, 99, 104, 111, 114])]; // b"anchor".
     args.forEach((arg) => {
diff --git a/dist/cjs/utils/pubkey.js.map b/dist/cjs/utils/pubkey.js.map
index 5882cd62c24ee072ec7ea2b9aebe306a0a627d19..499e03a9b502c37264a2039608d0706b4837c77b 100644
--- a/dist/cjs/utils/pubkey.js.map
+++ b/dist/cjs/utils/pubkey.js.map
@@ -1 +1 @@
-{"version":3,"file":"pubkey.js","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"pubkey.js","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/utils/rpc.d.ts b/dist/cjs/utils/rpc.d.ts
index 9f0ce0f122b8d6496016401e1e89a0e09f39aeed..0fd21fc4aedd6a9985dc325b06edee253ff1bec7 100644
--- a/dist/cjs/utils/rpc.d.ts
+++ b/dist/cjs/utils/rpc.d.ts
@@ -1,6 +1,6 @@
 /// <reference types="node" />
 import { Buffer } from "buffer";
-import { AccountInfo, AccountMeta, Connection, PublicKey, TransactionSignature, Transaction, Commitment, Signer, RpcResponseAndContext, SimulatedTransactionResponse } from "@solana/web3.js";
+import { AccountInfo, AccountMeta, Connection, PublicKey, TransactionSignature, Commitment } from "@solana/web3.js";
 import { Address } from "../program/common.js";
 import Provider from "../provider.js";
 /**
@@ -12,6 +12,5 @@ export declare function getMultipleAccounts(connection: Connection, publicKeys:
     publicKey: PublicKey;
     account: AccountInfo<Buffer>;
 }>>;
-export declare function simulateTransaction(connection: Connection, transaction: Transaction, signers?: Array<Signer>, commitment?: Commitment, includeAccounts?: boolean | Array<PublicKey>): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
-export declare type SuccessfulTxSimulationResponse = Omit<SimulatedTransactionResponse, "err">;
+export { simulateTransaction, SuccessfulTxSimulationResponse, } from "./simulate";
 //# sourceMappingURL=rpc.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/rpc.d.ts.map b/dist/cjs/utils/rpc.d.ts.map
index f4fde80572cd8f57bda2162ac9fa6ced5b31da03..45be0337f02f58d2414b0f1daad395fad6591420 100644
--- a/dist/cjs/utils/rpc.d.ts.map
+++ b/dist/cjs/utils/rpc.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EACL,WAAW,EACX,WAAW,EACX,UAAU,EACV,SAAS,EACT,oBAAoB,EACpB,WAAW,EAEX,UAAU,EACV,MAAM,EACN,qBAAqB,EACrB,4BAA4B,EAE7B,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AACjE,OAAO,QAAiC,MAAM,gBAAgB,CAAC;AAqB/D;;;GAGG;AACH,wBAAsB,MAAM,CAC1B,SAAS,EAAE,OAAO,EAClB,QAAQ,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC7B,IAAI,CAAC,EAAE,MAAM,EACb,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,oBAAoB,CAAC,CAsB/B;AAID,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,SAAS,EAAE,EACvB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CACR,KAAK,CAAC,IAAI,GAAG;IAAE,SAAS,EAAE,SAAS,CAAC;IAAC,OAAO,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;CAAE,CAAC,CACrE,CAcA;AA0BD,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,WAAW,EAAE,WAAW,EACxB,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EACvB,UAAU,CAAC,EAAE,UAAU,EACvB,eAAe,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,GAC3C,OAAO,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,CAAC,CAmD9D;AA2ED,oBAAY,8BAA8B,GAAG,IAAI,CAC/C,4BAA4B,EAC5B,KAAK,CACN,CAAC"}
\ No newline at end of file
+{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EACL,WAAW,EACX,WAAW,EACX,UAAU,EACV,SAAS,EACT,oBAAoB,EAGpB,UAAU,EACX,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AACjE,OAAO,QAAyB,MAAM,gBAAgB,CAAC;AAEvD;;;GAGG;AACH,wBAAsB,MAAM,CAC1B,SAAS,EAAE,OAAO,EAClB,QAAQ,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC7B,IAAI,CAAC,EAAE,MAAM,EACb,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,oBAAoB,CAAC,CAsB/B;AAID,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,SAAS,EAAE,EACvB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CACR,KAAK,CAAC,IAAI,GAAG;IAAE,SAAS,EAAE,SAAS,CAAC;IAAC,OAAO,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;CAAE,CAAC,CACrE,CAcA;AAyBD,OAAO,EACL,mBAAmB,EACnB,8BAA8B,GAC/B,MAAM,YAAY,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/rpc.js b/dist/cjs/utils/rpc.js
index d230de928c52c3e0591ab291065db3544d237dd5..45deccd5b1b16482eae6315ba11cae4c72666ea2 100644
--- a/dist/cjs/utils/rpc.js
+++ b/dist/cjs/utils/rpc.js
@@ -5,7 +5,6 @@ const web3_js_1 = require("@solana/web3.js");
 const common_js_1 = require("../utils/common.js");
 const common_js_2 = require("../program/common.js");
 const provider_js_1 = require("../provider.js");
-const superstruct_1 = require("superstruct");
 /**
  * Sends a transaction to a program with the given accounts and instruction
  * data.
@@ -52,105 +51,6 @@ async function getMultipleAccountsCore(connection, publicKeys, commitmentOverrid
         };
     });
 }
-// copy from @solana/web3.js that has a commitment param
-async function simulateTransaction(connection, transaction, signers, commitment, includeAccounts) {
-    if (signers && signers.length > 0) {
-        transaction.sign(...signers);
-    }
-    // @ts-expect-error
-    const message = transaction._compile();
-    const signData = message.serialize();
-    // @ts-expect-error
-    const wireTransaction = transaction._serialize(signData);
-    const encodedTransaction = wireTransaction.toString("base64");
-    const config = {
-        encoding: "base64",
-        commitment: commitment !== null && commitment !== void 0 ? commitment : connection.commitment,
-    };
-    if (includeAccounts) {
-        const addresses = (Array.isArray(includeAccounts) ? includeAccounts : message.nonProgramIds()).map((key) => key.toBase58());
-        config["accounts"] = {
-            encoding: "base64",
-            addresses,
-        };
-    }
-    if (signers) {
-        config.sigVerify = true;
-    }
-    const args = [encodedTransaction, config];
-    // @ts-expect-error
-    const unsafeRes = await connection._rpcRequest("simulateTransaction", args);
-    const res = (0, superstruct_1.create)(unsafeRes, SimulatedTransactionResponseStruct);
-    if ("error" in res) {
-        let logs;
-        if ("data" in res.error) {
-            logs = res.error.data.logs;
-            if (logs && Array.isArray(logs)) {
-                const traceIndent = "\n    ";
-                const logTrace = traceIndent + logs.join(traceIndent);
-                console.error(res.error.message, logTrace);
-            }
-        }
-        throw new web3_js_1.SendTransactionError("failed to simulate transaction: " + res.error.message, logs);
-    }
-    return res.result;
-}
-exports.simulateTransaction = simulateTransaction;
-// copy from @solana/web3.js
-function jsonRpcResult(schema) {
-    return (0, superstruct_1.coerce)(createRpcResult(schema), UnknownRpcResult, (value) => {
-        if ("error" in value) {
-            return value;
-        }
-        else {
-            return {
-                ...value,
-                result: (0, superstruct_1.create)(value.result, schema),
-            };
-        }
-    });
-}
-// copy from @solana/web3.js
-const UnknownRpcResult = createRpcResult((0, superstruct_1.unknown)());
-// copy from @solana/web3.js
-function createRpcResult(result) {
-    return (0, superstruct_1.union)([
-        (0, superstruct_1.type)({
-            jsonrpc: (0, superstruct_1.literal)("2.0"),
-            id: (0, superstruct_1.string)(),
-            result,
-        }),
-        (0, superstruct_1.type)({
-            jsonrpc: (0, superstruct_1.literal)("2.0"),
-            id: (0, superstruct_1.string)(),
-            error: (0, superstruct_1.type)({
-                code: (0, superstruct_1.unknown)(),
-                message: (0, superstruct_1.string)(),
-                data: (0, superstruct_1.optional)((0, superstruct_1.any)()),
-            }),
-        }),
-    ]);
-}
-// copy from @solana/web3.js
-function jsonRpcResultAndContext(value) {
-    return jsonRpcResult((0, superstruct_1.type)({
-        context: (0, superstruct_1.type)({
-            slot: (0, superstruct_1.number)(),
-        }),
-        value,
-    }));
-}
-// copy from @solana/web3.js
-const SimulatedTransactionResponseStruct = jsonRpcResultAndContext((0, superstruct_1.type)({
-    err: (0, superstruct_1.nullable)((0, superstruct_1.union)([(0, superstruct_1.type)({}), (0, superstruct_1.string)()])),
-    logs: (0, superstruct_1.nullable)((0, superstruct_1.array)((0, superstruct_1.string)())),
-    accounts: (0, superstruct_1.optional)((0, superstruct_1.nullable)((0, superstruct_1.array)((0, superstruct_1.nullable)((0, superstruct_1.type)({
-        executable: (0, superstruct_1.boolean)(),
-        owner: (0, superstruct_1.string)(),
-        lamports: (0, superstruct_1.number)(),
-        data: (0, superstruct_1.array)((0, superstruct_1.string)()),
-        rentEpoch: (0, superstruct_1.optional)((0, superstruct_1.number)()),
-    }))))),
-    unitsConsumed: (0, superstruct_1.optional)((0, superstruct_1.number)()),
-}));
+var simulate_1 = require("./simulate");
+Object.defineProperty(exports, "simulateTransaction", { enumerable: true, get: function () { return simulate_1.simulateTransaction; } });
 //# sourceMappingURL=rpc.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/rpc.js.map b/dist/cjs/utils/rpc.js.map
index 16acfb21a0ef2ccff19fe81c1a590a3fb7b5748a..4a6f5f927dd833b06560b764b4d4a317eb95a3a3 100644
--- a/dist/cjs/utils/rpc.js.map
+++ b/dist/cjs/utils/rpc.js.map
@@ -1 +1 @@
-{"version":3,"file":"rpc.js","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"rpc.js","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":";;;AACA,6CASyB;AACzB,kDAA4C;AAC5C,oDAAiE;AACjE,gDAAuD;AAEvD;;;GAGG;AACI,KAAK,UAAU,MAAM,CAC1B,SAAkB,EAClB,QAA6B,EAC7B,IAAa,EACb,QAAmB;IAEnB,SAAS,GAAG,IAAA,4BAAgB,EAAC,SAAS,CAAC,CAAC;IACxC,IAAI,CAAC,QAAQ,EAAE;QACb,QAAQ,GAAG,IAAA,yBAAW,GAAE,CAAC;KAC1B;IAED,MAAM,EAAE,GAAG,IAAI,qBAAW,EAAE,CAAC;IAC7B,EAAE,CAAC,GAAG,CACJ,IAAI,gCAAsB,CAAC;QACzB,SAAS;QACT,IAAI,EAAE,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,EAAE;QACpB,IAAI;KACL,CAAC,CACH,CAAC;IAEF,IAAI,QAAQ,CAAC,cAAc,KAAK,SAAS,EAAE;QACzC,MAAM,IAAI,KAAK,CACb,qEAAqE,CACtE,CAAC;KACH;IAED,OAAO,MAAM,QAAQ,CAAC,cAAc,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAC/C,CAAC;AA3BD,wBA2BC;AAED,MAAM,2BAA2B,GAAW,EAAE,CAAC;AAExC,KAAK,UAAU,mBAAmB,CACvC,UAAsB,EACtB,UAAuB,EACvB,UAAuB;IAIvB,IAAI,UAAU,CAAC,MAAM,IAAI,2BAA2B,EAAE;QACpD,OAAO,MAAM,uBAAuB,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;KAC1E;SAAM;QACL,MAAM,OAAO,GAAG,IAAA,kBAAM,EAAC,UAAU,EAAE,2BAA2B,CAAC,CAAC;QAChE,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,GAAG,CAG/B,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CACpB,uBAAuB,CAAC,UAAU,EAAE,KAAK,EAAE,UAAU,CAAC,CACvD,CACF,CAAC;QACF,OAAO,OAAO,CAAC,IAAI,EAAE,CAAC;KACvB;AACH,CAAC;AApBD,kDAoBC;AAED,KAAK,UAAU,uBAAuB,CACpC,UAAsB,EACtB,UAAuB,EACvB,kBAA+B;IAI/B,MAAM,UAAU,GAAG,kBAAkB,aAAlB,kBAAkB,cAAlB,kBAAkB,GAAI,UAAU,CAAC,UAAU,CAAC;IAC/D,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,uBAAuB,CACvD,UAAU,EACV,UAAU,CACX,CAAC;IACF,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;QACnC,IAAI,OAAO,KAAK,IAAI,EAAE;YACpB,OAAO,IAAI,CAAC;SACb;QACD,OAAO;YACL,SAAS,EAAE,UAAU,CAAC,GAAG,CAAC;YAC1B,OAAO;SACR,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC;AAED,uCAGoB;AAFlB,+GAAA,mBAAmB,OAAA"}
\ No newline at end of file
diff --git a/dist/cjs/utils/sha256.d.ts b/dist/cjs/utils/sha256.d.ts
index 2f9b1f515546ea0f02388eec9ca079784d4b7f20..c1be9929839de118aafaf12c987b2c6899eb678e 100644
--- a/dist/cjs/utils/sha256.d.ts
+++ b/dist/cjs/utils/sha256.d.ts
@@ -1,2 +1,3 @@
 export declare function hash(data: string): string;
+export declare function digest(data: string): Array<number>;
 //# sourceMappingURL=sha256.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/sha256.d.ts.map b/dist/cjs/utils/sha256.d.ts.map
index b79f726c7bd9540d373706da350d259770d73311..2db7e1b01b7f8a0ee2413d9be611a1b089e33cbb 100644
--- a/dist/cjs/utils/sha256.d.ts.map
+++ b/dist/cjs/utils/sha256.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"sha256.d.ts","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAEA,wBAAgB,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEzC"}
\ No newline at end of file
+{"version":3,"file":"sha256.d.ts","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAEA,wBAAgB,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEzC;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAElD"}
\ No newline at end of file
diff --git a/dist/cjs/utils/sha256.js b/dist/cjs/utils/sha256.js
index 6f33a5b2c550659928f4091686b7319d6cf9a8b4..6ff81f0b2c971a17edc127ae08ba43562b4dace9 100644
--- a/dist/cjs/utils/sha256.js
+++ b/dist/cjs/utils/sha256.js
@@ -1,9 +1,13 @@
 "use strict";
 Object.defineProperty(exports, "__esModule", { value: true });
-exports.hash = void 0;
+exports.digest = exports.hash = void 0;
 const js_sha256_1 = require("js-sha256");
 function hash(data) {
     return (0, js_sha256_1.sha256)(data);
 }
 exports.hash = hash;
+function digest(data) {
+    return js_sha256_1.sha256.digest(data);
+}
+exports.digest = digest;
 //# sourceMappingURL=sha256.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/sha256.js.map b/dist/cjs/utils/sha256.js.map
index 3da733f2d0726febcc26c91c00499f85b2acbb6f..6cdaf14e2dee65ef6d1ec9e443b0fdf267ea1e08 100644
--- a/dist/cjs/utils/sha256.js.map
+++ b/dist/cjs/utils/sha256.js.map
@@ -1 +1 @@
-{"version":3,"file":"sha256.js","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":";;;AAAA,yCAAmC;AAEnC,SAAgB,IAAI,CAAC,IAAY;IAC/B,OAAO,IAAA,kBAAM,EAAC,IAAI,CAAC,CAAC;AACtB,CAAC;AAFD,oBAEC"}
\ No newline at end of file
+{"version":3,"file":"sha256.js","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":";;;AAAA,yCAAmC;AAEnC,SAAgB,IAAI,CAAC,IAAY;IAC/B,OAAO,IAAA,kBAAM,EAAC,IAAI,CAAC,CAAC;AACtB,CAAC;AAFD,oBAEC;AAED,SAAgB,MAAM,CAAC,IAAY;IACjC,OAAO,kBAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC7B,CAAC;AAFD,wBAEC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/simulate.d.ts b/dist/cjs/utils/simulate.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e055ffe898d91319d813e07b5dc1386bdc613e5d
--- /dev/null
+++ b/dist/cjs/utils/simulate.d.ts
@@ -0,0 +1,15 @@
+/// <reference types="node" />
+import { Transaction } from "@solana/web3.js";
+import type { Commitment, Connection, PublicKey, RpcResponseAndContext, Signer, SimulatedTransactionResponse } from "@solana/web3.js";
+declare module "@solana/web3.js" {
+    interface Transaction {
+        _compile(): Message;
+        _serialize(signData: Buffer): Buffer;
+    }
+    interface Connection {
+        _rpcRequest(method: string, args: Array<unknown>): Promise<unknown>;
+    }
+}
+export declare function simulateTransaction(connection: Connection, transaction: Transaction, signers?: Array<Signer>, commitment?: Commitment, includeAccounts?: boolean | Array<PublicKey>): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
+export declare type SuccessfulTxSimulationResponse = Omit<SimulatedTransactionResponse, "err">;
+//# sourceMappingURL=simulate.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/utils/simulate.d.ts.map b/dist/cjs/utils/simulate.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..98578b41c15d0aa723376d556a50bbba796e8948
--- /dev/null
+++ b/dist/cjs/utils/simulate.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../src/utils/simulate.ts"],"names":[],"mappings":";AAAA,OAAO,EAAwB,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAEpE,OAAO,KAAK,EACV,UAAU,EACV,UAAU,EACV,SAAS,EACT,qBAAqB,EACrB,MAAM,EACN,4BAA4B,EAC7B,MAAM,iBAAiB,CAAC;AAkBzB,OAAO,QAAQ,iBAAiB,CAAC;IAC/B,UAAU,WAAW;QACnB,QAAQ,IAAI,OAAO,CAAC;QACpB,UAAU,CAAC,QAAQ,EAAE,MAAM,GAAG,MAAM,CAAC;KACtC;IACD,UAAU,UAAU;QAClB,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;KACrE;CACF;AAGD,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,WAAW,EAAE,WAAW,EACxB,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EACvB,UAAU,CAAC,EAAE,UAAU,EACvB,eAAe,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,GAC3C,OAAO,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,CAAC,CAqD9D;AA2ED,oBAAY,8BAA8B,GAAG,IAAI,CAC/C,4BAA4B,EAC5B,KAAK,CACN,CAAC"}
\ No newline at end of file
diff --git a/dist/cjs/utils/simulate.js b/dist/cjs/utils/simulate.js
new file mode 100644
index 0000000000000000000000000000000000000000..687fd289273fc006c266bc0627d9ef2a8e9e7617
--- /dev/null
+++ b/dist/cjs/utils/simulate.js
@@ -0,0 +1,107 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.simulateTransaction = void 0;
+const web3_js_1 = require("@solana/web3.js");
+const superstruct_1 = require("superstruct");
+// copy from @solana/web3.js that has a commitment param
+async function simulateTransaction(connection, transaction, signers, commitment, includeAccounts) {
+    const tx = new web3_js_1.Transaction();
+    tx.feePayer = transaction.feePayer;
+    tx.instructions = transaction.instructions;
+    tx.nonceInfo = transaction.nonceInfo;
+    tx.signatures = transaction.signatures;
+    if (signers) {
+        tx.sign(...signers);
+    }
+    const message = transaction._compile();
+    const signData = message.serialize();
+    const wireTransaction = transaction._serialize(signData);
+    const encodedTransaction = wireTransaction.toString("base64");
+    const config = {
+        encoding: "base64",
+        commitment: commitment !== null && commitment !== void 0 ? commitment : connection.commitment,
+    };
+    if (includeAccounts) {
+        config.accounts = {
+            encoding: "base64",
+            addresses: (Array.isArray(includeAccounts)
+                ? includeAccounts
+                : message.nonProgramIds()).map((k) => k.toBase58()),
+        };
+    }
+    if (signers) {
+        config.sigVerify = true;
+    }
+    const args = [encodedTransaction, config];
+    const unsafeRes = await connection._rpcRequest("simulateTransaction", args);
+    const res = (0, superstruct_1.create)(unsafeRes, SimulatedTransactionResponseStruct);
+    if ("error" in res) {
+        let logs;
+        if ("data" in res.error &&
+            "logs" in res.error.data &&
+            Array.isArray(res.error.data.logs)) {
+            logs = res.error.data.logs;
+        }
+        throw new web3_js_1.SendTransactionError(`failed to simulate transaction: ${res.error.message}`, logs);
+    }
+    return res.result;
+}
+exports.simulateTransaction = simulateTransaction;
+// copy from @solana/web3.js
+function jsonRpcResult(schema) {
+    return (0, superstruct_1.coerce)(createRpcResult(schema), UnknownRpcResult, (value) => {
+        if ("error" in value) {
+            return value;
+        }
+        else {
+            return {
+                ...value,
+                result: (0, superstruct_1.create)(value.result, schema),
+            };
+        }
+    });
+}
+// copy from @solana/web3.js
+const UnknownRpcResult = createRpcResult((0, superstruct_1.unknown)());
+// copy from @solana/web3.js
+function createRpcResult(result) {
+    return (0, superstruct_1.union)([
+        (0, superstruct_1.type)({
+            jsonrpc: (0, superstruct_1.literal)("2.0"),
+            id: (0, superstruct_1.string)(),
+            result,
+        }),
+        (0, superstruct_1.type)({
+            jsonrpc: (0, superstruct_1.literal)("2.0"),
+            id: (0, superstruct_1.string)(),
+            error: (0, superstruct_1.type)({
+                code: (0, superstruct_1.unknown)(),
+                message: (0, superstruct_1.string)(),
+                data: (0, superstruct_1.optional)((0, superstruct_1.any)()),
+            }),
+        }),
+    ]);
+}
+// copy from @solana/web3.js
+function jsonRpcResultAndContext(value) {
+    return jsonRpcResult((0, superstruct_1.type)({
+        context: (0, superstruct_1.type)({
+            slot: (0, superstruct_1.number)(),
+        }),
+        value,
+    }));
+}
+// copy from @solana/web3.js
+const SimulatedTransactionResponseStruct = jsonRpcResultAndContext((0, superstruct_1.type)({
+    err: (0, superstruct_1.nullable)((0, superstruct_1.union)([(0, superstruct_1.type)({}), (0, superstruct_1.string)()])),
+    logs: (0, superstruct_1.nullable)((0, superstruct_1.array)((0, superstruct_1.string)())),
+    accounts: (0, superstruct_1.optional)((0, superstruct_1.nullable)((0, superstruct_1.array)((0, superstruct_1.nullable)((0, superstruct_1.type)({
+        executable: (0, superstruct_1.boolean)(),
+        owner: (0, superstruct_1.string)(),
+        lamports: (0, superstruct_1.number)(),
+        data: (0, superstruct_1.array)((0, superstruct_1.string)()),
+        rentEpoch: (0, superstruct_1.optional)((0, superstruct_1.number)()),
+    }))))),
+    unitsConsumed: (0, superstruct_1.optional)((0, superstruct_1.number)()),
+}));
+//# sourceMappingURL=simulate.js.map
\ No newline at end of file
diff --git a/dist/cjs/utils/simulate.js.map b/dist/cjs/utils/simulate.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..9a893f5be1acf7ff176ecd8e20863eadd400daef
--- /dev/null
+++ b/dist/cjs/utils/simulate.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"simulate.js","sourceRoot":"","sources":["../../../src/utils/simulate.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/cjs/wallet.d.ts b/dist/cjs/wallet.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e8916054c9551085699f7c69e7e0ffeb7ee4ec64
--- /dev/null
+++ b/dist/cjs/wallet.d.ts
@@ -0,0 +1,11 @@
+import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
+import { Wallet as IWallet } from "./provider";
+export declare class Wallet implements IWallet {
+    readonly payer: Keypair;
+    constructor(payer: Keypair);
+    static local(): Wallet | never;
+    signTransaction(tx: Transaction): Promise<Transaction>;
+    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
+    get publicKey(): PublicKey;
+}
+//# sourceMappingURL=wallet.d.ts.map
\ No newline at end of file
diff --git a/dist/cjs/wallet.d.ts.map b/dist/cjs/wallet.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..c347d4c8db2638d204ffcfc33022f77840de61c3
--- /dev/null
+++ b/dist/cjs/wallet.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"wallet.d.ts","sourceRoot":"","sources":["../../src/wallet.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,MAAM,IAAI,OAAO,EAAE,MAAM,YAAY,CAAC;AAG/C,qBAAa,MAAO,YAAW,OAAO;IACxB,QAAQ,CAAC,KAAK,EAAE,OAAO;gBAAd,KAAK,EAAE,OAAO;IAEnC,MAAM,CAAC,KAAK,IAAI,MAAM,GAAG,KAAK;IA0BxB,eAAe,CAAC,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAKtD,mBAAmB,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAOrE,IAAI,SAAS,IAAI,SAAS,CAEzB;CACF"}
\ No newline at end of file
diff --git a/dist/cjs/wallet.js b/dist/cjs/wallet.js
new file mode 100644
index 0000000000000000000000000000000000000000..c8ac977df55d2245253c719bd84c773b1e46ab86
--- /dev/null
+++ b/dist/cjs/wallet.js
@@ -0,0 +1,39 @@
+"use strict";
+Object.defineProperty(exports, "__esModule", { value: true });
+exports.Wallet = void 0;
+const buffer_1 = require("buffer");
+const web3_js_1 = require("@solana/web3.js");
+const common_1 = require("./utils/common");
+class Wallet {
+    constructor(payer) {
+        this.payer = payer;
+    }
+    static local() {
+        if (common_1.isBrowser) {
+            throw new Error("Local wallet not supported in browser");
+        }
+        const process = require("process");
+        if (!process.env.ANCHOR_WALLET || process.env.ANCHOR_WALLET === "") {
+            throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");
+        }
+        const payer = web3_js_1.Keypair.fromSecretKey(buffer_1.Buffer.from(JSON.parse(require("fs").readFileSync(process.env.ANCHOR_WALLET, {
+            encoding: "utf-8",
+        }))));
+        return new Wallet(payer);
+    }
+    async signTransaction(tx) {
+        tx.partialSign(this.payer);
+        return tx;
+    }
+    async signAllTransactions(txs) {
+        return txs.map((t) => {
+            t.partialSign(this.payer);
+            return t;
+        });
+    }
+    get publicKey() {
+        return this.payer.publicKey;
+    }
+}
+exports.Wallet = Wallet;
+//# sourceMappingURL=wallet.js.map
\ No newline at end of file
diff --git a/dist/cjs/wallet.js.map b/dist/cjs/wallet.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..6adf5a1d97d9f825bab8bbe3d3c6d45bbd7e5aeb
--- /dev/null
+++ b/dist/cjs/wallet.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"wallet.js","sourceRoot":"","sources":["../../src/wallet.ts"],"names":[],"mappings":";;;AAAA,mCAAgC;AAChC,6CAAkE;AAElE,2CAA2C;AAE3C,MAAa,MAAM;IACjB,YAAqB,KAAc;QAAd,UAAK,GAAL,KAAK,CAAS;IAAG,CAAC;IAEvC,MAAM,CAAC,KAAK;QACV,IAAI,kBAAS,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;SAC1D;QAED,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,KAAK,EAAE,EAAE;YAClE,MAAM,IAAI,KAAK,CACb,2DAA2D,CAC5D,CAAC;SACH;QAED,MAAM,KAAK,GAAG,iBAAO,CAAC,aAAa,CACjC,eAAM,CAAC,IAAI,CACT,IAAI,CAAC,KAAK,CACR,OAAO,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE;YACpD,QAAQ,EAAE,OAAO;SAClB,CAAC,CACH,CACF,CACF,CAAC;QAEF,OAAO,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,EAAe;QACnC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,GAAkB;QAC1C,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACnB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;IAC9B,CAAC;CACF;AA5CD,wBA4CC"}
\ No newline at end of file
diff --git a/dist/cjs/workspace.js b/dist/cjs/workspace.js
index 7e369d931876b5e75b2264f46951f407af77b6fb..a0579e95d102f0d2716cc5daa3ee48ad6d9efd1f 100644
--- a/dist/cjs/workspace.js
+++ b/dist/cjs/workspace.js
@@ -22,11 +22,8 @@ var __importStar = (this && this.__importStar) || function (mod) {
     __setModuleDefault(result, mod);
     return result;
 };
-var __importDefault = (this && this.__importDefault) || function (mod) {
-    return (mod && mod.__esModule) ? mod : { "default": mod };
-};
 Object.defineProperty(exports, "__esModule", { value: true });
-const camelcase_1 = __importDefault(require("camelcase"));
+const case_1 = require("@juici/case");
 const toml = __importStar(require("toml"));
 const web3_js_1 = require("@solana/web3.js");
 const index_js_1 = require("./program/index.js");
@@ -68,10 +65,10 @@ const workspace = new Proxy({}, {
                 .filter((file) => file.endsWith(".json"))
                 .forEach((file) => {
                 const filePath = `${idlFolder}/${file}`;
-                const idlStr = fs.readFileSync(filePath);
+                const idlStr = fs.readFileSync(filePath, "utf-8");
                 const idl = JSON.parse(idlStr);
                 idlMap.set(idl.name, idl);
-                const name = (0, camelcase_1.default)(idl.name, { pascalCase: true });
+                const name = (0, case_1.pascalCase)(idl.name);
                 if (idl.metadata && idl.metadata.address) {
                     workspaceCache[name] = new index_js_1.Program(idl, new web3_js_1.PublicKey(idl.metadata.address));
                 }
@@ -89,7 +86,7 @@ const workspace = new Proxy({}, {
 });
 function attachWorkspaceOverride(workspaceCache, overrideConfig, idlMap) {
     Object.keys(overrideConfig).forEach((programName) => {
-        const wsProgramName = (0, camelcase_1.default)(programName, { pascalCase: true });
+        const wsProgramName = (0, case_1.pascalCase)(programName);
         const entry = overrideConfig[programName];
         const overrideAddress = new web3_js_1.PublicKey(typeof entry === "string" ? entry : entry.address);
         let idl = idlMap.get(programName);
diff --git a/dist/cjs/workspace.js.map b/dist/cjs/workspace.js.map
index b55eb7574e911a272987e4e87c0cdb43c90311cd..ae94b6b3b7905cfedd93a2930d466b5af29556de 100644
--- a/dist/cjs/workspace.js.map
+++ b/dist/cjs/workspace.js.map
@@ -1 +1 @@
-{"version":3,"file":"workspace.js","sourceRoot":"","sources":["../../src/workspace.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"workspace.js","sourceRoot":"","sources":["../../src/workspace.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/accounts.d.ts.map b/dist/esm/coder/borsh/accounts.d.ts.map
index 3cbde67f6da03897532accc6001fbe9e7e97b05f..8bcd918e3f29b48a90f6e699eb69288928a16ab8 100644
--- a/dist/esm/coder/borsh/accounts.d.ts.map
+++ b/dist/esm/coder/borsh/accounts.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAG5C;;GAEG;AACH,eAAO,MAAM,0BAA0B,IAAI,CAAC;AAE5C;;GAEG;AACH,qBAAa,kBAAkB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACvD,YAAW,aAAa;IAExB;;OAEG;IACH,OAAO,CAAC,cAAc,CAAiB;IAEvC;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAad,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAYlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC;IAShD,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAUvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG;IAUhD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;IAM3C;;;;OAIG;WACW,oBAAoB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;CAKzD"}
\ No newline at end of file
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAI5C;;GAEG;AACH,eAAO,MAAM,0BAA0B,IAAI,CAAC;AAE5C;;GAEG;AACH,qBAAa,kBAAkB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACvD,YAAW,aAAa;IAExB;;OAEG;IACH,OAAO,CAAC,cAAc,CAAuC;IAE7D;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAsBd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAYlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC;IAShD,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAUvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG;IAUhD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;IAM3C;;;;OAIG;WACW,oBAAoB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM;CAIzD"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/accounts.js b/dist/esm/coder/borsh/accounts.js
index 801118b8658f4465817f3ea74ccd03e31a4ba32d..c2f0909b5a9f782e594368ca5a95c3792e363911 100644
--- a/dist/esm/coder/borsh/accounts.js
+++ b/dist/esm/coder/borsh/accounts.js
@@ -1,9 +1,10 @@
 import bs58 from "bs58";
 import { Buffer } from "buffer";
-import camelcase from "camelcase";
+import { pascalCase } from "@juici/case";
 import { sha256 } from "js-sha256";
 import { IdlCoder } from "./idl.js";
-import { accountSize } from "../common.js";
+import { accountSize, layoutSize } from "../common.js";
+import { PACKET_DATA_SIZE } from "@solana/web3.js";
 /**
  * Number of bytes of the account discriminator.
  */
@@ -18,38 +19,46 @@ export class BorshAccountsCoder {
             return;
         }
         const layouts = idl.accounts.map((acc) => {
-            return [acc.name, IdlCoder.typeDefLayout(acc, idl.types)];
+            const layout = IdlCoder.typeDefLayout(acc, idl.types);
+            let size;
+            try {
+                size = layoutSize(layout);
+            }
+            catch (_) {
+                // noop
+            }
+            return [acc.name, [layout, size]];
         });
         this.accountLayouts = new Map(layouts);
         this.idl = idl;
     }
     async encode(accountName, account) {
-        const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.
-        const layout = this.accountLayouts.get(accountName);
-        if (!layout) {
+        const entry = this.accountLayouts.get(accountName);
+        if (!entry) {
             throw new Error(`Unknown account: ${accountName}`);
         }
+        const [layout, size] = entry;
+        const buffer = Buffer.alloc(size !== null && size !== void 0 ? size : PACKET_DATA_SIZE);
         const len = layout.encode(account, buffer);
-        let accountData = buffer.slice(0, len);
-        let discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
-        return Buffer.concat([discriminator, accountData]);
+        const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
+        return Buffer.concat([discriminator, buffer.subarray(0, len)]);
     }
     decode(accountName, data) {
         // Assert the account discriminator is correct.
         const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
-        if (discriminator.compare(data.slice(0, 8))) {
+        if (discriminator.compare(data.subarray(0, ACCOUNT_DISCRIMINATOR_SIZE))) {
             throw new Error("Invalid account discriminator");
         }
         return this.decodeUnchecked(accountName, data);
     }
     decodeUnchecked(accountName, ix) {
-        // Chop off the discriminator before decoding.
-        const data = ix.slice(ACCOUNT_DISCRIMINATOR_SIZE);
-        const layout = this.accountLayouts.get(accountName);
-        if (!layout) {
+        const entry = this.accountLayouts.get(accountName);
+        if (!entry) {
             throw new Error(`Unknown account: ${accountName}`);
         }
-        return layout.decode(data);
+        const [layout] = entry;
+        // Chop off the discriminator before decoding.
+        return layout.decode(ix.subarray(ACCOUNT_DISCRIMINATOR_SIZE));
     }
     memcmp(accountName, appendData) {
         const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
@@ -68,7 +77,8 @@ export class BorshAccountsCoder {
      * @param name The name of the account to calculate the discriminator.
      */
     static accountDiscriminator(name) {
-        return Buffer.from(sha256.digest(`account:${camelcase(name, { pascalCase: true })}`)).slice(0, ACCOUNT_DISCRIMINATOR_SIZE);
+        const digest = sha256.digest(`account:${pascalCase(name)}`);
+        return Buffer.from(digest).subarray(0, ACCOUNT_DISCRIMINATOR_SIZE);
     }
 }
 //# sourceMappingURL=accounts.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/accounts.js.map b/dist/esm/coder/borsh/accounts.js.map
index a5cb193a482a9671da519caf8730e21ff549b013..765baf076f6c95f0dfbe2e6a11c6cae5206841fb 100644
--- a/dist/esm/coder/borsh/accounts.js.map
+++ b/dist/esm/coder/borsh/accounts.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/borsh/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/event.d.ts.map b/dist/esm/coder/borsh/event.d.ts.map
index d80e63071b9bb3a75ddccb00bb13c2947a010076..925cd5c4ff5b1dece770de5a6ee837c3368afae4 100644
--- a/dist/esm/coder/borsh/event.d.ts.map
+++ b/dist/esm/coder/borsh/event.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAc,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,KAAK,EAAa,MAAM,wBAAwB,CAAC;AAE1D,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC,qBAAa,eAAgB,YAAW,UAAU;IAChD;;OAEG;IACH,OAAO,CAAC,OAAO,CAAsB;IAErC;;OAEG;IACH,OAAO,CAAC,cAAc,CAAsB;gBAEzB,GAAG,EAAE,GAAG;IA6BpB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,EACpE,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CA0BtB;AAED,wBAAgB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEvD"}
\ No newline at end of file
+{"version":3,"file":"event.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAIhC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAc,MAAM,cAAc,CAAC;AACzD,OAAO,EAAE,KAAK,EAAa,MAAM,wBAAwB,CAAC;AAE1D,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC,qBAAa,eAAgB,YAAW,UAAU;IAChD;;OAEG;IACH,OAAO,CAAC,OAAO,CAAsB;IAErC;;OAEG;IACH,OAAO,CAAC,cAAc,CAAsB;gBAEzB,GAAG,EAAE,GAAG;IA6BpB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,EACpE,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI;CA2BtB;AAED,wBAAgB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEvD"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/event.js b/dist/esm/coder/borsh/event.js
index 11a4afe08e8388a3f7646dfa3161bd7fccefe27f..b12234300f1e6f3335837ef35dde0d83e9950540 100644
--- a/dist/esm/coder/borsh/event.js
+++ b/dist/esm/coder/borsh/event.js
@@ -29,15 +29,16 @@ export class BorshEventCoder {
             ]));
     }
     decode(log) {
-        let logArr;
+        let logBytes;
         // This will throw if log length is not a multiple of 4.
         try {
-            logArr = Buffer.from(base64.toByteArray(log));
+            const bytes = base64.toByteArray(log);
+            logBytes = Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength);
         }
         catch (e) {
             return null;
         }
-        const disc = base64.fromByteArray(logArr.slice(0, 8));
+        const disc = base64.fromByteArray(logBytes.subarray(0, 8));
         // Only deserialize if the discriminator implies a proper event.
         const eventName = this.discriminators.get(disc);
         if (eventName === undefined) {
@@ -47,11 +48,11 @@ export class BorshEventCoder {
         if (!layout) {
             throw new Error(`Unknown event: ${eventName}`);
         }
-        const data = layout.decode(logArr.slice(8));
+        const data = layout.decode(logBytes.subarray(8));
         return { data, name: eventName };
     }
 }
 export function eventDiscriminator(name) {
-    return Buffer.from(sha256.digest(`event:${name}`)).slice(0, 8);
+    return Buffer.from(sha256.digest(`event:${name}`)).subarray(0, 8);
 }
 //# sourceMappingURL=event.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/event.js.map b/dist/esm/coder/borsh/event.js.map
index d0dc39359594af1ac1f20d0281be5dd4a7f04a8e..e12c73ee4ecbc63cb64952c6e1e72cb6d61ce77b 100644
--- a/dist/esm/coder/borsh/event.js.map
+++ b/dist/esm/coder/borsh/event.js.map
@@ -1 +1 @@
-{"version":3,"file":"event.js","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,KAAK,MAAM,MAAM,WAAW,CAAC;AAEpC,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAGnC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AAGpC,MAAM,OAAO,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,MAAM,KAAK,SAAS,EAAE;YAC5B,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,EAAE,CAAC;YACzB,OAAO;SACR;QACD,MAAM,OAAO,GAA4B,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE;YAChE,IAAI,YAAY,GAAe;gBAC7B,IAAI,EAAE,KAAK,CAAC,IAAI;gBAChB,IAAI,EAAE;oBACJ,IAAI,EAAE,QAAQ;oBACd,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;wBAC7B,OAAO,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC;oBACxC,CAAC,CAAC;iBACH;aACF,CAAC;YACF,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,QAAQ,CAAC,aAAa,CAAC,YAAY,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QAEhC,IAAI,CAAC,cAAc,GAAG,IAAI,GAAG,CAC3B,GAAG,CAAC,MAAM,KAAK,SAAS;YACtB,CAAC,CAAC,EAAE;YACJ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;gBACpB,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;gBAChD,CAAC,CAAC,IAAI;aACP,CAAC,CACP,CAAC;IACJ,CAAC;IAEM,MAAM,CACX,GAAW;QAEX,IAAI,MAAc,CAAC;QACnB,wDAAwD;QACxD,IAAI;YACF,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;SAC/C;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,IAAI,CAAC;SACb;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAEtD,gEAAgE;QAChE,MAAM,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAChD,IAAI,SAAS,KAAK,SAAS,EAAE;YAC3B,OAAO,IAAI,CAAC;SACb;QAED,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,kBAAkB,SAAS,EAAE,CAAC,CAAC;SAChD;QACD,MAAM,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAGzC,CAAC;QACF,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC;IACnC,CAAC;CACF;AAED,MAAM,UAAU,kBAAkB,CAAC,IAAY;IAC7C,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC"}
\ No newline at end of file
+{"version":3,"file":"event.js","sourceRoot":"","sources":["../../../../src/coder/borsh/event.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/idl.d.ts.map b/dist/esm/coder/borsh/idl.d.ts.map
index fa8edc04ebd0dec5bcd5dd592b83a34188f4502f..95f47d0e0dc72198c9c374d1f70c4b95408c4eb4 100644
--- a/dist/esm/coder/borsh/idl.d.ts.map
+++ b/dist/esm/coder/borsh/idl.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEvC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAA2B,MAAM,cAAc,CAAC;AAG7E,qBAAa,QAAQ;WACL,WAAW,CACvB,KAAK,EAAE;QAAE,IAAI,CAAC,EAAE,MAAM,CAAA;KAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,EACjD,KAAK,CAAC,EAAE,UAAU,EAAE,GACnB,MAAM;WAwGK,aAAa,CACzB,OAAO,EAAE,UAAU,EACnB,KAAK,GAAE,UAAU,EAAO,EACxB,IAAI,CAAC,EAAE,MAAM,GACZ,MAAM;CAqCV"}
\ No newline at end of file
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAEvC,OAAO,EAAE,QAAQ,EAAE,UAAU,EAA2B,MAAM,cAAc,CAAC;AAI7E,qBAAa,QAAQ;WACL,WAAW,CACvB,KAAK,EAAE;QAAE,IAAI,CAAC,EAAE,MAAM,CAAA;KAAE,GAAG,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,EACjD,KAAK,CAAC,EAAE,UAAU,EAAE,GACnB,MAAM;WAwGK,aAAa,CACzB,OAAO,EAAE,UAAU,EACnB,KAAK,GAAE,UAAU,EAAO,EACxB,IAAI,CAAC,EAAE,MAAM,GACZ,MAAM;CAqCV"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/idl.js b/dist/esm/coder/borsh/idl.js
index aa2eb16278d3120be99aaa804d181af44a44b7da..b5ca9db22f6ab67c1324e7536f25baada6d6cc69 100644
--- a/dist/esm/coder/borsh/idl.js
+++ b/dist/esm/coder/borsh/idl.js
@@ -1,6 +1,6 @@
-import camelCase from "camelcase";
 import * as borsh from "@project-serum/borsh";
 import { IdlError } from "../../error.js";
+import { camelCase } from "@juici/case";
 export class IdlCoder {
     static fieldLayout(field, types) {
         const fieldName = field.name !== undefined ? camelCase(field.name) : undefined;
@@ -102,7 +102,7 @@ export class IdlCoder {
             return borsh.struct(fieldLayouts, name);
         }
         else if (typeDef.type.kind === "enum") {
-            let variants = typeDef.type.variants.map((variant) => {
+            const variants = typeDef.type.variants.map((variant) => {
                 const name = camelCase(variant.name);
                 if (variant.fields === undefined) {
                     return borsh.struct([], name);
diff --git a/dist/esm/coder/borsh/idl.js.map b/dist/esm/coder/borsh/idl.js.map
index 5a5bcb320dc13aff6343e9468d4c1693cfbbfa22..e67e902c803424eb1725a017ecaac2d402e9a165 100644
--- a/dist/esm/coder/borsh/idl.js.map
+++ b/dist/esm/coder/borsh/idl.js.map
@@ -1 +1 @@
-{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../../../src/coder/borsh/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/index.d.ts b/dist/esm/coder/borsh/index.d.ts
index 02dad4c411eeede4664b6a68cccfef2e497ce8cc..f2dc711ec807ff67d435845a593780566c04ec87 100644
--- a/dist/esm/coder/borsh/index.d.ts
+++ b/dist/esm/coder/borsh/index.d.ts
@@ -25,7 +25,7 @@ export declare class BorshCoder<A extends string = string, T extends string = st
     /**
      * Coder for state structs.
      */
-    readonly state: BorshStateCoder;
+    readonly state?: BorshStateCoder | undefined;
     /**
      * Coder for events.
      */
diff --git a/dist/esm/coder/borsh/index.d.ts.map b/dist/esm/coder/borsh/index.d.ts.map
index f6a7d1e2cb400e757963c1086099f77167f3b6e0..3bbbd53fef3896a9bc6b5aa6908b1f6f1e3b9d87 100644
--- a/dist/esm/coder/borsh/index.d.ts.map
+++ b/dist/esm/coder/borsh/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,0BAA0B,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AACjE,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEjE;;;GAGG;AACH,qBAAa,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1E,YAAW,KAAK;IAEhB;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,qBAAqB,CAAC;IAE5C;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAEzC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC;IAEhC;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,eAAe,CAAC;IAEjC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;gBAEvB,GAAG,EAAE,GAAG;CASrB"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,YAAY,CAAC;AAC7C,OAAO,EAAE,KAAK,EAAE,MAAM,aAAa,CAAC;AAEpC,OAAO,EAAE,qBAAqB,EAAE,MAAM,kBAAkB,CAAC;AACzD,OAAO,EAAE,kBAAkB,EAAE,0BAA0B,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AACjE,OAAO,EAAE,eAAe,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAC;AAEjE;;;GAGG;AACH,qBAAa,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1E,YAAW,KAAK;IAEhB;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,qBAAqB,CAAC;IAE5C;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAEzC;;OAEG;IACH,QAAQ,CAAC,KAAK,CAAC,EAAE,eAAe,GAAG,SAAS,CAAC;IAE7C;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,eAAe,CAAC;IAEjC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,eAAe,CAAC,CAAC,CAAC,CAAC;gBAEvB,GAAG,EAAE,GAAG;CASrB"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/instruction.d.ts.map b/dist/esm/coder/borsh/instruction.d.ts.map
index ec4b9e711fb2600594f13aba5a0d707dce105f39..370ace909911be6a444833d74d71cce71623a78e 100644
--- a/dist/esm/coder/borsh/instruction.d.ts.map
+++ b/dist/esm/coder/borsh/instruction.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";AACA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAMhC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EACL,GAAG,EAYJ,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C;;GAEG;AACH,eAAO,MAAM,uBAAuB,UAAU,CAAC;AAC/C;;;GAGG;AACH,eAAO,MAAM,wBAAwB,WAAW,CAAC;AAEjD;;GAEG;AACH,qBAAa,qBAAsB,YAAW,gBAAgB;IAOzC,OAAO,CAAC,GAAG;IAL9B,OAAO,CAAC,QAAQ,CAAsB;IAGtC,OAAO,CAAC,cAAc,CAAgD;gBAE3C,GAAG,EAAE,GAAG;IAyBnC;;OAEG;IACI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAI9C;;OAEG;IACI,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAInD,OAAO,CAAC,OAAO;IAYf,OAAO,CAAC,MAAM,CAAC,aAAa;IA6B5B;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,MAAM,GAAG,MAAM,EACnB,QAAQ,GAAE,KAAK,GAAG,QAAgB,GACjC,WAAW,GAAG,IAAI;IAgBrB;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,WAAW,EACf,YAAY,EAAE,WAAW,EAAE,GAC1B,kBAAkB,GAAG,IAAI;CAG7B;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd,CAAC;AAEF,oBAAY,kBAAkB,GAAG;IAC/B,IAAI,EAAE;QAAE,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAA;KAAE,EAAE,CAAC;IACrD,QAAQ,EAAE;QACR,IAAI,CAAC,EAAE,MAAM,CAAC;QACd,MAAM,EAAE,SAAS,CAAC;QAClB,QAAQ,EAAE,OAAO,CAAC;QAClB,UAAU,EAAE,OAAO,CAAC;KACrB,EAAE,CAAC;CACL,CAAC"}
\ No newline at end of file
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAKhC,OAAO,EAAE,WAAW,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AACzD,OAAO,EACL,GAAG,EAYJ,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAG/C;;GAEG;AACH,eAAO,MAAM,uBAAuB,UAAU,CAAC;AAC/C;;;GAGG;AACH,eAAO,MAAM,wBAAwB,WAAW,CAAC;AAEjD;;GAEG;AACH,qBAAa,qBAAsB,YAAW,gBAAgB;IAOzC,OAAO,CAAC,GAAG;IAL9B,OAAO,CAAC,QAAQ,CAAsB;IAGtC,OAAO,CAAC,cAAc,CAAgD;gBAE3C,GAAG,EAAE,GAAG;IAyBnC;;OAEG;IACI,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAI9C;;OAEG;IACI,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAInD,OAAO,CAAC,OAAO;IAYf,OAAO,CAAC,MAAM,CAAC,aAAa;IA6B5B;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,MAAM,GAAG,MAAM,EACnB,QAAQ,GAAE,KAAK,GAAG,QAAgB,GACjC,WAAW,GAAG,IAAI;IAgBrB;;OAEG;IACI,MAAM,CACX,EAAE,EAAE,WAAW,EACf,YAAY,EAAE,WAAW,EAAE,GAC1B,kBAAkB,GAAG,IAAI;CAG7B;AAED,oBAAY,WAAW,GAAG;IACxB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd,CAAC;AAEF,oBAAY,kBAAkB,GAAG;IAC/B,IAAI,EAAE;QAAE,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAC;QAAC,IAAI,EAAE,MAAM,CAAA;KAAE,EAAE,CAAC;IACrD,QAAQ,EAAE;QACR,IAAI,CAAC,EAAE,MAAM,CAAC;QACd,MAAM,EAAE,SAAS,CAAC;QAClB,QAAQ,EAAE,OAAO,CAAC;QAClB,UAAU,EAAE,OAAO,CAAC;KACrB,EAAE,CAAC;CACL,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/instruction.js b/dist/esm/coder/borsh/instruction.js
index e92cfc4ed26fc1d3368c5dd3341f5bdda42ebbe0..ee2c46eeedc9831e5ba8f912df844195c8fe6a75 100644
--- a/dist/esm/coder/borsh/instruction.js
+++ b/dist/esm/coder/borsh/instruction.js
@@ -1,10 +1,9 @@
-import bs58 from "bs58";
 import { Buffer } from "buffer";
-import camelCase from "camelcase";
-import { snakeCase } from "snake-case";
+import { camelCase, pascalCase, snakeCase } from "@juici/case";
 import { sha256 } from "js-sha256";
 import * as borsh from "@project-serum/borsh";
 import { IdlCoder } from "./idl.js";
+import { bs58 } from "../../utils/bytes/index.js";
 /**
  * Namespace for state method function signatures.
  */
@@ -91,12 +90,12 @@ export class BorshInstructionCoder {
         if (typeof ix === "string") {
             ix = encoding === "hex" ? Buffer.from(ix, "hex") : bs58.decode(ix);
         }
-        let sighash = bs58.encode(ix.slice(0, 8));
-        let data = ix.slice(8);
+        const sighash = bs58.encode(ix.subarray(0, 8));
         const decoder = this.sighashLayouts.get(sighash);
         if (!decoder) {
             return null;
         }
+        const data = ix.subarray(8);
         return {
             data: decoder.layout.decode(data),
             name: decoder.name,
@@ -226,7 +225,7 @@ class InstructionFormatter {
                         InstructionFormatter.formatIdlData(idlField, fieldData, types));
                 })
                     .join(", ");
-                const variantName = camelCase(variant, { pascalCase: true });
+                const variantName = pascalCase(variant);
                 if (namedFields.length === 0) {
                     return variantName;
                 }
@@ -264,8 +263,7 @@ function sentenceCase(field) {
 // Not technically sighash, since we don't include the arguments, as Rust
 // doesn't allow function overloading.
 function sighash(nameSpace, ixName) {
-    let name = snakeCase(ixName);
-    let preimage = `${nameSpace}:${name}`;
-    return Buffer.from(sha256.digest(preimage)).slice(0, 8);
+    const digest = sha256.digest(`${nameSpace}:${snakeCase(ixName)}`);
+    return Buffer.from(digest).subarray(0, 8);
 }
 //# sourceMappingURL=instruction.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/instruction.js.map b/dist/esm/coder/borsh/instruction.js.map
index 84c597a1ab59906550503aae4bf22bf6e6fb2044..f1a5a30e004949a4386b28bfc3593f3c49b5e551 100644
--- a/dist/esm/coder/borsh/instruction.js.map
+++ b/dist/esm/coder/borsh/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/borsh/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/state.d.ts b/dist/esm/coder/borsh/state.d.ts
index 3e1cb4b1f00dd44b911ba33c0c5b096f6544a108..745a2181207253a0a032a4502aaa980072babaee 100644
--- a/dist/esm/coder/borsh/state.d.ts
+++ b/dist/esm/coder/borsh/state.d.ts
@@ -3,6 +3,7 @@ import { Buffer } from "buffer";
 import { Idl } from "../../idl.js";
 export declare class BorshStateCoder {
     private layout;
+    private maxSize;
     constructor(idl: Idl);
     encode<T = any>(name: string, account: T): Promise<Buffer>;
     decode<T = any>(ix: Buffer): T;
diff --git a/dist/esm/coder/borsh/state.d.ts.map b/dist/esm/coder/borsh/state.d.ts.map
index f4c9b0d3ffa939b195a79159b696428382c38862..5f2eda0e2e5d4270461d547629d8d889fdd6145a 100644
--- a/dist/esm/coder/borsh/state.d.ts.map
+++ b/dist/esm/coder/borsh/state.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAInC,qBAAa,eAAe;IAC1B,OAAO,CAAC,MAAM,CAAS;gBAEJ,GAAG,EAAE,GAAG;IAOd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAUhE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;CAKtC;AAGD,wBAAsB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAGtE"}
\ No newline at end of file
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAMnC,qBAAa,eAAe;IAC1B,OAAO,CAAC,MAAM,CAAS;IACvB,OAAO,CAAC,OAAO,CAAqB;gBAEjB,GAAG,EAAE,GAAG;IAQd,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAUhE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;CAKtC;AAGD,wBAAsB,kBAAkB,CAAC,IAAI,EAAE,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC,CAGtE"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/state.js b/dist/esm/coder/borsh/state.js
index 2f9f0e2f12de1b4ffb62d3170ecb0486e8b88939..e0f4e331ab4f1d658452d0a4a16e31bcdfcbcb76 100644
--- a/dist/esm/coder/borsh/state.js
+++ b/dist/esm/coder/borsh/state.js
@@ -2,29 +2,33 @@ import { Buffer } from "buffer";
 import { sha256 } from "js-sha256";
 import { IdlCoder } from "./idl.js";
 import * as features from "../../utils/features.js";
+import { layoutSize } from "../common.js";
+import { PACKET_DATA_SIZE } from "@solana/web3.js";
 export class BorshStateCoder {
     constructor(idl) {
         if (idl.state === undefined) {
             throw new Error("Idl state not defined.");
         }
         this.layout = IdlCoder.typeDefLayout(idl.state.struct, idl.types);
+        this.maxSize = layoutSize(this.layout);
     }
     async encode(name, account) {
-        const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.
+        var _a;
+        const buffer = Buffer.alloc((_a = this.maxSize) !== null && _a !== void 0 ? _a : PACKET_DATA_SIZE);
         const len = this.layout.encode(account, buffer);
         const disc = await stateDiscriminator(name);
-        const accData = buffer.slice(0, len);
+        const accData = buffer.subarray(0, len);
         return Buffer.concat([disc, accData]);
     }
     decode(ix) {
         // Chop off discriminator.
-        const data = ix.slice(8);
+        const data = ix.subarray(8);
         return this.layout.decode(data);
     }
 }
 // Calculates unique 8 byte discriminator prepended to all anchor state accounts.
 export async function stateDiscriminator(name) {
-    let ns = features.isSet("anchor-deprecated-state") ? "account" : "state";
-    return Buffer.from(sha256.digest(`${ns}:${name}`)).slice(0, 8);
+    const ns = features.isSet("anchor-deprecated-state") ? "account" : "state";
+    return Buffer.from(sha256.digest(`${ns}:${name}`)).subarray(0, 8);
 }
 //# sourceMappingURL=state.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/state.js.map b/dist/esm/coder/borsh/state.js.map
index 7e3f24935e452c6a48447304d5368b414acc75ff..4ec2b38d46e77061526fdede6e70e7b7ecc2506c 100644
--- a/dist/esm/coder/borsh/state.js.map
+++ b/dist/esm/coder/borsh/state.js.map
@@ -1 +1 @@
-{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAEnC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AACpC,OAAO,KAAK,QAAQ,MAAM,yBAAyB,CAAC;AAEpD,MAAM,OAAO,eAAe;IAG1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;IACpE,CAAC;IAEM,KAAK,CAAC,MAAM,CAAU,IAAY,EAAE,OAAU;QACnD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEhD,MAAM,IAAI,GAAG,MAAM,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAErC,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAU,EAAU;QAC/B,0BAA0B;QAC1B,MAAM,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACzB,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;CACF;AAED,iFAAiF;AACjF,MAAM,CAAC,KAAK,UAAU,kBAAkB,CAAC,IAAY;IACnD,IAAI,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;IACzE,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC"}
\ No newline at end of file
+{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/coder/borsh/state.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAEnC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AACpC,OAAO,KAAK,QAAQ,MAAM,yBAAyB,CAAC;AACpD,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAC1C,OAAO,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AAEnD,MAAM,OAAO,eAAe;IAI1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,MAAM,IAAI,KAAK,CAAC,wBAAwB,CAAC,CAAC;SAC3C;QACD,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;QAClE,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,MAAM,CAAU,IAAY,EAAE,OAAU;;QACnD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,MAAA,IAAI,CAAC,OAAO,mCAAI,gBAAgB,CAAC,CAAC;QAC9D,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;QAEhD,MAAM,IAAI,GAAG,MAAM,kBAAkB,CAAC,IAAI,CAAC,CAAC;QAC5C,MAAM,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;QAExC,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;IACxC,CAAC;IAEM,MAAM,CAAU,EAAU;QAC/B,0BAA0B;QAC1B,MAAM,IAAI,GAAG,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC5B,OAAO,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAClC,CAAC;CACF;AAED,iFAAiF;AACjF,MAAM,CAAC,KAAK,UAAU,kBAAkB,CAAC,IAAY;IACnD,MAAM,EAAE,GAAG,QAAQ,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC;IAC3E,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpE,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/types.d.ts.map b/dist/esm/coder/borsh/types.d.ts.map
index 02d631a504d4b8b0393d5993aea74bec31ba19b7..571ebf391202c77bed919219ceed3b7fcaeb075f 100644
--- a/dist/esm/coder/borsh/types.d.ts.map
+++ b/dist/esm/coder/borsh/types.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAEzC;;GAEG;AACH,qBAAa,eAAe,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAAE,YAAW,UAAU;IAC3E;;OAEG;IACH,OAAO,CAAC,WAAW,CAAiB;IAEpC;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAapB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM;IAW7C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC;CAOzD"}
\ No newline at end of file
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAC;AAGzC;;GAEG;AACH,qBAAa,eAAe,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAAE,YAAW,UAAU;IAC3E;;OAEG;IACH,OAAO,CAAC,WAAW,CAAuC;IAE1D;;OAEG;IACH,OAAO,CAAC,GAAG,CAAM;gBAEE,GAAG,EAAE,GAAG;IAqBpB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM;IAW7C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC;CAQzD"}
\ No newline at end of file
diff --git a/dist/esm/coder/borsh/types.js b/dist/esm/coder/borsh/types.js
index 3046d9abaf1955985e2dacb0bfbdf32f2fd92c3c..516917eb4553bcbf5998c2498735eed5850b9059 100644
--- a/dist/esm/coder/borsh/types.js
+++ b/dist/esm/coder/borsh/types.js
@@ -1,5 +1,7 @@
 import { Buffer } from "buffer";
+import { PACKET_DATA_SIZE } from "@solana/web3.js";
 import { IdlCoder } from "./idl.js";
+import { layoutSize } from "../common.js";
 /**
  * Encodes and decodes user-defined types.
  */
@@ -9,26 +11,36 @@ export class BorshTypesCoder {
             this.typeLayouts = new Map();
             return;
         }
-        const layouts = idl.types.map((acc) => {
-            return [acc.name, IdlCoder.typeDefLayout(acc, idl.types)];
+        const layouts = idl.types.map((type) => {
+            const layout = IdlCoder.typeDefLayout(type, idl.types);
+            let size;
+            try {
+                size = layoutSize(layout);
+            }
+            catch (_) {
+                // noop
+            }
+            return [type.name, [layout, size]];
         });
         this.typeLayouts = new Map(layouts);
         this.idl = idl;
     }
     encode(typeName, type) {
-        const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.
-        const layout = this.typeLayouts.get(typeName);
-        if (!layout) {
+        const entry = this.typeLayouts.get(typeName);
+        if (!entry) {
             throw new Error(`Unknown type: ${typeName}`);
         }
+        const [layout, size] = entry;
+        const buffer = Buffer.alloc(size !== null && size !== void 0 ? size : PACKET_DATA_SIZE);
         const len = layout.encode(type, buffer);
-        return buffer.slice(0, len);
+        return buffer.subarray(0, len);
     }
     decode(typeName, typeData) {
-        const layout = this.typeLayouts.get(typeName);
-        if (!layout) {
+        const entry = this.typeLayouts.get(typeName);
+        if (!entry) {
             throw new Error(`Unknown type: ${typeName}`);
         }
+        const [layout] = entry;
         return layout.decode(typeData);
     }
 }
diff --git a/dist/esm/coder/borsh/types.js.map b/dist/esm/coder/borsh/types.js.map
index 6f7a9efd47f5e6c1fcf369bc65847515157641db..f517259881e5b72456c03025234b6d50e3574b2f 100644
--- a/dist/esm/coder/borsh/types.js.map
+++ b/dist/esm/coder/borsh/types.js.map
@@ -1 +1 @@
-{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AAGpC;;GAEG;AACH,MAAM,OAAO,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;YAC7B,OAAO;SACR;QACD,MAAM,OAAO,GAAkB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE;YACnD,OAAO,CAAC,GAAG,CAAC,IAAS,EAAE,QAAQ,CAAC,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;QACjE,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,IAAO;QACzC,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;QACjE,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QAExC,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IAC9B,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,QAAgB;QAClD,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,EAAE;YACX,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;CACF"}
\ No newline at end of file
+{"version":3,"file":"types.js","sourceRoot":"","sources":["../../../../src/coder/borsh/types.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,gBAAgB,EAAE,MAAM,iBAAiB,CAAC;AAEnD,OAAO,EAAE,QAAQ,EAAE,MAAM,UAAU,CAAC;AAEpC,OAAO,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAE1C;;GAEG;AACH,MAAM,OAAO,eAAe;IAW1B,YAAmB,GAAQ;QACzB,IAAI,GAAG,CAAC,KAAK,KAAK,SAAS,EAAE;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,EAAE,CAAC;YAC7B,OAAO;SACR;QACD,MAAM,OAAO,GAAwC,GAAG,CAAC,KAAK,CAAC,GAAG,CAChE,CAAC,IAAI,EAAE,EAAE;YACP,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC;YACvD,IAAI,IAAwB,CAAC;YAC7B,IAAI;gBACF,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,CAAC;aAC3B;YAAC,OAAO,CAAC,EAAE;gBACV,OAAO;aACR;YACD,OAAO,CAAC,IAAI,CAAC,IAAS,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;QAC1C,CAAC,CACF,CAAC;QACF,IAAI,CAAC,WAAW,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;IACjB,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,IAAO;QACzC,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG,KAAK,CAAC;QAC7B,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,aAAJ,IAAI,cAAJ,IAAI,GAAI,gBAAgB,CAAC,CAAC;QACtD,MAAM,GAAG,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;QACxC,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;IACjC,CAAC;IAEM,MAAM,CAAU,QAAW,EAAE,QAAgB;QAClD,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QAC7C,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,KAAK,CAAC,iBAAiB,QAAQ,EAAE,CAAC,CAAC;SAC9C;QACD,MAAM,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC;QACvB,OAAO,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACjC,CAAC;CACF"}
\ No newline at end of file
diff --git a/dist/esm/coder/common.d.ts b/dist/esm/coder/common.d.ts
index e4e6d62f6445d15ef33619a5413eebb14175873f..e6532db54ce6ef89977d3757fcd047956bb62ba1 100644
--- a/dist/esm/coder/common.d.ts
+++ b/dist/esm/coder/common.d.ts
@@ -1,3 +1,5 @@
 import { Idl, IdlTypeDef } from "../idl.js";
+import * as BufferLayout from "buffer-layout";
+export declare function layoutSize(layout: BufferLayout.Layout): number;
 export declare function accountSize(idl: Idl, idlAccount: IdlTypeDef): number;
 //# sourceMappingURL=common.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/coder/common.d.ts.map b/dist/esm/coder/common.d.ts.map
index 180fa94c32af973c09bbfd9df51aaa4884147696..b3e407c4d6fffc4de750ea5623c6eab76c4819c1 100644
--- a/dist/esm/coder/common.d.ts.map
+++ b/dist/esm/coder/common.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAY,UAAU,EAA2B,MAAM,WAAW,CAAC;AAG/E,wBAAgB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,GAAG,MAAM,CAyBpE"}
\ No newline at end of file
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,GAAG,EAAY,UAAU,EAA2B,MAAM,WAAW,CAAC;AAE/E,OAAO,KAAK,YAAY,MAAM,eAAe,CAAC;AAsB9C,wBAAgB,UAAU,CAAC,MAAM,EAAE,YAAY,CAAC,MAAM,GAAG,MAAM,CA4B9D;AAED,wBAAgB,WAAW,CAAC,GAAG,EAAE,GAAG,EAAE,UAAU,EAAE,UAAU,GAAG,MAAM,CAyBpE"}
\ No newline at end of file
diff --git a/dist/esm/coder/common.js b/dist/esm/coder/common.js
index 420d3ba0ff4f59c99e7cd1f512b7575bf0e86c18..7ac7e82e8c8da890bb2f6d53d20621dd2057b46d 100644
--- a/dist/esm/coder/common.js
+++ b/dist/esm/coder/common.js
@@ -1,4 +1,43 @@
 import { IdlError } from "../error.js";
+import * as BufferLayout from "buffer-layout";
+const isOptionLayout = (() => {
+    return (layout) => layout["layout"] instanceof BufferLayout.Layout &&
+        layout["discriminator"] instanceof BufferLayout.UInt;
+})();
+const isWrappedLayout = (() => {
+    return (layout) => layout["layout"] instanceof BufferLayout.Layout &&
+        typeof layout["decoder"] === "function" &&
+        typeof layout["encoder"] === "function";
+})();
+export function layoutSize(layout) {
+    if (layout.span >= 0) {
+        return layout.span;
+    }
+    if (layout instanceof BufferLayout.Structure) {
+        return layout.fields.reduce((acc, field) => acc + layoutSize(field), 0);
+    }
+    else if (layout instanceof BufferLayout.Union) {
+        let span = Object.values(layout.registry).reduce((max, variant) => {
+            const span = layoutSize(variant);
+            return span > max ? span : max;
+        }, 0);
+        if (layout.usesPrefixDiscriminator) {
+            span += layout.discriminator
+                .layout.span;
+        }
+        return span;
+    }
+    else if (layout instanceof BufferLayout.VariantLayout) {
+        return layout.layout == null ? 0 : layoutSize(layout.layout);
+    }
+    else if (isOptionLayout(layout)) {
+        return layoutSize(layout.discriminator) + layoutSize(layout.layout);
+    }
+    else if (isWrappedLayout(layout)) {
+        return layoutSize(layout.layout);
+    }
+    throw new Error("indeterminate span");
+}
 export function accountSize(idl, idlAccount) {
     if (idlAccount.type.kind === "enum") {
         let variantSizes = idlAccount.type.variants.map((variant) => {
@@ -23,39 +62,33 @@ export function accountSize(idl, idlAccount) {
         .map((f) => typeSize(idl, f.type))
         .reduce((a, b) => a + b, 0);
 }
-// Returns the size of the type in bytes. For variable length types, just return
-// 1. Users should override this value in such cases.
+// Returns the size of the type in bytes.
+//
+// For variable length types, just return 1.
+// Users should override this value in such cases.
 function typeSize(idl, ty) {
     var _a, _b;
     switch (ty) {
         case "bool":
             return 1;
         case "u8":
-            return 1;
         case "i8":
             return 1;
         case "i16":
-            return 2;
         case "u16":
             return 2;
         case "u32":
-            return 4;
         case "i32":
-            return 4;
         case "f32":
             return 4;
         case "u64":
-            return 8;
         case "i64":
-            return 8;
         case "f64":
             return 8;
         case "u128":
-            return 16;
         case "i128":
             return 16;
         case "bytes":
-            return 1;
         case "string":
             return 1;
         case "publicKey":
diff --git a/dist/esm/coder/common.js.map b/dist/esm/coder/common.js.map
index 67c9c45f7e6b5e4659bacf400b0e7de7983c1ba2..ef895eb592aefb0217b6a93f6b37d5749f182fe6 100644
--- a/dist/esm/coder/common.js.map
+++ b/dist/esm/coder/common.js.map
@@ -1 +1 @@
-{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/coder/common.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/index.d.ts b/dist/esm/coder/index.d.ts
index 29e6e0f75b11a07b37cf685c94e3e659ae261d1b..4749bace77292d175f189ddb6dbe50094406cdf6 100644
--- a/dist/esm/coder/index.d.ts
+++ b/dist/esm/coder/index.d.ts
@@ -19,7 +19,7 @@ export interface Coder<A extends string = string, T extends string = string> {
     /**
      * Coder for state structs.
      */
-    readonly state: StateCoder;
+    readonly state?: StateCoder | undefined;
     /**
      * Coder for events.
      */
diff --git a/dist/esm/coder/index.d.ts.map b/dist/esm/coder/index.d.ts.map
index 4228f59fc0f1406db49b0db46f584e1b973886a7..3d25d3393da1e64f84f472ec243956590e97bc1c 100644
--- a/dist/esm/coder/index.d.ts.map
+++ b/dist/esm/coder/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/index.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAE5C,cAAc,kBAAkB,CAAC;AACjC,cAAc,sBAAsB,CAAC;AACrC,cAAc,mBAAmB,CAAC;AAElC;;GAEG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM;IACzE;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC;IAEvC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;IAEpC;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC;IAE3B;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC;IAE5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;CAC/B;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,aAAa,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACtD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IAC/C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IACxD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM,CAAC;CACtC;AAED,MAAM,WAAW,gBAAgB;IAC/B,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;IACxC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;CAC9C;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;CACvB;AAED,MAAM,WAAW,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACnD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC;IAC9C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;CACnD"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/coder/index.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,qBAAqB,CAAC;AAE5C,cAAc,kBAAkB,CAAC;AACjC,cAAc,sBAAsB,CAAC;AACrC,cAAc,mBAAmB,CAAC;AAElC;;GAEG;AACH,MAAM,WAAW,KAAK,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,EAAE,CAAC,SAAS,MAAM,GAAG,MAAM;IACzE;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,gBAAgB,CAAC;IAEvC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,aAAa,CAAC,CAAC,CAAC,CAAC;IAEpC;;OAEG;IACH,QAAQ,CAAC,KAAK,CAAC,EAAE,UAAU,GAAG,SAAS,CAAC;IAExC;;OAEG;IACH,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC;IAE5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC,CAAC;CAC/B;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC3D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;CAChC;AAED,MAAM,WAAW,aAAa,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACtD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;IAC7D,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IAC/C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC,CAAC;IACxD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,UAAU,CAAC,EAAE,MAAM,GAAG,GAAG,CAAC;IACjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM,CAAC;CACtC;AAED,MAAM,WAAW,gBAAgB;IAC/B,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;IACxC,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM,CAAC;CAC9C;AAED,MAAM,WAAW,UAAU;IACzB,MAAM,CAAC,CAAC,SAAS,QAAQ,GAAG,QAAQ,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9D,GAAG,EAAE,MAAM,GACV,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,IAAI,CAAC;CACvB;AAED,MAAM,WAAW,UAAU,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM;IACnD,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,MAAM,CAAC;IAC9C,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,QAAQ,EAAE,CAAC,EAAE,QAAQ,EAAE,MAAM,GAAG,CAAC,CAAC;CACnD"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-associated-token/instruction.js b/dist/esm/coder/spl-associated-token/instruction.js
index 4eb32ce9506054d689bd10f3a54bbc67f0353294..dff92ca5615a8f3b36a1e8e2272646c8a1340559 100644
--- a/dist/esm/coder/spl-associated-token/instruction.js
+++ b/dist/esm/coder/spl-associated-token/instruction.js
@@ -1,4 +1,4 @@
-import camelCase from "camelcase";
+import { camelCase } from "@juici/case";
 export class SplAssociatedTokenInstructionCoder {
     constructor(_) { }
     encode(ixName, _) {
diff --git a/dist/esm/coder/spl-associated-token/instruction.js.map b/dist/esm/coder/spl-associated-token/instruction.js.map
index d038925158198d6668c15871d5d64331c4662406..82aa44bf94907cf7c4a19ccda8908c18c67b07df 100644
--- a/dist/esm/coder/spl-associated-token/instruction.js.map
+++ b/dist/esm/coder/spl-associated-token/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/instruction.ts"],"names":[],"mappings":"AAAA,OAAO,SAAS,MAAM,WAAW,CAAC;AAIlC,MAAM,OAAO,kCAAkC;IAC7C,YAAY,CAAM,IAAG,CAAC;IAEtB,MAAM,CAAC,MAAc,EAAE,CAAM;QAC3B,QAAQ,SAAS,CAAC,MAAM,CAAC,EAAE;YACzB,KAAK,QAAQ,CAAC,CAAC;gBACb,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,wBAAwB,MAAM,EAAE,CAAC,CAAC;aACnD;SACF;IACH,CAAC;IAED,WAAW,CAAC,OAAe,EAAE,GAAQ;QACnC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;IAC9D,CAAC;CACF"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-associated-token/instruction.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AAIxC,MAAM,OAAO,kCAAkC;IAC7C,YAAY,CAAM,IAAG,CAAC;IAEtB,MAAM,CAAC,MAAc,EAAE,CAAM;QAC3B,QAAQ,SAAS,CAAC,MAAM,CAAC,EAAE;YACzB,KAAK,QAAQ,CAAC,CAAC;gBACb,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;aACxB;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,wBAAwB,MAAM,EAAE,CAAC,CAAC;aACnD;SACF;IACH,CAAC;IAED,WAAW,CAAC,OAAe,EAAE,GAAQ;QACnC,MAAM,IAAI,KAAK,CAAC,0CAA0C,CAAC,CAAC;IAC9D,CAAC;CACF"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/accounts.d.ts.map b/dist/esm/coder/spl-token/accounts.d.ts.map
index 1939b6ac486c152e5f933fc6b21a7aac3f364e9e..b727d04a9a7d585f2b33c5b8dc61ce0ac345f220 100644
--- a/dist/esm/coder/spl-token/accounts.d.ts.map
+++ b/dist/esm/coder/spl-token/accounts.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,qBAAqB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1D,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAkBlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAevD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAkBjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":";AAEA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAG/C,qBAAa,qBAAqB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CAC1D,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAoBlE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAevD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAkBjD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/accounts.js b/dist/esm/coder/spl-token/accounts.js
index 8695a28d4ec7ac66ee987e45dbeae9010f0cd17c..5534b45f53b757bc631f35706398d53de46e1c18 100644
--- a/dist/esm/coder/spl-token/accounts.js
+++ b/dist/esm/coder/spl-token/accounts.js
@@ -9,11 +9,13 @@ export class SplTokenAccountsCoder {
         switch (accountName) {
             case "token": {
                 const buffer = Buffer.alloc(165);
+                // @ts-ignore
                 const len = TOKEN_ACCOUNT_LAYOUT.encode(account, buffer);
                 return buffer.slice(0, len);
             }
             case "mint": {
                 const buffer = Buffer.alloc(82);
+                // @ts-ignore
                 const len = MINT_ACCOUNT_LAYOUT.encode(account, buffer);
                 return buffer.slice(0, len);
             }
diff --git a/dist/esm/coder/spl-token/accounts.js.map b/dist/esm/coder/spl-token/accounts.js.map
index 9eb17064188abba93b4d0f12117c5d7898a936a2..0b21ed822ae2ce5cad683b413e6640f707ca5e29 100644
--- a/dist/esm/coder/spl-token/accounts.js.map
+++ b/dist/esm/coder/spl-token/accounts.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/buffer-layout.d.ts b/dist/esm/coder/spl-token/buffer-layout.d.ts
index c20a4909b0b64a11fd5932b7cb594b83c6e23928..9d9eecf0f6b367db7f856524978ba698ff7e2cdd 100644
--- a/dist/esm/coder/spl-token/buffer-layout.d.ts
+++ b/dist/esm/coder/spl-token/buffer-layout.d.ts
@@ -2,7 +2,7 @@
 import BN from "bn.js";
 import { Layout } from "buffer-layout";
 import { PublicKey } from "@solana/web3.js";
-export declare function uint64(property?: string): Layout<u64 | null>;
+export declare function uint64(property?: string): Layout<u64>;
 export declare function bool(property?: string): Layout<boolean>;
 export declare function publicKey(property?: string): Layout<PublicKey>;
 export declare function coption<T>(layout: Layout<T>, property?: string): Layout<T | null>;
diff --git a/dist/esm/coder/spl-token/buffer-layout.d.ts.map b/dist/esm/coder/spl-token/buffer-layout.d.ts.map
index 818c845cb85c3fc0c8de86cd15c02286c2bcd740..6da8adae8e6d7e40b802cc815d0beb611b70d663 100644
--- a/dist/esm/coder/spl-token/buffer-layout.d.ts.map
+++ b/dist/esm/coder/spl-token/buffer-layout.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"buffer-layout.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvB,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,wBAAgB,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,CAO5D;AAED,wBAAgB,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAEvD;AAED,wBAAgB,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAO9D;AAED,wBAAgB,OAAO,CAAC,CAAC,EACvB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EACjB,QAAQ,CAAC,EAAE,MAAM,GAChB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAElB;AAgCD,qBAAa,aAAa,CAAC,CAAC,CAAE,SAAQ,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IACpD,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAClB,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM;IAMhD,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;IAQpD,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,CAAC,GAAG,IAAI;IAUvC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;CAGvC;AAeD,qBAAa,GAAI,SAAQ,EAAE;IACzB;;OAEG;IACH,QAAQ,IAAI,MAAM;IAelB;;OAEG;IACH,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,GAAG;CAYvC"}
\ No newline at end of file
+{"version":3,"file":"buffer-layout.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,OAAO,CAAC;AAEvB,OAAO,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AACvC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,wBAAgB,MAAM,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,GAAG,CAAC,CAOrD;AAED,wBAAgB,IAAI,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,CAEvD;AAED,wBAAgB,SAAS,CAAC,QAAQ,CAAC,EAAE,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,CAO9D;AAED,wBAAgB,OAAO,CAAC,CAAC,EACvB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EACjB,QAAQ,CAAC,EAAE,MAAM,GAChB,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,CAElB;AAgCD,qBAAa,aAAa,CAAC,CAAC,CAAE,SAAQ,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC;IACpD,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC;IAClB,aAAa,EAAE,MAAM,CAAC,MAAM,CAAC,CAAC;gBAElB,MAAM,EAAE,MAAM,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,EAAE,MAAM;IAMhD,MAAM,CAAC,GAAG,EAAE,CAAC,GAAG,IAAI,EAAE,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;IAQpD,MAAM,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,CAAC,GAAG,IAAI;IAUvC,OAAO,CAAC,CAAC,EAAE,MAAM,EAAE,MAAM,SAAI,GAAG,MAAM;CAGvC;AAeD,qBAAa,GAAI,SAAQ,EAAE;IACzB;;OAEG;IACH,QAAQ,IAAI,MAAM;IAQlB;;OAEG;IACH,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,MAAM,GAAG,GAAG;CAMvC"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/buffer-layout.js b/dist/esm/coder/spl-token/buffer-layout.js
index 467a368e1310e68d4373e382750e1190b07af997..5c6d760192ba3b8b20140509c198b7b80e247389 100644
--- a/dist/esm/coder/spl-token/buffer-layout.js
+++ b/dist/esm/coder/spl-token/buffer-layout.js
@@ -42,7 +42,7 @@ export class COptionLayout extends Layout {
             return this.layout.span + this.discriminator.encode(0, b, offset);
         }
         this.discriminator.encode(1, b, offset);
-        return this.layout.encode(src, b, offset + 4) + 4;
+        return 4 + this.layout.encode(src, b, offset + 4);
     }
     decode(b, offset = 0) {
         const discriminator = this.discriminator.decode(b, offset);
@@ -75,17 +75,11 @@ export class u64 extends BN {
      * Convert to Buffer representation
      */
     toBuffer() {
-        const a = super.toArray().reverse();
-        const b = Buffer.from(a);
-        if (b.length === 8) {
-            return b;
-        }
-        if (b.length >= 8) {
+        const buf = super.toArrayLike(Buffer, "le", 8);
+        if (buf.length >= 8) {
             throw new Error("u64 too large");
         }
-        const zeroPad = Buffer.alloc(8);
-        b.copy(zeroPad);
-        return zeroPad;
+        return buf;
     }
     /**
      * Construct a u64 from Buffer representation
@@ -94,10 +88,7 @@ export class u64 extends BN {
         if (buffer.length !== 8) {
             throw new Error(`Invalid buffer length: ${buffer.length}`);
         }
-        return new u64([...buffer]
-            .reverse()
-            .map((i) => `00${i.toString(16)}`.slice(-2))
-            .join(""), 16);
+        return new u64(buffer, "le");
     }
 }
 //# sourceMappingURL=buffer-layout.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/buffer-layout.js.map b/dist/esm/coder/spl-token/buffer-layout.js.map
index e482b7983d06920036d61ac0b0892982605ee591..307d227649172be8768e5d0831a38a3bda79ba86 100644
--- a/dist/esm/coder/spl-token/buffer-layout.js.map
+++ b/dist/esm/coder/spl-token/buffer-layout.js.map
@@ -1 +1 @@
-{"version":3,"file":"buffer-layout.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"buffer-layout.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/buffer-layout.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/instruction.d.ts.map b/dist/esm/coder/spl-token/instruction.d.ts.map
index 9521286f89c14933296101a0102b1ace5edd4b25..5db0259ed7dffebb743305ac0a3579c41583f0e4 100644
--- a/dist/esm/coder/spl-token/instruction.d.ts.map
+++ b/dist/esm/coder/spl-token/instruction.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAEnC,qBAAa,wBAAyB,YAAW,gBAAgB;gBACnD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAuEvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAC/C,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AAGnC,qBAAa,wBAAyB,YAAW,gBAAgB;gBACnD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IAuEvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/instruction.js b/dist/esm/coder/spl-token/instruction.js
index 2ee2cd431bdb93e9c8e529c56091b5960158ce41..60206a6f37675b97d3001f6f5f590cb60e995022 100644
--- a/dist/esm/coder/spl-token/instruction.js
+++ b/dist/esm/coder/spl-token/instruction.js
@@ -1,6 +1,7 @@
 import * as BufferLayout from "buffer-layout";
-import camelCase from "camelcase";
-import { PublicKey } from "@solana/web3.js";
+import * as borsh from "@project-serum/borsh";
+import { camelCase } from "@juici/case";
+import { layoutSize } from "../common.js";
 export class SplTokenInstructionCoder {
     constructor(_) { }
     encode(ixName, ix) {
@@ -81,9 +82,8 @@ function encodeInitializeMint({ decimals, mintAuthority, freezeAuthority, }) {
     return encodeData({
         initializeMint: {
             decimals,
-            mintAuthority: mintAuthority.toBuffer(),
-            freezeAuthorityOption: !!freezeAuthority,
-            freezeAuthority: (freezeAuthority || PublicKey.default).toBuffer(),
+            mintAuthority,
+            freezeAuthority,
         },
     });
 }
@@ -186,66 +186,47 @@ function encodeInitializeMultisig2({ m }) {
 }
 function encodeInitializeMint2({ decimals, mintAuthority, freezeAuthority, }) {
     return encodeData({
-        encodeInitializeMint2: { decimals, mintAuthority, freezeAuthority },
+        initializeMint2: { decimals, mintAuthority, freezeAuthority },
     });
 }
 const LAYOUT = BufferLayout.union(BufferLayout.u8("instruction"));
 LAYOUT.addVariant(0, BufferLayout.struct([
     BufferLayout.u8("decimals"),
-    BufferLayout.blob(32, "mintAuthority"),
-    BufferLayout.u8("freezeAuthorityOption"),
-    publicKey("freezeAuthority"),
+    borsh.publicKey("mintAuthority"),
+    borsh.option(borsh.publicKey(), "freezeAuthority"),
 ]), "initializeMint");
 LAYOUT.addVariant(1, BufferLayout.struct([]), "initializeAccount");
 LAYOUT.addVariant(2, BufferLayout.struct([BufferLayout.u8("m")]), "initializeMultisig");
-LAYOUT.addVariant(3, BufferLayout.struct([BufferLayout.nu64("amount")]), "transfer");
-LAYOUT.addVariant(4, BufferLayout.struct([BufferLayout.nu64("amount")]), "approve");
+LAYOUT.addVariant(3, BufferLayout.struct([borsh.u64("amount")]), "transfer");
+LAYOUT.addVariant(4, BufferLayout.struct([borsh.u64("amount")]), "approve");
 LAYOUT.addVariant(5, BufferLayout.struct([]), "revoke");
 LAYOUT.addVariant(6, BufferLayout.struct([
     BufferLayout.u8("authorityType"),
-    BufferLayout.u8("newAuthorityOption"),
-    publicKey("newAuthority"),
+    borsh.option(borsh.publicKey(), "newAuthority"),
 ]), "setAuthority");
-LAYOUT.addVariant(7, BufferLayout.struct([BufferLayout.nu64("amount")]), "mintTo");
-LAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.nu64("amount")]), "burn");
+LAYOUT.addVariant(7, BufferLayout.struct([borsh.u64("amount")]), "mintTo");
+LAYOUT.addVariant(8, BufferLayout.struct([borsh.u64("amount")]), "burn");
 LAYOUT.addVariant(9, BufferLayout.struct([]), "closeAccount");
 LAYOUT.addVariant(10, BufferLayout.struct([]), "freezeAccount");
 LAYOUT.addVariant(11, BufferLayout.struct([]), "thawAccount");
-LAYOUT.addVariant(12, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "transferChecked");
-LAYOUT.addVariant(13, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "approvedChecked");
-LAYOUT.addVariant(14, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "mintToChecked");
-LAYOUT.addVariant(15, BufferLayout.struct([
-    BufferLayout.nu64("amount"),
-    BufferLayout.u8("decimals"),
-]), "burnedChecked");
-LAYOUT.addVariant(16, BufferLayout.struct([publicKey("authority")]), "InitializeAccount2");
+LAYOUT.addVariant(12, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "transferChecked");
+LAYOUT.addVariant(13, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "approvedChecked");
+LAYOUT.addVariant(14, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "mintToChecked");
+LAYOUT.addVariant(15, BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]), "burnedChecked");
+LAYOUT.addVariant(16, BufferLayout.struct([borsh.publicKey("authority")]), "InitializeAccount2");
 LAYOUT.addVariant(17, BufferLayout.struct([]), "syncNative");
-LAYOUT.addVariant(18, BufferLayout.struct([publicKey("authority")]), "initializeAccount3");
+LAYOUT.addVariant(18, BufferLayout.struct([borsh.publicKey("authority")]), "initializeAccount3");
 LAYOUT.addVariant(19, BufferLayout.struct([BufferLayout.u8("m")]), "initializeMultisig2");
 LAYOUT.addVariant(20, BufferLayout.struct([
     BufferLayout.u8("decimals"),
-    publicKey("mintAuthority"),
+    borsh.publicKey("mintAuthority"),
     BufferLayout.u8("freezeAuthorityOption"),
-    publicKey("freezeAuthority"),
+    borsh.publicKey("freezeAuthority"),
 ]), "initializeMint2");
-function publicKey(property) {
-    return BufferLayout.blob(32, property);
-}
 function encodeData(instruction) {
     let b = Buffer.alloc(instructionMaxSpan);
     let span = LAYOUT.encode(instruction, b);
-    return b.slice(0, span);
+    return b.subarray(0, span);
 }
-const instructionMaxSpan = Math.max(
-// @ts-ignore
-...Object.values(LAYOUT.registry).map((r) => r.span));
+const instructionMaxSpan = layoutSize(LAYOUT);
 //# sourceMappingURL=instruction.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/spl-token/instruction.js.map b/dist/esm/coder/spl-token/instruction.js.map
index 633302c866950a42cfc70ca4f7037f3e9fa35769..008ed8a8e06ceee703937eeccea994dcd7ff45f6 100644
--- a/dist/esm/coder/spl-token/instruction.js.map
+++ b/dist/esm/coder/spl-token/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,YAAY,MAAM,eAAe,CAAC;AAC9C,OAAO,SAAS,MAAM,WAAW,CAAC;AAClC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAI5C,MAAM,OAAO,wBAAwB;IACnC,YAAY,CAAM,IAAG,CAAC;IAEtB,MAAM,CAAC,MAAc,EAAE,EAAO;QAC5B,QAAQ,SAAS,CAAC,MAAM,CAAC,EAAE;YACzB,KAAK,gBAAgB,CAAC,CAAC;gBACrB,OAAO,oBAAoB,CAAC,EAAE,CAAC,CAAC;aACjC;YACD,KAAK,mBAAmB,CAAC,CAAC;gBACxB,OAAO,uBAAuB,CAAC,EAAE,CAAC,CAAC;aACpC;YACD,KAAK,oBAAoB,CAAC,CAAC;gBACzB,OAAO,wBAAwB,CAAC,EAAE,CAAC,CAAC;aACrC;YACD,KAAK,UAAU,CAAC,CAAC;gBACf,OAAO,cAAc,CAAC,EAAE,CAAC,CAAC;aAC3B;YACD,KAAK,SAAS,CAAC,CAAC;gBACd,OAAO,aAAa,CAAC,EAAE,CAAC,CAAC;aAC1B;YACD,KAAK,QAAQ,CAAC,CAAC;gBACb,OAAO,YAAY,CAAC,EAAE,CAAC,CAAC;aACzB;YACD,KAAK,cAAc,CAAC,CAAC;gBACnB,OAAO,kBAAkB,CAAC,EAAE,CAAC,CAAC;aAC/B;YACD,KAAK,QAAQ,CAAC,CAAC;gBACb,OAAO,YAAY,CAAC,EAAE,CAAC,CAAC;aACzB;YACD,KAAK,MAAM,CAAC,CAAC;gBACX,OAAO,UAAU,CAAC,EAAE,CAAC,CAAC;aACvB;YACD,KAAK,cAAc,CAAC,CAAC;gBACnB,OAAO,kBAAkB,CAAC,EAAE,CAAC,CAAC;aAC/B;YACD,KAAK,eAAe,CAAC,CAAC;gBACpB,OAAO,mBAAmB,CAAC,EAAE,CAAC,CAAC;aAChC;YACD,KAAK,aAAa,CAAC,CAAC;gBAClB,OAAO,iBAAiB,CAAC,EAAE,CAAC,CAAC;aAC9B;YACD,KAAK,iBAAiB,CAAC,CAAC;gBACtB,OAAO,qBAAqB,CAAC,EAAE,CAAC,CAAC;aAClC;YACD,KAAK,iBAAiB,CAAC,CAAC;gBACtB,OAAO,oBAAoB,CAAC,EAAE,CAAC,CAAC;aACjC;YACD,KAAK,eAAe,CAAC,CAAC;gBACpB,OAAO,mBAAmB,CAAC,EAAE,CAAC,CAAC;aAChC;YACD,KAAK,aAAa,CAAC,CAAC;gBAClB,OAAO,iBAAiB,CAAC,EAAE,CAAC,CAAC;aAC9B;YACD,KAAK,mBAAmB,CAAC,CAAC;gBACxB,OAAO,wBAAwB,CAAC,EAAE,CAAC,CAAC;aACrC;YACD,KAAK,YAAY,CAAC,CAAC;gBACjB,OAAO,gBAAgB,CAAC,EAAE,CAAC,CAAC;aAC7B;YACD,KAAK,oBAAoB,CAAC,CAAC;gBACzB,OAAO,wBAAwB,CAAC,EAAE,CAAC,CAAC;aACrC;YACD,KAAK,qBAAqB,CAAC,CAAC;gBAC1B,OAAO,yBAAyB,CAAC,EAAE,CAAC,CAAC;aACtC;YACD,KAAK,iBAAiB,CAAC,CAAC;gBACtB,OAAO,qBAAqB,CAAC,EAAE,CAAC,CAAC;aAClC;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,wBAAwB,MAAM,EAAE,CAAC,CAAC;aACnD;SACF;IACH,CAAC;IAED,WAAW,CAAC,OAAe,EAAE,GAAQ;QACnC,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;IACnD,CAAC;CACF;AAED,SAAS,oBAAoB,CAAC,EAC5B,QAAQ,EACR,aAAa,EACb,eAAe,GACX;IACJ,OAAO,UAAU,CAAC;QAChB,cAAc,EAAE;YACd,QAAQ;YACR,aAAa,EAAE,aAAa,CAAC,QAAQ,EAAE;YACvC,qBAAqB,EAAE,CAAC,CAAC,eAAe;YACxC,eAAe,EAAE,CAAC,eAAe,IAAI,SAAS,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE;SACnE;KACF,CAAC,CAAC;AACL,CAAC;AAED,SAAS,uBAAuB,CAAC,GAAQ;IACvC,OAAO,UAAU,CAAC;QAChB,iBAAiB,EAAE,EAAE;KACtB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,wBAAwB,CAAC,EAAE,CAAC,EAAO;IAC1C,OAAO,UAAU,CAAC;QAChB,kBAAkB,EAAE;YAClB,CAAC;SACF;KACF,CAAC,CAAC;AACL,CAAC;AAED,SAAS,cAAc,CAAC,EAAE,MAAM,EAAO;IACrC,OAAO,UAAU,CAAC;QAChB,QAAQ,EAAE,EAAE,MAAM,EAAE;KACrB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,aAAa,CAAC,EAAE,MAAM,EAAO;IACpC,OAAO,UAAU,CAAC;QAChB,OAAO,EAAE,EAAE,MAAM,EAAE;KACpB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,YAAY,CAAC,GAAQ;IAC5B,OAAO,UAAU,CAAC;QAChB,MAAM,EAAE,EAAE;KACX,CAAC,CAAC;AACL,CAAC;AAED,SAAS,kBAAkB,CAAC,EAAE,aAAa,EAAE,YAAY,EAAO;IAC9D,OAAO,UAAU,CAAC;QAChB,YAAY,EAAE,EAAE,aAAa,EAAE,YAAY,EAAE;KAC9C,CAAC,CAAC;AACL,CAAC;AAED,SAAS,YAAY,CAAC,EAAE,MAAM,EAAO;IACnC,OAAO,UAAU,CAAC;QAChB,MAAM,EAAE,EAAE,MAAM,EAAE;KACnB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,UAAU,CAAC,EAAE,MAAM,EAAO;IACjC,OAAO,UAAU,CAAC;QAChB,IAAI,EAAE,EAAE,MAAM,EAAE;KACjB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,kBAAkB,CAAC,CAAM;IAChC,OAAO,UAAU,CAAC;QAChB,YAAY,EAAE,EAAE;KACjB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,mBAAmB,CAAC,CAAM;IACjC,OAAO,UAAU,CAAC;QAChB,aAAa,EAAE,EAAE;KAClB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,iBAAiB,CAAC,CAAM;IAC/B,OAAO,UAAU,CAAC;QAChB,WAAW,EAAE,EAAE;KAChB,CAAC,CAAC;AACL,CAAC;AAED,SAAS,qBAAqB,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAO;IACtD,OAAO,UAAU,CAAC;QAChB,eAAe,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;KACtC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,oBAAoB,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAO;IACrD,OAAO,UAAU,CAAC;QAChB,cAAc,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;KACrC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,mBAAmB,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAO;IACpD,OAAO,UAAU,CAAC;QAChB,aAAa,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;KACpC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,iBAAiB,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAO;IAClD,OAAO,UAAU,CAAC;QAChB,WAAW,EAAE,EAAE,MAAM,EAAE,QAAQ,EAAE;KAClC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,wBAAwB,CAAC,EAAE,SAAS,EAAO;IAClD,OAAO,UAAU,CAAC;QAChB,kBAAkB,EAAE,EAAE,SAAS,EAAE;KAClC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,gBAAgB,CAAC,CAAM;IAC9B,OAAO,UAAU,CAAC;QAChB,UAAU,EAAE,EAAE;KACf,CAAC,CAAC;AACL,CAAC;AAED,SAAS,wBAAwB,CAAC,EAAE,SAAS,EAAO;IAClD,OAAO,UAAU,CAAC;QAChB,kBAAkB,EAAE,EAAE,SAAS,EAAE;KAClC,CAAC,CAAC;AACL,CAAC;AAED,SAAS,yBAAyB,CAAC,EAAE,CAAC,EAAO;IAC3C,OAAO,UAAU,CAAC;QAChB,mBAAmB,EAAE,EAAE,CAAC,EAAE;KAC3B,CAAC,CAAC;AACL,CAAC;AAED,SAAS,qBAAqB,CAAC,EAC7B,QAAQ,EACR,aAAa,EACb,eAAe,GACX;IACJ,OAAO,UAAU,CAAC;QAChB,qBAAqB,EAAE,EAAE,QAAQ,EAAE,aAAa,EAAE,eAAe,EAAE;KACpE,CAAC,CAAC;AACL,CAAC;AAED,MAAM,MAAM,GAAG,YAAY,CAAC,KAAK,CAAC,YAAY,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC,CAAC;AAClE,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC;IAC3B,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,eAAe,CAAC;IACtC,YAAY,CAAC,EAAE,CAAC,uBAAuB,CAAC;IACxC,SAAS,CAAC,iBAAiB,CAAC;CAC7B,CAAC,EACF,gBAAgB,CACjB,CAAC;AACF,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,mBAAmB,CAAC,CAAC;AACnE,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAC3C,oBAAoB,CACrB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAClD,UAAU,CACX,CAAC;AACF,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAClD,SAAS,CACV,CAAC;AACF,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,QAAQ,CAAC,CAAC;AACxD,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,EAAE,CAAC,eAAe,CAAC;IAChC,YAAY,CAAC,EAAE,CAAC,oBAAoB,CAAC;IACrC,SAAS,CAAC,cAAc,CAAC;CAC1B,CAAC,EACF,cAAc,CACf,CAAC;AACF,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAClD,QAAQ,CACT,CAAC;AACF,MAAM,CAAC,UAAU,CACf,CAAC,EACD,YAAY,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAClD,MAAM,CACP,CAAC;AACF,MAAM,CAAC,UAAU,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,cAAc,CAAC,CAAC;AAC9D,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,eAAe,CAAC,CAAC;AAChE,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,aAAa,CAAC,CAAC;AAC9D,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3B,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC;CAC5B,CAAC,EACF,iBAAiB,CAClB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3B,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC;CAC5B,CAAC,EACF,iBAAiB,CAClB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3B,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC;CAC5B,CAAC,EACF,eAAe,CAChB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC3B,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC;CAC5B,CAAC,EACF,eAAe,CAChB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,EAC7C,oBAAoB,CACrB,CAAC;AACF,MAAM,CAAC,UAAU,CAAC,EAAE,EAAE,YAAY,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,YAAY,CAAC,CAAC;AAC7D,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC,EAC7C,oBAAoB,CACrB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,EAC3C,qBAAqB,CACtB,CAAC;AACF,MAAM,CAAC,UAAU,CACf,EAAE,EACF,YAAY,CAAC,MAAM,CAAC;IAClB,YAAY,CAAC,EAAE,CAAC,UAAU,CAAC;IAC3B,SAAS,CAAC,eAAe,CAAC;IAC1B,YAAY,CAAC,EAAE,CAAC,uBAAuB,CAAC;IACxC,SAAS,CAAC,iBAAiB,CAAC;CAC7B,CAAC,EACF,iBAAiB,CAClB,CAAC;AAEF,SAAS,SAAS,CAAC,QAAgB;IACjC,OAAO,YAAY,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,CAAC;AACzC,CAAC;AAED,SAAS,UAAU,CAAC,WAAgB;IAClC,IAAI,CAAC,GAAG,MAAM,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;IACzC,IAAI,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC,CAAC,CAAC;IACzC,OAAO,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;AAC1B,CAAC;AAED,MAAM,kBAAkB,GAAG,IAAI,CAAC,GAAG;AACjC,aAAa;AACb,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,CACrD,CAAC"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/spl-token/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/coder/system/accounts.d.ts.map b/dist/esm/coder/system/accounts.d.ts.map
index 675249c7b99d8fa1542bf2f2a459549a91f0bc5d..60892f211c91326178a65aa115cdd3a4ad67b9cf 100644
--- a/dist/esm/coder/system/accounts.d.ts.map
+++ b/dist/esm/coder/system/accounts.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAK/C,qBAAa,mBAAmB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACxD,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAalE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAYvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAajD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
+{"version":3,"file":"accounts.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAC;AAC5C,OAAO,EAAE,GAAG,EAAE,UAAU,EAAE,MAAM,cAAc,CAAC;AAO/C,qBAAa,mBAAmB,CAAC,CAAC,SAAS,MAAM,GAAG,MAAM,CACxD,YAAW,aAAa;IAEZ,OAAO,CAAC,GAAG;gBAAH,GAAG,EAAE,GAAG;IAEf,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,OAAO,EAAE,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC;IAalE,MAAM,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAI9C,eAAe,CAAC,CAAC,GAAG,GAAG,EAAE,WAAW,EAAE,CAAC,EAAE,EAAE,EAAE,MAAM,GAAG,CAAC;IAYvD,MAAM,CAAC,WAAW,EAAE,CAAC,EAAE,WAAW,CAAC,EAAE,MAAM,GAAG,GAAG;IAajD,IAAI,CAAC,UAAU,EAAE,UAAU,GAAG,MAAM;CAG5C"}
\ No newline at end of file
diff --git a/dist/esm/coder/system/accounts.js b/dist/esm/coder/system/accounts.js
index 9def1f455f88c26c67dacb2cf9d088243701f316..a47ab2ec42ccfb52e643edfbed509c196350a11f 100644
--- a/dist/esm/coder/system/accounts.js
+++ b/dist/esm/coder/system/accounts.js
@@ -1,5 +1,6 @@
 import * as BufferLayout from "buffer-layout";
-import { NONCE_ACCOUNT_LENGTH, PublicKey } from "@solana/web3.js";
+import * as borsh from "@project-serum/borsh";
+import { NONCE_ACCOUNT_LENGTH } from "@solana/web3.js";
 import { accountSize } from "../common.js";
 export class SystemAccountsCoder {
     constructor(idl) {
@@ -10,7 +11,7 @@ export class SystemAccountsCoder {
             case "nonce": {
                 const buffer = Buffer.alloc(NONCE_ACCOUNT_LENGTH);
                 const len = NONCE_ACCOUNT_LAYOUT.encode(account, buffer);
-                return buffer.slice(0, len);
+                return buffer.subarray(0, len);
             }
             default: {
                 throw new Error(`Invalid account name: ${accountName}`);
@@ -51,31 +52,11 @@ export class SystemAccountsCoder {
 function decodeNonceAccount(ix) {
     return NONCE_ACCOUNT_LAYOUT.decode(ix);
 }
-class WrappedLayout extends BufferLayout.Layout {
-    constructor(layout, decoder, encoder, property) {
-        super(layout.span, property);
-        this.layout = layout;
-        this.decoder = decoder;
-        this.encoder = encoder;
-    }
-    decode(b, offset) {
-        return this.decoder(this.layout.decode(b, offset));
-    }
-    encode(src, b, offset) {
-        return this.layout.encode(this.encoder(src), b, offset);
-    }
-    getSpan(b, offset) {
-        return this.layout.getSpan(b, offset);
-    }
-}
-function publicKey(property) {
-    return new WrappedLayout(BufferLayout.blob(32), (b) => new PublicKey(b), (key) => key.toBuffer(), property);
-}
 const NONCE_ACCOUNT_LAYOUT = BufferLayout.struct([
     BufferLayout.u32("version"),
     BufferLayout.u32("state"),
-    publicKey("authorizedPubkey"),
-    publicKey("nonce"),
-    BufferLayout.struct([BufferLayout.nu64("lamportsPerSignature")], "feeCalculator"),
+    borsh.publicKey("authorizedPubkey"),
+    borsh.publicKey("nonce"),
+    BufferLayout.struct([borsh.u64("lamportsPerSignature")], "feeCalculator"),
 ]);
 //# sourceMappingURL=accounts.js.map
\ No newline at end of file
diff --git a/dist/esm/coder/system/accounts.js.map b/dist/esm/coder/system/accounts.js.map
index be5007c61aa0b50351a90e561c43b8761163d5d4..a95cec07ffbc3f5322629e0d58a9ae78119e6ff2 100644
--- a/dist/esm/coder/system/accounts.js.map
+++ b/dist/esm/coder/system/accounts.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts.js","sourceRoot":"","sources":["../../../../src/coder/system/accounts.ts"],"names":[],"mappings":"AAEA,OAAO,KAAK,YAAY,MAAM,eAAe,CAAC;AAC9C,OAAO,KAAK,KAAK,MAAM,sBAAsB,CAAC;AAC9C,OAAO,EAAE,oBAAoB,EAAE,MAAM,iBAAiB,CAAC;AACvD,OAAO,EAAE,WAAW,EAAE,MAAM,cAAc,CAAC;AAG3C,MAAM,OAAO,mBAAmB;IAG9B,YAAoB,GAAQ;QAAR,QAAG,GAAH,GAAG,CAAK;IAAG,CAAC;IAEzB,KAAK,CAAC,MAAM,CAAU,WAAc,EAAE,OAAU;QACrD,QAAQ,WAAW,EAAE;YACnB,KAAK,OAAO,CAAC,CAAC;gBACZ,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,oBAAoB,CAAC,CAAC;gBAClD,MAAM,GAAG,GAAG,oBAAoB,CAAC,MAAM,CAAC,OAAc,EAAE,MAAM,CAAC,CAAC;gBAChE,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;aAChC;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAEM,MAAM,CAAU,WAAc,EAAE,EAAU;QAC/C,OAAO,IAAI,CAAC,eAAe,CAAC,WAAW,EAAE,EAAE,CAAC,CAAC;IAC/C,CAAC;IAEM,eAAe,CAAU,WAAc,EAAE,EAAU;QACxD,QAAQ,WAAW,EAAE;YACnB,KAAK,OAAO,CAAC,CAAC;gBACZ,OAAO,kBAAkB,CAAC,EAAE,CAAC,CAAC;aAC/B;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAED,uCAAuC;IAChC,MAAM,CAAC,WAAc,EAAE,WAAoB;QAChD,QAAQ,WAAW,EAAE;YACnB,KAAK,OAAO,CAAC,CAAC;gBACZ,OAAO;oBACL,QAAQ,EAAE,oBAAoB;iBAC/B,CAAC;aACH;YACD,OAAO,CAAC,CAAC;gBACP,MAAM,IAAI,KAAK,CAAC,yBAAyB,WAAW,EAAE,CAAC,CAAC;aACzD;SACF;IACH,CAAC;IAEM,IAAI,CAAC,UAAsB;;QAChC,OAAO,MAAA,WAAW,CAAC,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,mCAAI,CAAC,CAAC;IAChD,CAAC;CACF;AAED,SAAS,kBAAkB,CAAU,EAAU;IAC7C,OAAO,oBAAoB,CAAC,MAAM,CAAC,EAAE,CAAM,CAAC;AAC9C,CAAC;AAED,MAAM,oBAAoB,GAAG,YAAY,CAAC,MAAM,CAAC;IAC/C,YAAY,CAAC,GAAG,CAAC,SAAS,CAAC;IAC3B,YAAY,CAAC,GAAG,CAAC,OAAO,CAAC;IACzB,KAAK,CAAC,SAAS,CAAC,kBAAkB,CAAC;IACnC,KAAK,CAAC,SAAS,CAAC,OAAO,CAAC;IACxB,YAAY,CAAC,MAAM,CACjB,CAAC,KAAK,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC,EACnC,eAAe,CAChB;CACF,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/coder/system/instruction.d.ts.map b/dist/esm/coder/system/instruction.d.ts.map
index 983fc74eacbf6353f79c3d97f245137740b25f5d..876583c117be25ea483b47d62aae6a32965ca1db 100644
--- a/dist/esm/coder/system/instruction.d.ts.map
+++ b/dist/esm/coder/system/instruction.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":";AAGA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAE/C,qBAAa,sBAAuB,YAAW,gBAAgB;gBAEjD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IA4CvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
+{"version":3,"file":"instruction.d.ts","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":";AAIA,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAC;AAG/C,qBAAa,sBAAuB,YAAW,gBAAgB;gBAEjD,CAAC,EAAE,GAAG;IAElB,MAAM,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE,EAAE,GAAG,GAAG,MAAM;IA4CvC,WAAW,CAAC,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,GAAG,GAAG,MAAM;CAG/C"}
\ No newline at end of file
diff --git a/dist/esm/coder/system/instruction.js b/dist/esm/coder/system/instruction.js
index 5329a26c9ba913599216deac4478e9fc48a34e7f..a78767575cd45df02384d5c40356d461e1c5eed4 100644
--- a/dist/esm/coder/system/instruction.js
+++ b/dist/esm/coder/system/instruction.js
@@ -1,6 +1,7 @@
-import BN from "bn.js";
 import * as BufferLayout from "buffer-layout";
-import camelCase from "camelcase";
+import * as borsh from "@project-serum/borsh";
+import { camelCase } from "@juici/case";
+import { utf8 } from "../../utils/bytes/index.js";
 export class SystemInstructionCoder {
     // eslint-disable-next-line @typescript-eslint/no-empty-function
     constructor(_) { }
@@ -66,26 +67,23 @@ class RustStringLayout extends BufferLayout.Layout {
             return this.layout.span;
         }
         const data = {
-            chars: Buffer.from(src, "utf8"),
+            chars: Buffer.from(src, "utf-8"),
         };
         return this.layout.encode(data, b, offset);
     }
     decode(b, offset = 0) {
-        const data = this.layout.decode(b, offset);
-        return data["chars"].toString();
+        const { chars } = this.layout.decode(b, offset);
+        return utf8.decode(chars);
     }
     getSpan(b, offset = 0) {
-        return (BufferLayout.u32().span +
-            BufferLayout.u32().span +
-            new BN(new Uint8Array(b).slice(offset, offset + 4), 10, "le").toNumber());
+        const view = new DataView(b.buffer, b.byteOffset, b.byteLength);
+        const len = view.getUint32(offset, true);
+        return 8 + len;
     }
 }
 function rustStringLayout(property) {
     return new RustStringLayout(property);
 }
-function publicKey(property) {
-    return BufferLayout.blob(32, property);
-}
 function encodeCreateAccount({ lamports, space, owner }) {
     return encodeData({
         createAccount: { lamports, space, owner: owner.toBuffer() },
@@ -167,45 +165,45 @@ function encodeTransferWithSeed({ lamports, seed, owner }) {
 }
 const LAYOUT = BufferLayout.union(BufferLayout.u32("instruction"));
 LAYOUT.addVariant(0, BufferLayout.struct([
-    BufferLayout.ns64("lamports"),
-    BufferLayout.ns64("space"),
-    publicKey("owner"),
+    borsh.u64("lamports"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
 ]), "createAccount");
-LAYOUT.addVariant(1, BufferLayout.struct([publicKey("owner")]), "assign");
-LAYOUT.addVariant(2, BufferLayout.struct([BufferLayout.ns64("lamports")]), "transfer");
+LAYOUT.addVariant(1, BufferLayout.struct([borsh.publicKey("owner")]), "assign");
+LAYOUT.addVariant(2, BufferLayout.struct([borsh.u64("lamports")]), "transfer");
 LAYOUT.addVariant(3, BufferLayout.struct([
-    publicKey("base"),
+    borsh.publicKey("base"),
     rustStringLayout("seed"),
-    BufferLayout.ns64("lamports"),
-    BufferLayout.ns64("space"),
-    publicKey("owner"),
+    borsh.u64("lamports"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
 ]), "createAccountWithSeed");
-LAYOUT.addVariant(4, BufferLayout.struct([publicKey("authorized")]), "advanceNonceAccount");
-LAYOUT.addVariant(5, BufferLayout.struct([BufferLayout.ns64("lamports")]), "withdrawNonceAccount");
-LAYOUT.addVariant(6, BufferLayout.struct([publicKey("authorized")]), "initializeNonceAccount");
-LAYOUT.addVariant(7, BufferLayout.struct([publicKey("authorized")]), "authorizeNonceAccount");
-LAYOUT.addVariant(8, BufferLayout.struct([BufferLayout.ns64("space")]), "allocate");
+LAYOUT.addVariant(4, BufferLayout.struct([borsh.publicKey("authorized")]), "advanceNonceAccount");
+LAYOUT.addVariant(5, BufferLayout.struct([borsh.u64("lamports")]), "withdrawNonceAccount");
+LAYOUT.addVariant(6, BufferLayout.struct([borsh.publicKey("authorized")]), "initializeNonceAccount");
+LAYOUT.addVariant(7, BufferLayout.struct([borsh.publicKey("authorized")]), "authorizeNonceAccount");
+LAYOUT.addVariant(8, BufferLayout.struct([borsh.u64("space")]), "allocate");
 LAYOUT.addVariant(9, BufferLayout.struct([
-    publicKey("base"),
+    borsh.publicKey("base"),
     rustStringLayout("seed"),
-    BufferLayout.ns64("space"),
-    publicKey("owner"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
 ]), "allocateWithSeed");
 LAYOUT.addVariant(10, BufferLayout.struct([
-    publicKey("base"),
+    borsh.publicKey("base"),
     rustStringLayout("seed"),
-    publicKey("owner"),
+    borsh.publicKey("owner"),
 ]), "assignWithSeed");
 LAYOUT.addVariant(11, BufferLayout.struct([
-    BufferLayout.ns64("lamports"),
+    borsh.u64("lamports"),
     rustStringLayout("seed"),
-    publicKey("owner"),
+    borsh.publicKey("owner"),
 ]), "transferWithSeed");
 function encodeData(instruction, maxSpan) {
     const b = Buffer.alloc(maxSpan !== null && maxSpan !== void 0 ? maxSpan : instructionMaxSpan);
     const span = LAYOUT.encode(instruction, b);
     if (maxSpan === undefined) {
-        return b.slice(0, span);
+        return b.subarray(0, span);
     }
     return b;
 }
diff --git a/dist/esm/coder/system/instruction.js.map b/dist/esm/coder/system/instruction.js.map
index d748ab05e09c0e04bad7489406eba9dedda4ca37..1fd169df155eb56d7f86f9e3f16c760977b6322c 100644
--- a/dist/esm/coder/system/instruction.js.map
+++ b/dist/esm/coder/system/instruction.js.map
@@ -1 +1 @@
-{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"instruction.js","sourceRoot":"","sources":["../../../../src/coder/system/instruction.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/error.d.ts b/dist/esm/error.d.ts
index 0d23b7ebbc7f6ab15768f659114fc4ef5c518342..edc9bf74224d337c660ce8e0c540546d4d536651 100644
--- a/dist/esm/error.d.ts
+++ b/dist/esm/error.d.ts
@@ -37,72 +37,72 @@ export declare class AnchorError extends Error {
 }
 export declare class ProgramError extends Error {
     readonly code: number;
-    readonly msg: string;
     readonly logs?: string[] | undefined;
     private readonly _programErrorStack?;
     constructor(code: number, msg: string, logs?: string[] | undefined);
     static parse(err: any, idlErrors: Map<number, string>): ProgramError | null;
+    get msg(): string;
     get program(): PublicKey | undefined;
     get programErrorStack(): PublicKey[] | undefined;
     toString(): string;
 }
 export declare function translateError(err: any, idlErrors: Map<number, string>): any;
-export declare const LangErrorCode: {
-    InstructionMissing: number;
-    InstructionFallbackNotFound: number;
-    InstructionDidNotDeserialize: number;
-    InstructionDidNotSerialize: number;
-    IdlInstructionStub: number;
-    IdlInstructionInvalidProgram: number;
-    ConstraintMut: number;
-    ConstraintHasOne: number;
-    ConstraintSigner: number;
-    ConstraintRaw: number;
-    ConstraintOwner: number;
-    ConstraintRentExempt: number;
-    ConstraintSeeds: number;
-    ConstraintExecutable: number;
-    ConstraintState: number;
-    ConstraintAssociated: number;
-    ConstraintAssociatedInit: number;
-    ConstraintClose: number;
-    ConstraintAddress: number;
-    ConstraintZero: number;
-    ConstraintTokenMint: number;
-    ConstraintTokenOwner: number;
-    ConstraintMintMintAuthority: number;
-    ConstraintMintFreezeAuthority: number;
-    ConstraintMintDecimals: number;
-    ConstraintSpace: number;
-    RequireViolated: number;
-    RequireEqViolated: number;
-    RequireKeysEqViolated: number;
-    RequireNeqViolated: number;
-    RequireKeysNeqViolated: number;
-    RequireGtViolated: number;
-    RequireGteViolated: number;
-    AccountDiscriminatorAlreadySet: number;
-    AccountDiscriminatorNotFound: number;
-    AccountDiscriminatorMismatch: number;
-    AccountDidNotDeserialize: number;
-    AccountDidNotSerialize: number;
-    AccountNotEnoughKeys: number;
-    AccountNotMutable: number;
-    AccountOwnedByWrongProgram: number;
-    InvalidProgramId: number;
-    InvalidProgramExecutable: number;
-    AccountNotSigner: number;
-    AccountNotSystemOwned: number;
-    AccountNotInitialized: number;
-    AccountNotProgramData: number;
-    AccountNotAssociatedTokenAccount: number;
-    AccountSysvarMismatch: number;
-    AccountReallocExceedsLimit: number;
-    AccountDuplicateReallocs: number;
-    StateInvalidAddress: number;
-    DeclaredProgramIdMismatch: number;
-    Deprecated: number;
-};
-export declare const LangErrorMessage: Map<number, string>;
+export declare enum LangErrorCode {
+    InstructionMissing = 100,
+    InstructionFallbackNotFound = 101,
+    InstructionDidNotDeserialize = 102,
+    InstructionDidNotSerialize = 103,
+    IdlInstructionStub = 1000,
+    IdlInstructionInvalidProgram = 1001,
+    ConstraintMut = 2000,
+    ConstraintHasOne = 2001,
+    ConstraintSigner = 2002,
+    ConstraintRaw = 2003,
+    ConstraintOwner = 2004,
+    ConstraintRentExempt = 2005,
+    ConstraintSeeds = 2006,
+    ConstraintExecutable = 2007,
+    ConstraintState = 2008,
+    ConstraintAssociated = 2009,
+    ConstraintAssociatedInit = 2010,
+    ConstraintClose = 2011,
+    ConstraintAddress = 2012,
+    ConstraintZero = 2013,
+    ConstraintTokenMint = 2014,
+    ConstraintTokenOwner = 2015,
+    ConstraintMintMintAuthority = 2016,
+    ConstraintMintFreezeAuthority = 2017,
+    ConstraintMintDecimals = 2018,
+    ConstraintSpace = 2019,
+    RequireViolated = 2500,
+    RequireEqViolated = 2501,
+    RequireKeysEqViolated = 2502,
+    RequireNeqViolated = 2503,
+    RequireKeysNeqViolated = 2504,
+    RequireGtViolated = 2505,
+    RequireGteViolated = 2506,
+    AccountDiscriminatorAlreadySet = 3000,
+    AccountDiscriminatorNotFound = 3001,
+    AccountDiscriminatorMismatch = 3002,
+    AccountDidNotDeserialize = 3003,
+    AccountDidNotSerialize = 3004,
+    AccountNotEnoughKeys = 3005,
+    AccountNotMutable = 3006,
+    AccountOwnedByWrongProgram = 3007,
+    InvalidProgramId = 3008,
+    InvalidProgramExecutable = 3009,
+    AccountNotSigner = 3010,
+    AccountNotSystemOwned = 3011,
+    AccountNotInitialized = 3012,
+    AccountNotProgramData = 3013,
+    AccountNotAssociatedTokenAccount = 3014,
+    AccountSysvarMismatch = 3015,
+    AccountReallocExceedsLimit = 3016,
+    AccountDuplicateReallocs = 3017,
+    StateInvalidAddress = 4000,
+    DeclaredProgramIdMismatch = 4100,
+    Deprecated = 5000
+}
+export declare const LangErrorMessage: Map<LangErrorCode, string>;
 export {};
 //# sourceMappingURL=error.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/error.d.ts.map b/dist/esm/error.d.ts.map
index dda1abc95abe720ddbff089576d575ba875ac1e0..437ade11c39bbb29a6fd1216ebc3d24dc3fa1ee2 100644
--- a/dist/esm/error.d.ts.map
+++ b/dist/esm/error.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"error.d.ts","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAG5C,qBAAa,QAAS,SAAQ,KAAK;gBACrB,OAAO,EAAE,MAAM;CAI5B;AAED,UAAU,SAAS;IACjB,IAAI,EAAE,MAAM,CAAC;IACb,MAAM,EAAE,MAAM,CAAC;CAChB;AAED,UAAU,QAAQ;IAChB,IAAI,EAAE,MAAM,CAAC;IACb,IAAI,EAAE,MAAM,CAAC;CACd;AAED,aAAK,MAAM,GAAG,MAAM,GAAG,QAAQ,CAAC;AAChC,aAAK,oBAAoB,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AAC7C,aAAK,kBAAkB,GAAG,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;AACjD,aAAK,cAAc,GAAG,oBAAoB,GAAG,kBAAkB,CAAC;AAEhE,qBAAa,iBAAiB;IAChB,QAAQ,CAAC,KAAK,EAAE,SAAS,EAAE;gBAAlB,KAAK,EAAE,SAAS,EAAE;WAEzB,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE;CAmBnC;AAED,qBAAa,WAAY,SAAQ,KAAK;IAYlC,QAAQ,CAAC,SAAS,EAAE,MAAM,EAAE;IAC5B,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE;IAZzB,QAAQ,CAAC,KAAK,EAAE;QACd,SAAS,EAAE,SAAS,CAAC;QACrB,YAAY,EAAE,MAAM,CAAC;QACrB,cAAc,CAAC,EAAE,cAAc,CAAC;QAChC,MAAM,CAAC,EAAE,MAAM,CAAC;KACjB,CAAC;IACF,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAoB;gBAGrD,SAAS,EAAE,SAAS,EACpB,YAAY,EAAE,MAAM,EACX,SAAS,EAAE,MAAM,EAAE,EACnB,IAAI,EAAE,MAAM,EAAE,EACvB,MAAM,CAAC,EAAE,MAAM,EACf,cAAc,CAAC,EAAE,cAAc;WAOnB,KAAK,CAAC,IAAI,EAAE,MAAM,EAAE;IA4GlC,IAAI,OAAO,IAAI,SAAS,CAIvB;IAED,IAAI,iBAAiB,IAAI,SAAS,EAAE,CAEnC;IAEM,QAAQ,IAAI,MAAM;CAG1B;AAGD,qBAAa,YAAa,SAAQ,KAAK;IAInC,QAAQ,CAAC,IAAI,EAAE,MAAM;IACrB,QAAQ,CAAC,GAAG,EAAE,MAAM;IACpB,QAAQ,CAAC,IAAI,CAAC;IALhB,OAAO,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAoB;gBAG7C,IAAI,EAAE,MAAM,EACZ,GAAG,EAAE,MAAM,EACX,IAAI,CAAC,sBAAU;WAQZ,KAAK,CACjB,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,GAC7B,YAAY,GAAG,IAAI;IA2CtB,IAAI,OAAO,IAAI,SAAS,GAAG,SAAS,CAInC;IAED,IAAI,iBAAiB,IAAI,SAAS,EAAE,GAAG,SAAS,CAE/C;IAEM,QAAQ,IAAI,MAAM;CAG1B;AAED,wBAAgB,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,OAmCtE;AAED,eAAO,MAAM,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAsEzB,CAAC;AAEF,eAAO,MAAM,gBAAgB,qBA0J3B,CAAC"}
\ No newline at end of file
+{"version":3,"file":"error.d.ts","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/error.js b/dist/esm/error.js
index 2bb12bdb8bffd6a29291ce8f055387bb26e7fe43..b41d2c76a9256ce50cc7bc19cbad5843457995a6 100644
--- a/dist/esm/error.js
+++ b/dist/esm/error.js
@@ -126,9 +126,8 @@ export class AnchorError extends Error {
 // An error from a user defined program.
 export class ProgramError extends Error {
     constructor(code, msg, logs) {
-        super();
+        super(msg);
         this.code = code;
-        this.msg = msg;
         this.logs = logs;
         if (logs) {
             this._programErrorStack = ProgramErrorStack.parse(logs);
@@ -175,6 +174,9 @@ export class ProgramError extends Error {
         // Unable to parse the error. Just return the untranslated error.
         return null;
     }
+    get msg() {
+        return this.message;
+    }
     get program() {
         var _a;
         return (_a = this._programErrorStack) === null || _a === void 0 ? void 0 : _a.stack[this._programErrorStack.stack.length - 1];
@@ -184,7 +186,7 @@ export class ProgramError extends Error {
         return (_a = this._programErrorStack) === null || _a === void 0 ? void 0 : _a.stack;
     }
     toString() {
-        return this.msg;
+        return this.message;
     }
 }
 export function translateError(err, idlErrors) {
@@ -221,70 +223,71 @@ export function translateError(err, idlErrors) {
     }
     return err;
 }
-export const LangErrorCode = {
+export var LangErrorCode;
+(function (LangErrorCode) {
     // Instructions.
-    InstructionMissing: 100,
-    InstructionFallbackNotFound: 101,
-    InstructionDidNotDeserialize: 102,
-    InstructionDidNotSerialize: 103,
+    LangErrorCode[LangErrorCode["InstructionMissing"] = 100] = "InstructionMissing";
+    LangErrorCode[LangErrorCode["InstructionFallbackNotFound"] = 101] = "InstructionFallbackNotFound";
+    LangErrorCode[LangErrorCode["InstructionDidNotDeserialize"] = 102] = "InstructionDidNotDeserialize";
+    LangErrorCode[LangErrorCode["InstructionDidNotSerialize"] = 103] = "InstructionDidNotSerialize";
     // IDL instructions.
-    IdlInstructionStub: 1000,
-    IdlInstructionInvalidProgram: 1001,
+    LangErrorCode[LangErrorCode["IdlInstructionStub"] = 1000] = "IdlInstructionStub";
+    LangErrorCode[LangErrorCode["IdlInstructionInvalidProgram"] = 1001] = "IdlInstructionInvalidProgram";
     // Constraints.
-    ConstraintMut: 2000,
-    ConstraintHasOne: 2001,
-    ConstraintSigner: 2002,
-    ConstraintRaw: 2003,
-    ConstraintOwner: 2004,
-    ConstraintRentExempt: 2005,
-    ConstraintSeeds: 2006,
-    ConstraintExecutable: 2007,
-    ConstraintState: 2008,
-    ConstraintAssociated: 2009,
-    ConstraintAssociatedInit: 2010,
-    ConstraintClose: 2011,
-    ConstraintAddress: 2012,
-    ConstraintZero: 2013,
-    ConstraintTokenMint: 2014,
-    ConstraintTokenOwner: 2015,
-    ConstraintMintMintAuthority: 2016,
-    ConstraintMintFreezeAuthority: 2017,
-    ConstraintMintDecimals: 2018,
-    ConstraintSpace: 2019,
+    LangErrorCode[LangErrorCode["ConstraintMut"] = 2000] = "ConstraintMut";
+    LangErrorCode[LangErrorCode["ConstraintHasOne"] = 2001] = "ConstraintHasOne";
+    LangErrorCode[LangErrorCode["ConstraintSigner"] = 2002] = "ConstraintSigner";
+    LangErrorCode[LangErrorCode["ConstraintRaw"] = 2003] = "ConstraintRaw";
+    LangErrorCode[LangErrorCode["ConstraintOwner"] = 2004] = "ConstraintOwner";
+    LangErrorCode[LangErrorCode["ConstraintRentExempt"] = 2005] = "ConstraintRentExempt";
+    LangErrorCode[LangErrorCode["ConstraintSeeds"] = 2006] = "ConstraintSeeds";
+    LangErrorCode[LangErrorCode["ConstraintExecutable"] = 2007] = "ConstraintExecutable";
+    LangErrorCode[LangErrorCode["ConstraintState"] = 2008] = "ConstraintState";
+    LangErrorCode[LangErrorCode["ConstraintAssociated"] = 2009] = "ConstraintAssociated";
+    LangErrorCode[LangErrorCode["ConstraintAssociatedInit"] = 2010] = "ConstraintAssociatedInit";
+    LangErrorCode[LangErrorCode["ConstraintClose"] = 2011] = "ConstraintClose";
+    LangErrorCode[LangErrorCode["ConstraintAddress"] = 2012] = "ConstraintAddress";
+    LangErrorCode[LangErrorCode["ConstraintZero"] = 2013] = "ConstraintZero";
+    LangErrorCode[LangErrorCode["ConstraintTokenMint"] = 2014] = "ConstraintTokenMint";
+    LangErrorCode[LangErrorCode["ConstraintTokenOwner"] = 2015] = "ConstraintTokenOwner";
+    LangErrorCode[LangErrorCode["ConstraintMintMintAuthority"] = 2016] = "ConstraintMintMintAuthority";
+    LangErrorCode[LangErrorCode["ConstraintMintFreezeAuthority"] = 2017] = "ConstraintMintFreezeAuthority";
+    LangErrorCode[LangErrorCode["ConstraintMintDecimals"] = 2018] = "ConstraintMintDecimals";
+    LangErrorCode[LangErrorCode["ConstraintSpace"] = 2019] = "ConstraintSpace";
     // Require.
-    RequireViolated: 2500,
-    RequireEqViolated: 2501,
-    RequireKeysEqViolated: 2502,
-    RequireNeqViolated: 2503,
-    RequireKeysNeqViolated: 2504,
-    RequireGtViolated: 2505,
-    RequireGteViolated: 2506,
+    LangErrorCode[LangErrorCode["RequireViolated"] = 2500] = "RequireViolated";
+    LangErrorCode[LangErrorCode["RequireEqViolated"] = 2501] = "RequireEqViolated";
+    LangErrorCode[LangErrorCode["RequireKeysEqViolated"] = 2502] = "RequireKeysEqViolated";
+    LangErrorCode[LangErrorCode["RequireNeqViolated"] = 2503] = "RequireNeqViolated";
+    LangErrorCode[LangErrorCode["RequireKeysNeqViolated"] = 2504] = "RequireKeysNeqViolated";
+    LangErrorCode[LangErrorCode["RequireGtViolated"] = 2505] = "RequireGtViolated";
+    LangErrorCode[LangErrorCode["RequireGteViolated"] = 2506] = "RequireGteViolated";
     // Accounts.
-    AccountDiscriminatorAlreadySet: 3000,
-    AccountDiscriminatorNotFound: 3001,
-    AccountDiscriminatorMismatch: 3002,
-    AccountDidNotDeserialize: 3003,
-    AccountDidNotSerialize: 3004,
-    AccountNotEnoughKeys: 3005,
-    AccountNotMutable: 3006,
-    AccountOwnedByWrongProgram: 3007,
-    InvalidProgramId: 3008,
-    InvalidProgramExecutable: 3009,
-    AccountNotSigner: 3010,
-    AccountNotSystemOwned: 3011,
-    AccountNotInitialized: 3012,
-    AccountNotProgramData: 3013,
-    AccountNotAssociatedTokenAccount: 3014,
-    AccountSysvarMismatch: 3015,
-    AccountReallocExceedsLimit: 3016,
-    AccountDuplicateReallocs: 3017,
+    LangErrorCode[LangErrorCode["AccountDiscriminatorAlreadySet"] = 3000] = "AccountDiscriminatorAlreadySet";
+    LangErrorCode[LangErrorCode["AccountDiscriminatorNotFound"] = 3001] = "AccountDiscriminatorNotFound";
+    LangErrorCode[LangErrorCode["AccountDiscriminatorMismatch"] = 3002] = "AccountDiscriminatorMismatch";
+    LangErrorCode[LangErrorCode["AccountDidNotDeserialize"] = 3003] = "AccountDidNotDeserialize";
+    LangErrorCode[LangErrorCode["AccountDidNotSerialize"] = 3004] = "AccountDidNotSerialize";
+    LangErrorCode[LangErrorCode["AccountNotEnoughKeys"] = 3005] = "AccountNotEnoughKeys";
+    LangErrorCode[LangErrorCode["AccountNotMutable"] = 3006] = "AccountNotMutable";
+    LangErrorCode[LangErrorCode["AccountOwnedByWrongProgram"] = 3007] = "AccountOwnedByWrongProgram";
+    LangErrorCode[LangErrorCode["InvalidProgramId"] = 3008] = "InvalidProgramId";
+    LangErrorCode[LangErrorCode["InvalidProgramExecutable"] = 3009] = "InvalidProgramExecutable";
+    LangErrorCode[LangErrorCode["AccountNotSigner"] = 3010] = "AccountNotSigner";
+    LangErrorCode[LangErrorCode["AccountNotSystemOwned"] = 3011] = "AccountNotSystemOwned";
+    LangErrorCode[LangErrorCode["AccountNotInitialized"] = 3012] = "AccountNotInitialized";
+    LangErrorCode[LangErrorCode["AccountNotProgramData"] = 3013] = "AccountNotProgramData";
+    LangErrorCode[LangErrorCode["AccountNotAssociatedTokenAccount"] = 3014] = "AccountNotAssociatedTokenAccount";
+    LangErrorCode[LangErrorCode["AccountSysvarMismatch"] = 3015] = "AccountSysvarMismatch";
+    LangErrorCode[LangErrorCode["AccountReallocExceedsLimit"] = 3016] = "AccountReallocExceedsLimit";
+    LangErrorCode[LangErrorCode["AccountDuplicateReallocs"] = 3017] = "AccountDuplicateReallocs";
     // State.
-    StateInvalidAddress: 4000,
+    LangErrorCode[LangErrorCode["StateInvalidAddress"] = 4000] = "StateInvalidAddress";
     // Miscellaneous
-    DeclaredProgramIdMismatch: 4100,
+    LangErrorCode[LangErrorCode["DeclaredProgramIdMismatch"] = 4100] = "DeclaredProgramIdMismatch";
     // Used for APIs that shouldn't be used anymore.
-    Deprecated: 5000,
-};
+    LangErrorCode[LangErrorCode["Deprecated"] = 5000] = "Deprecated";
+})(LangErrorCode || (LangErrorCode = {}));
 export const LangErrorMessage = new Map([
     // Instructions.
     [
diff --git a/dist/esm/error.js.map b/dist/esm/error.js.map
index 32f06bc180c9529117c7574c665207be0f149e20..2e65ae10babb9961fe8880d807fbcdf4d1da7917 100644
--- a/dist/esm/error.js.map
+++ b/dist/esm/error.js.map
@@ -1 +1 @@
-{"version":3,"file":"error.js","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"error.js","sourceRoot":"","sources":["../../src/error.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/idl.js b/dist/esm/idl.js
index 22baaece0a7a94fbcedd467faca1738fec13362e..03ed358ee552fcb6613ed2773f4e3f0251eb01fa 100644
--- a/dist/esm/idl.js
+++ b/dist/esm/idl.js
@@ -18,8 +18,8 @@ export function decodeIdlAccount(data) {
     return IDL_ACCOUNT_LAYOUT.decode(data);
 }
 export function encodeIdlAccount(acc) {
-    const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.
+    const buffer = Buffer.alloc(32 + 4 + acc.data.length);
     const len = IDL_ACCOUNT_LAYOUT.encode(acc, buffer);
-    return buffer.slice(0, len);
+    return buffer.subarray(0, len);
 }
 //# sourceMappingURL=idl.js.map
\ No newline at end of file
diff --git a/dist/esm/idl.js.map b/dist/esm/idl.js.map
index dd921b25709a09281292d5e4ecc47343df035b0f..93e4dd8b4eb0815c2e69ac65e8ba9a79492857bc 100644
--- a/dist/esm/idl.js.map
+++ b/dist/esm/idl.js.map
@@ -1 +1 @@
-{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../src/idl.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,KAAK,KAAK,MAAM,sBAAsB,CAAC;AAuK9C,6DAA6D;AAC7D,MAAM,CAAC,KAAK,UAAU,UAAU,CAAC,SAAoB;IACnD,MAAM,IAAI,GAAG,CAAC,MAAM,SAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,OAAO,MAAM,SAAS,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;AACjE,CAAC;AAED,sCAAsC;AACtC,MAAM,UAAU,IAAI;IAClB,OAAO,YAAY,CAAC;AACtB,CAAC;AAQD,MAAM,kBAAkB,GAAoC,KAAK,CAAC,MAAM,CAAC;IACvE,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;IAC5B,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;CACpB,CAAC,CAAC;AAEH,MAAM,UAAU,gBAAgB,CAAC,IAAY;IAC3C,OAAO,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzC,CAAC;AAED,MAAM,UAAU,gBAAgB,CAAC,GAAsB;IACrD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B;IACjE,MAAM,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACnD,OAAO,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AAC9B,CAAC"}
\ No newline at end of file
+{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../src/idl.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,KAAK,KAAK,MAAM,sBAAsB,CAAC;AAuK9C,6DAA6D;AAC7D,MAAM,CAAC,KAAK,UAAU,UAAU,CAAC,SAAoB;IACnD,MAAM,IAAI,GAAG,CAAC,MAAM,SAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE,OAAO,MAAM,SAAS,CAAC,cAAc,CAAC,IAAI,EAAE,IAAI,EAAE,EAAE,SAAS,CAAC,CAAC;AACjE,CAAC;AAED,sCAAsC;AACtC,MAAM,UAAU,IAAI;IAClB,OAAO,YAAY,CAAC;AACtB,CAAC;AAQD,MAAM,kBAAkB,GAAoC,KAAK,CAAC,MAAM,CAAC;IACvE,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC;IAC5B,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC;CACpB,CAAC,CAAC;AAEH,MAAM,UAAU,gBAAgB,CAAC,IAAY;IAC3C,OAAO,kBAAkB,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AACzC,CAAC;AAED,MAAM,UAAU,gBAAgB,CAAC,GAAsB;IACrD,MAAM,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACtD,MAAM,GAAG,GAAG,kBAAkB,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;IACnD,OAAO,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;AACjC,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/index.d.ts b/dist/esm/index.d.ts
index b9b32251a18b9de0aa1bb01f72689d875158d050..8eef719b1aa3f3ad4ade9cd155b01e4cbeb6f053 100644
--- a/dist/esm/index.d.ts
+++ b/dist/esm/index.d.ts
@@ -1,4 +1,3 @@
-import NodeWallet from "./nodewallet";
 export { default as BN } from "bn.js";
 export * as web3 from "@solana/web3.js";
 export { default as Provider, getProvider, setProvider, AnchorProvider, } from "./provider.js";
@@ -11,6 +10,5 @@ export * from "./program/index.js";
 export * from "./spl/index.js";
 export * from "./native/index.js";
 export declare const workspace: any;
-export declare class Wallet extends NodeWallet {
-}
+export { Wallet } from "./wallet";
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/index.d.ts.map b/dist/esm/index.d.ts.map
index ba51f0560f20bb4ca5537b470bb28129264a07cf..97f1c9604be8b2cbff16fc612dd5adfd226f98b8 100644
--- a/dist/esm/index.d.ts.map
+++ b/dist/esm/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,UAAU,MAAM,cAAc,CAAC;AAGtC,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EACL,OAAO,IAAI,QAAQ,EACnB,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAC3B,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAC/B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,SAAS,EAAE,GAAG,CAAC;AACpC,MAAM,CAAC,OAAO,OAAO,MAAO,SAAQ,UAAU;CAAG"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EACL,OAAO,IAAI,QAAQ,EACnB,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAC3B,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,GAAG,EAAE,MAAM,UAAU,CAAC;AAC/B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAElC,MAAM,CAAC,OAAO,CAAC,MAAM,SAAS,EAAE,GAAG,CAAC;AAEpC,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/index.js b/dist/esm/index.js
index 74a32bb9d150168773e61820745494bea789200a..4248c5da72eeac60fd52e21febfed4aeeac003c9 100644
--- a/dist/esm/index.js
+++ b/dist/esm/index.js
@@ -1,4 +1,3 @@
-import NodeWallet from "./nodewallet";
 import { isBrowser } from "./utils/common.js";
 export { default as BN } from "bn.js";
 export * as web3 from "@solana/web3.js";
@@ -9,8 +8,8 @@ export * as utils from "./utils/index.js";
 export * from "./program/index.js";
 export * from "./spl/index.js";
 export * from "./native/index.js";
+export { Wallet } from "./wallet";
 if (!isBrowser) {
     exports.workspace = require("./workspace.js").default;
-    exports.Wallet = require("./nodewallet.js").default;
 }
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/esm/index.js.map b/dist/esm/index.js.map
index 17bbbe4ea1650e6cb14a1a6c9a5b6f4de633e86f..709675a430c2de54c89771e7ac5e9327d66b8273 100644
--- a/dist/esm/index.js.map
+++ b/dist/esm/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,UAAU,MAAM,cAAc,CAAC;AACtC,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAC;AAE9C,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EAEL,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAG3B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAKlC,IAAI,CAAC,SAAS,EAAE;IACd,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC;IACtD,OAAO,CAAC,MAAM,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC;CACrD"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,mBAAmB,CAAC;AAE9C,OAAO,EAAE,OAAO,IAAI,EAAE,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,KAAK,IAAI,MAAM,iBAAiB,CAAC;AACxC,OAAO,EAEL,WAAW,EACX,WAAW,EACX,cAAc,GACf,MAAM,eAAe,CAAC;AACvB,cAAc,YAAY,CAAC;AAG3B,cAAc,kBAAkB,CAAC;AACjC,OAAO,KAAK,KAAK,MAAM,kBAAkB,CAAC;AAC1C,cAAc,oBAAoB,CAAC;AACnC,cAAc,gBAAgB,CAAC;AAC/B,cAAc,mBAAmB,CAAC;AAIlC,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC,IAAI,CAAC,SAAS,EAAE;IACd,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,gBAAgB,CAAC,CAAC,OAAO,CAAC;CACvD"}
\ No newline at end of file
diff --git a/dist/esm/native/system.d.ts b/dist/esm/native/system.d.ts
index 750bc0c8e5b21d0cbea775e6c8d698486d4ba46f..f1c2e89b47b8ae4f98eaa6f12c3ec449f679c8d3 100644
--- a/dist/esm/native/system.d.ts
+++ b/dist/esm/native/system.d.ts
@@ -386,6 +386,53 @@ export declare type SystemProgram = {
             };
         }
     ];
+    errors: [
+        {
+            code: 0;
+            name: "AccountAlreadyInUse";
+            msg: "an account with the same address already exists";
+        },
+        {
+            code: 1;
+            name: "ResultWithNegativeLamports";
+            msg: "account does not have enough SOL to perform the operation";
+        },
+        {
+            code: 2;
+            name: "InvalidProgramId";
+            msg: "cannot assign account to this program id";
+        },
+        {
+            code: 3;
+            name: "InvalidAccountDataLength";
+            msg: "cannot allocate account data of this length";
+        },
+        {
+            code: 4;
+            name: "MaxSeedLengthExceeded";
+            msg: "length of requested seed is too long";
+        },
+        {
+            code: 5;
+            name: "AddressWithSeedMismatch";
+            msg: "provided address does not match addressed derived from seed";
+        },
+        {
+            code: 6;
+            name: "NonceNoRecentBlockhashes";
+            msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar";
+        },
+        {
+            code: 7;
+            name: "NonceBlockhashNotExpired";
+            msg: "stored nonce is still in recent_blockhashes";
+        },
+        {
+            code: 8;
+            name: "NonceUnexpectedBlockhashValue";
+            msg: "specified nonce does not match stored nonce";
+        }
+    ];
 };
 export declare const IDL: SystemProgram;
 //# sourceMappingURL=system.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/native/system.d.ts.map b/dist/esm/native/system.d.ts.map
index 63de88169e7427f07596877357d2dbf53c0a9fd6..cf3f770397dc61b30c0e82fc8a75578fa69e7f2b 100644
--- a/dist/esm/native/system.d.ts.map
+++ b/dist/esm/native/system.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"system.d.ts","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"system.d.ts","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/native/system.js b/dist/esm/native/system.js
index 5a7cc972d13edd8f514529b5255b4ad627c630ed..6f441dbb11eb18c5adb9d40af9637ad9739bdd31 100644
--- a/dist/esm/native/system.js
+++ b/dist/esm/native/system.js
@@ -388,5 +388,52 @@ export const IDL = {
             },
         },
     ],
+    errors: [
+        {
+            code: 0,
+            name: "AccountAlreadyInUse",
+            msg: "an account with the same address already exists",
+        },
+        {
+            code: 1,
+            name: "ResultWithNegativeLamports",
+            msg: "account does not have enough SOL to perform the operation",
+        },
+        {
+            code: 2,
+            name: "InvalidProgramId",
+            msg: "cannot assign account to this program id",
+        },
+        {
+            code: 3,
+            name: "InvalidAccountDataLength",
+            msg: "cannot allocate account data of this length",
+        },
+        {
+            code: 4,
+            name: "MaxSeedLengthExceeded",
+            msg: "length of requested seed is too long",
+        },
+        {
+            code: 5,
+            name: "AddressWithSeedMismatch",
+            msg: "provided address does not match addressed derived from seed",
+        },
+        {
+            code: 6,
+            name: "NonceNoRecentBlockhashes",
+            msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar",
+        },
+        {
+            code: 7,
+            name: "NonceBlockhashNotExpired",
+            msg: "stored nonce is still in recent_blockhashes",
+        },
+        {
+            code: 8,
+            name: "NonceUnexpectedBlockhashValue",
+            msg: "specified nonce does not match stored nonce",
+        },
+    ],
 };
 //# sourceMappingURL=system.js.map
\ No newline at end of file
diff --git a/dist/esm/native/system.js.map b/dist/esm/native/system.js.map
index 598078742295ffa6eefef3e8686793b2455dad42..e25eb0d3b5fa64eaa4aa0f9d2516437c801e1e6c 100644
--- a/dist/esm/native/system.js.map
+++ b/dist/esm/native/system.js.map
@@ -1 +1 @@
-{"version":3,"file":"system.js","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"system.js","sourceRoot":"","sources":["../../../src/native/system.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/nodewallet.d.ts b/dist/esm/nodewallet.d.ts
deleted file mode 100644
index abdac8031f6f811e3962f018888d9e92b7f363b4..0000000000000000000000000000000000000000
--- a/dist/esm/nodewallet.d.ts
+++ /dev/null
@@ -1,14 +0,0 @@
-import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
-import { Wallet } from "./provider";
-/**
- * Node only wallet.
- */
-export default class NodeWallet implements Wallet {
-    readonly payer: Keypair;
-    constructor(payer: Keypair);
-    static local(): NodeWallet | never;
-    signTransaction(tx: Transaction): Promise<Transaction>;
-    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
-    get publicKey(): PublicKey;
-}
-//# sourceMappingURL=nodewallet.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/nodewallet.d.ts.map b/dist/esm/nodewallet.d.ts.map
deleted file mode 100644
index b3369ee6cd029ca43307dc3b9aa2f85dd0c4758c..0000000000000000000000000000000000000000
--- a/dist/esm/nodewallet.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"nodewallet.d.ts","sourceRoot":"","sources":["../../src/nodewallet.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAC;AAEpC;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,UAAW,YAAW,MAAM;IACnC,QAAQ,CAAC,KAAK,EAAE,OAAO;gBAAd,KAAK,EAAE,OAAO;IAEnC,MAAM,CAAC,KAAK,IAAI,UAAU,GAAG,KAAK;IAsB5B,eAAe,CAAC,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAKtD,mBAAmB,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAOrE,IAAI,SAAS,IAAI,SAAS,CAEzB;CACF"}
\ No newline at end of file
diff --git a/dist/esm/nodewallet.js b/dist/esm/nodewallet.js
deleted file mode 100644
index 6edc485dbf3610ac3cf09e0e49aa0a48543d1d74..0000000000000000000000000000000000000000
--- a/dist/esm/nodewallet.js
+++ /dev/null
@@ -1,34 +0,0 @@
-import { Buffer } from "buffer";
-import { Keypair } from "@solana/web3.js";
-/**
- * Node only wallet.
- */
-export default class NodeWallet {
-    constructor(payer) {
-        this.payer = payer;
-    }
-    static local() {
-        const process = require("process");
-        if (!process.env.ANCHOR_WALLET || process.env.ANCHOR_WALLET === "") {
-            throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");
-        }
-        const payer = Keypair.fromSecretKey(Buffer.from(JSON.parse(require("fs").readFileSync(process.env.ANCHOR_WALLET, {
-            encoding: "utf-8",
-        }))));
-        return new NodeWallet(payer);
-    }
-    async signTransaction(tx) {
-        tx.partialSign(this.payer);
-        return tx;
-    }
-    async signAllTransactions(txs) {
-        return txs.map((t) => {
-            t.partialSign(this.payer);
-            return t;
-        });
-    }
-    get publicKey() {
-        return this.payer.publicKey;
-    }
-}
-//# sourceMappingURL=nodewallet.js.map
\ No newline at end of file
diff --git a/dist/esm/nodewallet.js.map b/dist/esm/nodewallet.js.map
deleted file mode 100644
index db6f004ae95445425408da269d6efdc7e61f0776..0000000000000000000000000000000000000000
--- a/dist/esm/nodewallet.js.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"nodewallet.js","sourceRoot":"","sources":["../../src/nodewallet.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EAAE,OAAO,EAA0B,MAAM,iBAAiB,CAAC;AAGlE;;GAEG;AACH,MAAM,CAAC,OAAO,OAAO,UAAU;IAC7B,YAAqB,KAAc;QAAd,UAAK,GAAL,KAAK,CAAS;IAAG,CAAC;IAEvC,MAAM,CAAC,KAAK;QACV,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,KAAK,EAAE,EAAE;YAClE,MAAM,IAAI,KAAK,CACb,2DAA2D,CAC5D,CAAC;SACH;QAED,MAAM,KAAK,GAAG,OAAO,CAAC,aAAa,CACjC,MAAM,CAAC,IAAI,CACT,IAAI,CAAC,KAAK,CACR,OAAO,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE;YACpD,QAAQ,EAAE,OAAO;SAClB,CAAC,CACH,CACF,CACF,CAAC;QAEF,OAAO,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;IAC/B,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,EAAe;QACnC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,GAAkB;QAC1C,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACnB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;IAC9B,CAAC;CACF"}
\ No newline at end of file
diff --git a/dist/esm/program/accounts-resolver.d.ts.map b/dist/esm/program/accounts-resolver.d.ts.map
index 5429b4d44c96149f02fab3a85d22ecda9310997b..0dc3ab4f6212d2818d05419d56db8a512910655a 100644
--- a/dist/esm/program/accounts-resolver.d.ts.map
+++ b/dist/esm/program/accounts-resolver.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"accounts-resolver.d.ts","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAqC,MAAM,iBAAiB,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAuB,MAAM,WAAW,CAAC;AAGrD,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAI1D,qBAAa,gBAAgB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC;IAWzE,OAAO,CAAC,KAAK;IACb,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,UAAU;IAClB,OAAO,CAAC,MAAM;IAdhB,MAAM,CAAC,QAAQ,CAAC,cAAc;;;;;MAK5B;IAEF,OAAO,CAAC,aAAa,CAAoB;gBAG/B,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,EACjB,SAAS,EAAE;QAAE,CAAC,IAAI,EAAE,MAAM,GAAG,SAAS,CAAA;KAAE,EACxC,SAAS,EAAE,QAAQ,EACnB,UAAU,EAAE,SAAS,EACrB,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,EACpC,iBAAiB,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAc7B,OAAO;YAgDN,eAAe;YAcf,cAAc;YAoBd,QAAQ;IAatB,OAAO,CAAC,aAAa;YAIP,WAAW;IAKzB,OAAO,CAAC,QAAQ;YAaF,eAAe;YAKf,YAAY;IAyB1B,OAAO,CAAC,iBAAiB;IAazB,OAAO,CAAC,aAAa;CA2BtB;AAGD,qBAAa,YAAY,CAAC,GAAG,SAAS,GAAG;IAKrC,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IALnB,OAAO,CAAC,MAAM,CAA0B;gBAI9B,SAAS,EAAE,QAAQ,EACnB,SAAS,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAG7B,YAAY,CAAC,CAAC,GAAG,GAAG,EAC/B,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,CAAC,CAAC;CAmBd"}
\ No newline at end of file
+{"version":3,"file":"accounts-resolver.d.ts","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAqC,MAAM,iBAAiB,CAAC;AAC/E,OAAO,EAAE,GAAG,EAAuB,MAAM,WAAW,CAAC;AAGrD,OAAO,EAAE,eAAe,EAAE,MAAM,sBAAsB,CAAC;AACvD,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,gBAAgB,EAAE,MAAM,wBAAwB,CAAC;AAQ1D,qBAAa,gBAAgB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC;IAWzE,OAAO,CAAC,KAAK;IACb,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,UAAU;IAClB,OAAO,CAAC,MAAM;IAdhB,MAAM,CAAC,QAAQ,CAAC,cAAc;;;;;MAK5B;IAEF,OAAO,CAAC,aAAa,CAAoB;gBAG/B,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,EACjB,SAAS,EAAE;QAAE,CAAC,IAAI,EAAE,MAAM,GAAG,SAAS,CAAA;KAAE,EACxC,SAAS,EAAE,QAAQ,EACnB,UAAU,EAAE,SAAS,EACrB,MAAM,EAAE,eAAe,CAAC,GAAG,CAAC,EACpC,iBAAiB,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAc7B,OAAO;YA8CN,eAAe;YAcf,cAAc;YAoBd,QAAQ;IAatB,OAAO,CAAC,aAAa;YAIP,WAAW;IAKzB,OAAO,CAAC,QAAQ;YAaF,eAAe;YAKf,YAAY;IAyB1B,OAAO,CAAC,iBAAiB;IAazB,OAAO,CAAC,aAAa;CA2BtB;AAGD,qBAAa,YAAY,CAAC,GAAG,SAAS,GAAG;IAIrC,OAAO,CAAC,SAAS;IACjB,OAAO,CAAC,SAAS;IAJnB,OAAO,CAAC,MAAM,CAA0B;gBAG9B,SAAS,EAAE,QAAQ,EACnB,SAAS,EAAE,gBAAgB,CAAC,GAAG,CAAC;IAG7B,YAAY,CAAC,CAAC,GAAG,GAAG,EAC/B,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,OAAO,CAAC,CAAC,CAAC;CAmBd"}
\ No newline at end of file
diff --git a/dist/esm/program/accounts-resolver.js b/dist/esm/program/accounts-resolver.js
index f9024715a384fea6389132b06d9922fce029319a..281b7887852398d5c0c0996150c93259098bc0f1 100644
--- a/dist/esm/program/accounts-resolver.js
+++ b/dist/esm/program/accounts-resolver.js
@@ -1,8 +1,10 @@
-import camelCase from "camelcase";
+import { camelCase } from "@juici/case";
 import { PublicKey, SystemProgram, SYSVAR_RENT_PUBKEY } from "@solana/web3.js";
 import * as utf8 from "../utils/bytes/utf8.js";
 import { TOKEN_PROGRAM_ID, ASSOCIATED_PROGRAM_ID } from "../utils/token.js";
-import { coder } from "../spl/token";
+import { IDL as SPL_IDL } from "../spl/token/idl";
+import { SplTokenCoder } from "../coder/spl-token";
+const splCoder = new SplTokenCoder(SPL_IDL);
 // Populates a given accounts context with PDAs and common missing accounts.
 export class AccountsResolver {
     constructor(_args, _accounts, _provider, _programId, _idlIx, _accountNamespace) {
@@ -30,11 +32,9 @@ export class AccountsResolver {
             const accountDescName = camelCase(accountDesc.name);
             // Signers default to the provider.
             if (accountDesc.isSigner && !this._accounts[accountDescName]) {
-                // @ts-expect-error
                 if (this._provider.wallet === undefined) {
                     throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");
                 }
-                // @ts-expect-error
                 this._accounts[accountDescName] = this._provider.wallet.publicKey;
                 continue;
             }
@@ -160,7 +160,7 @@ export class AccountsResolver {
                 bU64.writeBigUInt64LE(BigInt(value));
                 return bU64;
             case "string":
-                return Buffer.from(utf8.encode(value));
+                return utf8.encode(value);
             case "publicKey":
                 return value.toBuffer();
             default:
@@ -179,7 +179,6 @@ AccountsResolver.CONST_ACCOUNTS = {
 };
 // TODO: this should be configureable to avoid unnecessary requests.
 export class AccountStore {
-    // todo: don't use the progrma use the account namespace.
     constructor(_provider, _accounts) {
         this._provider = _provider;
         this._accounts = _accounts;
@@ -193,7 +192,7 @@ export class AccountStore {
                 if (accountInfo === null) {
                     throw new Error(`invalid account info for ${address}`);
                 }
-                const data = coder().accounts.decode("token", accountInfo.data);
+                const data = splCoder.accounts.decode("token", accountInfo.data);
                 this._cache.set(address, data);
             }
             else {
diff --git a/dist/esm/program/accounts-resolver.js.map b/dist/esm/program/accounts-resolver.js.map
index ac9e2e2be1512decc8312db5bb33bd4647e9d64d..6e537da1dd9b05259750e1cf3cfd85e6a5b2b8df 100644
--- a/dist/esm/program/accounts-resolver.js.map
+++ b/dist/esm/program/accounts-resolver.js.map
@@ -1 +1 @@
-{"version":3,"file":"accounts-resolver.js","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"accounts-resolver.js","sourceRoot":"","sources":["../../../src/program/accounts-resolver.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/index.d.ts b/dist/esm/program/index.d.ts
index 77f9eab52fb795b37819967a001e061f2c81549b..d20426681b214e6c2ccb851de972c8cbcc31cb01 100644
--- a/dist/esm/program/index.d.ts
+++ b/dist/esm/program/index.d.ts
@@ -2,7 +2,7 @@ import { PublicKey } from "@solana/web3.js";
 import Provider from "../provider.js";
 import { Idl } from "../idl.js";
 import { Coder } from "../coder/index.js";
-import { RpcNamespace, InstructionNamespace, TransactionNamespace, AccountNamespace, StateClient, SimulateNamespace, MethodsNamespace, ViewNamespace } from "./namespace/index.js";
+import type { RpcNamespace, InstructionNamespace, TransactionNamespace, AccountNamespace, StateClient, SimulateNamespace, MethodsNamespace, ViewNamespace } from "./namespace/index.js";
 import { Address } from "./common.js";
 export * from "./common.js";
 export * from "./context.js";
diff --git a/dist/esm/program/index.d.ts.map b/dist/esm/program/index.d.ts.map
index 0e3082ae126f6b80dd9aafb6a9604d93b93cf931..db3f02907965a7ad4ed236bd5e5f5f1edb65b92f 100644
--- a/dist/esm/program/index.d.ts.map
+++ b/dist/esm/program/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/index.js b/dist/esm/program/index.js
index 43c66075cfae74e08faaee02db974dc0e6a1c40b..ed98ef2c8022cc385f1c719946d990b34751e511 100644
--- a/dist/esm/program/index.js
+++ b/dist/esm/program/index.js
@@ -124,7 +124,7 @@ export class Program {
             return null;
         }
         // Chop off account discriminator.
-        let idlAccount = decodeIdlAccount(accountInfo.data.slice(8));
+        const idlAccount = decodeIdlAccount(accountInfo.data.subarray(8));
         const inflatedIdl = inflate(idlAccount.data);
         return JSON.parse(utf8.decode(inflatedIdl));
     }
diff --git a/dist/esm/program/index.js.map b/dist/esm/program/index.js.map
index 07747ac5f67ae8e1cccb0a022b77c40177c03e14..dd2d8e89897ab42a1eadfbcdcf6bc6d807100c35 100644
--- a/dist/esm/program/index.js.map
+++ b/dist/esm/program/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/program/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/account.d.ts b/dist/esm/program/namespace/account.d.ts
index a24b8a043421ec381126b72988286d50f1c5d315..afdbca26f4aa06ace8bcefae1daac7dc3662a3ec 100644
--- a/dist/esm/program/namespace/account.d.ts
+++ b/dist/esm/program/namespace/account.d.ts
@@ -1,15 +1,15 @@
 /// <reference types="node" />
+import { CamelCase } from "@juici/case";
 import EventEmitter from "eventemitter3";
 import { Signer, PublicKey, TransactionInstruction, Commitment, GetProgramAccountsFilter, AccountInfo } from "@solana/web3.js";
 import Provider from "../../provider.js";
 import { Idl, IdlAccountDef } from "../../idl.js";
 import { Coder } from "../../coder/index.js";
 import { Address } from "../common.js";
-import { AllAccountsMap, IdlTypes, TypeDef } from "./types.js";
+import { IdlTypes, TypeDef } from "./types.js";
 export default class AccountFactory {
     static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): AccountNamespace<IDL>;
 }
-declare type NullableIdlAccount<IDL extends Idl> = IDL["accounts"] extends undefined ? IdlAccountDef : NonNullable<IDL["accounts"]>[number];
 /**
  * The namespace provides handles to an [[AccountClient]] object for each
  * account in a program.
@@ -31,9 +31,11 @@ declare type NullableIdlAccount<IDL extends Idl> = IDL["accounts"] extends undef
  * For the full API, see the [[AccountClient]] reference.
  */
 export declare type AccountNamespace<IDL extends Idl = Idl> = {
-    [M in keyof AllAccountsMap<IDL>]: AccountClient<IDL>;
+    [K in NonNullable<IDL["accounts"]>[number]["name"] as CamelCase<K>]: AccountClient<IDL, NonNullable<IDL["accounts"]>[number] & {
+        name: K;
+    }>;
 };
-export declare class AccountClient<IDL extends Idl = Idl, A extends NullableIdlAccount<IDL> = IDL["accounts"] extends undefined ? IdlAccountDef : NonNullable<IDL["accounts"]>[number], T = TypeDef<A, IdlTypes<IDL>>> {
+export declare class AccountClient<IDL extends Idl = Idl, A extends IdlAccountDef = IdlAccountDef, T = TypeDef<A, IdlTypes<IDL>>> {
     /**
      * Returns the number of bytes in this account.
      */
@@ -128,5 +130,4 @@ export declare type ProgramAccount<T = any> = {
     publicKey: PublicKey;
     account: T;
 };
-export {};
 //# sourceMappingURL=account.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/program/namespace/account.d.ts.map b/dist/esm/program/namespace/account.d.ts.map
index e34df43c4a465687c400515062f78fc442d9f90a..96a4be40a8b1641877443cd61721dd921e89c37e 100644
--- a/dist/esm/program/namespace/account.d.ts.map
+++ b/dist/esm/program/namespace/account.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"account.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"account.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/account.js b/dist/esm/program/namespace/account.js
index 518f75eef794d2487457823441169f0e308b4edd..28aa651329655b8f1b490fe8a827aa1ed6f3dea4 100644
--- a/dist/esm/program/namespace/account.js
+++ b/dist/esm/program/namespace/account.js
@@ -1,4 +1,4 @@
-import camelCase from "camelcase";
+import { camelCase } from "@juici/case";
 import EventEmitter from "eventemitter3";
 import { SystemProgram, } from "@solana/web3.js";
 import { getProvider } from "../../provider.js";
@@ -164,12 +164,10 @@ export class AccountClient {
      */
     async createInstruction(signer, sizeOverride) {
         const size = this.size;
-        // @ts-expect-error
         if (this._provider.wallet === undefined) {
             throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");
         }
         return SystemProgram.createAccount({
-            // @ts-expect-error
             fromPubkey: this._provider.wallet.publicKey,
             newAccountPubkey: signer.publicKey,
             space: sizeOverride !== null && sizeOverride !== void 0 ? sizeOverride : size,
diff --git a/dist/esm/program/namespace/account.js.map b/dist/esm/program/namespace/account.js.map
index 92d5de9f23b7f4b29794cad55eb37f4bfbeece57..48fc191590600fa4651f8b6bf5db123dfa42a0d3 100644
--- a/dist/esm/program/namespace/account.js.map
+++ b/dist/esm/program/namespace/account.js.map
@@ -1 +1 @@
-{"version":3,"file":"account.js","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"account.js","sourceRoot":"","sources":["../../../../src/program/namespace/account.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/index.d.ts b/dist/esm/program/namespace/index.d.ts
index 809b5847e7ecfb2d492c46c94921f64f9235ba13..698b79068949282b1a76aaa1375503c3b69158cf 100644
--- a/dist/esm/program/namespace/index.d.ts
+++ b/dist/esm/program/namespace/index.d.ts
@@ -16,7 +16,7 @@ export { TransactionNamespace, TransactionFn } from "./transaction.js";
 export { RpcNamespace, RpcFn } from "./rpc.js";
 export { AccountNamespace, AccountClient, ProgramAccount } from "./account.js";
 export { SimulateNamespace, SimulateFn } from "./simulate.js";
-export { IdlAccounts, IdlTypes } from "./types.js";
+export { IdlAccounts, IdlTypes, IdlEvents, DecodeType } from "./types.js";
 export { MethodsBuilderFactory, MethodsNamespace } from "./methods";
 export { ViewNamespace, ViewFn } from "./views";
 export default class NamespaceFactory {
diff --git a/dist/esm/program/namespace/index.d.ts.map b/dist/esm/program/namespace/index.d.ts.map
index aec48524e87054421d49ab5965baad765de322d4..3485c42bb4865404ea6c6f7c27f84c491bacf4a4 100644
--- a/dist/esm/program/namespace/index.d.ts.map
+++ b/dist/esm/program/namespace/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAqB,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACvD,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAAmB,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACpD,OAAuB,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChE,OAAwB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAyB,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAoB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AACnD,OAAO,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEhD,MAAM,CAAC,OAAO,OAAO,gBAAgB;IACnC;;OAEG;WACW,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACjB;QACD,YAAY,CAAC,GAAG,CAAC;QACjB,oBAAoB,CAAC,GAAG,CAAC;QACzB,oBAAoB,CAAC,GAAG,CAAC;QACzB,gBAAgB,CAAC,GAAG,CAAC;QACrB,iBAAiB,CAAC,GAAG,CAAC;QACtB,gBAAgB,CAAC,GAAG,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;QAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS;KAC/B;CAoEF"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,GAAG,EAAE,MAAM,cAAc,CAAC;AACnC,OAAqB,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACvD,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAA2B,EAAE,oBAAoB,EAAE,MAAM,kBAAkB,CAAC;AAC5E,OAAmB,EAAE,YAAY,EAAE,MAAM,UAAU,CAAC;AACpD,OAAuB,EAAE,gBAAgB,EAAE,MAAM,cAAc,CAAC;AAChE,OAAwB,EAAE,iBAAiB,EAAE,MAAM,eAAe,CAAC;AAEnE,OAAO,EAAyB,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAoB,EAAE,aAAa,EAAE,MAAM,SAAS,CAAC;AAGrD,OAAO,EAAE,WAAW,EAAE,MAAM,YAAY,CAAC;AACzC,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,oBAAoB,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACvE,OAAO,EAAE,YAAY,EAAE,KAAK,EAAE,MAAM,UAAU,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,aAAa,EAAE,cAAc,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAE,iBAAiB,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAC9D,OAAO,EAAE,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,YAAY,CAAC;AAC1E,OAAO,EAAE,qBAAqB,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAC;AACpE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,SAAS,CAAC;AAEhD,MAAM,CAAC,OAAO,OAAO,gBAAgB;IACnC;;OAEG;WACW,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,EAAE,QAAQ,GACjB;QACD,YAAY,CAAC,GAAG,CAAC;QACjB,oBAAoB,CAAC,GAAG,CAAC;QACzB,oBAAoB,CAAC,GAAG,CAAC;QACzB,gBAAgB,CAAC,GAAG,CAAC;QACrB,iBAAiB,CAAC,GAAG,CAAC;QACtB,gBAAgB,CAAC,GAAG,CAAC;QACrB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;QAC5B,aAAa,CAAC,GAAG,CAAC,GAAG,SAAS;KAC/B;CAoEF"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/index.js b/dist/esm/program/namespace/index.js
index 8331695cabfdb29e79bfb7bd71168f8491415053..dbb789ddef01de90edd5b2fce76d0d2aa1193d5b 100644
--- a/dist/esm/program/namespace/index.js
+++ b/dist/esm/program/namespace/index.js
@@ -1,4 +1,4 @@
-import camelCase from "camelcase";
+import { camelCase } from "@juici/case";
 import StateFactory from "./state.js";
 import InstructionFactory from "./instruction.js";
 import TransactionFactory from "./transaction.js";
diff --git a/dist/esm/program/namespace/index.js.map b/dist/esm/program/namespace/index.js.map
index b184cc2b4a8e9dfd80c31d88cef11d57da0bdd05..f1293a47fe30ac3fc045bc42e03648a9da61d8a2 100644
--- a/dist/esm/program/namespace/index.js.map
+++ b/dist/esm/program/namespace/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/program/namespace/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/simulate.d.ts b/dist/esm/program/namespace/simulate.d.ts
index b8df9b2ea3707c46746dda67ca6ae7d96807d03b..bba3fd2b265e66abdc2b5cc964f4b56e0d3f8af6 100644
--- a/dist/esm/program/namespace/simulate.d.ts
+++ b/dist/esm/program/namespace/simulate.d.ts
@@ -43,7 +43,7 @@ export default class SimulateFactory {
  * ```
  */
 export declare type SimulateNamespace<IDL extends Idl = Idl, I extends AllInstructions<IDL> = AllInstructions<IDL>> = MakeInstructionsNamespace<IDL, I, Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>>;
-declare type NullableEvents<IDL extends Idl> = IDL["events"] extends undefined ? IdlEvent : NonNullable<IDL["events"]>[number];
+declare type NullableEvents<IDL extends Idl> = IDL["events"] extends IdlEvent[] ? IDL["events"][number] : IdlEvent;
 /**
  * SimulateFn is a single method generated from an IDL. It simulates a method
  * against a cluster configured by the provider, returning a list of all the
diff --git a/dist/esm/program/namespace/simulate.d.ts.map b/dist/esm/program/namespace/simulate.d.ts.map
index 340cf78435756113152887e15ee4249e1b781726..2c02c207c3b1299aa18463c154e5477010dad900 100644
--- a/dist/esm/program/namespace/simulate.d.ts.map
+++ b/dist/esm/program/namespace/simulate.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AAGzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAe,KAAK,EAAE,MAAM,aAAa,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,eAAe,EACf,QAAQ,EACR,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAEjB,MAAM,CAAC,OAAO,OAAO,eAAe;WACpB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,EACxB,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,GAAG,EAAE,GAAG,GACP,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;CAuCtB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,iBAAiB,CAC3B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,aAAK,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,SAAS,SAAS,GAClE,QAAQ,GACR,WAAW,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;AAEvC;;;;;GAKG;AACH,oBAAY,UAAU,CACpB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CACtB,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,oBAAY,gBAAgB,CAAC,CAAC,SAAS,QAAQ,EAAE,OAAO,IAAI;IAC1D,MAAM,EAAE,SAAS,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC;IACrC,GAAG,EAAE,SAAS,MAAM,EAAE,CAAC;CACxB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AAEzC,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAe,KAAK,EAAE,MAAM,aAAa,CAAC;AACjD,OAAO,EAAE,KAAK,EAAE,MAAM,sBAAsB,CAAC;AAC7C,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AAE7C,OAAO,EACL,eAAe,EACf,QAAQ,EACR,oBAAoB,EACpB,yBAAyB,EAC1B,MAAM,SAAS,CAAC;AAIjB,MAAM,CAAC,OAAO,OAAO,eAAe;WACpB,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EACjE,KAAK,EAAE,eAAe,CAAC,GAAG,CAAC,EAC3B,IAAI,EAAE,aAAa,CAAC,GAAG,CAAC,EACxB,SAAS,EAAE,GAAG,CAAC,MAAM,EAAE,MAAM,CAAC,EAC9B,QAAQ,EAAE,QAAQ,EAClB,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,GAAG,EAAE,GAAG,GACP,UAAU,CAAC,GAAG,EAAE,CAAC,CAAC;CAuCtB;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiCG;AACH,oBAAY,iBAAiB,CAC3B,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,yBAAyB,CAC3B,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,aAAK,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,QAAQ,CAAC,SAAS,QAAQ,EAAE,GACnE,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,GACrB,QAAQ,CAAC;AAEb;;;;;GAKG;AACH,oBAAY,UAAU,CACpB,GAAG,SAAS,GAAG,GAAG,GAAG,EACrB,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,GAAG,eAAe,CAAC,GAAG,CAAC,IACnD,oBAAoB,CACtB,GAAG,EACH,CAAC,EACD,OAAO,CAAC,gBAAgB,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC,CAC9D,CAAC;AAEF,oBAAY,gBAAgB,CAAC,CAAC,SAAS,QAAQ,EAAE,OAAO,IAAI;IAC1D,MAAM,EAAE,SAAS,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC;IACrC,GAAG,EAAE,SAAS,MAAM,EAAE,CAAC;CACxB,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/simulate.js.map b/dist/esm/program/namespace/simulate.js.map
index 1bae23a7481306678678aeb33f5da9bb9b2bb6bc..f7434c9a10634aac1cba4ed2f02cb774295fc4bc 100644
--- a/dist/esm/program/namespace/simulate.js.map
+++ b/dist/esm/program/namespace/simulate.js.map
@@ -1 +1 @@
-{"version":3,"file":"simulate.js","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAGA,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhD,OAAO,EAAE,WAAW,EAAS,MAAM,aAAa,CAAC;AAGjD,OAAO,EAAE,cAAc,EAAE,MAAM,gBAAgB,CAAC;AAQhD,MAAM,CAAC,OAAO,OAAO,eAAe;IAC3B,MAAM,CAAC,KAAK,CACjB,KAA2B,EAC3B,IAAwB,EACxB,SAA8B,EAC9B,QAAkB,EAClB,KAAY,EACZ,SAAoB,EACpB,GAAQ;QAER,MAAM,QAAQ,GAAoB,KAAK,EAAE,GAAG,IAAI,EAAE,EAAE;;YAClD,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,eAAe,CAAC,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,IAAI,GAA+C,SAAS,CAAC;YACjE,IAAI,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE;gBACnC,MAAM,IAAI,KAAK,CACb,+DAA+D,CAChE,CAAC;aACH;YACD,IAAI;gBACF,IAAI,GAAG,MAAM,QAAS,CAAC,QAAQ,CAC7B,EAAE,EACF,GAAG,CAAC,OAAO,EACX,MAAA,GAAG,CAAC,OAAO,0CAAE,UAAU,CACxB,CAAC;aACH;YAAC,OAAO,GAAG,EAAE;gBACZ,MAAM,cAAc,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;aACtC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;aACnD;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,IAAI,CAAC,IAAI,EAAE;gBACT,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YAED,MAAM,MAAM,GAAqC,EAAE,CAAC;YACpD,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,MAAM,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC/C,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBAC1C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACpB;aACF;YACD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF"}
\ No newline at end of file
+{"version":3,"file":"simulate.js","sourceRoot":"","sources":["../../../../src/program/namespace/simulate.ts"],"names":[],"mappings":"AAEA,OAAO,EAAE,eAAe,EAAE,MAAM,eAAe,CAAC;AAEhD,OAAO,EAAE,WAAW,EAAS,MAAM,aAAa,CAAC;AAGjD,OAAO,EAAE,cAAc,EAAE,MAAM,gBAAgB,CAAC;AAUhD,MAAM,CAAC,OAAO,OAAO,eAAe;IAC3B,MAAM,CAAC,KAAK,CACjB,KAA2B,EAC3B,IAAwB,EACxB,SAA8B,EAC9B,QAAkB,EAClB,KAAY,EACZ,SAAoB,EACpB,GAAQ;QAER,MAAM,QAAQ,GAAoB,KAAK,EAAE,GAAG,IAAI,EAAE,EAAE;;YAClD,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;YACzB,MAAM,CAAC,EAAE,GAAG,CAAC,GAAG,eAAe,CAAC,KAAK,EAAE,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC;YAClD,IAAI,IAAI,GAA+C,SAAS,CAAC;YACjE,IAAI,QAAQ,CAAC,QAAQ,KAAK,SAAS,EAAE;gBACnC,MAAM,IAAI,KAAK,CACb,+DAA+D,CAChE,CAAC;aACH;YACD,IAAI;gBACF,IAAI,GAAG,MAAM,QAAS,CAAC,QAAQ,CAC7B,EAAE,EACF,GAAG,CAAC,OAAO,EACX,MAAA,GAAG,CAAC,OAAO,0CAAE,UAAU,CACxB,CAAC;aACH;YAAC,OAAO,GAAG,EAAE;gBACZ,MAAM,cAAc,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;aACtC;YACD,IAAI,IAAI,KAAK,SAAS,EAAE;gBACtB,MAAM,IAAI,KAAK,CAAC,gCAAgC,CAAC,CAAC;aACnD;YACD,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,IAAI,CAAC,IAAI,EAAE;gBACT,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAC;aAC7C;YAED,MAAM,MAAM,GAAqC,EAAE,CAAC;YACpD,IAAI,GAAG,CAAC,MAAM,EAAE;gBACd,IAAI,MAAM,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC/C,KAAK,MAAM,KAAK,IAAI,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;oBAC1C,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;iBACpB;aACF;YACD,OAAO,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI,EAAE,CAAC;QAC/B,CAAC,CAAC;QAEF,OAAO,QAAQ,CAAC;IAClB,CAAC;CACF"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/state.d.ts b/dist/esm/program/namespace/state.d.ts
index 722980128ea238f5c887db26c620979038f09d8b..dd9e3b97120b629a17fb8cec9c3d94a0c8b02f2b 100644
--- a/dist/esm/program/namespace/state.d.ts
+++ b/dist/esm/program/namespace/state.d.ts
@@ -1,14 +1,17 @@
 import EventEmitter from "eventemitter3";
 import { PublicKey, Commitment } from "@solana/web3.js";
 import Provider from "../../provider.js";
-import { Idl, IdlInstruction, IdlTypeDef } from "../../idl.js";
-import { Coder } from "../../coder/index.js";
+import { Idl, IdlInstruction, IdlState, IdlTypeDef } from "../../idl.js";
+import { Coder, StateCoder } from "../../coder/index.js";
 import { RpcNamespace, InstructionNamespace, TransactionNamespace } from "./index.js";
 import { IdlTypes, TypeDef } from "./types.js";
 export default class StateFactory {
     static build<IDL extends Idl>(idl: IDL, coder: Coder, programId: PublicKey, provider?: Provider): StateClient<IDL> | undefined;
 }
-declare type NullableMethods<IDL extends Idl> = IDL["state"] extends undefined ? IdlInstruction[] : NonNullable<IDL["state"]>["methods"];
+declare type NullableMethods<IDL extends Idl> = IDL["state"] extends IdlState ? IDL["state"]["methods"] : IdlInstruction[];
+declare type CoderWithState = Coder & {
+    state: StateCoder;
+};
 /**
  * A client for the program state. Similar to the base [[Program]] client,
  * one can use this to send transactions and read accounts for the state
@@ -22,7 +25,7 @@ export declare class StateClient<IDL extends Idl> {
     /**
      * Returns the coder.
      */
-    readonly coder: Coder;
+    readonly coder: CoderWithState;
     /**
      * [[RpcNamespace]] for all state methods.
      */
@@ -41,22 +44,13 @@ export declare class StateClient<IDL extends Idl> {
     get programId(): PublicKey;
     private _programId;
     private _address;
-    private _coder;
     private _idl;
     private _sub;
-    constructor(idl: IDL, programId: PublicKey, 
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    provider?: Provider, 
-    /**
-     * Returns the coder.
-     */
-    coder?: Coder);
+    constructor(idl: IDL, programId: PublicKey, provider?: Provider, coder?: Coder);
     /**
      * Returns the deserialized state account.
      */
-    fetch(): Promise<TypeDef<IDL["state"] extends undefined ? IdlTypeDef : NonNullable<IDL["state"]>["struct"], IdlTypes<IDL>>>;
+    fetch(): Promise<TypeDef<IDL["state"] extends IdlState ? IDL["state"]["struct"] : IdlTypeDef, IdlTypes<IDL>>>;
     /**
      * Returns the state address.
      */
diff --git a/dist/esm/program/namespace/state.d.ts.map b/dist/esm/program/namespace/state.d.ts.map
index 12d4a30a1e16bdffa077338ee3293a51f327f466..fb3eaea1d0552c0f7e9c8b05878d8632f086e7bc 100644
--- a/dist/esm/program/namespace/state.d.ts.map
+++ b/dist/esm/program/namespace/state.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AAEzC,OAAO,EACL,SAAS,EAET,UAAU,EAEX,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EAAE,GAAG,EAAE,cAAc,EAAkB,UAAU,EAAE,MAAM,cAAc,CAAC;AAC/E,OAAO,EAAc,KAAK,EAAsB,MAAM,sBAAsB,CAAC;AAC7E,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACrB,MAAM,YAAY,CAAC;AAUpB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,CAAC,OAAO,OAAO,YAAY;WACjB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;CAMhC;AAED,aAAK,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,SAAS,GAClE,cAAc,EAAE,GAChB,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;AAEzC;;;;GAIG;AACH,qBAAa,WAAW,CAAC,GAAG,SAAS,GAAG;IAgCpC;;OAEG;aACa,QAAQ,EAAE,QAAQ;IAClC;;OAEG;aACa,KAAK,EAAE,KAAK;IAtC9B;;OAEG;IACH,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B,OAAO,CAAC,QAAQ,CAAY;IAC5B,OAAO,CAAC,MAAM,CAAQ;IACtB,OAAO,CAAC,IAAI,CAAM;IAClB,OAAO,CAAC,IAAI,CAAsB;gBAGhC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS;IACpB;;OAEG;IACa,QAAQ,GAAE,QAAwB;IAClD;;OAEG;IACa,KAAK,GAAE,KAA2B;IAgEpD;;OAEG;IACG,KAAK,IAAI,OAAO,CACpB,OAAO,CACL,GAAG,CAAC,OAAO,CAAC,SAAS,SAAS,GAC1B,UAAU,GACV,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,EACvC,QAAQ,CAAC,GAAG,CAAC,CACd,CACF;IAkBD;;OAEG;IACH,OAAO,IAAI,SAAS;IAIpB;;;OAGG;IACH,SAAS,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IAuBhD;;OAEG;IACH,WAAW;CAUZ"}
\ No newline at end of file
+{"version":3,"file":"state.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,MAAM,eAAe,CAAC;AAEzC,OAAO,EACL,SAAS,EAET,UAAU,EAEX,MAAM,iBAAiB,CAAC;AACzB,OAAO,QAAyB,MAAM,mBAAmB,CAAC;AAC1D,OAAO,EACL,GAAG,EACH,cAAc,EACd,QAAQ,EAER,UAAU,EACX,MAAM,cAAc,CAAC;AACtB,OAAO,EAEL,KAAK,EACL,UAAU,EAEX,MAAM,sBAAsB,CAAC;AAC9B,OAAO,EACL,YAAY,EACZ,oBAAoB,EACpB,oBAAoB,EACrB,MAAM,YAAY,CAAC;AAUpB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAE/C,MAAM,CAAC,OAAO,OAAO,YAAY;WACjB,KAAK,CAAC,GAAG,SAAS,GAAG,EACjC,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,GAClB,WAAW,CAAC,GAAG,CAAC,GAAG,SAAS;CAMhC;AAED,aAAK,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,OAAO,CAAC,SAAS,QAAQ,GACjE,GAAG,CAAC,OAAO,CAAC,CAAC,SAAS,CAAC,GACvB,cAAc,EAAE,CAAC;AAErB,aAAK,cAAc,GAAG,KAAK,GAAG;IAAE,KAAK,EAAE,UAAU,CAAA;CAAE,CAAC;AAEpD;;;;GAIG;AACH,qBAAa,WAAW,CAAC,GAAG,SAAS,GAAG;IACtC;;OAEG;IACH,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC;IAC5B;;OAEG;IACH,QAAQ,CAAC,KAAK,EAAE,cAAc,CAAC;IAE/B;;OAEG;IACH,QAAQ,CAAC,GAAG,EAAE,YAAY,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9D;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,QAAQ,CAAC,WAAW,EAAE,oBAAoB,CAAC,GAAG,EAAE,eAAe,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;IAE9E;;OAEG;IACH,IAAI,SAAS,IAAI,SAAS,CAEzB;IACD,OAAO,CAAC,UAAU,CAAY;IAE9B,OAAO,CAAC,QAAQ,CAAY;IAC5B,OAAO,CAAC,IAAI,CAAM;IAClB,OAAO,CAAC,IAAI,CAAsB;gBAGhC,GAAG,EAAE,GAAG,EACR,SAAS,EAAE,SAAS,EACpB,QAAQ,CAAC,EAAE,QAAQ,EACnB,KAAK,CAAC,EAAE,KAAK;IA4Ef;;OAEG;IACG,KAAK,IAAI,OAAO,CACpB,OAAO,CACL,GAAG,CAAC,OAAO,CAAC,SAAS,QAAQ,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,CAAC,GAAG,UAAU,EACnE,QAAQ,CAAC,GAAG,CAAC,CACd,CACF;IAkBD;;OAEG;IACH,OAAO,IAAI,SAAS;IAIpB;;;OAGG;IACH,SAAS,CAAC,UAAU,CAAC,EAAE,UAAU,GAAG,YAAY;IAuBhD;;OAEG;IACH,WAAW;CAUZ"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/state.js b/dist/esm/program/namespace/state.js
index 2bb0d7f895cf219a94e848fe08ecd378b695f3b2..855191e9c3e870daace2b9b8b61544586a8faa08 100644
--- a/dist/esm/program/namespace/state.js
+++ b/dist/esm/program/namespace/state.js
@@ -1,8 +1,8 @@
 import EventEmitter from "eventemitter3";
-import camelCase from "camelcase";
+import { camelCase } from "@juici/case";
 import { SystemProgram, } from "@solana/web3.js";
 import { getProvider } from "../../provider.js";
-import { BorshCoder, stateDiscriminator } from "../../coder/index.js";
+import { BorshCoder, stateDiscriminator, } from "../../coder/index.js";
 import { validateAccounts, parseIdlErrors } from "../common.js";
 import { findProgramAddressSync, createWithSeedSync, } from "../../utils/pubkey.js";
 import InstructionNamespaceFactory from "./instruction.js";
@@ -22,17 +22,12 @@ export default class StateFactory {
  * abstraction.
  */
 export class StateClient {
-    constructor(idl, programId, 
-    /**
-     * Returns the client's wallet and network provider.
-     */
-    provider = getProvider(), 
-    /**
-     * Returns the coder.
-     */
-    coder = new BorshCoder(idl)) {
-        this.provider = provider;
-        this.coder = coder;
+    constructor(idl, programId, provider, coder) {
+        if (!idl.state || (coder && !coder.state)) {
+            throw new Error("State is not specified in IDL.");
+        }
+        this.coder = (coder !== null && coder !== void 0 ? coder : new BorshCoder(idl));
+        this.provider = provider !== null && provider !== void 0 ? provider : getProvider();
         this._idl = idl;
         this._programId = programId;
         this._address = programStateAddress(programId);
@@ -45,15 +40,15 @@ export class StateClient {
             let rpc = {};
             (_a = idl.state) === null || _a === void 0 ? void 0 : _a.methods.forEach((m) => {
                 // Build instruction method.
-                const ixItem = InstructionNamespaceFactory.build(m, (ixName, ix) => coder.instruction.encodeState(ixName, ix), programId);
+                const ixItem = InstructionNamespaceFactory.build(m, (ixName, ix) => this.coder.instruction.encodeState(ixName, ix), programId);
                 ixItem["accounts"] = (accounts) => {
-                    const keys = stateInstructionKeys(programId, provider, m, accounts);
+                    const keys = stateInstructionKeys(programId, this.provider, m, accounts);
                     return keys.concat(InstructionNamespaceFactory.accountsArray(accounts, m.accounts, m.name));
                 };
                 // Build transaction method.
                 const txItem = TransactionNamespaceFactory.build(m, ixItem);
                 // Build RPC method.
-                const rpcItem = RpcNamespaceFactory.build(m, txItem, parseIdlErrors(idl), provider);
+                const rpcItem = RpcNamespaceFactory.build(m, txItem, parseIdlErrors(idl), this.provider);
                 // Attach them all to their respective namespaces.
                 const name = camelCase(m.name);
                 instruction[name] = ixItem;
@@ -91,7 +86,7 @@ export class StateClient {
             throw new Error("State is not specified in IDL.");
         }
         const expectedDiscriminator = await stateDiscriminator(state.struct.name);
-        if (expectedDiscriminator.compare(accountInfo.data.slice(0, 8))) {
+        if (expectedDiscriminator.compare(accountInfo.data.subarray(0, 8))) {
             throw new Error("Invalid account discriminator");
         }
         return this.coder.state.decode(accountInfo.data);
@@ -146,13 +141,11 @@ function stateInstructionKeys(programId, provider, m, accounts) {
     if (m.name === "new") {
         // Ctor `new` method.
         const [programSigner] = findProgramAddressSync([], programId);
-        // @ts-expect-error
         if (provider.wallet === undefined) {
             throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");
         }
         return [
             {
-                // @ts-expect-error
                 pubkey: provider.wallet.publicKey,
                 isWritable: false,
                 isSigner: true,
diff --git a/dist/esm/program/namespace/state.js.map b/dist/esm/program/namespace/state.js.map
index ccae29f9a22ff9beb34aa5e7aaaaebed016924ac..a241cae7af295efc3c3fea1f264c839536c0e6e4 100644
--- a/dist/esm/program/namespace/state.js.map
+++ b/dist/esm/program/namespace/state.js.map
@@ -1 +1 @@
-{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"state.js","sourceRoot":"","sources":["../../../../src/program/namespace/state.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/program/namespace/types.d.ts b/dist/esm/program/namespace/types.d.ts
index c3a3c2fce78481bec9b14fb511411aa2c493f53c..752c66dc97670ff7afc14430d551d6bb68269e9d 100644
--- a/dist/esm/program/namespace/types.d.ts
+++ b/dist/esm/program/namespace/types.d.ts
@@ -1,7 +1,9 @@
+/// <reference types="node" />
 import { PublicKey } from "@solana/web3.js";
 import BN from "bn.js";
+import { CamelCase } from "@juici/case";
 import { Idl } from "../../";
-import { IdlField, IdlInstruction, IdlType, IdlTypeDef, IdlTypeDefTyEnum, IdlTypeDefTyStruct } from "../../idl";
+import { IdlAccountDef, IdlEnumFields, IdlEnumFieldsNamed, IdlEnumFieldsTuple, IdlField, IdlInstruction, IdlType, IdlTypeDef, IdlTypeDefTyEnum, IdlTypeDefTyStruct } from "../../idl";
 import { Accounts, Context } from "../context";
 import { MethodsBuilder } from "./methods";
 /**
@@ -23,11 +25,11 @@ export declare type AllInstructionsMap<IDL extends Idl> = InstructionMap<AllInst
 /**
  * All accounts for an IDL.
  */
-export declare type AllAccounts<IDL extends Idl> = IDL["accounts"] extends undefined ? IdlTypeDef : NonNullable<IDL["accounts"]>[number];
+export declare type AllAccounts<IDL extends Idl> = IDL["accounts"] extends IdlAccountDef[] ? IDL["accounts"][number] : IdlAccountDef;
 /**
  * Returns a type of instruction name to the IdlInstruction.
  */
-export declare type AccountMap<I extends IdlTypeDef> = {
+export declare type AccountMap<I extends IdlAccountDef> = {
     [K in I["name"]]: I & {
         name: K;
     };
@@ -59,6 +61,7 @@ declare type TypeMap = {
     publicKey: PublicKey;
     bool: boolean;
     string: string;
+    bytes: Buffer;
 } & {
     [K in "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "f64"]: number;
 } & {
@@ -81,6 +84,10 @@ export declare type DecodeType<T extends IdlType, Defined> = T extends keyof Typ
 } ? TypeMap[T["coption"]] | null : T extends {
     vec: keyof TypeMap;
 } ? TypeMap[T["vec"]][] : T extends {
+    vec: {
+        defined: keyof Defined;
+    };
+} ? Defined[T["vec"]["defined"]][] : T extends {
     array: [defined: keyof TypeMap, size: number];
 } ? TypeMap[T["array"][0]][] : unknown;
 /**
@@ -89,19 +96,57 @@ export declare type DecodeType<T extends IdlType, Defined> = T extends keyof Typ
 declare type ArgsTuple<A extends IdlField[], Defined> = {
     [K in keyof A]: A[K] extends IdlField ? DecodeType<A[K]["type"], Defined> : unknown;
 } & unknown[];
-declare type FieldsOfType<I extends IdlTypeDef> = NonNullable<I["type"] extends IdlTypeDefTyStruct ? I["type"]["fields"] : I["type"] extends IdlTypeDefTyEnum ? I["type"]["variants"][number]["fields"] : any[]>[number];
-export declare type TypeDef<I extends IdlTypeDef, Defined> = {
-    [F in FieldsOfType<I>["name"]]: DecodeType<(FieldsOfType<I> & {
-        name: F;
-    })["type"], Defined>;
+/**
+ * Flatten { a: number, b: { c: string } } into number | string
+ */
+declare type UnboxToUnion<T> = T extends (infer U)[] ? UnboxToUnion<U> : T extends Record<string, never> ? "__empty_object__" : T extends Record<string, infer V> ? UnboxToUnion<V> : T;
+/**
+ * Decode a single enum field.
+ */
+declare type DecodeEnumField<F, Defined> = F extends IdlType ? DecodeType<F, Defined> : never;
+/**
+ * Decode enum variant: named or tuple.
+ */
+declare type DecodeEnumFields<F extends IdlEnumFields, Defined> = F extends IdlEnumFieldsNamed ? {
+    [F2 in F[number] as F2["name"]]: DecodeEnumField<F2["type"], Defined>;
+} : F extends IdlEnumFieldsTuple ? {
+    [F3 in keyof F as Exclude<F3, keyof unknown[]>]: DecodeEnumField<F[F3], Defined>;
+} : Record<never, never>;
+declare type DecodeEnumVariants<I extends IdlTypeDefTyEnum, Defined> = {
+    [V in I["variants"][number] as CamelCase<V["name"]>]: DecodeEnumFields<NonNullable<V["fields"]>, Defined>;
 };
-declare type TypeDefDictionary<T extends IdlTypeDef[], Defined> = {
-    [K in T[number]["name"]]: TypeDef<T[number] & {
-        name: K;
-    }, Defined>;
+declare type ValueOf<T> = T[keyof T];
+declare type XorEnumVariants<T extends Record<string, unknown>> = ValueOf<{
+    [K1 in keyof T]: {
+        [K2 in Exclude<keyof T, K1>]?: never;
+    } & {
+        [K2 in K1]: T[K2];
+    };
+}>;
+declare type DecodeEnum<I extends IdlTypeDefTyEnum, Defined> = XorEnumVariants<DecodeEnumVariants<I, Defined>>;
+declare type DecodeStruct<I extends IdlTypeDefTyStruct, Defined> = {
+    [T in I["fields"][number] as T["name"]]: DecodeType<T["type"], Defined>;
+};
+export declare type TypeDef<I extends IdlTypeDef, Defined> = I["type"] extends IdlTypeDefTyEnum ? DecodeEnum<I["type"], Defined> : I["type"] extends IdlTypeDefTyStruct ? DecodeStruct<I["type"], Defined> : never;
+declare type TypeDefDictionary<I extends IdlTypeDef[], Defined> = {
+    [T in I[number] as T["name"]]: TypeDef<T, Defined>;
+};
+declare type DecodedHelper<T extends IdlTypeDef[], Defined> = {
+    [D in T[number] as D["name"]]: TypeDef<D, Defined>;
+};
+declare type UnknownType = "__unkown_defined_type__";
+declare type EmptyDefined = Record<UnknownType, never>;
+declare type RecursiveTypes4<I extends IdlTypeDef[], Defined = EmptyDefined> = DecodedHelper<I, Defined>;
+declare type RecursiveTypes3<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes4<I, DecodedHelper<I, Defined>> : Decoded;
+declare type RecursiveTypes2<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes3<I, DecodedHelper<I, Defined>> : Decoded;
+declare type RecursiveTypes<I extends IdlTypeDef[], Defined = EmptyDefined, Decoded = DecodedHelper<I, Defined>> = UnknownType extends UnboxToUnion<Decoded> ? RecursiveTypes2<I, DecodedHelper<I, Defined>> : Decoded;
+export declare type IdlTypes<I extends Idl> = RecursiveTypes<NonNullable<I["types"]>>;
+export declare type IdlAccounts<I extends Idl> = TypeDefDictionary<NonNullable<I["accounts"]>, IdlTypes<I>>;
+export declare type IdlEvents<I extends Idl, Defined = IdlTypes<I>> = {
+    [E in NonNullable<I["events"]>[number] as E["name"]]: {
+        [F in E["fields"][number] as F["name"]]: DecodeType<F["type"], Defined>;
+    };
 };
-export declare type IdlTypes<T extends Idl> = TypeDefDictionary<NonNullable<T["types"]>, Record<string, never>>;
-export declare type IdlAccounts<T extends Idl> = TypeDefDictionary<NonNullable<T["accounts"]>, Record<string, never>>;
-export declare type IdlErrorInfo<IDL extends Idl> = NonNullable<IDL["errors"]>[number];
+export declare type IdlErrorInfo<I extends Idl> = NonNullable<I["errors"]>[number];
 export {};
 //# sourceMappingURL=types.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/program/namespace/types.d.ts.map b/dist/esm/program/namespace/types.d.ts.map
index 45ee1c5d16e3df9a1422c7f5847bcb499fdda5ee..d42e412601c556e42425b39eac38ecae4d57f4cc 100644
--- a/dist/esm/program/namespace/types.d.ts.map
+++ b/dist/esm/program/namespace/types.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/types.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"types.d.ts","sourceRoot":"","sources":["../../../../src/program/namespace/types.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,MAAM,OAAO,CAAC;AACvB,OAAO,EAAE,SAAS,EAAE,MAAM,aAAa,CAAC;AACxC,OAAO,EAAE,GAAG,EAAE,MAAM,QAAQ,CAAC;AAC7B,OAAO,EACL,aAAa,EACb,aAAa,EACb,kBAAkB,EAClB,kBAAkB,EAClB,QAAQ,EACR,cAAc,EACd,OAAO,EACP,UAAU,EACV,gBAAgB,EAChB,kBAAkB,EACnB,MAAM,WAAW,CAAC;AACnB,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,YAAY,CAAC;AAC/C,OAAO,EAAE,cAAc,EAAE,MAAM,WAAW,CAAC;AAE3C;;GAEG;AACH,oBAAY,eAAe,CAAC,GAAG,SAAS,GAAG,IAAI,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,CAAC;AAE3E;;GAEG;AACH,oBAAY,cAAc,CAAC,CAAC,SAAS,cAAc,IAAI;KACpD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE;CAClC,CAAC;AAEF;;GAEG;AACH,oBAAY,kBAAkB,CAAC,GAAG,SAAS,GAAG,IAAI,cAAc,CAC9D,eAAe,CAAC,GAAG,CAAC,CACrB,CAAC;AAEF;;GAEG;AACH,oBAAY,WAAW,CAAC,GAAG,SAAS,GAAG,IACrC,GAAG,CAAC,UAAU,CAAC,SAAS,aAAa,EAAE,GACnC,GAAG,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,GACvB,aAAa,CAAC;AAEpB;;GAEG;AACH,oBAAY,UAAU,CAAC,CAAC,SAAS,aAAa,IAAI;KAC/C,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,GAAG;QAAE,IAAI,EAAE,CAAC,CAAA;KAAE;CAClC,CAAC;AAEF;;GAEG;AACH,oBAAY,cAAc,CAAC,GAAG,SAAS,GAAG,IAAI,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC;AAE3E,oBAAY,yBAAyB,CACnC,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,cAAc,EACxB,GAAG,EACH,EAAE,SAAS;KAAG,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,OAAO;CAAE,GAAG;KACtD,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,OAAO;CACxC,IACC;KACD,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,oBAAoB,CAClD,GAAG,EACH,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACpB,GAAG,CACJ,GACC,EAAE,CAAC,CAAC,CAAC;CACR,CAAC;AAEF,oBAAY,oBAAoB,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC,SAAS,cAAc,IAAI;KAC3E,CAAC,IAAI,MAAM,cAAc,CAAC,CAAC,CAAC,GAAG,SAAS,CACvC,GAAG,EACH,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EACpB,cAAc,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC1C;CACF,CAAC;AAEF,oBAAY,oBAAoB,CAC9B,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,EAC9B,GAAG,IACD,CAAC,GAAG,IAAI,EAAE,wBAAwB,CAAC,GAAG,EAAE,CAAC,CAAC,KAAK,GAAG,CAAC;AAEvD,oBAAY,wBAAwB,CAClC,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,IACnC;IACF,GAAG,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC;IACtC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;CACzC,CAAC;AAEF,oBAAY,2BAA2B,CACrC,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,eAAe,CAAC,GAAG,CAAC,IAC5B;KACD,CAAC,IAAI,MAAM,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,SAAS;CACxD,CAAC;AAEF,oBAAY,SAAS,CACnB,GAAG,SAAS,GAAG,EACf,CAAC,SAAS,GAAG,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,EACrC,GAAG,IACD,CAAC,GAAG,IAAI,EAAE,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC;AAE1D,aAAK,OAAO,GAAG;IACb,SAAS,EAAE,SAAS,CAAC;IACrB,IAAI,EAAE,OAAO,CAAC;IACd,MAAM,EAAE,MAAM,CAAC;IACf,KAAK,EAAE,MAAM,CAAC;CACf,GAAG;KACD,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,MAAM;CAC3E,GAAG;KACD,CAAC,IAAI,KAAK,GAAG,KAAK,GAAG,MAAM,GAAG,MAAM,GAAG,EAAE;CAC3C,CAAC;AAEF,oBAAY,UAAU,CAAC,CAAC,SAAS,OAAO,EAAE,OAAO,IAAI,CAAC,SAAS,MAAM,OAAO,GACxE,OAAO,CAAC,CAAC,CAAC,GACV,CAAC,SAAS;IAAE,OAAO,EAAE,MAAM,OAAO,CAAA;CAAE,GACpC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GACrB,CAAC,SAAS;IAAE,MAAM,EAAE;QAAE,OAAO,EAAE,MAAM,OAAO,CAAA;KAAE,CAAA;CAAE,GAChD,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,GACtC,CAAC,SAAS;IAAE,MAAM,EAAE,MAAM,OAAO,CAAA;CAAE,GACnC,OAAO,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,GAAG,IAAI,GAC3B,CAAC,SAAS;IAAE,OAAO,EAAE;QAAE,OAAO,EAAE,MAAM,OAAO,CAAA;KAAE,CAAA;CAAE,GACjD,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,GACvC,CAAC,SAAS;IAAE,OAAO,EAAE,MAAM,OAAO,CAAA;CAAE,GACpC,OAAO,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC,GAAG,IAAI,GAC5B,CAAC,SAAS;IAAE,GAAG,EAAE,MAAM,OAAO,CAAA;CAAE,GAChC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,EAAE,GACnB,CAAC,SAAS;IAAE,GAAG,EAAE;QAAE,OAAO,EAAE,MAAM,OAAO,CAAA;KAAE,CAAA;CAAE,GAC7C,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,GAC9B,CAAC,SAAS;IAAE,KAAK,EAAE,CAAC,OAAO,EAAE,MAAM,OAAO,EAAE,IAAI,EAAE,MAAM,CAAC,CAAA;CAAE,GAC3D,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,GACxB,OAAO,CAAC;AAEZ;;GAEG;AACH,aAAK,SAAS,CAAC,CAAC,SAAS,QAAQ,EAAE,EAAE,OAAO,IAAI;KAC7C,CAAC,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,SAAS,QAAQ,GACjC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,GACjC,OAAO;CACZ,GAAG,OAAO,EAAE,CAAC;AAEd;;GAEG;AACH,aAAK,YAAY,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,EAAE,GACxC,YAAY,CAAC,CAAC,CAAC,GACf,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE,KAAK,CAAC,GAC/B,kBAAkB,GAClB,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC,GACjC,YAAY,CAAC,CAAC,CAAC,GACf,CAAC,CAAC;AAEN;;GAEG;AACH,aAAK,eAAe,CAAC,CAAC,EAAE,OAAO,IAAI,CAAC,SAAS,OAAO,GAChD,UAAU,CAAC,CAAC,EAAE,OAAO,CAAC,GACtB,KAAK,CAAC;AAEV;;GAEG;AACH,aAAK,gBAAgB,CACnB,CAAC,SAAS,aAAa,EACvB,OAAO,IACL,CAAC,SAAS,kBAAkB,GAC5B;KACG,EAAE,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,MAAM,CAAC,GAAG,eAAe,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;CACtE,GACD,CAAC,SAAS,kBAAkB,GAC5B;KACG,EAAE,IAAI,MAAM,CAAC,IAAI,OAAO,CAAC,EAAE,EAAE,MAAM,OAAO,EAAE,CAAC,GAAG,eAAe,CAC9D,CAAC,CAAC,EAAE,CAAC,EACL,OAAO,CACR;CACF,GACD,MAAM,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;AAEzB,aAAK,kBAAkB,CAAC,CAAC,SAAS,gBAAgB,EAAE,OAAO,IAAI;KAC5D,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,IAAI,SAAS,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,gBAAgB,CACpE,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,EACxB,OAAO,CACR;CACF,CAAC;AAEF,aAAK,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;AAC7B,aAAK,eAAe,CAAC,CAAC,SAAS,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,IAAI,OAAO,CAAC;KAC/D,EAAE,IAAI,MAAM,CAAC,GAAG;SACd,EAAE,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK;KACrC,GAAG;SAAG,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC;KAAE;CAC1B,CAAC,CAAC;AAEH,aAAK,UAAU,CAAC,CAAC,SAAS,gBAAgB,EAAE,OAAO,IAAI,eAAe,CACpE,kBAAkB,CAAC,CAAC,EAAE,OAAO,CAAC,CAC/B,CAAC;AAEF,aAAK,YAAY,CAAC,CAAC,SAAS,kBAAkB,EAAE,OAAO,IAAI;KACxD,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;CACxE,CAAC;AAEF,oBAAY,OAAO,CACjB,CAAC,SAAS,UAAU,EACpB,OAAO,IACL,CAAC,CAAC,MAAM,CAAC,SAAS,gBAAgB,GAClC,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,GAC9B,CAAC,CAAC,MAAM,CAAC,SAAS,kBAAkB,GACpC,YAAY,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC,GAChC,KAAK,CAAC;AAEV,aAAK,iBAAiB,CAAC,CAAC,SAAS,UAAU,EAAE,EAAE,OAAO,IAAI;KACvD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC;CACnD,CAAC;AAEF,aAAK,aAAa,CAAC,CAAC,SAAS,UAAU,EAAE,EAAE,OAAO,IAAI;KACnD,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC;CACnD,CAAC;AAEF,aAAK,WAAW,GAAG,yBAAyB,CAAC;AAC7C,aAAK,YAAY,GAAG,MAAM,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;AAE/C,aAAK,eAAe,CAClB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,IACpB,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AAE9B,aAAK,eAAe,CAClB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,EACtB,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,IACjC,WAAW,SAAS,YAAY,CAAC,OAAO,CAAC,GACzC,eAAe,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAC7C,OAAO,CAAC;AAEZ,aAAK,eAAe,CAClB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,EACtB,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,IACjC,WAAW,SAAS,YAAY,CAAC,OAAO,CAAC,GACzC,eAAe,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAC7C,OAAO,CAAC;AAEZ,aAAK,cAAc,CACjB,CAAC,SAAS,UAAU,EAAE,EACtB,OAAO,GAAG,YAAY,EACtB,OAAO,GAAG,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,IACjC,WAAW,SAAS,YAAY,CAAC,OAAO,CAAC,GACzC,eAAe,CAAC,CAAC,EAAE,aAAa,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,GAC7C,OAAO,CAAC;AAEZ,oBAAY,QAAQ,CAAC,CAAC,SAAS,GAAG,IAAI,cAAc,CAAC,WAAW,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;AAE9E,oBAAY,WAAW,CAAC,CAAC,SAAS,GAAG,IAAI,iBAAiB,CACxD,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,EAC1B,QAAQ,CAAC,CAAC,CAAC,CACZ,CAAC;AAEF,oBAAY,SAAS,CAAC,CAAC,SAAS,GAAG,EAAE,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC,IAAI;KAC3D,CAAC,IAAI,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG;SACnD,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,OAAO,CAAC;KACxE;CACF,CAAC;AAEF,oBAAY,YAAY,CAAC,CAAC,SAAS,GAAG,IAAI,WAAW,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/provider.d.ts b/dist/esm/provider.d.ts
index e2ba9863187b1e805ad5ff4658751b180b1cc72f..7cdbad0412f277206aa1c9c92f8e50f990802de9 100644
--- a/dist/esm/provider.d.ts
+++ b/dist/esm/provider.d.ts
@@ -1,8 +1,9 @@
 import { Connection, Signer, PublicKey, Transaction, TransactionSignature, ConfirmOptions, Commitment, SendOptions } from "@solana/web3.js";
-import { SuccessfulTxSimulationResponse } from "./utils/rpc.js";
+import { SuccessfulTxSimulationResponse } from "./utils/simulate";
 export default interface Provider {
     readonly connection: Connection;
-    readonly publicKey?: PublicKey;
+    readonly wallet: Wallet;
+    readonly publicKey: PublicKey;
     send?(tx: Transaction, signers?: Signer[], opts?: SendOptions): Promise<TransactionSignature>;
     sendAndConfirm?(tx: Transaction, signers?: Signer[], opts?: ConfirmOptions): Promise<TransactionSignature>;
     sendAll?(txWithSigners: {
diff --git a/dist/esm/provider.d.ts.map b/dist/esm/provider.d.ts.map
index 9d7166e09c5a11de8cc7378ce01d79769dd67984..69a9cfce2eb99acb80aefd47bcb69a538a365efb 100644
--- a/dist/esm/provider.d.ts.map
+++ b/dist/esm/provider.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"provider.d.ts","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"provider.d.ts","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/provider.js b/dist/esm/provider.js
index df789ef15ae8a50796f238d04dbf6775eed67be8..4491bbed1f8ae31bfd2b35cd6d2ce56b355f2ddc 100644
--- a/dist/esm/provider.js
+++ b/dist/esm/provider.js
@@ -1,7 +1,8 @@
 import { Connection, SendTransactionError, } from "@solana/web3.js";
 import { bs58 } from "./utils/bytes/index.js";
 import { isBrowser } from "./utils/common.js";
-import { simulateTransaction, } from "./utils/rpc.js";
+import { simulateTransaction, } from "./utils/simulate";
+import { Wallet as NodeWallet } from "./wallet";
 /**
  * The network and wallet context used to send transactions paid for and signed
  * by the provider.
@@ -38,7 +39,6 @@ export class AnchorProvider {
         }
         opts = opts !== null && opts !== void 0 ? opts : AnchorProvider.defaultOptions();
         const connection = new Connection(url !== null && url !== void 0 ? url : "http://localhost:8899", opts.preflightCommitment);
-        const NodeWallet = require("./nodewallet.js").default;
         const wallet = NodeWallet.local();
         return new AnchorProvider(connection, wallet, opts);
     }
@@ -59,7 +59,6 @@ export class AnchorProvider {
         }
         const options = AnchorProvider.defaultOptions();
         const connection = new Connection(url, options.commitment);
-        const NodeWallet = require("./nodewallet.js").default;
         const wallet = NodeWallet.local();
         return new AnchorProvider(connection, wallet, options);
     }
diff --git a/dist/esm/provider.js.map b/dist/esm/provider.js.map
index ffdf0ebe0225ded919c0a880cd4ed07243b8cbcd..7b1b9d2183b8818e5f6b66e27ab5e41ea1ce2a28 100644
--- a/dist/esm/provider.js.map
+++ b/dist/esm/provider.js.map
@@ -1 +1 @@
-{"version":3,"file":"provider.js","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"provider.js","sourceRoot":"","sources":["../../src/provider.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/spl/associated-token.d.ts b/dist/esm/spl/associated-token.d.ts
index 938c49754bf9427ffa5cb9fc2fd4c3196401a6ff..510742c0f5d99f96dfe71d85beb01fa91efce3da 100644
--- a/dist/esm/spl/associated-token.d.ts
+++ b/dist/esm/spl/associated-token.d.ts
@@ -52,6 +52,13 @@ export declare type SplAssociatedToken = {
             args: [];
         }
     ];
+    errors: [
+        {
+            code: 0;
+            name: "InvalidOwner";
+            msg: "Associated token account owner does not match address derivation";
+        }
+    ];
 };
 export declare const IDL: SplAssociatedToken;
 //# sourceMappingURL=associated-token.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/spl/associated-token.d.ts.map b/dist/esm/spl/associated-token.d.ts.map
index cc0b108d158c0fa64f2027385e142de86315748e..c8ef58ec15805e71f27bddb7a5d90b8e31d18374 100644
--- a/dist/esm/spl/associated-token.d.ts.map
+++ b/dist/esm/spl/associated-token.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"associated-token.d.ts","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAMjF,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAOxE;AAED,wBAAgB,KAAK,IAAI,uBAAuB,CAE/C;AAED;;GAEG;AACH,oBAAY,kBAAkB,GAAG;IAC/B,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,sBAAsB,CAAC;IAC7B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,IAAI,CAAC;iBAChB;gBACD;oBACE,IAAI,EAAE,mBAAmB,CAAC;oBAC1B,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC;oBACd,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,kBA8CjB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"associated-token.d.ts","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAC9C,OAAO,QAAQ,MAAM,gBAAgB,CAAC;AACtC,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAMjF,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAOxE;AAED,wBAAgB,KAAK,IAAI,uBAAuB,CAE/C;AAED;;GAEG;AACH,oBAAY,kBAAkB,GAAG;IAC/B,OAAO,EAAE,OAAO,CAAC;IACjB,IAAI,EAAE,sBAAsB,CAAC;IAC7B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ,CAAC;YACf,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW,CAAC;oBAClB,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,IAAI,CAAC;iBAChB;gBACD;oBACE,IAAI,EAAE,mBAAmB,CAAC;oBAC1B,KAAK,EAAE,IAAI,CAAC;oBACZ,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,OAAO,CAAC;oBACd,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,eAAe,CAAC;oBACtB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,cAAc,CAAC;oBACrB,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;gBACD;oBACE,IAAI,EAAE,MAAM,CAAC;oBACb,KAAK,EAAE,KAAK,CAAC;oBACb,QAAQ,EAAE,KAAK,CAAC;iBACjB;aACF,CAAC;YACF,IAAI,EAAE,EAAE,CAAC;SACV;KACF,CAAC;IACF,MAAM,EAAE;QACN;YACE,IAAI,EAAE,CAAC,CAAC;YACR,IAAI,EAAE,cAAc,CAAC;YACrB,GAAG,EAAE,kEAAkE,CAAC;SACzE;KACF,CAAC;CACH,CAAC;AAEF,eAAO,MAAM,GAAG,EAAE,kBAqDjB,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/spl/associated-token.js b/dist/esm/spl/associated-token.js
index cadd84f5a103f4fdc009d818b052aca817b44f35..0f462e86baa011fb18f11bb012f7d7d3b60ece31 100644
--- a/dist/esm/spl/associated-token.js
+++ b/dist/esm/spl/associated-token.js
@@ -54,5 +54,12 @@ export const IDL = {
             args: [],
         },
     ],
+    errors: [
+        {
+            code: 0,
+            name: "InvalidOwner",
+            msg: "Associated token account owner does not match address derivation",
+        },
+    ],
 };
 //# sourceMappingURL=associated-token.js.map
\ No newline at end of file
diff --git a/dist/esm/spl/associated-token.js.map b/dist/esm/spl/associated-token.js.map
index 05b0c3f45d5319ce7a777213487cba4a6a6ab4c6..7259bff3a14141295adfd388841214f7e1df063b 100644
--- a/dist/esm/spl/associated-token.js.map
+++ b/dist/esm/spl/associated-token.js.map
@@ -1 +1 @@
-{"version":3,"file":"associated-token.js","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAE9C,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAEjF,MAAM,2BAA2B,GAAG,IAAI,SAAS,CAC/C,8CAA8C,CAC/C,CAAC;AAEF,MAAM,UAAU,OAAO,CAAC,QAAmB;IACzC,OAAO,IAAI,OAAO,CAChB,GAAG,EACH,2BAA2B,EAC3B,QAAQ,EACR,KAAK,EAAE,CACR,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,KAAK;IACnB,OAAO,IAAI,uBAAuB,CAAC,GAAG,CAAC,CAAC;AAC1C,CAAC;AAqDD,MAAM,CAAC,MAAM,GAAG,GAAuB;IACrC,OAAO,EAAE,OAAO;IAChB,IAAI,EAAE,sBAAsB;IAC5B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,IAAI;iBACf;gBACD;oBACE,IAAI,EAAE,mBAAmB;oBACzB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,eAAe;oBACrB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;aACF;YACD,IAAI,EAAE,EAAE;SACT;KACF;CACF,CAAC"}
\ No newline at end of file
+{"version":3,"file":"associated-token.js","sourceRoot":"","sources":["../../../src/spl/associated-token.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAE,MAAM,qBAAqB,CAAC;AAE9C,OAAO,EAAE,uBAAuB,EAAE,MAAM,wCAAwC,CAAC;AAEjF,MAAM,2BAA2B,GAAG,IAAI,SAAS,CAC/C,8CAA8C,CAC/C,CAAC;AAEF,MAAM,UAAU,OAAO,CAAC,QAAmB;IACzC,OAAO,IAAI,OAAO,CAChB,GAAG,EACH,2BAA2B,EAC3B,QAAQ,EACR,KAAK,EAAE,CACR,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,KAAK;IACnB,OAAO,IAAI,uBAAuB,CAAC,GAAG,CAAC,CAAC;AAC1C,CAAC;AA4DD,MAAM,CAAC,MAAM,GAAG,GAAuB;IACrC,OAAO,EAAE,OAAO;IAChB,IAAI,EAAE,sBAAsB;IAC5B,YAAY,EAAE;QACZ;YACE,IAAI,EAAE,QAAQ;YACd,QAAQ,EAAE;gBACR;oBACE,IAAI,EAAE,WAAW;oBACjB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,IAAI;iBACf;gBACD;oBACE,IAAI,EAAE,mBAAmB;oBACzB,KAAK,EAAE,IAAI;oBACX,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,OAAO;oBACb,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,eAAe;oBACrB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,cAAc;oBACpB,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;gBACD;oBACE,IAAI,EAAE,MAAM;oBACZ,KAAK,EAAE,KAAK;oBACZ,QAAQ,EAAE,KAAK;iBAChB;aACF;YACD,IAAI,EAAE,EAAE;SACT;KACF;IACD,MAAM,EAAE;QACN;YACE,IAAI,EAAE,CAAC;YACP,IAAI,EAAE,cAAc;YACpB,GAAG,EAAE,kEAAkE;SACxE;KACF;CACF,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/spl/index.d.ts b/dist/esm/spl/index.d.ts
index 31fb8dbfa2e9c03cc038bd1d42d8b4dd871f6a9c..90de68593b8ed87286f8eea3e80b7d3bceb5b288 100644
--- a/dist/esm/spl/index.d.ts
+++ b/dist/esm/spl/index.d.ts
@@ -1,7 +1,7 @@
 import { Program, Provider } from "../index.js";
 import { SplAssociatedToken } from "./associated-token.js";
-import { SplToken } from "./token.js";
-export { SplToken } from "./token.js";
+import { SplToken } from "./token";
+export { SplToken } from "./token";
 export declare class Spl {
     static token(provider?: Provider): Program<SplToken>;
     static associatedToken(provider?: Provider): Program<SplAssociatedToken>;
diff --git a/dist/esm/spl/index.d.ts.map b/dist/esm/spl/index.d.ts.map
index a1302db01d07f419dcf1cdba4a33b9a44b616994..a978083a76f08de8a9410f9032d222be285374db 100644
--- a/dist/esm/spl/index.d.ts.map
+++ b/dist/esm/spl/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAEL,kBAAkB,EACnB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAA2B,QAAQ,EAAE,MAAM,YAAY,CAAC;AAE/D,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC,qBAAa,GAAG;WACA,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;WAI7C,eAAe,CAC3B,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,kBAAkB,CAAC;CAG/B"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,OAAO,EAAE,QAAQ,EAAE,MAAM,aAAa,CAAC;AAChD,OAAO,EAEL,kBAAkB,EACnB,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAA2B,QAAQ,EAAE,MAAM,SAAS,CAAC;AAE5D,OAAO,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAEnC,qBAAa,GAAG;WACA,KAAK,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC;WAI7C,eAAe,CAC3B,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,kBAAkB,CAAC;CAG/B"}
\ No newline at end of file
diff --git a/dist/esm/spl/index.js b/dist/esm/spl/index.js
index 481489493b5b84a38cad8eb3578b41e3331e52c5..8a7b137b054adc3c535c47d5a9b93221c6af5e33 100644
--- a/dist/esm/spl/index.js
+++ b/dist/esm/spl/index.js
@@ -1,5 +1,5 @@
 import { program as associatedTokenProgram, } from "./associated-token.js";
-import { program as tokenProgram } from "./token.js";
+import { program as tokenProgram } from "./token";
 export class Spl {
     static token(provider) {
         return tokenProgram(provider);
diff --git a/dist/esm/spl/index.js.map b/dist/esm/spl/index.js.map
index d7baa6df319b14459a4b339f15e33071ae6bc802..7441a5645d2eec6faab1caca1f3cf556a8f80678 100644
--- a/dist/esm/spl/index.js.map
+++ b/dist/esm/spl/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AACA,OAAO,EACL,OAAO,IAAI,sBAAsB,GAElC,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,OAAO,IAAI,YAAY,EAAY,MAAM,YAAY,CAAC;AAI/D,MAAM,OAAO,GAAG;IACP,MAAM,CAAC,KAAK,CAAC,QAAmB;QACrC,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAEM,MAAM,CAAC,eAAe,CAC3B,QAAmB;QAEnB,OAAO,sBAAsB,CAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC;CACF"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../src/spl/index.ts"],"names":[],"mappings":"AACA,OAAO,EACL,OAAO,IAAI,sBAAsB,GAElC,MAAM,uBAAuB,CAAC;AAC/B,OAAO,EAAE,OAAO,IAAI,YAAY,EAAY,MAAM,SAAS,CAAC;AAI5D,MAAM,OAAO,GAAG;IACP,MAAM,CAAC,KAAK,CAAC,QAAmB;QACrC,OAAO,YAAY,CAAC,QAAQ,CAAC,CAAC;IAChC,CAAC;IAEM,MAAM,CAAC,eAAe,CAC3B,QAAmB;QAEnB,OAAO,sBAAsB,CAAC,QAAQ,CAAC,CAAC;IAC1C,CAAC;CACF"}
\ No newline at end of file
diff --git a/dist/esm/spl/token/idl.d.ts b/dist/esm/spl/token/idl.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..48e0b2323a1d634afa601c6917a9d8089841baa9
--- /dev/null
+++ b/dist/esm/spl/token/idl.d.ts
@@ -0,0 +1,711 @@
+/**
+ * SplToken IDL.
+ */
+export declare type SplToken = {
+    version: "0.1.0";
+    name: "spl_token";
+    instructions: [
+        {
+            name: "initializeMint";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "decimals";
+                    type: "u8";
+                },
+                {
+                    name: "mintAuthority";
+                    type: "publicKey";
+                },
+                {
+                    name: "freezeAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        },
+        {
+            name: "initializeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "initializeMultisig";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "m";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "transfer";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "approve";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "delegate";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "revoke";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "setAuthority";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "authorityType";
+                    type: "u8";
+                },
+                {
+                    name: "newAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        },
+        {
+            name: "mintTo";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "burn";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                }
+            ];
+        },
+        {
+            name: "closeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "freezeAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "thawAccount";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "transferChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "destination";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "approveChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "delegate";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "mintToChecked";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "to";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "burnChecked";
+            accounts: [
+                {
+                    name: "source";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "authority";
+                    isMut: false;
+                    isSigner: true;
+                }
+            ];
+            args: [
+                {
+                    name: "amount";
+                    type: "u64";
+                },
+                {
+                    name: "decimals";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "initializeAccount2";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                },
+                {
+                    name: "rent";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authority";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "syncNative";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [];
+        },
+        {
+            name: "initializeAccount3";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                },
+                {
+                    name: "mint";
+                    isMut: false;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "authority";
+                    type: "publicKey";
+                }
+            ];
+        },
+        {
+            name: "initializeMultisig2";
+            accounts: [
+                {
+                    name: "account";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "m";
+                    type: "u8";
+                }
+            ];
+        },
+        {
+            name: "initializeMint2";
+            accounts: [
+                {
+                    name: "mint";
+                    isMut: true;
+                    isSigner: false;
+                }
+            ];
+            args: [
+                {
+                    name: "decimals";
+                    type: "u8";
+                },
+                {
+                    name: "mintAuthority";
+                    type: "publicKey";
+                },
+                {
+                    name: "freezeAuthority";
+                    type: {
+                        coption: "publicKey";
+                    };
+                }
+            ];
+        }
+    ];
+    accounts: [
+        {
+            name: "mint";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "mintAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    },
+                    {
+                        name: "supply";
+                        type: "u64";
+                    },
+                    {
+                        name: "decimals";
+                        type: "u8";
+                    },
+                    {
+                        name: "isInitialized";
+                        type: "bool";
+                    },
+                    {
+                        name: "freezeAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    }
+                ];
+            };
+        },
+        {
+            name: "token";
+            type: {
+                kind: "struct";
+                fields: [
+                    {
+                        name: "mint";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "authority";
+                        type: "publicKey";
+                    },
+                    {
+                        name: "amount";
+                        type: "u64";
+                    },
+                    {
+                        name: "delegate";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    },
+                    {
+                        name: "state";
+                        type: "u8";
+                    },
+                    {
+                        name: "isNative";
+                        type: {
+                            coption: "u64";
+                        };
+                    },
+                    {
+                        name: "delegatedAmount";
+                        type: "u64";
+                    },
+                    {
+                        name: "closeAuthority";
+                        type: {
+                            coption: "publicKey";
+                        };
+                    }
+                ];
+            };
+        }
+    ];
+    errors: [
+        {
+            code: 0;
+            name: "NotRentExempt";
+            msg: "Lamport balance below rent-exempt threshold";
+        },
+        {
+            code: 1;
+            name: "InsufficientFunds";
+            msg: "Insufficient funds";
+        },
+        {
+            code: 2;
+            name: "InvalidMint";
+            msg: "Invalid Mint";
+        },
+        {
+            code: 3;
+            name: "MintMismatch";
+            msg: "Account not associated with this Mint";
+        },
+        {
+            code: 4;
+            name: "OwnerMismatch";
+            msg: "Owner does not match";
+        },
+        {
+            code: 5;
+            name: "FixedSupply";
+            msg: "Fixed supply";
+        },
+        {
+            code: 6;
+            name: "AlreadyInUse";
+            msg: "Already in use";
+        },
+        {
+            code: 7;
+            name: "InvalidNumberOfProvidedSigners";
+            msg: "Invalid number of provided signers";
+        },
+        {
+            code: 8;
+            name: "InvalidNumberOfRequiredSigners";
+            msg: "Invalid number of required signers";
+        },
+        {
+            code: 9;
+            name: "UninitializedState";
+            msg: "State is unititialized";
+        },
+        {
+            code: 10;
+            name: "NativeNotSupported";
+            msg: "Instruction does not support native tokens";
+        },
+        {
+            code: 11;
+            name: "NonNativeHasBalance";
+            msg: "Non-native account can only be closed if its balance is zero";
+        },
+        {
+            code: 12;
+            name: "InvalidInstruction";
+            msg: "Invalid instruction";
+        },
+        {
+            code: 13;
+            name: "InvalidState";
+            msg: "State is invalid for requested operation";
+        },
+        {
+            code: 14;
+            name: "Overflow";
+            msg: "Operation overflowed";
+        },
+        {
+            code: 15;
+            name: "AuthorityTypeNotSupported";
+            msg: "Account does not support specified authority type";
+        },
+        {
+            code: 16;
+            name: "MintCannotFreeze";
+            msg: "This token mint cannot freeze accounts";
+        },
+        {
+            code: 17;
+            name: "AccountFrozen";
+            msg: "Account is frozen";
+        },
+        {
+            code: 18;
+            name: "MintDecimalsMismatch";
+            msg: "The provided decimals value different from the Mint decimals";
+        },
+        {
+            code: 19;
+            name: "NonNativeNotSupported";
+            msg: "Instruction does not support non-native tokens";
+        }
+    ];
+};
+export declare const IDL: SplToken;
+//# sourceMappingURL=idl.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/spl/token/idl.d.ts.map b/dist/esm/spl/token/idl.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..09496a9ee6bc79c2b5b4f5fcc4d2a13128e78ad9
--- /dev/null
+++ b/dist/esm/spl/token/idl.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.d.ts","sourceRoot":"","sources":["../../../../src/spl/token/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/spl/token/idl.js b/dist/esm/spl/token/idl.js
new file mode 100644
index 0000000000000000000000000000000000000000..594d993f16d3aaa5a42dddde7bbbefe01b795120
--- /dev/null
+++ b/dist/esm/spl/token/idl.js
@@ -0,0 +1,707 @@
+export const IDL = {
+    version: "0.1.0",
+    name: "spl_token",
+    instructions: [
+        {
+            name: "initializeMint",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+                {
+                    name: "mintAuthority",
+                    type: "publicKey",
+                },
+                {
+                    name: "freezeAuthority",
+                    type: {
+                        coption: "publicKey",
+                    },
+                },
+            ],
+        },
+        {
+            name: "initializeAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "initializeMultisig",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "m",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "transfer",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "destination",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "approve",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "delegate",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "revoke",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "setAuthority",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "authorityType",
+                    type: "u8",
+                },
+                {
+                    name: "newAuthority",
+                    type: {
+                        coption: "publicKey",
+                    },
+                },
+            ],
+        },
+        {
+            name: "mintTo",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "to",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "burn",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+            ],
+        },
+        {
+            name: "closeAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "destination",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "freezeAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "thawAccount",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "transferChecked",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "destination",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "approveChecked",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "delegate",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "mintToChecked",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "to",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "burnChecked",
+            accounts: [
+                {
+                    name: "source",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "authority",
+                    isMut: false,
+                    isSigner: true,
+                },
+            ],
+            args: [
+                {
+                    name: "amount",
+                    type: "u64",
+                },
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "initializeAccount2",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+                {
+                    name: "rent",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "authority",
+                    type: "publicKey",
+                },
+            ],
+        },
+        {
+            name: "syncNative",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+            ],
+            args: [],
+        },
+        {
+            name: "initializeAccount3",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+                {
+                    name: "mint",
+                    isMut: false,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "authority",
+                    type: "publicKey",
+                },
+            ],
+        },
+        {
+            name: "initializeMultisig2",
+            accounts: [
+                {
+                    name: "account",
+                    isMut: true,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "m",
+                    type: "u8",
+                },
+            ],
+        },
+        {
+            name: "initializeMint2",
+            accounts: [
+                {
+                    name: "mint",
+                    isMut: true,
+                    isSigner: false,
+                },
+            ],
+            args: [
+                {
+                    name: "decimals",
+                    type: "u8",
+                },
+                {
+                    name: "mintAuthority",
+                    type: "publicKey",
+                },
+                {
+                    name: "freezeAuthority",
+                    type: {
+                        coption: "publicKey",
+                    },
+                },
+            ],
+        },
+    ],
+    accounts: [
+        {
+            name: "mint",
+            type: {
+                kind: "struct",
+                fields: [
+                    {
+                        name: "mintAuthority",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                    {
+                        name: "supply",
+                        type: "u64",
+                    },
+                    {
+                        name: "decimals",
+                        type: "u8",
+                    },
+                    {
+                        name: "isInitialized",
+                        type: "bool",
+                    },
+                    {
+                        name: "freezeAuthority",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                ],
+            },
+        },
+        {
+            name: "token",
+            type: {
+                kind: "struct",
+                fields: [
+                    {
+                        name: "mint",
+                        type: "publicKey",
+                    },
+                    {
+                        name: "authority",
+                        type: "publicKey",
+                    },
+                    {
+                        name: "amount",
+                        type: "u64",
+                    },
+                    {
+                        name: "delegate",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                    {
+                        name: "state",
+                        type: "u8",
+                    },
+                    {
+                        name: "isNative",
+                        type: {
+                            coption: "u64",
+                        },
+                    },
+                    {
+                        name: "delegatedAmount",
+                        type: "u64",
+                    },
+                    {
+                        name: "closeAuthority",
+                        type: {
+                            coption: "publicKey",
+                        },
+                    },
+                ],
+            },
+        },
+    ],
+    errors: [
+        {
+            code: 0,
+            name: "NotRentExempt",
+            msg: "Lamport balance below rent-exempt threshold",
+        },
+        {
+            code: 1,
+            name: "InsufficientFunds",
+            msg: "Insufficient funds",
+        },
+        {
+            code: 2,
+            name: "InvalidMint",
+            msg: "Invalid Mint",
+        },
+        {
+            code: 3,
+            name: "MintMismatch",
+            msg: "Account not associated with this Mint",
+        },
+        {
+            code: 4,
+            name: "OwnerMismatch",
+            msg: "Owner does not match",
+        },
+        {
+            code: 5,
+            name: "FixedSupply",
+            msg: "Fixed supply",
+        },
+        {
+            code: 6,
+            name: "AlreadyInUse",
+            msg: "Already in use",
+        },
+        {
+            code: 7,
+            name: "InvalidNumberOfProvidedSigners",
+            msg: "Invalid number of provided signers",
+        },
+        {
+            code: 8,
+            name: "InvalidNumberOfRequiredSigners",
+            msg: "Invalid number of required signers",
+        },
+        {
+            code: 9,
+            name: "UninitializedState",
+            msg: "State is unititialized",
+        },
+        {
+            code: 10,
+            name: "NativeNotSupported",
+            msg: "Instruction does not support native tokens",
+        },
+        {
+            code: 11,
+            name: "NonNativeHasBalance",
+            msg: "Non-native account can only be closed if its balance is zero",
+        },
+        {
+            code: 12,
+            name: "InvalidInstruction",
+            msg: "Invalid instruction",
+        },
+        {
+            code: 13,
+            name: "InvalidState",
+            msg: "State is invalid for requested operation",
+        },
+        {
+            code: 14,
+            name: "Overflow",
+            msg: "Operation overflowed",
+        },
+        {
+            code: 15,
+            name: "AuthorityTypeNotSupported",
+            msg: "Account does not support specified authority type",
+        },
+        {
+            code: 16,
+            name: "MintCannotFreeze",
+            msg: "This token mint cannot freeze accounts",
+        },
+        {
+            code: 17,
+            name: "AccountFrozen",
+            msg: "Account is frozen",
+        },
+        {
+            code: 18,
+            name: "MintDecimalsMismatch",
+            msg: "The provided decimals value different from the Mint decimals",
+        },
+        {
+            code: 19,
+            name: "NonNativeNotSupported",
+            msg: "Instruction does not support non-native tokens",
+        },
+    ],
+};
+//# sourceMappingURL=idl.js.map
\ No newline at end of file
diff --git a/dist/esm/spl/token/idl.js.map b/dist/esm/spl/token/idl.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..b8f3d002a59bc54229fffe19aca5f786299d9415
--- /dev/null
+++ b/dist/esm/spl/token/idl.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"idl.js","sourceRoot":"","sources":["../../../../src/spl/token/idl.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/spl/token/index.d.ts b/dist/esm/spl/token/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b980883d7104c529a7db60b8438ccf62e0c07a52
--- /dev/null
+++ b/dist/esm/spl/token/index.d.ts
@@ -0,0 +1,8 @@
+import { Program } from "../../program/index.js";
+import Provider from "../../provider.js";
+import { SplTokenCoder } from "../../coder/spl-token/index.js";
+import { SplToken } from "./idl";
+export { IDL, SplToken } from "./idl";
+export declare function program(provider?: Provider): Program<SplToken>;
+export declare function coder(): SplTokenCoder;
+//# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/spl/token/index.d.ts.map b/dist/esm/spl/token/index.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..ae042aebcbc870a2a08344bcb86cf80da04fe033
--- /dev/null
+++ b/dist/esm/spl/token/index.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/spl/token/index.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAC;AACjD,OAAO,QAAQ,MAAM,mBAAmB,CAAC;AACzC,OAAO,EAAE,aAAa,EAAE,MAAM,gCAAgC,CAAC;AAE/D,OAAO,EAAO,QAAQ,EAAE,MAAM,OAAO,CAAC;AACtC,OAAO,EAAE,GAAG,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AAMtC,wBAAgB,OAAO,CAAC,QAAQ,CAAC,EAAE,QAAQ,GAAG,OAAO,CAAC,QAAQ,CAAC,CAE9D;AAED,wBAAgB,KAAK,IAAI,aAAa,CAErC"}
\ No newline at end of file
diff --git a/dist/esm/spl/token/index.js b/dist/esm/spl/token/index.js
new file mode 100644
index 0000000000000000000000000000000000000000..21e6579dfa088ae64f6172b9d2f21fdb0e73a4ec
--- /dev/null
+++ b/dist/esm/spl/token/index.js
@@ -0,0 +1,13 @@
+import { PublicKey } from "@solana/web3.js";
+import { Program } from "../../program/index.js";
+import { SplTokenCoder } from "../../coder/spl-token/index.js";
+import { IDL } from "./idl";
+export { IDL } from "./idl";
+const TOKEN_PROGRAM_ID = new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
+export function program(provider) {
+    return new Program(IDL, TOKEN_PROGRAM_ID, provider, coder());
+}
+export function coder() {
+    return new SplTokenCoder(IDL);
+}
+//# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/esm/spl/token/index.js.map b/dist/esm/spl/token/index.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..9ba927bb8d5d3ebaf47dcccb53169d0f915703ad
--- /dev/null
+++ b/dist/esm/spl/token/index.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/spl/token/index.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAE,MAAM,wBAAwB,CAAC;AAEjD,OAAO,EAAE,aAAa,EAAE,MAAM,gCAAgC,CAAC;AAE/D,OAAO,EAAE,GAAG,EAAY,MAAM,OAAO,CAAC;AACtC,OAAO,EAAE,GAAG,EAAY,MAAM,OAAO,CAAC;AAEtC,MAAM,gBAAgB,GAAG,IAAI,SAAS,CACpC,6CAA6C,CAC9C,CAAC;AAEF,MAAM,UAAU,OAAO,CAAC,QAAmB;IACzC,OAAO,IAAI,OAAO,CAAW,GAAG,EAAE,gBAAgB,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC;AACzE,CAAC;AAED,MAAM,UAAU,KAAK;IACnB,OAAO,IAAI,aAAa,CAAC,GAAG,CAAC,CAAC;AAChC,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/spl/token.d.ts b/dist/esm/spl/token.d.ts
deleted file mode 100644
index 83907a0b82938030a4a5545fd04d88b3c94eca20..0000000000000000000000000000000000000000
--- a/dist/esm/spl/token.d.ts
+++ /dev/null
@@ -1,614 +0,0 @@
-import { Program } from "../program/index.js";
-import Provider from "../provider.js";
-import { SplTokenCoder } from "../coder/spl-token/index.js";
-export declare function program(provider?: Provider): Program<SplToken>;
-export declare function coder(): SplTokenCoder;
-/**
- * SplToken IDL.
- */
-export declare type SplToken = {
-    version: "0.1.0";
-    name: "spl_token";
-    instructions: [
-        {
-            name: "initializeMint";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "decimals";
-                    type: "u8";
-                },
-                {
-                    name: "mintAuthority";
-                    type: "publicKey";
-                },
-                {
-                    name: "freezeAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        },
-        {
-            name: "initializeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "initializeMultisig";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "m";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "transfer";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "approve";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "delegate";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "revoke";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "setAuthority";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "authorityType";
-                    type: "u8";
-                },
-                {
-                    name: "newAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        },
-        {
-            name: "mintTo";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "burn";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                }
-            ];
-        },
-        {
-            name: "closeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "freezeAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "thawAccount";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "transferChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "destination";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "approveChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "delegate";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "mintToChecked";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "to";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "burnChecked";
-            accounts: [
-                {
-                    name: "source";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "authority";
-                    isMut: false;
-                    isSigner: true;
-                }
-            ];
-            args: [
-                {
-                    name: "amount";
-                    type: "u64";
-                },
-                {
-                    name: "decimals";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "initializeAccount2";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                },
-                {
-                    name: "rent";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authority";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "syncNative";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [];
-        },
-        {
-            name: "initializeAccount3";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                },
-                {
-                    name: "mint";
-                    isMut: false;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "authority";
-                    type: "publicKey";
-                }
-            ];
-        },
-        {
-            name: "initializeMultisig2";
-            accounts: [
-                {
-                    name: "account";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "m";
-                    type: "u8";
-                }
-            ];
-        },
-        {
-            name: "initializeMint2";
-            accounts: [
-                {
-                    name: "mint";
-                    isMut: true;
-                    isSigner: false;
-                }
-            ];
-            args: [
-                {
-                    name: "decimals";
-                    type: "u8";
-                },
-                {
-                    name: "mintAuthority";
-                    type: "publicKey";
-                },
-                {
-                    name: "freezeAuthority";
-                    type: {
-                        coption: "publicKey";
-                    };
-                }
-            ];
-        }
-    ];
-    accounts: [
-        {
-            name: "mint";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "mintAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    },
-                    {
-                        name: "supply";
-                        type: "u64";
-                    },
-                    {
-                        name: "decimals";
-                        type: "u8";
-                    },
-                    {
-                        name: "isInitialized";
-                        type: "bool";
-                    },
-                    {
-                        name: "freezeAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    }
-                ];
-            };
-        },
-        {
-            name: "token";
-            type: {
-                kind: "struct";
-                fields: [
-                    {
-                        name: "mint";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "authority";
-                        type: "publicKey";
-                    },
-                    {
-                        name: "amount";
-                        type: "u64";
-                    },
-                    {
-                        name: "delegate";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    },
-                    {
-                        name: "state";
-                        type: "u8";
-                    },
-                    {
-                        name: "isNative";
-                        type: {
-                            coption: "u64";
-                        };
-                    },
-                    {
-                        name: "delegatedAmount";
-                        type: "u64";
-                    },
-                    {
-                        name: "closeAuthority";
-                        type: {
-                            coption: "publicKey";
-                        };
-                    }
-                ];
-            };
-        }
-    ];
-};
-export declare const IDL: SplToken;
-//# sourceMappingURL=token.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/spl/token.d.ts.map b/dist/esm/spl/token.d.ts.map
deleted file mode 100644
index fca2c151abeb5cfc61d8fe0648110de57e74992a..0000000000000000000000000000000000000000
--- a/dist/esm/spl/token.d.ts.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"token.d.ts","sourceRoot":"","sources":["../../../src/spl/token.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/spl/token.js b/dist/esm/spl/token.js
deleted file mode 100644
index bb192aa7b7c2d58994c6413227953093717c280a..0000000000000000000000000000000000000000
--- a/dist/esm/spl/token.js
+++ /dev/null
@@ -1,615 +0,0 @@
-import { PublicKey } from "@solana/web3.js";
-import { Program } from "../program/index.js";
-import { SplTokenCoder } from "../coder/spl-token/index.js";
-const TOKEN_PROGRAM_ID = new PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");
-export function program(provider) {
-    return new Program(IDL, TOKEN_PROGRAM_ID, provider, coder());
-}
-export function coder() {
-    return new SplTokenCoder(IDL);
-}
-export const IDL = {
-    version: "0.1.0",
-    name: "spl_token",
-    instructions: [
-        {
-            name: "initializeMint",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-                {
-                    name: "mintAuthority",
-                    type: "publicKey",
-                },
-                {
-                    name: "freezeAuthority",
-                    type: {
-                        coption: "publicKey",
-                    },
-                },
-            ],
-        },
-        {
-            name: "initializeAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "initializeMultisig",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "m",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "transfer",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "destination",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "approve",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "delegate",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "revoke",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "setAuthority",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "authorityType",
-                    type: "u8",
-                },
-                {
-                    name: "newAuthority",
-                    type: {
-                        coption: "publicKey",
-                    },
-                },
-            ],
-        },
-        {
-            name: "mintTo",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "to",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "burn",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-            ],
-        },
-        {
-            name: "closeAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "destination",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "freezeAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "thawAccount",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "transferChecked",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "destination",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "approveChecked",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "delegate",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "mintToChecked",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "to",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "burnChecked",
-            accounts: [
-                {
-                    name: "source",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "authority",
-                    isMut: false,
-                    isSigner: true,
-                },
-            ],
-            args: [
-                {
-                    name: "amount",
-                    type: "u64",
-                },
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "initializeAccount2",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-                {
-                    name: "rent",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "authority",
-                    type: "publicKey",
-                },
-            ],
-        },
-        {
-            name: "syncNative",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-            ],
-            args: [],
-        },
-        {
-            name: "initializeAccount3",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-                {
-                    name: "mint",
-                    isMut: false,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "authority",
-                    type: "publicKey",
-                },
-            ],
-        },
-        {
-            name: "initializeMultisig2",
-            accounts: [
-                {
-                    name: "account",
-                    isMut: true,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "m",
-                    type: "u8",
-                },
-            ],
-        },
-        {
-            name: "initializeMint2",
-            accounts: [
-                {
-                    name: "mint",
-                    isMut: true,
-                    isSigner: false,
-                },
-            ],
-            args: [
-                {
-                    name: "decimals",
-                    type: "u8",
-                },
-                {
-                    name: "mintAuthority",
-                    type: "publicKey",
-                },
-                {
-                    name: "freezeAuthority",
-                    type: {
-                        coption: "publicKey",
-                    },
-                },
-            ],
-        },
-    ],
-    accounts: [
-        {
-            name: "mint",
-            type: {
-                kind: "struct",
-                fields: [
-                    {
-                        name: "mintAuthority",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                    {
-                        name: "supply",
-                        type: "u64",
-                    },
-                    {
-                        name: "decimals",
-                        type: "u8",
-                    },
-                    {
-                        name: "isInitialized",
-                        type: "bool",
-                    },
-                    {
-                        name: "freezeAuthority",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                ],
-            },
-        },
-        {
-            name: "token",
-            type: {
-                kind: "struct",
-                fields: [
-                    {
-                        name: "mint",
-                        type: "publicKey",
-                    },
-                    {
-                        name: "authority",
-                        type: "publicKey",
-                    },
-                    {
-                        name: "amount",
-                        type: "u64",
-                    },
-                    {
-                        name: "delegate",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                    {
-                        name: "state",
-                        type: "u8",
-                    },
-                    {
-                        name: "isNative",
-                        type: {
-                            coption: "u64",
-                        },
-                    },
-                    {
-                        name: "delegatedAmount",
-                        type: "u64",
-                    },
-                    {
-                        name: "closeAuthority",
-                        type: {
-                            coption: "publicKey",
-                        },
-                    },
-                ],
-            },
-        },
-    ],
-};
-//# sourceMappingURL=token.js.map
\ No newline at end of file
diff --git a/dist/esm/spl/token.js.map b/dist/esm/spl/token.js.map
deleted file mode 100644
index 50f1fd40b5f2c99b3c38d5780d5675ad045cd772..0000000000000000000000000000000000000000
--- a/dist/esm/spl/token.js.map
+++ /dev/null
@@ -1 +0,0 @@
-{"version":3,"file":"token.js","sourceRoot":"","sources":["../../../src/spl/token.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/base64.d.ts b/dist/esm/utils/bytes/base64.d.ts
index b5d66981f4399eed3b79b3a255e01af018b09182..d2733a9e5df4072269dd8e68d99a098626f3cd9c 100644
--- a/dist/esm/utils/bytes/base64.d.ts
+++ b/dist/esm/utils/bytes/base64.d.ts
@@ -1,5 +1,5 @@
 /// <reference types="node" />
 import { Buffer } from "buffer";
-export declare function encode(data: Buffer): string;
+export declare function encode(data: Buffer | Uint8Array): string;
 export declare function decode(data: string): Buffer;
 //# sourceMappingURL=base64.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/base64.d.ts.map b/dist/esm/utils/bytes/base64.d.ts.map
index 8a024185148a85b917de8cb9ebb3a536fdf316f2..b01d6604f949c9977d257d0a1c184f431cda5899 100644
--- a/dist/esm/utils/bytes/base64.d.ts.map
+++ b/dist/esm/utils/bytes/base64.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"base64.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAE3C;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAE3C"}
\ No newline at end of file
+{"version":3,"file":"base64.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CAExD;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAG3C"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/base64.js b/dist/esm/utils/bytes/base64.js
index 32c5d6c4c3dc19b89af38bdc00bfbca8463ce458..11c7ed04c89b443067a9a8fe9d0266c7297472b8 100644
--- a/dist/esm/utils/bytes/base64.js
+++ b/dist/esm/utils/bytes/base64.js
@@ -4,6 +4,7 @@ export function encode(data) {
     return base64.fromByteArray(data);
 }
 export function decode(data) {
-    return Buffer.from(base64.toByteArray(data));
+    const buf = base64.toByteArray(data);
+    return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
 }
 //# sourceMappingURL=base64.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/base64.js.map b/dist/esm/utils/bytes/base64.js.map
index afd1144b957e87361903ab452f153b0f43585920..4f1d0696319efcdd8dfc8515ad658d7be0d824bb 100644
--- a/dist/esm/utils/bytes/base64.js.map
+++ b/dist/esm/utils/bytes/base64.js.map
@@ -1 +1 @@
-{"version":3,"file":"base64.js","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,KAAK,MAAM,MAAM,WAAW,CAAC;AAEpC,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,OAAO,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,OAAO,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC;AAC/C,CAAC"}
\ No newline at end of file
+{"version":3,"file":"base64.js","sourceRoot":"","sources":["../../../../src/utils/bytes/base64.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,KAAK,MAAM,MAAM,WAAW,CAAC;AAEpC,MAAM,UAAU,MAAM,CAAC,IAAyB;IAC9C,OAAO,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;AACpC,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;IACrC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;AACjE,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/bs58.d.ts.map b/dist/esm/utils/bytes/bs58.d.ts.map
index 1e56d5574aaee608f46dbc55f365e0e02b33b6d1..f4144750d52826a64c226a21c576098f27cb26f6 100644
--- a/dist/esm/utils/bytes/bs58.d.ts.map
+++ b/dist/esm/utils/bytes/bs58.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"bs58.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";AAEA,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,UAAU,UAE1D;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,UAElC"}
\ No newline at end of file
+{"version":3,"file":"bs58.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":";AAEA,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,EAAE,GAAG,UAAU,GAAG,MAAM,CAEnE;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAG3C"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/bs58.js b/dist/esm/utils/bytes/bs58.js
index c33d9b583c1f89b28b6efb56ecdb3a656c4f33be..f20ae6741b591aaea7813b269f82b708e3258e21 100644
--- a/dist/esm/utils/bytes/bs58.js
+++ b/dist/esm/utils/bytes/bs58.js
@@ -3,6 +3,7 @@ export function encode(data) {
     return bs58.encode(data);
 }
 export function decode(data) {
-    return bs58.decode(data);
+    const buf = bs58.decode(data);
+    return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
 }
 //# sourceMappingURL=bs58.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/bs58.js.map b/dist/esm/utils/bytes/bs58.js.map
index 013f3daec08df4caecf51b1f02bebf15ae3e8768..0397098c2d6d1486642d6166408823cc6b235939 100644
--- a/dist/esm/utils/bytes/bs58.js.map
+++ b/dist/esm/utils/bytes/bs58.js.map
@@ -1 +1 @@
-{"version":3,"file":"bs58.js","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":"AAAA,OAAO,IAAI,MAAM,MAAM,CAAC;AAExB,MAAM,UAAU,MAAM,CAAC,IAAoC;IACzD,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC"}
\ No newline at end of file
+{"version":3,"file":"bs58.js","sourceRoot":"","sources":["../../../../src/utils/bytes/bs58.ts"],"names":[],"mappings":"AAAA,OAAO,IAAI,MAAM,MAAM,CAAC;AAExB,MAAM,UAAU,MAAM,CAAC,IAAoC;IACzD,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,MAAM,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;IAC9B,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;AACjE,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/buffer.d.ts b/dist/esm/utils/bytes/buffer.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c1f92756174e6b33572fd2a2b8aa4b5b1c9019a2
--- /dev/null
+++ b/dist/esm/utils/bytes/buffer.d.ts
@@ -0,0 +1,3 @@
+/// <reference types="node" />
+export declare function toBuffer(arr: Buffer | Uint8Array | Array<number>): Buffer;
+//# sourceMappingURL=buffer.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/buffer.d.ts.map b/dist/esm/utils/bytes/buffer.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..1fae016e8177e8cf0fd6043df2f3d6449ce50043
--- /dev/null
+++ b/dist/esm/utils/bytes/buffer.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/buffer.ts"],"names":[],"mappings":";AAAA,wBAAgB,QAAQ,CAAC,GAAG,EAAE,MAAM,GAAG,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,GAAG,MAAM,CAQzE"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/buffer.js b/dist/esm/utils/bytes/buffer.js
new file mode 100644
index 0000000000000000000000000000000000000000..61c466082291831767adc579acf25ece0de97ea8
--- /dev/null
+++ b/dist/esm/utils/bytes/buffer.js
@@ -0,0 +1,12 @@
+export function toBuffer(arr) {
+    if (Buffer.isBuffer(arr)) {
+        return arr;
+    }
+    else if (arr instanceof Uint8Array) {
+        return Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);
+    }
+    else {
+        return Buffer.from(arr);
+    }
+}
+//# sourceMappingURL=buffer.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/buffer.js.map b/dist/esm/utils/bytes/buffer.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..f60ef6e9d3cc501c43e4e2c8fcfbf8fdb928d413
--- /dev/null
+++ b/dist/esm/utils/bytes/buffer.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"buffer.js","sourceRoot":"","sources":["../../../../src/utils/bytes/buffer.ts"],"names":[],"mappings":"AAAA,MAAM,UAAU,QAAQ,CAAC,GAAwC;IAC/D,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACxB,OAAO,GAAG,CAAC;KACZ;SAAM,IAAI,GAAG,YAAY,UAAU,EAAE;QACpC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;KAChE;SAAM;QACL,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACzB;AACH,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/hex.d.ts b/dist/esm/utils/bytes/hex.d.ts
index 021ea9d090b78c1a325a796355c808ad55cbfbc4..685d3fdee24382ca6bbfb9928f8dfbd147d53b05 100644
--- a/dist/esm/utils/bytes/hex.d.ts
+++ b/dist/esm/utils/bytes/hex.d.ts
@@ -1,5 +1,5 @@
 /// <reference types="node" />
 import { Buffer } from "buffer";
-export declare function encode(data: Buffer): string;
+export declare function encode(data: Buffer | Uint8Array): string;
 export declare function decode(data: string): Buffer;
 //# sourceMappingURL=hex.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/hex.d.ts.map b/dist/esm/utils/bytes/hex.d.ts.map
index f4d48375ea0a2ca94b7858a7c159a98119ab7da3..4e1225e244d4922af7d3ab43b36d2ce628ed4295 100644
--- a/dist/esm/utils/bytes/hex.d.ts.map
+++ b/dist/esm/utils/bytes/hex.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"hex.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAK3C;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAe3C"}
\ No newline at end of file
+{"version":3,"file":"hex.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CASxD;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAS3C"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/hex.js b/dist/esm/utils/bytes/hex.js
index 263088eee40644f82f4a48f625b407985b6713d8..69bbe03c6a3f7f3d9929bcff5bfc14500085ea30 100644
--- a/dist/esm/utils/bytes/hex.js
+++ b/dist/esm/utils/bytes/hex.js
@@ -1,18 +1,17 @@
 import { Buffer } from "buffer";
 export function encode(data) {
+    if (Buffer.isBuffer(data)) {
+        return "0x" + data.toString("hex");
+    }
     return data.reduce((str, byte) => str + byte.toString(16).padStart(2, "0"), "0x");
 }
 export function decode(data) {
     if (data.indexOf("0x") === 0) {
-        data = data.substr(2);
+        data = data.slice(2);
     }
     if (data.length % 2 === 1) {
         data = "0" + data;
     }
-    let key = data.match(/.{2}/g);
-    if (key === null) {
-        return Buffer.from([]);
-    }
-    return Buffer.from(key.map((byte) => parseInt(byte, 16)));
+    return Buffer.from(data, "hex");
 }
 //# sourceMappingURL=hex.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/hex.js.map b/dist/esm/utils/bytes/hex.js.map
index 8511c27221945ec66b8598c483132c3e25a61883..5881769a3320dae3cb259039696ecc9c4783a18d 100644
--- a/dist/esm/utils/bytes/hex.js.map
+++ b/dist/esm/utils/bytes/hex.js.map
@@ -1 +1 @@
-{"version":3,"file":"hex.js","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,OAAO,IAAI,CAAC,MAAM,CAChB,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EACvD,IAAI,CACL,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC5B,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;KACvB;IACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KACnB;IAED,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;IAE9B,IAAI,GAAG,KAAK,IAAI,EAAE;QAChB,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;KACxB;IAED,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;AAC5D,CAAC"}
\ No newline at end of file
+{"version":3,"file":"hex.js","sourceRoot":"","sources":["../../../../src/utils/bytes/hex.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,MAAM,UAAU,MAAM,CAAC,IAAyB;IAC9C,IAAI,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;QACzB,OAAO,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;KACpC;IAED,OAAO,IAAI,CAAC,MAAM,CAChB,CAAC,GAAG,EAAE,IAAI,EAAE,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC,EACvD,IAAI,CACL,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QAC5B,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KACtB;IACD,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,EAAE;QACzB,IAAI,GAAG,GAAG,GAAG,IAAI,CAAC;KACnB;IAED,OAAO,MAAM,CAAC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;AAClC,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/index.d.ts b/dist/esm/utils/bytes/index.d.ts
index 1a0eba3ff8bbfa0572b774949c10450b628fd8c6..1ac2c4941f23b361ecd72ce7ea34bbac61e036ee 100644
--- a/dist/esm/utils/bytes/index.d.ts
+++ b/dist/esm/utils/bytes/index.d.ts
@@ -2,4 +2,5 @@ export * as hex from "./hex.js";
 export * as utf8 from "./utf8.js";
 export * as bs58 from "./bs58.js";
 export * as base64 from "./base64.js";
+export * from "./buffer.js";
 //# sourceMappingURL=index.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/index.d.ts.map b/dist/esm/utils/bytes/index.d.ts.map
index 9d33f1891f5b5dc6544fa553c7e0e8ab35493704..cc1cd77e3653623192bbd847a726052f22c0e373 100644
--- a/dist/esm/utils/bytes/index.d.ts.map
+++ b/dist/esm/utils/bytes/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AAEtC,cAAc,aAAa,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/index.js b/dist/esm/utils/bytes/index.js
index d978473d04ebc3ef084b0bd07565cb7340e8ad96..b680b2fb231141d0000ac7b0eebf28d0a79cef67 100644
--- a/dist/esm/utils/bytes/index.js
+++ b/dist/esm/utils/bytes/index.js
@@ -2,4 +2,5 @@ export * as hex from "./hex.js";
 export * as utf8 from "./utf8.js";
 export * as bs58 from "./bs58.js";
 export * as base64 from "./base64.js";
+export * from "./buffer.js";
 //# sourceMappingURL=index.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/index.js.map b/dist/esm/utils/bytes/index.js.map
index 470b86fc9e6390c2e28c54acccf90d80619bd9a2..5034485754b647e2cfd98be253e2d12e2a517d5c 100644
--- a/dist/esm/utils/bytes/index.js.map
+++ b/dist/esm/utils/bytes/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/utils/bytes/index.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,GAAG,MAAM,UAAU,CAAC;AAChC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,IAAI,MAAM,WAAW,CAAC;AAClC,OAAO,KAAK,MAAM,MAAM,aAAa,CAAC;AAEtC,cAAc,aAAa,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/utf8.d.ts b/dist/esm/utils/bytes/utf8.d.ts
index e56620f12bd6c707bf2e6cfdbc6c5193f80af5b1..3998fb8ae6acf031e3dffcfacb067562e35a8f50 100644
--- a/dist/esm/utils/bytes/utf8.d.ts
+++ b/dist/esm/utils/bytes/utf8.d.ts
@@ -1,3 +1,4 @@
-export declare function decode(array: Uint8Array): string;
-export declare function encode(input: string): Uint8Array;
+/// <reference types="node" />
+export declare function decode(array: Buffer | Uint8Array): string;
+export declare function encode(input: string): Buffer;
 //# sourceMappingURL=utf8.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/utf8.d.ts.map b/dist/esm/utils/bytes/utf8.d.ts.map
index 00b54f3daac42c01c70bc124ccb16125f7343348..016ce3566e369b7aa557ed396ee11a8d2cd85088 100644
--- a/dist/esm/utils/bytes/utf8.d.ts.map
+++ b/dist/esm/utils/bytes/utf8.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"utf8.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":"AAEA,wBAAgB,MAAM,CAAC,KAAK,EAAE,UAAU,GAAG,MAAM,CAMhD;AAED,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,CAKhD"}
\ No newline at end of file
+{"version":3,"file":"utf8.d.ts","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":";AAgBA,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,UAAU,GAAG,MAAM,CAEzD;AAED,wBAAgB,MAAM,CAAC,KAAK,EAAE,MAAM,GAAG,MAAM,CAG5C"}
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/utf8.js b/dist/esm/utils/bytes/utf8.js
index 6535b3c8a26c96810ab02cec024a20666b8f0b4f..fae0545915b2ac9ff24f00e1c1b8311d6b988479 100644
--- a/dist/esm/utils/bytes/utf8.js
+++ b/dist/esm/utils/bytes/utf8.js
@@ -1,14 +1,22 @@
 import { isBrowser } from "../common";
+let encoder;
+let decoder;
+if (isBrowser) {
+    // Browser https://caniuse.com/textencoder.
+    encoder = new TextEncoder();
+    decoder = new TextDecoder("utf-8");
+}
+else {
+    // Node.
+    const util = require("util");
+    encoder = new util.TextEncoder();
+    decoder = new util.TextDecoder("utf-8");
+}
 export function decode(array) {
-    const decoder = isBrowser
-        ? new TextDecoder("utf-8") // Browser https://caniuse.com/textencoder.
-        : new (require("util").TextDecoder)("utf-8"); // Node.
     return decoder.decode(array);
 }
 export function encode(input) {
-    const encoder = isBrowser
-        ? new TextEncoder() // Browser.
-        : new (require("util").TextEncoder)("utf-8"); // Node.
-    return encoder.encode(input);
+    const buf = encoder.encode(input);
+    return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
 }
 //# sourceMappingURL=utf8.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/bytes/utf8.js.map b/dist/esm/utils/bytes/utf8.js.map
index df33e8d94fed4b5ef289e076df4b1992a2df8b7f..cc0bfbd12f565305672b575104664bdc9333f811 100644
--- a/dist/esm/utils/bytes/utf8.js.map
+++ b/dist/esm/utils/bytes/utf8.js.map
@@ -1 +1 @@
-{"version":3,"file":"utf8.js","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAC;AAEtC,MAAM,UAAU,MAAM,CAAC,KAAiB;IACtC,MAAM,OAAO,GAAG,SAAS;QACvB,CAAC,CAAC,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC,2CAA2C;QACtE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ;IAExD,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,KAAa;IAClC,MAAM,OAAO,GAAG,SAAS;QACvB,CAAC,CAAC,IAAI,WAAW,EAAE,CAAC,WAAW;QAC/B,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ;IACxD,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC"}
\ No newline at end of file
+{"version":3,"file":"utf8.js","sourceRoot":"","sources":["../../../../src/utils/bytes/utf8.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAC;AAEtC,IAAI,OAAoB,CAAC;AACzB,IAAI,OAAoB,CAAC;AAEzB,IAAI,SAAS,EAAE;IACb,2CAA2C;IAC3C,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;IAC5B,OAAO,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;CACpC;KAAM;IACL,QAAQ;IACR,MAAM,IAAI,GAA0B,OAAO,CAAC,MAAM,CAAC,CAAC;IACpD,OAAO,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE,CAAC;IACjC,OAAO,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAgB,CAAC;CACxD;AAED,MAAM,UAAU,MAAM,CAAC,KAA0B;IAC/C,OAAO,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;AAC/B,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,KAAa;IAClC,MAAM,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IAClC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;AACjE,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/common.d.ts b/dist/esm/utils/common.d.ts
index a1b6c90c504dfd7de7f1190d14e7f3e9ed7be001..693f36ef777c758cd8041c9c675927a729812730 100644
--- a/dist/esm/utils/common.d.ts
+++ b/dist/esm/utils/common.d.ts
@@ -2,7 +2,7 @@
  * Returns true if being run inside a web browser,
  * false if in a Node process or electron app.
  */
-export declare const isBrowser: string | boolean;
+export declare const isBrowser: boolean;
 /**
  * Splits an array into chunks
  *
diff --git a/dist/esm/utils/common.d.ts.map b/dist/esm/utils/common.d.ts.map
index f5a3031335445a8078488409e4b8a817ea977975..39f7030ae76c28f9297f95cfdcc1c03aae06290c 100644
--- a/dist/esm/utils/common.d.ts.map
+++ b/dist/esm/utils/common.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,eAAO,MAAM,SAAS,kBAEsD,CAAC;AAE7E;;;;;;GAMG;AACH,wBAAgB,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,EAAE,CAIzD"}
\ No newline at end of file
+{"version":3,"file":"common.d.ts","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":"AAAA;;;GAGG;AACH,eAAO,MAAM,SAAS,SAEsD,CAAC;AAE7E;;;;;;GAMG;AACH,wBAAgB,MAAM,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,EAAE,IAAI,EAAE,MAAM,GAAG,CAAC,EAAE,EAAE,CAIzD"}
\ No newline at end of file
diff --git a/dist/esm/utils/common.js b/dist/esm/utils/common.js
index be17b6637cde1e8955a1e0d3b1365a8f3db11a74..86a87cf6b6987f40dc22eda6e8862e06b67258cd 100644
--- a/dist/esm/utils/common.js
+++ b/dist/esm/utils/common.js
@@ -3,7 +3,7 @@ var _a;
  * Returns true if being run inside a web browser,
  * false if in a Node process or electron app.
  */
-export const isBrowser = process.env.ANCHOR_BROWSER ||
+export const isBrowser = !!process.env.BROWSER ||
     (typeof window !== "undefined" && !((_a = window.process) === null || _a === void 0 ? void 0 : _a.hasOwnProperty("type")));
 /**
  * Splits an array into chunks
diff --git a/dist/esm/utils/common.js.map b/dist/esm/utils/common.js.map
index bcafa6ea0d2d261ddd7fc7a1a9acdb75edcf68f2..7bcc28e5a9f2f9f7c7f52fc02774c038f4695ef9 100644
--- a/dist/esm/utils/common.js.map
+++ b/dist/esm/utils/common.js.map
@@ -1 +1 @@
-{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":";AAAA;;;GAGG;AACH,MAAM,CAAC,MAAM,SAAS,GACpB,OAAO,CAAC,GAAG,CAAC,cAAc;IAC1B,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,CAAA,MAAA,MAAM,CAAC,OAAO,0CAAE,cAAc,CAAC,MAAM,CAAC,CAAA,CAAC,CAAC;AAE7E;;;;;;GAMG;AACH,MAAM,UAAU,MAAM,CAAI,KAAU,EAAE,IAAY;IAChD,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAClE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAC5D,CAAC;AACJ,CAAC"}
\ No newline at end of file
+{"version":3,"file":"common.js","sourceRoot":"","sources":["../../../src/utils/common.ts"],"names":[],"mappings":";AAAA;;;GAGG;AACH,MAAM,CAAC,MAAM,SAAS,GACpB,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IACrB,CAAC,OAAO,MAAM,KAAK,WAAW,IAAI,CAAC,CAAA,MAAA,MAAM,CAAC,OAAO,0CAAE,cAAc,CAAC,MAAM,CAAC,CAAA,CAAC,CAAC;AAE7E;;;;;;GAMG;AACH,MAAM,UAAU,MAAM,CAAI,KAAU,EAAE,IAAY;IAChD,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAClE,CAAC,CAAC,EAAE,KAAK,EAAE,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,EAAE,CAAC,KAAK,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAC5D,CAAC;AACJ,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/pubkey.d.ts.map b/dist/esm/utils/pubkey.d.ts.map
index 42eafb368f708502df5cbd3aaf47fa861291565f..39fe77cc7117cb9bcdd7852054f7b109715e3600 100644
--- a/dist/esm/utils/pubkey.d.ts.map
+++ b/dist/esm/utils/pubkey.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"pubkey.d.ts","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAGhC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AAGjE,wBAAgB,kBAAkB,CAChC,aAAa,EAAE,SAAS,EACxB,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,SAAS,CAQX;AAGD,wBAAgB,wBAAwB,CACtC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,SAAS,CAqBX;AAGD,wBAAgB,sBAAsB,CACpC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,CAAC,SAAS,EAAE,MAAM,CAAC,CAiBrB;AAYD,wBAAsB,UAAU,CAC9B,SAAS,EAAE,OAAO,EAClB,GAAG,IAAI,EAAE,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAC/B,OAAO,CAAC,SAAS,CAAC,CAUpB"}
\ No newline at end of file
+{"version":3,"file":"pubkey.d.ts","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AAIjE,wBAAgB,kBAAkB,CAChC,aAAa,EAAE,SAAS,EACxB,IAAI,EAAE,MAAM,EACZ,SAAS,EAAE,SAAS,GACnB,SAAS,CAOX;AAGD,wBAAgB,wBAAwB,CACtC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,SAAS,CAqBX;AAGD,wBAAgB,sBAAsB,CACpC,KAAK,EAAE,KAAK,CAAC,MAAM,GAAG,UAAU,CAAC,EACjC,SAAS,EAAE,SAAS,GACnB,CAAC,SAAS,EAAE,MAAM,CAAC,CAiBrB;AAED,wBAAsB,UAAU,CAC9B,SAAS,EAAE,OAAO,EAClB,GAAG,IAAI,EAAE,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,GAC/B,OAAO,CAAC,SAAS,CAAC,CAUpB"}
\ No newline at end of file
diff --git a/dist/esm/utils/pubkey.js b/dist/esm/utils/pubkey.js
index c7ac6702c8540d3f7f4789b36b10e16dcd18173b..35e6451fb8f1ec390c08059070262e4ab78edd83 100644
--- a/dist/esm/utils/pubkey.js
+++ b/dist/esm/utils/pubkey.js
@@ -1,8 +1,8 @@
 import { Buffer } from "buffer";
-import BN from "bn.js";
-import { sha256 as sha256Sync } from "js-sha256";
+import { sha256 } from "js-sha256";
 import { PublicKey } from "@solana/web3.js";
 import { translateAddress } from "../program/common.js";
+import { toBuffer } from "./bytes/buffer.js";
 // Sync version of web3.PublicKey.createWithSeed.
 export function createWithSeedSync(fromPublicKey, seed, programId) {
     const buffer = Buffer.concat([
@@ -10,14 +10,13 @@ export function createWithSeedSync(fromPublicKey, seed, programId) {
         Buffer.from(seed),
         programId.toBuffer(),
     ]);
-    const hash = sha256Sync.digest(buffer);
-    return new PublicKey(Buffer.from(hash));
+    return new PublicKey(sha256.digest(buffer));
 }
 // Sync version of web3.PublicKey.createProgramAddress.
 export function createProgramAddressSync(seeds, programId) {
     const MAX_SEED_LENGTH = 32;
     let buffer = Buffer.alloc(0);
-    seeds.forEach(function (seed) {
+    seeds.forEach((seed) => {
         if (seed.length > MAX_SEED_LENGTH) {
             throw new TypeError(`Max seed length exceeded`);
         }
@@ -28,12 +27,11 @@ export function createProgramAddressSync(seeds, programId) {
         programId.toBuffer(),
         Buffer.from("ProgramDerivedAddress"),
     ]);
-    let hash = sha256Sync(new Uint8Array(buffer));
-    let publicKeyBytes = new BN(hash, 16).toArray(undefined, 32);
-    if (PublicKey.isOnCurve(new Uint8Array(publicKeyBytes))) {
+    const key = new PublicKey(sha256.digest(buffer));
+    if (PublicKey.isOnCurve(key)) {
         throw new Error(`Invalid seeds, address must fall off the curve`);
     }
-    return new PublicKey(publicKeyBytes);
+    return key;
 }
 // Sync version of web3.PublicKey.findProgramAddress.
 export function findProgramAddressSync(seeds, programId) {
@@ -55,17 +53,6 @@ export function findProgramAddressSync(seeds, programId) {
     }
     throw new Error(`Unable to find a viable program address nonce`);
 }
-const toBuffer = (arr) => {
-    if (arr instanceof Buffer) {
-        return arr;
-    }
-    else if (arr instanceof Uint8Array) {
-        return Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);
-    }
-    else {
-        return Buffer.from(arr);
-    }
-};
 export async function associated(programId, ...args) {
     let seeds = [Buffer.from([97, 110, 99, 104, 111, 114])]; // b"anchor".
     args.forEach((arg) => {
diff --git a/dist/esm/utils/pubkey.js.map b/dist/esm/utils/pubkey.js.map
index e79736aea81cfe86741357e28458ef0fb74660e0..d27c7693fa7029b3d3206de596e94f8e61bb0698 100644
--- a/dist/esm/utils/pubkey.js.map
+++ b/dist/esm/utils/pubkey.js.map
@@ -1 +1 @@
-{"version":3,"file":"pubkey.js","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EAAE,MAAM,OAAO,CAAC;AACvB,OAAO,EAAE,MAAM,IAAI,UAAU,EAAE,MAAM,WAAW,CAAC;AACjD,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAC5C,OAAO,EAAW,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;AAEjE,iDAAiD;AACjD,MAAM,UAAU,kBAAkB,CAChC,aAAwB,EACxB,IAAY,EACZ,SAAoB;IAEpB,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QAC3B,aAAa,CAAC,QAAQ,EAAE;QACxB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;QACjB,SAAS,CAAC,QAAQ,EAAE;KACrB,CAAC,CAAC;IACH,MAAM,IAAI,GAAG,UAAU,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;IACvC,OAAO,IAAI,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;AAC1C,CAAC;AAED,uDAAuD;AACvD,MAAM,UAAU,wBAAwB,CACtC,KAAiC,EACjC,SAAoB;IAEpB,MAAM,eAAe,GAAG,EAAE,CAAC;IAE3B,IAAI,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAC7B,KAAK,CAAC,OAAO,CAAC,UAAU,IAAI;QAC1B,IAAI,IAAI,CAAC,MAAM,GAAG,eAAe,EAAE;YACjC,MAAM,IAAI,SAAS,CAAC,0BAA0B,CAAC,CAAC;SACjD;QACD,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACnD,CAAC,CAAC,CAAC;IACH,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;QACrB,MAAM;QACN,SAAS,CAAC,QAAQ,EAAE;QACpB,MAAM,CAAC,IAAI,CAAC,uBAAuB,CAAC;KACrC,CAAC,CAAC;IACH,IAAI,IAAI,GAAG,UAAU,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;IAC9C,IAAI,cAAc,GAAG,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC,CAAC;IAC7D,IAAI,SAAS,CAAC,SAAS,CAAC,IAAI,UAAU,CAAC,cAAc,CAAC,CAAC,EAAE;QACvD,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;KACnE;IACD,OAAO,IAAI,SAAS,CAAC,cAAc,CAAC,CAAC;AACvC,CAAC;AAED,qDAAqD;AACrD,MAAM,UAAU,sBAAsB,CACpC,KAAiC,EACjC,SAAoB;IAEpB,IAAI,KAAK,GAAG,GAAG,CAAC;IAChB,IAAI,OAA8B,CAAC;IACnC,OAAO,KAAK,IAAI,CAAC,EAAE;QACjB,IAAI;YACF,MAAM,cAAc,GAAG,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC1D,OAAO,GAAG,wBAAwB,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;SAC/D;QAAC,OAAO,GAAG,EAAE;YACZ,IAAI,GAAG,YAAY,SAAS,EAAE;gBAC5B,MAAM,GAAG,CAAC;aACX;YACD,KAAK,EAAE,CAAC;YACR,SAAS;SACV;QACD,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;KACzB;IACD,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;AACnE,CAAC;AAED,MAAM,QAAQ,GAAG,CAAC,GAAwC,EAAU,EAAE;IACpE,IAAI,GAAG,YAAY,MAAM,EAAE;QACzB,OAAO,GAAG,CAAC;KACZ;SAAM,IAAI,GAAG,YAAY,UAAU,EAAE;QACpC,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,UAAU,CAAC,CAAC;KAChE;SAAM;QACL,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACzB;AACH,CAAC,CAAC;AAEF,MAAM,CAAC,KAAK,UAAU,UAAU,CAC9B,SAAkB,EAClB,GAAG,IAA6B;IAEhC,IAAI,KAAK,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,aAAa;IACtE,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE;QACnB,KAAK,CAAC,IAAI,CAAC,GAAG,YAAY,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;IAC7E,CAAC,CAAC,CAAC;IACH,MAAM,CAAC,KAAK,CAAC,GAAG,MAAM,SAAS,CAAC,kBAAkB,CAChD,KAAK,EACL,gBAAgB,CAAC,SAAS,CAAC,CAC5B,CAAC;IACF,OAAO,KAAK,CAAC;AACf,CAAC"}
\ No newline at end of file
+{"version":3,"file":"pubkey.js","sourceRoot":"","sources":["../../../src/utils/pubkey.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/utils/rpc.d.ts b/dist/esm/utils/rpc.d.ts
index 9f0ce0f122b8d6496016401e1e89a0e09f39aeed..0fd21fc4aedd6a9985dc325b06edee253ff1bec7 100644
--- a/dist/esm/utils/rpc.d.ts
+++ b/dist/esm/utils/rpc.d.ts
@@ -1,6 +1,6 @@
 /// <reference types="node" />
 import { Buffer } from "buffer";
-import { AccountInfo, AccountMeta, Connection, PublicKey, TransactionSignature, Transaction, Commitment, Signer, RpcResponseAndContext, SimulatedTransactionResponse } from "@solana/web3.js";
+import { AccountInfo, AccountMeta, Connection, PublicKey, TransactionSignature, Commitment } from "@solana/web3.js";
 import { Address } from "../program/common.js";
 import Provider from "../provider.js";
 /**
@@ -12,6 +12,5 @@ export declare function getMultipleAccounts(connection: Connection, publicKeys:
     publicKey: PublicKey;
     account: AccountInfo<Buffer>;
 }>>;
-export declare function simulateTransaction(connection: Connection, transaction: Transaction, signers?: Array<Signer>, commitment?: Commitment, includeAccounts?: boolean | Array<PublicKey>): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
-export declare type SuccessfulTxSimulationResponse = Omit<SimulatedTransactionResponse, "err">;
+export { simulateTransaction, SuccessfulTxSimulationResponse, } from "./simulate";
 //# sourceMappingURL=rpc.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/rpc.d.ts.map b/dist/esm/utils/rpc.d.ts.map
index f4fde80572cd8f57bda2162ac9fa6ced5b31da03..45be0337f02f58d2414b0f1daad395fad6591420 100644
--- a/dist/esm/utils/rpc.d.ts.map
+++ b/dist/esm/utils/rpc.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAEhC,OAAO,EACL,WAAW,EACX,WAAW,EACX,UAAU,EACV,SAAS,EACT,oBAAoB,EACpB,WAAW,EAEX,UAAU,EACV,MAAM,EACN,qBAAqB,EACrB,4BAA4B,EAE7B,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AACjE,OAAO,QAAiC,MAAM,gBAAgB,CAAC;AAqB/D;;;GAGG;AACH,wBAAsB,MAAM,CAC1B,SAAS,EAAE,OAAO,EAClB,QAAQ,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC7B,IAAI,CAAC,EAAE,MAAM,EACb,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,oBAAoB,CAAC,CAsB/B;AAID,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,SAAS,EAAE,EACvB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CACR,KAAK,CAAC,IAAI,GAAG;IAAE,SAAS,EAAE,SAAS,CAAC;IAAC,OAAO,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;CAAE,CAAC,CACrE,CAcA;AA0BD,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,WAAW,EAAE,WAAW,EACxB,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EACvB,UAAU,CAAC,EAAE,UAAU,EACvB,eAAe,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,GAC3C,OAAO,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,CAAC,CAmD9D;AA2ED,oBAAY,8BAA8B,GAAG,IAAI,CAC/C,4BAA4B,EAC5B,KAAK,CACN,CAAC"}
\ No newline at end of file
+{"version":3,"file":"rpc.d.ts","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EACL,WAAW,EACX,WAAW,EACX,UAAU,EACV,SAAS,EACT,oBAAoB,EAGpB,UAAU,EACX,MAAM,iBAAiB,CAAC;AAEzB,OAAO,EAAE,OAAO,EAAoB,MAAM,sBAAsB,CAAC;AACjE,OAAO,QAAyB,MAAM,gBAAgB,CAAC;AAEvD;;;GAGG;AACH,wBAAsB,MAAM,CAC1B,SAAS,EAAE,OAAO,EAClB,QAAQ,CAAC,EAAE,KAAK,CAAC,WAAW,CAAC,EAC7B,IAAI,CAAC,EAAE,MAAM,EACb,QAAQ,CAAC,EAAE,QAAQ,GAClB,OAAO,CAAC,oBAAoB,CAAC,CAsB/B;AAID,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,UAAU,EAAE,SAAS,EAAE,EACvB,UAAU,CAAC,EAAE,UAAU,GACtB,OAAO,CACR,KAAK,CAAC,IAAI,GAAG;IAAE,SAAS,EAAE,SAAS,CAAC;IAAC,OAAO,EAAE,WAAW,CAAC,MAAM,CAAC,CAAA;CAAE,CAAC,CACrE,CAcA;AAyBD,OAAO,EACL,mBAAmB,EACnB,8BAA8B,GAC/B,MAAM,YAAY,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/rpc.js b/dist/esm/utils/rpc.js
index 7631522ff89103b1759fb69fa78fd3dced99a937..5a366b3f185cfbf6eac99392ba3f7e54bbe2a300 100644
--- a/dist/esm/utils/rpc.js
+++ b/dist/esm/utils/rpc.js
@@ -1,8 +1,7 @@
-import { Transaction, TransactionInstruction, SendTransactionError, } from "@solana/web3.js";
+import { Transaction, TransactionInstruction, } from "@solana/web3.js";
 import { chunks } from "../utils/common.js";
 import { translateAddress } from "../program/common.js";
 import { getProvider } from "../provider.js";
-import { type as pick, number, string, array, boolean, literal, union, optional, nullable, coerce, create, unknown, any, } from "superstruct";
 /**
  * Sends a transaction to a program with the given accounts and instruction
  * data.
@@ -47,104 +46,5 @@ async function getMultipleAccountsCore(connection, publicKeys, commitmentOverrid
         };
     });
 }
-// copy from @solana/web3.js that has a commitment param
-export async function simulateTransaction(connection, transaction, signers, commitment, includeAccounts) {
-    if (signers && signers.length > 0) {
-        transaction.sign(...signers);
-    }
-    // @ts-expect-error
-    const message = transaction._compile();
-    const signData = message.serialize();
-    // @ts-expect-error
-    const wireTransaction = transaction._serialize(signData);
-    const encodedTransaction = wireTransaction.toString("base64");
-    const config = {
-        encoding: "base64",
-        commitment: commitment !== null && commitment !== void 0 ? commitment : connection.commitment,
-    };
-    if (includeAccounts) {
-        const addresses = (Array.isArray(includeAccounts) ? includeAccounts : message.nonProgramIds()).map((key) => key.toBase58());
-        config["accounts"] = {
-            encoding: "base64",
-            addresses,
-        };
-    }
-    if (signers) {
-        config.sigVerify = true;
-    }
-    const args = [encodedTransaction, config];
-    // @ts-expect-error
-    const unsafeRes = await connection._rpcRequest("simulateTransaction", args);
-    const res = create(unsafeRes, SimulatedTransactionResponseStruct);
-    if ("error" in res) {
-        let logs;
-        if ("data" in res.error) {
-            logs = res.error.data.logs;
-            if (logs && Array.isArray(logs)) {
-                const traceIndent = "\n    ";
-                const logTrace = traceIndent + logs.join(traceIndent);
-                console.error(res.error.message, logTrace);
-            }
-        }
-        throw new SendTransactionError("failed to simulate transaction: " + res.error.message, logs);
-    }
-    return res.result;
-}
-// copy from @solana/web3.js
-function jsonRpcResult(schema) {
-    return coerce(createRpcResult(schema), UnknownRpcResult, (value) => {
-        if ("error" in value) {
-            return value;
-        }
-        else {
-            return {
-                ...value,
-                result: create(value.result, schema),
-            };
-        }
-    });
-}
-// copy from @solana/web3.js
-const UnknownRpcResult = createRpcResult(unknown());
-// copy from @solana/web3.js
-function createRpcResult(result) {
-    return union([
-        pick({
-            jsonrpc: literal("2.0"),
-            id: string(),
-            result,
-        }),
-        pick({
-            jsonrpc: literal("2.0"),
-            id: string(),
-            error: pick({
-                code: unknown(),
-                message: string(),
-                data: optional(any()),
-            }),
-        }),
-    ]);
-}
-// copy from @solana/web3.js
-function jsonRpcResultAndContext(value) {
-    return jsonRpcResult(pick({
-        context: pick({
-            slot: number(),
-        }),
-        value,
-    }));
-}
-// copy from @solana/web3.js
-const SimulatedTransactionResponseStruct = jsonRpcResultAndContext(pick({
-    err: nullable(union([pick({}), string()])),
-    logs: nullable(array(string())),
-    accounts: optional(nullable(array(nullable(pick({
-        executable: boolean(),
-        owner: string(),
-        lamports: number(),
-        data: array(string()),
-        rentEpoch: optional(number()),
-    }))))),
-    unitsConsumed: optional(number()),
-}));
+export { simulateTransaction, } from "./simulate";
 //# sourceMappingURL=rpc.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/rpc.js.map b/dist/esm/utils/rpc.js.map
index 664004bb694b9feedb83fbb00985981d618c0ca4..53f34cabe314bc67d16e4a6d66075bae6c5316cb 100644
--- a/dist/esm/utils/rpc.js.map
+++ b/dist/esm/utils/rpc.js.map
@@ -1 +1 @@
-{"version":3,"file":"rpc.js","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"rpc.js","sourceRoot":"","sources":["../../../src/utils/rpc.ts"],"names":[],"mappings":"AACA,OAAO,EAML,WAAW,EACX,sBAAsB,GAEvB,MAAM,iBAAiB,CAAC;AACzB,OAAO,EAAE,MAAM,EAAE,MAAM,oBAAoB,CAAC;AAC5C,OAAO,EAAW,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;AACjE,OAAiB,EAAE,WAAW,EAAE,MAAM,gBAAgB,CAAC;AAEvD;;;GAGG;AACH,MAAM,CAAC,KAAK,UAAU,MAAM,CAC1B,SAAkB,EAClB,QAA6B,EAC7B,IAAa,EACb,QAAmB;IAEnB,SAAS,GAAG,gBAAgB,CAAC,SAAS,CAAC,CAAC;IACxC,IAAI,CAAC,QAAQ,EAAE;QACb,QAAQ,GAAG,WAAW,EAAE,CAAC;KAC1B;IAED,MAAM,EAAE,GAAG,IAAI,WAAW,EAAE,CAAC;IAC7B,EAAE,CAAC,GAAG,CACJ,IAAI,sBAAsB,CAAC;QACzB,SAAS;QACT,IAAI,EAAE,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,EAAE;QACpB,IAAI;KACL,CAAC,CACH,CAAC;IAEF,IAAI,QAAQ,CAAC,cAAc,KAAK,SAAS,EAAE;QACzC,MAAM,IAAI,KAAK,CACb,qEAAqE,CACtE,CAAC;KACH;IAED,OAAO,MAAM,QAAQ,CAAC,cAAc,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;AAC/C,CAAC;AAED,MAAM,2BAA2B,GAAW,EAAE,CAAC;AAE/C,MAAM,CAAC,KAAK,UAAU,mBAAmB,CACvC,UAAsB,EACtB,UAAuB,EACvB,UAAuB;IAIvB,IAAI,UAAU,CAAC,MAAM,IAAI,2BAA2B,EAAE;QACpD,OAAO,MAAM,uBAAuB,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;KAC1E;SAAM;QACL,MAAM,OAAO,GAAG,MAAM,CAAC,UAAU,EAAE,2BAA2B,CAAC,CAAC;QAChE,MAAM,OAAO,GAAG,MAAM,OAAO,CAAC,GAAG,CAG/B,OAAO,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CACpB,uBAAuB,CAAC,UAAU,EAAE,KAAK,EAAE,UAAU,CAAC,CACvD,CACF,CAAC;QACF,OAAO,OAAO,CAAC,IAAI,EAAE,CAAC;KACvB;AACH,CAAC;AAED,KAAK,UAAU,uBAAuB,CACpC,UAAsB,EACtB,UAAuB,EACvB,kBAA+B;IAI/B,MAAM,UAAU,GAAG,kBAAkB,aAAlB,kBAAkB,cAAlB,kBAAkB,GAAI,UAAU,CAAC,UAAU,CAAC;IAC/D,MAAM,QAAQ,GAAG,MAAM,UAAU,CAAC,uBAAuB,CACvD,UAAU,EACV,UAAU,CACX,CAAC;IACF,OAAO,QAAQ,CAAC,GAAG,CAAC,CAAC,OAAO,EAAE,GAAG,EAAE,EAAE;QACnC,IAAI,OAAO,KAAK,IAAI,EAAE;YACpB,OAAO,IAAI,CAAC;SACb;QACD,OAAO;YACL,SAAS,EAAE,UAAU,CAAC,GAAG,CAAC;YAC1B,OAAO;SACR,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC;AAED,OAAO,EACL,mBAAmB,GAEpB,MAAM,YAAY,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/sha256.d.ts b/dist/esm/utils/sha256.d.ts
index 2f9b1f515546ea0f02388eec9ca079784d4b7f20..c1be9929839de118aafaf12c987b2c6899eb678e 100644
--- a/dist/esm/utils/sha256.d.ts
+++ b/dist/esm/utils/sha256.d.ts
@@ -1,2 +1,3 @@
 export declare function hash(data: string): string;
+export declare function digest(data: string): Array<number>;
 //# sourceMappingURL=sha256.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/sha256.d.ts.map b/dist/esm/utils/sha256.d.ts.map
index b79f726c7bd9540d373706da350d259770d73311..2db7e1b01b7f8a0ee2413d9be611a1b089e33cbb 100644
--- a/dist/esm/utils/sha256.d.ts.map
+++ b/dist/esm/utils/sha256.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"sha256.d.ts","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAEA,wBAAgB,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEzC"}
\ No newline at end of file
+{"version":3,"file":"sha256.d.ts","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAEA,wBAAgB,IAAI,CAAC,IAAI,EAAE,MAAM,GAAG,MAAM,CAEzC;AAED,wBAAgB,MAAM,CAAC,IAAI,EAAE,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,CAElD"}
\ No newline at end of file
diff --git a/dist/esm/utils/sha256.js b/dist/esm/utils/sha256.js
index 110309a7c495b77a50d36583fe12406d7cfb986a..6232418d407254f03e83c1041c14c699296da80e 100644
--- a/dist/esm/utils/sha256.js
+++ b/dist/esm/utils/sha256.js
@@ -2,4 +2,7 @@ import { sha256 } from "js-sha256";
 export function hash(data) {
     return sha256(data);
 }
+export function digest(data) {
+    return sha256.digest(data);
+}
 //# sourceMappingURL=sha256.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/sha256.js.map b/dist/esm/utils/sha256.js.map
index 9ed256dd8f71cfecf2949f54966b0697101449ec..291ef24958e741bfe1db1d6741a469110dc5932a 100644
--- a/dist/esm/utils/sha256.js.map
+++ b/dist/esm/utils/sha256.js.map
@@ -1 +1 @@
-{"version":3,"file":"sha256.js","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAEnC,MAAM,UAAU,IAAI,CAAC,IAAY;IAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC;AACtB,CAAC"}
\ No newline at end of file
+{"version":3,"file":"sha256.js","sourceRoot":"","sources":["../../../src/utils/sha256.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,WAAW,CAAC;AAEnC,MAAM,UAAU,IAAI,CAAC,IAAY;IAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,CAAC;AACtB,CAAC;AAED,MAAM,UAAU,MAAM,CAAC,IAAY;IACjC,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;AAC7B,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/simulate.d.ts b/dist/esm/utils/simulate.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e055ffe898d91319d813e07b5dc1386bdc613e5d
--- /dev/null
+++ b/dist/esm/utils/simulate.d.ts
@@ -0,0 +1,15 @@
+/// <reference types="node" />
+import { Transaction } from "@solana/web3.js";
+import type { Commitment, Connection, PublicKey, RpcResponseAndContext, Signer, SimulatedTransactionResponse } from "@solana/web3.js";
+declare module "@solana/web3.js" {
+    interface Transaction {
+        _compile(): Message;
+        _serialize(signData: Buffer): Buffer;
+    }
+    interface Connection {
+        _rpcRequest(method: string, args: Array<unknown>): Promise<unknown>;
+    }
+}
+export declare function simulateTransaction(connection: Connection, transaction: Transaction, signers?: Array<Signer>, commitment?: Commitment, includeAccounts?: boolean | Array<PublicKey>): Promise<RpcResponseAndContext<SimulatedTransactionResponse>>;
+export declare type SuccessfulTxSimulationResponse = Omit<SimulatedTransactionResponse, "err">;
+//# sourceMappingURL=simulate.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/utils/simulate.d.ts.map b/dist/esm/utils/simulate.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..98578b41c15d0aa723376d556a50bbba796e8948
--- /dev/null
+++ b/dist/esm/utils/simulate.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"simulate.d.ts","sourceRoot":"","sources":["../../../src/utils/simulate.ts"],"names":[],"mappings":";AAAA,OAAO,EAAwB,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAEpE,OAAO,KAAK,EACV,UAAU,EACV,UAAU,EACV,SAAS,EACT,qBAAqB,EACrB,MAAM,EACN,4BAA4B,EAC7B,MAAM,iBAAiB,CAAC;AAkBzB,OAAO,QAAQ,iBAAiB,CAAC;IAC/B,UAAU,WAAW;QACnB,QAAQ,IAAI,OAAO,CAAC;QACpB,UAAU,CAAC,QAAQ,EAAE,MAAM,GAAG,MAAM,CAAC;KACtC;IACD,UAAU,UAAU;QAClB,WAAW,CAAC,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,GAAG,OAAO,CAAC,OAAO,CAAC,CAAC;KACrE;CACF;AAGD,wBAAsB,mBAAmB,CACvC,UAAU,EAAE,UAAU,EACtB,WAAW,EAAE,WAAW,EACxB,OAAO,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,EACvB,UAAU,CAAC,EAAE,UAAU,EACvB,eAAe,CAAC,EAAE,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC,GAC3C,OAAO,CAAC,qBAAqB,CAAC,4BAA4B,CAAC,CAAC,CAqD9D;AA2ED,oBAAY,8BAA8B,GAAG,IAAI,CAC/C,4BAA4B,EAC5B,KAAK,CACN,CAAC"}
\ No newline at end of file
diff --git a/dist/esm/utils/simulate.js b/dist/esm/utils/simulate.js
new file mode 100644
index 0000000000000000000000000000000000000000..957eaa0ea8d2a4d87f40e3d80a491d237c24f135
--- /dev/null
+++ b/dist/esm/utils/simulate.js
@@ -0,0 +1,103 @@
+import { SendTransactionError, Transaction } from "@solana/web3.js";
+import { type as pick, number, string, array, boolean, literal, union, optional, nullable, coerce, create, unknown, any, } from "superstruct";
+// copy from @solana/web3.js that has a commitment param
+export async function simulateTransaction(connection, transaction, signers, commitment, includeAccounts) {
+    const tx = new Transaction();
+    tx.feePayer = transaction.feePayer;
+    tx.instructions = transaction.instructions;
+    tx.nonceInfo = transaction.nonceInfo;
+    tx.signatures = transaction.signatures;
+    if (signers) {
+        tx.sign(...signers);
+    }
+    const message = transaction._compile();
+    const signData = message.serialize();
+    const wireTransaction = transaction._serialize(signData);
+    const encodedTransaction = wireTransaction.toString("base64");
+    const config = {
+        encoding: "base64",
+        commitment: commitment !== null && commitment !== void 0 ? commitment : connection.commitment,
+    };
+    if (includeAccounts) {
+        config.accounts = {
+            encoding: "base64",
+            addresses: (Array.isArray(includeAccounts)
+                ? includeAccounts
+                : message.nonProgramIds()).map((k) => k.toBase58()),
+        };
+    }
+    if (signers) {
+        config.sigVerify = true;
+    }
+    const args = [encodedTransaction, config];
+    const unsafeRes = await connection._rpcRequest("simulateTransaction", args);
+    const res = create(unsafeRes, SimulatedTransactionResponseStruct);
+    if ("error" in res) {
+        let logs;
+        if ("data" in res.error &&
+            "logs" in res.error.data &&
+            Array.isArray(res.error.data.logs)) {
+            logs = res.error.data.logs;
+        }
+        throw new SendTransactionError(`failed to simulate transaction: ${res.error.message}`, logs);
+    }
+    return res.result;
+}
+// copy from @solana/web3.js
+function jsonRpcResult(schema) {
+    return coerce(createRpcResult(schema), UnknownRpcResult, (value) => {
+        if ("error" in value) {
+            return value;
+        }
+        else {
+            return {
+                ...value,
+                result: create(value.result, schema),
+            };
+        }
+    });
+}
+// copy from @solana/web3.js
+const UnknownRpcResult = createRpcResult(unknown());
+// copy from @solana/web3.js
+function createRpcResult(result) {
+    return union([
+        pick({
+            jsonrpc: literal("2.0"),
+            id: string(),
+            result,
+        }),
+        pick({
+            jsonrpc: literal("2.0"),
+            id: string(),
+            error: pick({
+                code: unknown(),
+                message: string(),
+                data: optional(any()),
+            }),
+        }),
+    ]);
+}
+// copy from @solana/web3.js
+function jsonRpcResultAndContext(value) {
+    return jsonRpcResult(pick({
+        context: pick({
+            slot: number(),
+        }),
+        value,
+    }));
+}
+// copy from @solana/web3.js
+const SimulatedTransactionResponseStruct = jsonRpcResultAndContext(pick({
+    err: nullable(union([pick({}), string()])),
+    logs: nullable(array(string())),
+    accounts: optional(nullable(array(nullable(pick({
+        executable: boolean(),
+        owner: string(),
+        lamports: number(),
+        data: array(string()),
+        rentEpoch: optional(number()),
+    }))))),
+    unitsConsumed: optional(number()),
+}));
+//# sourceMappingURL=simulate.js.map
\ No newline at end of file
diff --git a/dist/esm/utils/simulate.js.map b/dist/esm/utils/simulate.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..da5bcee4f879b5918bda8c4c5aad34fee4cc89fc
--- /dev/null
+++ b/dist/esm/utils/simulate.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"simulate.js","sourceRoot":"","sources":["../../../src/utils/simulate.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/esm/wallet.d.ts b/dist/esm/wallet.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e8916054c9551085699f7c69e7e0ffeb7ee4ec64
--- /dev/null
+++ b/dist/esm/wallet.d.ts
@@ -0,0 +1,11 @@
+import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
+import { Wallet as IWallet } from "./provider";
+export declare class Wallet implements IWallet {
+    readonly payer: Keypair;
+    constructor(payer: Keypair);
+    static local(): Wallet | never;
+    signTransaction(tx: Transaction): Promise<Transaction>;
+    signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
+    get publicKey(): PublicKey;
+}
+//# sourceMappingURL=wallet.d.ts.map
\ No newline at end of file
diff --git a/dist/esm/wallet.d.ts.map b/dist/esm/wallet.d.ts.map
new file mode 100644
index 0000000000000000000000000000000000000000..c347d4c8db2638d204ffcfc33022f77840de61c3
--- /dev/null
+++ b/dist/esm/wallet.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"wallet.d.ts","sourceRoot":"","sources":["../../src/wallet.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE,WAAW,EAAE,MAAM,iBAAiB,CAAC;AAClE,OAAO,EAAE,MAAM,IAAI,OAAO,EAAE,MAAM,YAAY,CAAC;AAG/C,qBAAa,MAAO,YAAW,OAAO;IACxB,QAAQ,CAAC,KAAK,EAAE,OAAO;gBAAd,KAAK,EAAE,OAAO;IAEnC,MAAM,CAAC,KAAK,IAAI,MAAM,GAAG,KAAK;IA0BxB,eAAe,CAAC,EAAE,EAAE,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;IAKtD,mBAAmB,CAAC,GAAG,EAAE,WAAW,EAAE,GAAG,OAAO,CAAC,WAAW,EAAE,CAAC;IAOrE,IAAI,SAAS,IAAI,SAAS,CAEzB;CACF"}
\ No newline at end of file
diff --git a/dist/esm/wallet.js b/dist/esm/wallet.js
new file mode 100644
index 0000000000000000000000000000000000000000..ad68a5b07aed043c84eb0af3b35dc64f36437bac
--- /dev/null
+++ b/dist/esm/wallet.js
@@ -0,0 +1,35 @@
+import { Buffer } from "buffer";
+import { Keypair } from "@solana/web3.js";
+import { isBrowser } from "./utils/common";
+export class Wallet {
+    constructor(payer) {
+        this.payer = payer;
+    }
+    static local() {
+        if (isBrowser) {
+            throw new Error("Local wallet not supported in browser");
+        }
+        const process = require("process");
+        if (!process.env.ANCHOR_WALLET || process.env.ANCHOR_WALLET === "") {
+            throw new Error("expected environment variable `ANCHOR_WALLET` is not set.");
+        }
+        const payer = Keypair.fromSecretKey(Buffer.from(JSON.parse(require("fs").readFileSync(process.env.ANCHOR_WALLET, {
+            encoding: "utf-8",
+        }))));
+        return new Wallet(payer);
+    }
+    async signTransaction(tx) {
+        tx.partialSign(this.payer);
+        return tx;
+    }
+    async signAllTransactions(txs) {
+        return txs.map((t) => {
+            t.partialSign(this.payer);
+            return t;
+        });
+    }
+    get publicKey() {
+        return this.payer.publicKey;
+    }
+}
+//# sourceMappingURL=wallet.js.map
\ No newline at end of file
diff --git a/dist/esm/wallet.js.map b/dist/esm/wallet.js.map
new file mode 100644
index 0000000000000000000000000000000000000000..037b5ab4407fdbfb62af2c965ffec0d6d31a7061
--- /dev/null
+++ b/dist/esm/wallet.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"wallet.js","sourceRoot":"","sources":["../../src/wallet.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,QAAQ,CAAC;AAChC,OAAO,EAAE,OAAO,EAA0B,MAAM,iBAAiB,CAAC;AAElE,OAAO,EAAE,SAAS,EAAE,MAAM,gBAAgB,CAAC;AAE3C,MAAM,OAAO,MAAM;IACjB,YAAqB,KAAc;QAAd,UAAK,GAAL,KAAK,CAAS;IAAG,CAAC;IAEvC,MAAM,CAAC,KAAK;QACV,IAAI,SAAS,EAAE;YACb,MAAM,IAAI,KAAK,CAAC,uCAAuC,CAAC,CAAC;SAC1D;QAED,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;QAEnC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,IAAI,OAAO,CAAC,GAAG,CAAC,aAAa,KAAK,EAAE,EAAE;YAClE,MAAM,IAAI,KAAK,CACb,2DAA2D,CAC5D,CAAC;SACH;QAED,MAAM,KAAK,GAAG,OAAO,CAAC,aAAa,CACjC,MAAM,CAAC,IAAI,CACT,IAAI,CAAC,KAAK,CACR,OAAO,CAAC,IAAI,CAAC,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE;YACpD,QAAQ,EAAE,OAAO;SAClB,CAAC,CACH,CACF,CACF,CAAC;QAEF,OAAO,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;IAC3B,CAAC;IAED,KAAK,CAAC,eAAe,CAAC,EAAe;QACnC,EAAE,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;QAC3B,OAAO,EAAE,CAAC;IACZ,CAAC;IAED,KAAK,CAAC,mBAAmB,CAAC,GAAkB;QAC1C,OAAO,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACnB,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1B,OAAO,CAAC,CAAC;QACX,CAAC,CAAC,CAAC;IACL,CAAC;IAED,IAAI,SAAS;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;IAC9B,CAAC;CACF"}
\ No newline at end of file
diff --git a/dist/esm/workspace.js b/dist/esm/workspace.js
index 44d98581dd664fe3d117e412179e5ab63064c073..c2b3bde6103c0cff1b0e7a17544a487c801f1db1 100644
--- a/dist/esm/workspace.js
+++ b/dist/esm/workspace.js
@@ -1,4 +1,4 @@
-import camelCase from "camelcase";
+import { pascalCase } from "@juici/case";
 import * as toml from "toml";
 import { PublicKey } from "@solana/web3.js";
 import { Program } from "./program/index.js";
@@ -40,10 +40,10 @@ const workspace = new Proxy({}, {
                 .filter((file) => file.endsWith(".json"))
                 .forEach((file) => {
                 const filePath = `${idlFolder}/${file}`;
-                const idlStr = fs.readFileSync(filePath);
+                const idlStr = fs.readFileSync(filePath, "utf-8");
                 const idl = JSON.parse(idlStr);
                 idlMap.set(idl.name, idl);
-                const name = camelCase(idl.name, { pascalCase: true });
+                const name = pascalCase(idl.name);
                 if (idl.metadata && idl.metadata.address) {
                     workspaceCache[name] = new Program(idl, new PublicKey(idl.metadata.address));
                 }
@@ -61,7 +61,7 @@ const workspace = new Proxy({}, {
 });
 function attachWorkspaceOverride(workspaceCache, overrideConfig, idlMap) {
     Object.keys(overrideConfig).forEach((programName) => {
-        const wsProgramName = camelCase(programName, { pascalCase: true });
+        const wsProgramName = pascalCase(programName);
         const entry = overrideConfig[programName];
         const overrideAddress = new PublicKey(typeof entry === "string" ? entry : entry.address);
         let idl = idlMap.get(programName);
diff --git a/dist/esm/workspace.js.map b/dist/esm/workspace.js.map
index 78560f48421a0808b69bcb215f828700e496fd40..7060e7f447fd74e2806617645628b2785fdce9b9 100644
--- a/dist/esm/workspace.js.map
+++ b/dist/esm/workspace.js.map
@@ -1 +1 @@
-{"version":3,"file":"workspace.js","sourceRoot":"","sources":["../../src/workspace.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"workspace.js","sourceRoot":"","sources":["../../src/workspace.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/dist/tsconfig.cjs.tsbuildinfo b/dist/tsconfig.cjs.tsbuildinfo
index 5fa81779a3c3637ecb90765d6bff44296b3ac714..bbb467df1380eb5b038fed98d9974e85ed1a7db6 100644
--- a/dist/tsconfig.cjs.tsbuildinfo
+++ b/dist/tsconfig.cjs.tsbuildinfo
@@ -1 +1 @@
-{"program":{"fileNames":["../node_modules/typescript/lib/lib.es5.d.ts","../node_modules/typescript/lib/lib.es2015.d.ts","../node_modules/typescript/lib/lib.es2016.d.ts","../node_modules/typescript/lib/lib.es2017.d.ts","../node_modules/typescript/lib/lib.es2018.d.ts","../node_modules/typescript/lib/lib.es2019.d.ts","../node_modules/typescript/lib/lib.es2020.d.ts","../node_modules/typescript/lib/lib.dom.d.ts","../node_modules/typescript/lib/lib.dom.iterable.d.ts","../node_modules/typescript/lib/lib.webworker.importscripts.d.ts","../node_modules/typescript/lib/lib.scripthost.d.ts","../node_modules/typescript/lib/lib.es2015.core.d.ts","../node_modules/typescript/lib/lib.es2015.collection.d.ts","../node_modules/typescript/lib/lib.es2015.generator.d.ts","../node_modules/typescript/lib/lib.es2015.iterable.d.ts","../node_modules/typescript/lib/lib.es2015.promise.d.ts","../node_modules/typescript/lib/lib.es2015.proxy.d.ts","../node_modules/typescript/lib/lib.es2015.reflect.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2016.array.include.d.ts","../node_modules/typescript/lib/lib.es2017.object.d.ts","../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2017.string.d.ts","../node_modules/typescript/lib/lib.es2017.intl.d.ts","../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","../node_modules/typescript/lib/lib.es2018.intl.d.ts","../node_modules/typescript/lib/lib.es2018.promise.d.ts","../node_modules/typescript/lib/lib.es2018.regexp.d.ts","../node_modules/typescript/lib/lib.es2019.array.d.ts","../node_modules/typescript/lib/lib.es2019.object.d.ts","../node_modules/typescript/lib/lib.es2019.string.d.ts","../node_modules/typescript/lib/lib.es2019.symbol.d.ts","../node_modules/typescript/lib/lib.es2020.bigint.d.ts","../node_modules/typescript/lib/lib.es2020.promise.d.ts","../node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2020.string.d.ts","../node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2020.intl.d.ts","../node_modules/typescript/lib/lib.esnext.intl.d.ts","../node_modules/typescript/lib/lib.es2019.full.d.ts","../node_modules/@types/node/assert.d.ts","../node_modules/@types/node/assert/strict.d.ts","../node_modules/@types/node/globals.d.ts","../node_modules/@types/node/async_hooks.d.ts","../node_modules/@types/node/buffer.d.ts","../node_modules/@types/node/child_process.d.ts","../node_modules/@types/node/cluster.d.ts","../node_modules/@types/node/console.d.ts","../node_modules/@types/node/constants.d.ts","../node_modules/@types/node/crypto.d.ts","../node_modules/@types/node/dgram.d.ts","../node_modules/@types/node/diagnostics_channel.d.ts","../node_modules/@types/node/dns.d.ts","../node_modules/@types/node/dns/promises.d.ts","../node_modules/@types/node/domain.d.ts","../node_modules/@types/node/events.d.ts","../node_modules/@types/node/fs.d.ts","../node_modules/@types/node/fs/promises.d.ts","../node_modules/@types/node/http.d.ts","../node_modules/@types/node/http2.d.ts","../node_modules/@types/node/https.d.ts","../node_modules/@types/node/inspector.d.ts","../node_modules/@types/node/module.d.ts","../node_modules/@types/node/net.d.ts","../node_modules/@types/node/os.d.ts","../node_modules/@types/node/path.d.ts","../node_modules/@types/node/perf_hooks.d.ts","../node_modules/@types/node/process.d.ts","../node_modules/@types/node/punycode.d.ts","../node_modules/@types/node/querystring.d.ts","../node_modules/@types/node/readline.d.ts","../node_modules/@types/node/repl.d.ts","../node_modules/@types/node/stream.d.ts","../node_modules/@types/node/stream/promises.d.ts","../node_modules/@types/node/stream/consumers.d.ts","../node_modules/@types/node/stream/web.d.ts","../node_modules/@types/node/string_decoder.d.ts","../node_modules/@types/node/timers.d.ts","../node_modules/@types/node/timers/promises.d.ts","../node_modules/@types/node/tls.d.ts","../node_modules/@types/node/trace_events.d.ts","../node_modules/@types/node/tty.d.ts","../node_modules/@types/node/url.d.ts","../node_modules/@types/node/util.d.ts","../node_modules/@types/node/v8.d.ts","../node_modules/@types/node/vm.d.ts","../node_modules/@types/node/wasi.d.ts","../node_modules/@types/node/worker_threads.d.ts","../node_modules/@types/node/zlib.d.ts","../node_modules/@types/node/globals.global.d.ts","../node_modules/@types/node/index.d.ts","../node_modules/buffer/index.d.ts","../node_modules/@solana/web3.js/lib/index.d.ts","../src/utils/features.ts","../src/error.ts","../node_modules/@types/bn.js/index.d.ts","../node_modules/@project-serum/borsh/dist/lib/index.d.ts","../src/idl.ts","../src/utils/bytes/hex.ts","../src/utils/common.ts","../src/utils/bytes/utf8.ts","../node_modules/base-x/src/index.d.ts","../node_modules/@types/bs58/index.d.ts","../src/utils/bytes/bs58.ts","../node_modules/base64-js/index.d.ts","../src/utils/bytes/base64.ts","../src/utils/bytes/index.ts","../node_modules/eventemitter3/index.d.ts","../src/program/context.ts","../src/program/common.ts","../node_modules/superstruct/lib/error.d.ts","../node_modules/superstruct/lib/utils.d.ts","../node_modules/superstruct/lib/struct.d.ts","../node_modules/superstruct/lib/structs/coercions.d.ts","../node_modules/superstruct/lib/structs/refinements.d.ts","../node_modules/superstruct/lib/structs/types.d.ts","../node_modules/superstruct/lib/structs/utilities.d.ts","../node_modules/superstruct/lib/index.d.ts","../src/utils/rpc.ts","../src/provider.ts","../src/nodewallet.ts","../node_modules/camelcase/index.d.ts","../node_modules/no-case/dist/index.d.ts","../node_modules/dot-case/dist/index.d.ts","../node_modules/snake-case/dist/index.d.ts","../node_modules/js-sha256/index.d.ts","../src/coder/borsh/idl.ts","../src/program/namespace/instruction.ts","../src/program/namespace/transaction.ts","../src/program/namespace/simulate.ts","../src/program/namespace/rpc.ts","../src/program/namespace/views.ts","../src/utils/pubkey.ts","../src/program/namespace/account.ts","../src/utils/token.ts","../node_modules/@types/pako/index.d.ts","../src/program/namespace/state.ts","../src/program/namespace/index.ts","../src/program/index.ts","../src/coder/spl-token/instruction.ts","../src/coder/spl-token/state.ts","../src/coder/spl-token/buffer-layout.ts","../src/coder/common.ts","../src/coder/spl-token/accounts.ts","../src/coder/spl-token/events.ts","../src/coder/spl-token/types.ts","../src/coder/spl-token/index.ts","../src/spl/token.ts","../src/program/accounts-resolver.ts","../src/program/namespace/methods.ts","../src/program/namespace/types.ts","../src/program/event.ts","../src/coder/borsh/accounts.ts","../src/coder/borsh/event.ts","../src/coder/borsh/state.ts","../src/coder/borsh/types.ts","../src/coder/borsh/index.ts","../src/coder/system/instruction.ts","../src/coder/system/state.ts","../src/coder/system/accounts.ts","../src/coder/system/events.ts","../src/coder/system/types.ts","../src/coder/system/index.ts","../src/coder/index.ts","../src/coder/borsh/instruction.ts","../src/utils/sha256.ts","../node_modules/cross-fetch/index.d.ts","../src/utils/registry.ts","../src/utils/index.ts","../src/coder/spl-associated-token/instruction.ts","../src/coder/spl-associated-token/state.ts","../src/coder/spl-associated-token/accounts.ts","../src/coder/spl-associated-token/events.ts","../src/coder/spl-associated-token/types.ts","../src/coder/spl-associated-token/index.ts","../src/spl/associated-token.ts","../src/spl/index.ts","../src/native/system.ts","../src/native/index.ts","../src/index.ts","../node_modules/toml/index.d.ts","../src/workspace.ts","../types/buffer-layout/index.d.ts","../node_modules/@babel/types/lib/index.d.ts","../node_modules/@types/babel__generator/index.d.ts","../node_modules/@babel/parser/typings/babel-parser.d.ts","../node_modules/@types/babel__template/index.d.ts","../node_modules/@types/babel__traverse/index.d.ts","../node_modules/@types/babel__core/index.d.ts","../node_modules/@types/connect/index.d.ts","../node_modules/@types/estree/index.d.ts","../node_modules/@types/range-parser/index.d.ts","../node_modules/@types/qs/index.d.ts","../node_modules/@types/express-serve-static-core/index.d.ts","../node_modules/@types/graceful-fs/index.d.ts","../node_modules/@types/istanbul-lib-coverage/index.d.ts","../node_modules/@types/istanbul-lib-report/index.d.ts","../node_modules/@types/istanbul-reports/index.d.ts","../node_modules/chalk/index.d.ts","../node_modules/jest-diff/build/cleanupsemantic.d.ts","../node_modules/pretty-format/build/types.d.ts","../node_modules/pretty-format/build/index.d.ts","../node_modules/jest-diff/build/types.d.ts","../node_modules/jest-diff/build/difflines.d.ts","../node_modules/jest-diff/build/printdiffs.d.ts","../node_modules/jest-diff/build/index.d.ts","../node_modules/jest-matcher-utils/build/index.d.ts","../node_modules/@types/jest/index.d.ts","../node_modules/@types/json-schema/index.d.ts","../node_modules/@types/lodash/common/common.d.ts","../node_modules/@types/lodash/common/array.d.ts","../node_modules/@types/lodash/common/collection.d.ts","../node_modules/@types/lodash/common/date.d.ts","../node_modules/@types/lodash/common/function.d.ts","../node_modules/@types/lodash/common/lang.d.ts","../node_modules/@types/lodash/common/math.d.ts","../node_modules/@types/lodash/common/number.d.ts","../node_modules/@types/lodash/common/object.d.ts","../node_modules/@types/lodash/common/seq.d.ts","../node_modules/@types/lodash/common/string.d.ts","../node_modules/@types/lodash/common/util.d.ts","../node_modules/@types/lodash/index.d.ts","../node_modules/@types/minimist/index.d.ts","../node_modules/@types/normalize-package-data/index.d.ts","../node_modules/@types/parse-json/index.d.ts","../node_modules/@types/prettier/index.d.ts","../node_modules/@types/resolve/index.d.ts","../node_modules/@types/stack-utils/index.d.ts","../node_modules/@types/ws/index.d.ts","../node_modules/@types/yargs-parser/index.d.ts","../node_modules/@types/yargs/index.d.ts"],"fileInfos":[{"version":"3ac1b83264055b28c0165688fda6dfcc39001e9e7828f649299101c23ad0a0c3","affectsGlobalScope":true},"dc47c4fa66b9b9890cf076304de2a9c5201e94b740cffdf09f87296d877d71f6","7a387c58583dfca701b6c85e0adaf43fb17d590fb16d5b2dc0a2fbd89f35c467","8a12173c586e95f4433e0c6dc446bc88346be73ffe9ca6eec7aa63c8f3dca7f9","5f4e733ced4e129482ae2186aae29fde948ab7182844c3a5a51dd346182c7b06","e6b724280c694a9f588847f754198fb96c43d805f065c3a5b28bbc9594541c84","e21c071ca3e1b4a815d5f04a7475adcaeea5d64367e840dd0154096d705c3940",{"version":"72704b10d97777e15f1a581b73f88273037ef752d2e50b72287bd0a90af64fe6","affectsGlobalScope":true},{"version":"dbb73d4d99be496175cb432c74c2615f78c76f4272f1d83cba11ee0ed6dbddf0","affectsGlobalScope":true},{"version":"7fac8cb5fc820bc2a59ae11ef1c5b38d3832c6d0dfaec5acdb5569137d09a481","affectsGlobalScope":true},{"version":"097a57355ded99c68e6df1b738990448e0bf170e606707df5a7c0481ff2427cd","affectsGlobalScope":true},{"version":"d8996609230d17e90484a2dd58f22668f9a05a3bfe00bfb1d6271171e54a31fb","affectsGlobalScope":true},{"version":"43fb1d932e4966a39a41b464a12a81899d9ae5f2c829063f5571b6b87e6d2f9c","affectsGlobalScope":true},{"version":"cdccba9a388c2ee3fd6ad4018c640a471a6c060e96f1232062223063b0a5ac6a","affectsGlobalScope":true},{"version":"c5c05907c02476e4bde6b7e76a79ffcd948aedd14b6a8f56e4674221b0417398","affectsGlobalScope":true},{"version":"0d5f52b3174bee6edb81260ebcd792692c32c81fd55499d69531496f3f2b25e7","affectsGlobalScope":true},{"version":"810627a82ac06fb5166da5ada4159c4ec11978dfbb0805fe804c86406dab8357","affectsGlobalScope":true},{"version":"62d80405c46c3f4c527ee657ae9d43fda65a0bf582292429aea1e69144a522a6","affectsGlobalScope":true},{"version":"3013574108c36fd3aaca79764002b3717da09725a36a6fc02eac386593110f93","affectsGlobalScope":true},{"version":"75ec0bdd727d887f1b79ed6619412ea72ba3c81d92d0787ccb64bab18d261f14","affectsGlobalScope":true},{"version":"3be5a1453daa63e031d266bf342f3943603873d890ab8b9ada95e22389389006","affectsGlobalScope":true},{"version":"17bb1fc99591b00515502d264fa55dc8370c45c5298f4a5c2083557dccba5a2a","affectsGlobalScope":true},{"version":"7ce9f0bde3307ca1f944119f6365f2d776d281a393b576a18a2f2893a2d75c98","affectsGlobalScope":true},{"version":"6a6b173e739a6a99629a8594bfb294cc7329bfb7b227f12e1f7c11bc163b8577","affectsGlobalScope":true},{"version":"12a310447c5d23c7d0d5ca2af606e3bd08afda69100166730ab92c62999ebb9d","affectsGlobalScope":true},{"version":"b0124885ef82641903d232172577f2ceb5d3e60aed4da1153bab4221e1f6dd4e","affectsGlobalScope":true},{"version":"0eb85d6c590b0d577919a79e0084fa1744c1beba6fd0d4e951432fa1ede5510a","affectsGlobalScope":true},{"version":"da233fc1c8a377ba9e0bed690a73c290d843c2c3d23a7bd7ec5cd3d7d73ba1e0","affectsGlobalScope":true},{"version":"d154ea5bb7f7f9001ed9153e876b2d5b8f5c2bb9ec02b3ae0d239ec769f1f2ae","affectsGlobalScope":true},{"version":"bb2d3fb05a1d2ffbca947cc7cbc95d23e1d053d6595391bd325deb265a18d36c","affectsGlobalScope":true},{"version":"c80df75850fea5caa2afe43b9949338ce4e2de086f91713e9af1a06f973872b8","affectsGlobalScope":true},{"version":"9d57b2b5d15838ed094aa9ff1299eecef40b190722eb619bac4616657a05f951","affectsGlobalScope":true},{"version":"6c51b5dd26a2c31dbf37f00cfc32b2aa6a92e19c995aefb5b97a3a64f1ac99de","affectsGlobalScope":true},{"version":"6e7997ef61de3132e4d4b2250e75343f487903ddf5370e7ce33cf1b9db9a63ed","affectsGlobalScope":true},{"version":"2ad234885a4240522efccd77de6c7d99eecf9b4de0914adb9a35c0c22433f993","affectsGlobalScope":true},{"version":"1b3fe904465430e030c93239a348f05e1be80640d91f2f004c3512c2c2c89f34","affectsGlobalScope":true},{"version":"3787b83e297de7c315d55d4a7c546ae28e5f6c0a361b7a1dcec1f1f50a54ef11","affectsGlobalScope":true},{"version":"e7e8e1d368290e9295ef18ca23f405cf40d5456fa9f20db6373a61ca45f75f40","affectsGlobalScope":true},{"version":"faf0221ae0465363c842ce6aa8a0cbda5d9296940a8e26c86e04cc4081eea21e","affectsGlobalScope":true},{"version":"06393d13ea207a1bfe08ec8d7be562549c5e2da8983f2ee074e00002629d1871","affectsGlobalScope":true},{"version":"5075b36ab861c8c0c45377cb8c96270d7c65f0eeaf105d53fac6850da61f1027","affectsGlobalScope":true},{"version":"10bbdc1981b8d9310ee75bfac28ee0477bb2353e8529da8cff7cb26c409cb5e8","affectsGlobalScope":true},"1f03b495671c3a1bd24510f38b8947f0991dfd6bf0278c68eca14af15b306e1f","0cba3a5d7b81356222594442753cf90dd2892e5ccfe1d262aaca6896ba6c1380","a69c09dbea52352f479d3e7ac949fde3d17b195abe90b045d619f747b38d6d1a",{"version":"c2ab70bbc7a24c42a790890739dd8a0ba9d2e15038b40dff8163a97a5d148c00","affectsGlobalScope":true},"422dbb183fdced59425ca072c8bd09efaa77ce4e2ab928ec0d8a1ce062d2a45a",{"version":"712ba0d43b44d144dfd01593f61af6e2e21cfae83e834d297643e7973e55ed61","affectsGlobalScope":true},"1dab5ab6bcf11de47ab9db295df8c4f1d92ffa750e8f095e88c71ce4c3299628","f71f46ccd5a90566f0a37b25b23bc4684381ab2180bdf6733f4e6624474e1894",{"version":"54e65985a3ee3cec182e6a555e20974ea936fc8b8d1738c14e8ed8a42bd921d4","affectsGlobalScope":true},"82408ed3e959ddc60d3e9904481b5a8dc16469928257af22a3f7d1a3bc7fd8c4","98a3ebfa494b46265634a73459050befba5da8fdc6ca0ef9b7269421780f4ff3","34e5de87d983bc6aefef8b17658556e3157003e8d9555d3cb098c6bef0b5fbc8","cc0b61316c4f37393f1f9595e93b673f4184e9d07f4c127165a490ec4a928668","f27371653aded82b2b160f7a7033fb4a5b1534b6f6081ef7be1468f0f15327d3","c762cd6754b13a461c54b59d0ae0ab7aeef3c292c6cf889873f786ee4d8e75c9","f4ea7d5df644785bd9fbf419930cbaec118f0d8b4160037d2339b8e23c059e79",{"version":"bfea28e6162ed21a0aeed181b623dcf250aa79abf49e24a6b7e012655af36d81","affectsGlobalScope":true},"7a5459efa09ea82088234e6533a203d528c594b01787fb90fba148885a36e8b6","ae97e20f2e10dbeec193d6a2f9cd9a367a1e293e7d6b33b68bacea166afd7792","10d4796a130577d57003a77b95d8723530bbec84718e364aa2129fa8ffba0378","ad41bb744149e92adb06eb953da195115620a3f2ad48e7d3ae04d10762dae197","bf73c576885408d4a176f44a9035d798827cc5020d58284cb18d7573430d9022","7ae078ca42a670445ae0c6a97c029cb83d143d62abd1730efb33f68f0b2c0e82",{"version":"e8b18c6385ff784228a6f369694fcf1a6b475355ba89090a88de13587a9391d5","affectsGlobalScope":true},"5d0a9ea09d990b5788f867f1c79d4878f86f7384cb7dab38eecbf22f9efd063d","12eea70b5e11e924bb0543aea5eadc16ced318aa26001b453b0d561c2fd0bd1e","08777cd9318d294646b121838574e1dd7acbb22c21a03df84e1f2c87b1ad47f2","08a90bcdc717df3d50a2ce178d966a8c353fd23e5c392fd3594a6e39d9bb6304",{"version":"4cd4cff679c9b3d9239fd7bf70293ca4594583767526916af8e5d5a47d0219c7","affectsGlobalScope":true},"2a12d2da5ac4c4979401a3f6eaafa874747a37c365e4bc18aa2b171ae134d21b","002b837927b53f3714308ecd96f72ee8a053b8aeb28213d8ec6de23ed1608b66","1dc9c847473bb47279e398b22c740c83ea37a5c88bf66629666e3cf4c5b9f99c","a9e4a5a24bf2c44de4c98274975a1a705a0abbaad04df3557c2d3cd8b1727949","00fa7ce8bc8acc560dc341bbfdf37840a8c59e6a67c9bfa3fa5f36254df35db2","1b952304137851e45bc009785de89ada562d9376177c97e37702e39e60c2f1ff",{"version":"806ef4cac3b3d9fa4a48d849c8e084d7c72fcd7b16d76e06049a9ed742ff79c0","affectsGlobalScope":true},"44b8b584a338b190a59f4f6929d072431950c7bd92ec2694821c11bce180c8a5","5f0ed51db151c2cdc4fa3bb0f44ce6066912ad001b607a34e65a96c52eb76248",{"version":"3345c276cab0e76dda86c0fb79104ff915a4580ba0f3e440870e183b1baec476","affectsGlobalScope":true},"664d8f2d59164f2e08c543981453893bc7e003e4dfd29651ce09db13e9457980","e383ff72aabf294913f8c346f5da1445ae6ad525836d28efd52cbadc01a361a6","f52fbf64c7e480271a9096763c4882d356b05cab05bf56a64e68a95313cd2ce2","59bdb65f28d7ce52ccfc906e9aaf422f8b8534b2d21c32a27d7819be5ad81df7",{"version":"3a2da34079a2567161c1359316a32e712404b56566c45332ac9dcee015ecce9f","affectsGlobalScope":true},"28a2e7383fd898c386ffdcacedf0ec0845e5d1a86b5a43f25b86bc315f556b79","3aff9c8c36192e46a84afe7b926136d520487155154ab9ba982a8b544ea8fc95","a880cf8d85af2e4189c709b0fea613741649c0e40fffb4360ec70762563d5de0","85bbf436a15bbeda4db888be3062d47f99c66fd05d7c50f0f6473a9151b6a070","9f9c49c95ecd25e0cb2587751925976cf64fd184714cb11e213749c80cf0f927","f0c75c08a71f9212c93a719a25fb0320d53f2e50ca89a812640e08f8ad8c408c",{"version":"ab9b9a36e5284fd8d3bf2f7d5fcbc60052f25f27e4d20954782099282c60d23e","affectsGlobalScope":true},"9cafe917bf667f1027b2bb62e2de454ecd2119c80873ad76fc41d941089753b8","8e9c23ba78aabc2e0a27033f18737a6df754067731e69dc5f52823957d60a4b6","4bc4fa25f93690656cef6fdc801d4ad6557b4b35a8f05f74404b414fd6141d8e","befdefdd77a07b1f920d713f4b4421b164675b8b0e046c13a9964517986c0e43","3481403a78f452354813bd5566fb4b9504f6651b288c0e49d7f56b51c7474bce","bc6dd50ac2fc9a7ca6488811b116bd0ddd606338db0bb97852c8fcf757e2d7f5","fd741c46337e33810601102c64ae65bc75e371900ed0f97c7f11e1afe4af1b71","91210392e0f15b679207911a4c2c93e0e4d051dec53d8591364db652cd86d0b6","c1e676ba25c394ede9a0b45b6ae7bb47bd14d067a2604faa67e6a8f278e233ac","8fa778af138d7c7c977585501f3e1efe3a95ca02d1e22dc71856a4da32f34be5","b528724447b639c00b673388587783786b4403a2d8373421affceae41796d8fc","e91751abb2372a36a90869d36f6ad5d5e69a84c5513ca99d236554e4dd8b9aa1","5cbc27193321e6ba10f4e9f3c5519649d9e2716cf103efd7eaa7a89e0f8ed1d4","8209f8449c9b3a8297223cafea51a91f2dffdc94fa58fa0486a7214be6abd7eb","96da6c81cd788939a7cf6546ea1f65ab5ca38952e5bd7d8c284bfe1f3c22dce7","8da7bd22f9432732c0eb2f9c7bf11fb9a0bbd4913f4429d9ff7a74123f09904e","147abcf1d48a19553366fec6b72191ecf6f83d8e4c1260436c4f854883bba65c","b80c780c52524beb13488942543972c8b0e54400e8b59cee0169f38d0fabb968","1da6be75a3cce6731f31fad8b835f60f7935a868d67bf0b87092c9b5a783e4a6","f8586e5573f873a79bfb0cb8cd701692d9bb87e5b0e2aafa91cce103607a2255","51c7e7813dd1c1e7b5144ebff587c97bf8022bb2d6e12c6b3c4e3597686b8bd8","204f41659a02170064f953786aa397d89a0c095eb766f942902acb32780cabdc","193e45dd974dff7630cec4c07aa73963458dc9d137778a5890ae7532e1b71e48","a50599c08934a62f11657bdbe0dc929ab66da1b1f09974408fd9a33ec1bb8060","5a20e7d6c630b91be15e9b837853173829d00273197481dc8d3e94df61105a71","1657505fba9c49e14b9ae448370dcd08a671cb64b959359a8b310101538fb86c","b4000a0a525fa921e896cbdb32ae802c9684f0fd371b5fc69e7310f7918cc2c3","9df4662ca3dbc2522bc115833ee04faa1afbb4e249a85ef4a0a09c621346bd08","3b607cb791c0f7038d0b13e9aecf885d278bb04b416bd9f4be3b624e975d0237","1936bae9df3e27b277a8ca968e03d844416a79b8c7e32e710413ad1cab5c91cf","44ebe115dbe709ba448ef5892d48cb478b8db7143027c313933e7d59f25cc536","b8e7261f41dd775524077306a69c01796bd5a2a742c7338e6607ff4e689bc356","b4e123af1af6049685c93073a15868b50aebdad666d422edc72fa2b585fa8a37","062959a1d825b96639d87be35fe497cbd3f89544bf06fdad577bbfb85fcf604c","74b4035dd26d09a417c44ca23ab5ee69b173f8c2f6b2e47350ab0795cf2d4a17","0afbe91142eb631d6f31be624cf8a550b03736bfd22b0f309405a6fe4d4c9517","847959096193a8af74d745dc04141ef91e95ff464529204e7a1c8aadd41fe070","075ef13a8afba3257860d243e05a045201bbe0c4b766eecc5725b38ac9c9dcb5","6090cf36676b6fd34a36d8173555877a92ac34df8b46166e53a9877d5dfb5064","234ce06aa37b728dcb1bdd86a9a431330f8c8c7d570532ba55c6d6d891dc26b7","fc949b2600d04a7afb9ae316c3dd62471557647a41e92683fdcfae21d60e77a9","b5c1855d9246aabceb807d53c91227a8b83547fdba3ae4dffb67c30bd0b5fe53","2ba451a5349336265ec338b9f75b9839b91917abf1ecf1b3b76f6b1e855f5460","0a5bdbdf2593487e7522d28b5a3f587dec1fd89f0e4ff65a9da510115245b222","629c630b3f303efe570a298124d237ab68c09994beffce1eb9721a0eabf66db7","4e9d375d05a75efefcdae0a6a7be76861b5c96683acd31d1c8b120f60c0f6194","b9c54bc66ddaad9765c1ef14b0714090eb1e6a614ad6206daecd4c11f516c4f5","e77af82244f0777d2ce92cf3472171e43ecc4576d0b75248a39d55280ebdb3e5","8fea0e7dfb3ffb1d8610c4f277812b43f88d8cbde5d1c7cf83fbd71a2bb29f01","4f12dfc9cc8af590337b63d2ee5942b1de147aeedd275ef9b55c17184773c24e","4051211200d783c8491ccd6bfadbfed4458bdf620a59511f10f6cd724ac831e3","1fca1ad444f3860ceec053479fddcae7f9aed97ba0276e3c3c7e107cce7ac7fe","cd1252e734ea70e9a7d656c73329e71a213e227d059098e0b38e4e173551615f","6ab74b69ee79b769435c777bc63ca6e8ec3a405e2d61c8f9df4a209b5e2f0e7a","e750e4c0da73a4c2ca6d8a39e3f62dbd9dbe83337ccbfd9cc7c19729ab860303","688d078aaeda8b48c244eb352b00655fe285580cb39965b14b2e84a42495b3a2","a1c44b8387051cc86987935ec55bda39ecebfa208b43d742ad6af0efd89ceabe","295db4c75f8f0bb9fbbe26ab71a3f2ab6b1c71ff1bd084a5d7b13932583371bd","6b3b406f83ecbe547da60dea299c8d4e08df705b4da0c50ee51a19b0b7aa895c","f6026ae2f88860b197a3415b1b321f9e314d86037e3ab89f647abce026ce7ca1","b5b5694754fd8ab1e8c986f79ab646c3e45bdbf7963ec4175b0cf53f9718df46","201e10c4adba4ebe978b3f78cf9a7c44154af42ed216a58b470f52d91b46187c","7e4af93331cdac0dcc5d5ab563c85b032a4ea4bc09a26d15058ececeb82a2898","425915f5688520cdcf347a43953683256d267606c6ac3f45939463ad03c6c25e","645a3618d329a7be176ce0c0bfc259c2575343b8232e6e734e7b999905292667","cd0ccdddf7c7b2ae54cd5da22ffac7faa8ea75ec5fb9e8a3dd6e9a2d2b913b56","03cb2c7af1308544e43219def34b175ab7c0c7a2b8f217a42b72b92d077e3e41","ccd8543501661df11a29a64b4fb27f605c8a1d6c66ff218dc2e9d680a19d39ee","a8a0dc91adbe978cbb42524bb504353ca2ba6296fd7e30702cd1bf67bab09866","716f90e583e42b7334abacb5130b71dc94415737e975a61963ad24cca751457a","9b893a328f92e30269d6f802d1295f8b34ce94a9eeff358dc3860552bf41f3c1","64c550b351f69cd8e561bc06459734df07139c7e677f9ab1d036d4a2dc089fe2","84f56784edc4c9c36eed90f595285bf5bfa93693729676915640a59a0d68314c","b32cc44e5c84856108a21f294ee09129f8e11dd16b3d4e953e28ee1693a26d18","34cccf89f3e9af6c0cf9937f13aa7797c517fb80231e24129b7a410972f0cd23","3c0c533dd0f4090e2d26eee3e81e3285d24f7e01375973beeba3e54fd46cfc87",{"version":"409cf8770fbb9f099124e9ca744282ebfd85df2fd3650ae05c4ee3d03af66714","affectsGlobalScope":true},"c18e5155f6d915fb89813b7146e73c96300e2e0db317b68176f61c91af6ec2d2","7e88d2eef3de0e141de5c7b3140c5aade44be358a5a6ed30a7595b625868cf77","163afef94e87f2a4c0180e5ede0982a124811370e24609bd31b075abb477e1f3","e2018ab98c4d3c9604a1a8b324e5e781dda8d77c04dfd88304fcf25b57394e52","7a2e491ee5ed24b45206b4d4babc46979945a82333e80afd96b2ae8d198ff4bc","63956e9f42990675523bd04fdc35ba8e81d53998dd195a30af285b22f4615832","37148ad9f3aa2a35cb5806ca79f13fa235d54d35a00306b976dc47418157908c","b72a9b41e5ddef16d50385a50666bc546ce7f0b41c0f422cd2f7137d88dace2c","b001911fe90bb3ddc5c474ecab74bc3164a4029b5b01cc5c6cfe70faae31efe8","2075f2d624e4ded0576079e7cbd13241a6e81fdd53595ad96b678a0feab905ce","6e348ffc030456fbd854f4609af25c001f220a7403c45d562eb8258793ce738b","19faf2ac1f1fc3a95415aafee6a9a6ebb60a4f97f98319963eb25d0b046fc9d0","26040e0eb877ce51d2d432a37e55eeb33ee9281f5b13208fb7f36485eeca1961","a7fe7e88c50608567af53c49d3c59ea5f33bf5f59126d67b2a25f85eb41297ba","5c136d8b0aebdb034c68456fb6d7a94e7a2f7a533faf025708e561afa5c3c1ff","f073ae34a84410826fa152340f77fe547b426eeec25707dffc5816704330b09c","2ff9995137f3e5d68971388ec58af0c79721626323884513f9f5e2e996ac1fdd","cc957354aa3c94c9961ebf46282cfde1e81d107fc5785a61f62c67f1dd3ac2eb","1a7cc144992d79b062c22ac0309c6624dbb0d49bbddff7ea3b9daa0c17bcac0a","93de1c6dab503f053efe8d304cb522bb3a89feab8c98f307a674a4fae04773e9","3b043cf9a81854a72963fdb57d1884fc4da1cf5be69b5e0a4c5b751e58cb6d88","5426e62886b7be7806312d31a00e8f7dccd6fe63ba9bbefe99ee2eab29cc48a3","6d829824ead8999f87b6df21200df3c6150391b894b4e80662caa462bd48d073","a1c79f857f5c7754e14c93949dad8cfefcd7df2ecc0dc9dd79a30fd493e28449","16d51f964ec125ad2024cf03f0af444b3bc3ec3614d9345cc54d09bab45c9a4c","ba601641fac98c229ccd4a303f747de376d761babb33229bb7153bed9356c9cc",{"version":"d2f7baf43dfa349d4010cbd9d64d84cdf3ec26c65fa5f44c8f74f052bedd0b49","affectsGlobalScope":true},"3ebae8c00411116a66fca65b08228ea0cf0b72724701f9b854442100aab55aba","8b06ac3faeacb8484d84ddb44571d8f410697f98d7bfa86c0fda60373a9f5215","7eb06594824ada538b1d8b48c3925a83e7db792f47a081a62cf3e5c4e23cf0ee","f5638f7c2f12a9a1a57b5c41b3c1ea7db3876c003bab68e6a57afd6bcc169af0","0d14fa22c41fdc7277e6f71473b20ebc07f40f00e38875142335d5b63cdfc9d2","d8aab31ba8e618cc3eea10b0945de81cb93b7e8150a013a482332263b9305322","462bccdf75fcafc1ae8c30400c9425e1a4681db5d605d1a0edb4f990a54d8094","5923d8facbac6ecf7c84739a5c701a57af94a6f6648d6229a6c768cf28f0f8cb","7adecb2c3238794c378d336a8182d4c3dd2c4fa6fa1785e2797a3db550edea62","dc12dc0e5aa06f4e1a7692149b78f89116af823b9e1f1e4eae140cd3e0e674e6","1bfc6565b90c8771615cd8cfcf9b36efc0275e5e83ac7d9181307e96eb495161","8a8a96898906f065f296665e411f51010b51372fa260d5373bf9f64356703190","7f82ef88bdb67d9a850dd1c7cd2d690f33e0f0acd208e3c9eba086f3670d4f73",{"version":"3fe15a491a792852283caeece8142bc7427a29c183d9fec8691d95a49c8932a1","affectsGlobalScope":true},"d38e588a10943bbab1d4ce03d94759bf065ff802a9a72fc57aa75a72f1725b71","675e702f2032766a91eeadee64f51014c64688525da99dccd8178f0c599f13a8","fe4a2042d087990ebfc7dc0142d5aaf5a152e4baea86b45f283f103ec1e871ea","d70c026dd2eeaa974f430ea229230a1897fdb897dc74659deebe2afd4feeb08f","187119ff4f9553676a884e296089e131e8cc01691c546273b1d0089c3533ce42","c24ad9be9adf28f0927e3d9d9e9cec1c677022356f241ccbbfb97bfe8fb3d1a1","ca59fe42b81228a317812e95a2e72ccc8c7f1911b5f0c2a032adf41a0161ec5d","9364c7566b0be2f7b70ff5285eb34686f83ccb01bda529b82d23b2a844653bfb","00baffbe8a2f2e4875367479489b5d43b5fc1429ecb4a4cc98cfc3009095f52a","ae9930989ed57478eb03b9b80ad3efa7a3eacdfeff0f78ecf7894c4963a64f93","3c92b6dfd43cc1c2485d9eba5ff0b74a19bb8725b692773ef1d66dac48cda4bd","3e59f00ab03c33717b3130066d4debb272da90eeded4935ff0604c2bc25a5cae","df996e25faa505f85aeb294d15ebe61b399cf1d1e49959cdfaf2cc0815c203f9",{"version":"0714e2046df66c0e93c3330d30dbc0565b3e8cd3ee302cf99e4ede6220e5fec8","affectsGlobalScope":true},"209e814e8e71aec74f69686a9506dd7610b97ab59dcee9446266446f72a76d05","6fa0008bf91a4cc9c8963bace4bba0bd6865cbfa29c3e3ccc461155660fb113a","2b8264b2fefd7367e0f20e2c04eed5d3038831fe00f5efbc110ff0131aab899b","6209c901f30cc321f4b86800d11fad3d67e73a3308f19946b1bc642af0280298","8a19491eba2108d5c333c249699f40aff05ad312c04a17504573b27d91f0aede","b0d10e46cfe3f6c476b69af02eaa38e4ccc7430221ce3109ae84bb9fb8282298","bc81aff061c53a7140270555f4b22da4ecfe8601e8027cf5aa175fbdc7927c31","70e9a18da08294f75bf23e46c7d69e67634c0765d355887b9b41f0d959e1426e","6ba73232c9d3267ca36ddb83e335d474d2c0e167481e3dec416c782894e11438"],"options":{"allowSyntheticDefaultImports":true,"composite":true,"declaration":true,"declarationMap":true,"emitDecoratorMetadata":true,"esModuleInterop":true,"experimentalDecorators":true,"module":1,"noImplicitAny":false,"outDir":"./cjs","rootDir":"../src","sourceMap":true,"strictNullChecks":true,"target":6},"fileIdsList":[[87,187],[87],[87,94,96,99,186],[48,87,94],[87,187,188,189,190,191],[87,187,189],[87,94],[87,105],[62,87,94],[59,62,87,94,195,196],[60,87,94],[87,199],[87,200],[87,205,210],[87,213,215,216,217,218,219,220,221,222,223,224,225],[87,213,214,216,217,218,219,220,221,222,223,224,225],[87,214,215,216,217,218,219,220,221,222,223,224,225],[87,213,214,215,217,218,219,220,221,222,223,224,225],[87,213,214,215,216,218,219,220,221,222,223,224,225],[87,213,214,215,216,217,219,220,221,222,223,224,225],[87,213,214,215,216,217,218,220,221,222,223,224,225],[87,213,214,215,216,217,218,219,221,222,223,224,225],[87,213,214,215,216,217,218,219,220,222,223,224,225],[87,213,214,215,216,217,218,219,220,221,223,224,225],[87,213,214,215,216,217,218,219,220,221,222,224,225],[87,213,214,215,216,217,218,219,220,221,222,223,225],[87,213,214,215,216,217,218,219,220,221,222,223,224],[44,87],[47,87],[48,53,87],[49,59,60,67,76,86,87],[49,50,59,67,87],[51,87],[52,53,60,68,87],[53,76,83,87],[54,56,59,67,87],[55,87],[56,57,87],[58,59,87],[59,87],[59,60,61,76,86,87],[59,60,61,76,87],[62,67,76,86,87],[59,60,62,63,67,76,83,86,87],[62,64,76,83,86,87],[44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93],[59,65,87],[66,86,87],[56,59,67,76,87],[68,87],[69,87],[47,70,87],[71,85,87,91],[72,87],[73,87],[59,74,87],[74,75,87,89],[59,76,77,78,87],[76,78,87],[76,77,87],[79,87],[80,87],[59,81,82,87],[81,82,87],[53,67,76,83,87],[84,87],[67,85,87],[48,62,73,86,87],[53,87],[76,87,88],[87,89],[87,90],[48,53,59,61,70,76,86,87,89,91],[76,87,92],[59,62,64,67,76,83,86,87,92,94],[87,233],[87,126],[87,203,206],[87,203,206,207,208],[87,205],[87,202,209],[87,204],[87,127],[87,114,116,117,118,119,120],[87,114,115],[87,116],[87,115,116],[87,114,116],[48,87,101,106,125,129,130,146,167,186],[48,87,101,108,129,130,155,167,186],[87,98,100,101,125,186],[87,101,156,157,158,159,167,168],[48,87,96,100,101,106,125,128,129,130,167,186],[48,87,97,101,129,130,186],[48,87,101,130,167,186],[87,98,101],[87,101,150,155,160,166],[87,101,146,167],[87,101,155,167],[87,101,167,173,174,175,176,177],[87,101,125,167],[87,101,167],[87,101,145,146,167,186],[87,96,99,186],[87,101,143,144,147,148,149,167],[87,96,101,125,167,186],[87,96,101,146,167,186],[87,101,161,162,163,164,165,167],[87,99,101,125,167,186],[87,96,97],[48,87,96,100],[87,96,98,99,101,103,123,124,142,167,168,172,180,182],[87,181,183],[87,96,123,142,166],[48,87,96,123],[87,96,101,104,123,125,137,138,151,154],[87,96,101,111,112],[87,96,101,113],[44,87,96,101,123,154,167],[87,96,101,110,112,113,123,139,141,155,167],[87,96,101,111,113,122,123,125,136,154,167],[87,96,101,113,123,125,131,132,133,134,135,137,140,153,154,167],[87,96,97,98,101,112,113,154],[87,96,101,112,123,131,132,133,134,135,137,152,154],[87,96,98,101,112,123,132,154],[87,96,98,101,112,122,123,132,154,155,167],[87,96,101,111,112,113,123,125,131,132,134,136,141,154,167],[87,96,101,112,131,154],[87,96,99,101,112,153,183],[87,96,101,109,130,133,154],[87,96,103,110,122],[87,96,123,142,178],[87,151,179,183],[87,96,123,142,150],[48,87,108],[87,106],[48,87],[87,102,104,107,109],[87,103],[87,97,110,122,136,138,169,171],[48,87,96,99,113,129],[87,96,99,100,170],[44,48,87,96,103,113,121,123],[87,129],[87,96],[87,96,101,103,125,142,184]],"referencedMap":[[189,1],[187,2],[100,3],[96,4],[192,5],[188,1],[190,6],[191,1],[99,7],[106,8],[193,9],[194,2],[197,10],[198,11],[199,2],[200,12],[201,13],[211,14],[212,2],[214,15],[215,16],[213,17],[216,18],[217,19],[218,20],[219,21],[220,22],[221,23],[222,24],[223,25],[224,26],[225,27],[226,2],[44,28],[45,28],[47,29],[48,30],[49,31],[50,32],[51,33],[52,34],[53,35],[54,36],[55,37],[56,38],[57,38],[58,39],[59,40],[60,41],[61,42],[46,2],[93,2],[62,43],[63,44],[64,45],[94,46],[65,47],[66,48],[67,49],[68,50],[69,51],[70,52],[71,53],[72,54],[73,55],[74,56],[75,57],[76,58],[78,59],[77,60],[79,61],[80,62],[81,63],[82,64],[83,65],[84,66],[85,67],[86,68],[87,69],[88,70],[89,71],[90,72],[91,73],[92,74],[227,2],[139,2],[228,2],[229,2],[196,2],[195,2],[230,7],[231,2],[232,75],[233,2],[234,76],[105,7],[108,2],[95,2],[125,2],[202,2],[170,2],[127,77],[111,2],[203,2],[207,78],[209,79],[208,78],[206,80],[210,81],[129,2],[126,2],[205,82],[204,2],[128,83],[114,2],[121,84],[116,85],[117,86],[118,86],[119,87],[120,87],[115,88],[184,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[43,2],[33,2],[34,2],[35,2],[36,2],[7,2],[41,2],[37,2],[38,2],[39,2],[40,2],[1,2],[42,2],[11,2],[10,2],[156,89],[157,90],[130,91],[160,92],[168,93],[158,94],[159,95],[146,96],[167,97],[175,98],[176,99],[178,100],[173,101],[174,102],[177,102],[147,103],[145,104],[148,99],[150,105],[143,106],[144,102],[149,102],[163,107],[164,99],[166,108],[161,109],[162,102],[165,102],[98,110],[101,111],[183,112],[182,113],[181,114],[124,115],[152,116],[113,117],[112,118],[155,119],[142,120],[137,121],[141,122],[131,123],[153,124],[134,125],[133,126],[140,127],[132,128],[154,129],[135,130],[123,131],[179,132],[180,133],[151,134],[109,135],[107,136],[102,137],[110,138],[104,139],[103,2],[97,2],[172,140],[136,141],[171,142],[122,143],[169,144],[138,145],[185,146],[186,2]],"exportedModulesMap":[[189,1],[187,2],[100,3],[96,4],[192,5],[188,1],[190,6],[191,1],[99,7],[106,8],[193,9],[194,2],[197,10],[198,11],[199,2],[200,12],[201,13],[211,14],[212,2],[214,15],[215,16],[213,17],[216,18],[217,19],[218,20],[219,21],[220,22],[221,23],[222,24],[223,25],[224,26],[225,27],[226,2],[44,28],[45,28],[47,29],[48,30],[49,31],[50,32],[51,33],[52,34],[53,35],[54,36],[55,37],[56,38],[57,38],[58,39],[59,40],[60,41],[61,42],[46,2],[93,2],[62,43],[63,44],[64,45],[94,46],[65,47],[66,48],[67,49],[68,50],[69,51],[70,52],[71,53],[72,54],[73,55],[74,56],[75,57],[76,58],[78,59],[77,60],[79,61],[80,62],[81,63],[82,64],[83,65],[84,66],[85,67],[86,68],[87,69],[88,70],[89,71],[90,72],[91,73],[92,74],[227,2],[139,2],[228,2],[229,2],[196,2],[195,2],[230,7],[231,2],[232,75],[233,2],[234,76],[105,7],[108,2],[95,2],[125,2],[202,2],[170,2],[127,77],[111,2],[203,2],[207,78],[209,79],[208,78],[206,80],[210,81],[129,2],[126,2],[205,82],[204,2],[128,83],[114,2],[121,84],[116,85],[117,86],[118,86],[119,87],[120,87],[115,88],[184,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[43,2],[33,2],[34,2],[35,2],[36,2],[7,2],[41,2],[37,2],[38,2],[39,2],[40,2],[1,2],[42,2],[11,2],[10,2],[156,89],[157,90],[130,91],[160,92],[168,93],[158,94],[159,95],[146,96],[167,97],[175,98],[176,99],[178,100],[173,101],[174,102],[177,102],[147,103],[145,104],[148,99],[150,105],[143,106],[144,102],[149,102],[163,107],[164,99],[166,108],[161,109],[162,102],[165,102],[98,110],[101,111],[183,112],[182,113],[181,114],[124,115],[152,116],[113,117],[112,118],[155,119],[142,120],[137,121],[141,122],[131,123],[153,124],[134,125],[133,126],[140,127],[132,128],[154,129],[135,130],[123,131],[179,132],[180,133],[151,134],[109,135],[107,136],[102,137],[110,138],[104,139],[103,2],[97,2],[172,140],[136,141],[171,142],[122,143],[169,144],[138,145],[185,146],[186,2]],"semanticDiagnosticsPerFile":[189,187,100,96,192,188,190,191,99,106,193,194,197,198,199,200,201,211,212,214,215,213,216,217,218,219,220,221,222,223,224,225,226,44,45,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,46,93,62,63,64,94,65,66,67,68,69,70,71,72,73,74,75,76,78,77,79,80,81,82,83,84,85,86,87,88,89,90,91,92,227,139,228,229,196,195,230,231,232,233,234,105,108,95,125,202,170,127,111,203,207,209,208,206,210,129,126,205,204,128,114,121,116,117,118,119,120,115,184,8,9,13,12,2,14,15,16,17,18,19,20,21,3,4,25,22,23,24,26,27,28,5,29,30,31,32,6,43,33,34,35,36,7,41,37,38,39,40,1,42,11,10,156,157,130,160,168,158,159,146,167,175,176,178,173,174,177,147,145,148,150,143,144,149,163,164,166,161,162,165,98,101,183,182,181,124,152,113,112,155,142,137,141,131,153,134,133,140,132,154,135,123,179,180,151,109,107,102,110,104,103,97,172,136,171,122,169,138,185,186]},"version":"4.6.2"}
\ No newline at end of file
+{"program":{"fileNames":["../node_modules/typescript/lib/lib.es5.d.ts","../node_modules/typescript/lib/lib.es2015.d.ts","../node_modules/typescript/lib/lib.es2016.d.ts","../node_modules/typescript/lib/lib.es2017.d.ts","../node_modules/typescript/lib/lib.es2018.d.ts","../node_modules/typescript/lib/lib.es2019.d.ts","../node_modules/typescript/lib/lib.es2020.d.ts","../node_modules/typescript/lib/lib.dom.d.ts","../node_modules/typescript/lib/lib.dom.iterable.d.ts","../node_modules/typescript/lib/lib.webworker.importscripts.d.ts","../node_modules/typescript/lib/lib.scripthost.d.ts","../node_modules/typescript/lib/lib.es2015.core.d.ts","../node_modules/typescript/lib/lib.es2015.collection.d.ts","../node_modules/typescript/lib/lib.es2015.generator.d.ts","../node_modules/typescript/lib/lib.es2015.iterable.d.ts","../node_modules/typescript/lib/lib.es2015.promise.d.ts","../node_modules/typescript/lib/lib.es2015.proxy.d.ts","../node_modules/typescript/lib/lib.es2015.reflect.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2016.array.include.d.ts","../node_modules/typescript/lib/lib.es2017.object.d.ts","../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2017.string.d.ts","../node_modules/typescript/lib/lib.es2017.intl.d.ts","../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","../node_modules/typescript/lib/lib.es2018.intl.d.ts","../node_modules/typescript/lib/lib.es2018.promise.d.ts","../node_modules/typescript/lib/lib.es2018.regexp.d.ts","../node_modules/typescript/lib/lib.es2019.array.d.ts","../node_modules/typescript/lib/lib.es2019.object.d.ts","../node_modules/typescript/lib/lib.es2019.string.d.ts","../node_modules/typescript/lib/lib.es2019.symbol.d.ts","../node_modules/typescript/lib/lib.es2020.bigint.d.ts","../node_modules/typescript/lib/lib.es2020.date.d.ts","../node_modules/typescript/lib/lib.es2020.promise.d.ts","../node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2020.string.d.ts","../node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2020.intl.d.ts","../node_modules/typescript/lib/lib.es2020.number.d.ts","../node_modules/typescript/lib/lib.esnext.intl.d.ts","../node_modules/typescript/lib/lib.es2019.full.d.ts","../node_modules/@types/node/ts4.8/assert.d.ts","../node_modules/@types/node/ts4.8/assert/strict.d.ts","../node_modules/@types/node/ts4.8/globals.d.ts","../node_modules/@types/node/ts4.8/async_hooks.d.ts","../node_modules/@types/node/ts4.8/buffer.d.ts","../node_modules/@types/node/ts4.8/child_process.d.ts","../node_modules/@types/node/ts4.8/cluster.d.ts","../node_modules/@types/node/ts4.8/console.d.ts","../node_modules/@types/node/ts4.8/constants.d.ts","../node_modules/@types/node/ts4.8/crypto.d.ts","../node_modules/@types/node/ts4.8/dgram.d.ts","../node_modules/@types/node/ts4.8/diagnostics_channel.d.ts","../node_modules/@types/node/ts4.8/dns.d.ts","../node_modules/@types/node/ts4.8/dns/promises.d.ts","../node_modules/@types/node/ts4.8/domain.d.ts","../node_modules/@types/node/ts4.8/dom-events.d.ts","../node_modules/@types/node/ts4.8/events.d.ts","../node_modules/@types/node/ts4.8/fs.d.ts","../node_modules/@types/node/ts4.8/fs/promises.d.ts","../node_modules/@types/node/ts4.8/http.d.ts","../node_modules/@types/node/ts4.8/http2.d.ts","../node_modules/@types/node/ts4.8/https.d.ts","../node_modules/@types/node/ts4.8/inspector.d.ts","../node_modules/@types/node/ts4.8/module.d.ts","../node_modules/@types/node/ts4.8/net.d.ts","../node_modules/@types/node/ts4.8/os.d.ts","../node_modules/@types/node/ts4.8/path.d.ts","../node_modules/@types/node/ts4.8/perf_hooks.d.ts","../node_modules/@types/node/ts4.8/process.d.ts","../node_modules/@types/node/ts4.8/punycode.d.ts","../node_modules/@types/node/ts4.8/querystring.d.ts","../node_modules/@types/node/ts4.8/readline.d.ts","../node_modules/@types/node/ts4.8/readline/promises.d.ts","../node_modules/@types/node/ts4.8/repl.d.ts","../node_modules/@types/node/ts4.8/stream.d.ts","../node_modules/@types/node/ts4.8/stream/promises.d.ts","../node_modules/@types/node/ts4.8/stream/consumers.d.ts","../node_modules/@types/node/ts4.8/stream/web.d.ts","../node_modules/@types/node/ts4.8/string_decoder.d.ts","../node_modules/@types/node/ts4.8/test.d.ts","../node_modules/@types/node/ts4.8/timers.d.ts","../node_modules/@types/node/ts4.8/timers/promises.d.ts","../node_modules/@types/node/ts4.8/tls.d.ts","../node_modules/@types/node/ts4.8/trace_events.d.ts","../node_modules/@types/node/ts4.8/tty.d.ts","../node_modules/@types/node/ts4.8/url.d.ts","../node_modules/@types/node/ts4.8/util.d.ts","../node_modules/@types/node/ts4.8/v8.d.ts","../node_modules/@types/node/ts4.8/vm.d.ts","../node_modules/@types/node/ts4.8/wasi.d.ts","../node_modules/@types/node/ts4.8/worker_threads.d.ts","../node_modules/@types/node/ts4.8/zlib.d.ts","../node_modules/@types/node/ts4.8/globals.global.d.ts","../node_modules/@types/node/ts4.8/index.d.ts","../node_modules/buffer/index.d.ts","../node_modules/@solana/web3.js/lib/index.d.ts","../src/utils/features.ts","../src/error.ts","../node_modules/@types/bn.js/index.d.ts","../node_modules/@project-serum/borsh/dist/lib/index.d.ts","../src/idl.ts","../src/utils/common.ts","../src/utils/bytes/hex.ts","../src/utils/bytes/utf8.ts","../node_modules/bs58/node_modules/base-x/src/index.d.ts","../node_modules/bs58/index.d.ts","../src/utils/bytes/bs58.ts","../node_modules/base64-js/index.d.ts","../src/utils/bytes/base64.ts","../src/utils/bytes/buffer.ts","../src/utils/bytes/index.ts","../node_modules/superstruct/lib/error.d.ts","../node_modules/superstruct/lib/utils.d.ts","../node_modules/superstruct/lib/struct.d.ts","../node_modules/superstruct/lib/structs/coercions.d.ts","../node_modules/superstruct/lib/structs/refinements.d.ts","../node_modules/superstruct/lib/structs/types.d.ts","../node_modules/superstruct/lib/structs/utilities.d.ts","../node_modules/superstruct/lib/index.d.ts","../src/utils/simulate.ts","../src/wallet.ts","../src/provider.ts","../node_modules/@juici/case/types/generated/unicode.d.ts","../node_modules/@juici/case/types/generated/utf16.d.ts","../node_modules/@juici/case/types/string.d.ts","../node_modules/@juici/case/types/transform.d.ts","../node_modules/@juici/case/types/index.d.ts","../node_modules/js-sha256/index.d.ts","../src/coder/borsh/idl.ts","../node_modules/eventemitter3/index.d.ts","../src/program/common.ts","../src/program/context.ts","../src/program/namespace/instruction.ts","../src/program/namespace/transaction.ts","../src/utils/rpc.ts","../src/program/namespace/simulate.ts","../src/program/namespace/rpc.ts","../src/program/namespace/views.ts","../src/utils/pubkey.ts","../src/program/namespace/account.ts","../src/utils/token.ts","../src/spl/token/idl.ts","../src/coder/common.ts","../src/coder/spl-token/instruction.ts","../src/coder/spl-token/state.ts","../src/coder/spl-token/buffer-layout.ts","../src/coder/spl-token/accounts.ts","../src/coder/spl-token/events.ts","../src/coder/spl-token/types.ts","../src/coder/spl-token/index.ts","../src/program/accounts-resolver.ts","../src/program/namespace/methods.ts","../src/program/namespace/types.ts","../src/program/event.ts","../src/coder/borsh/accounts.ts","../src/coder/borsh/event.ts","../src/coder/borsh/state.ts","../src/coder/borsh/types.ts","../src/coder/borsh/index.ts","../src/coder/system/instruction.ts","../src/coder/system/state.ts","../src/coder/system/accounts.ts","../src/coder/system/events.ts","../src/coder/system/types.ts","../src/coder/system/index.ts","../src/coder/index.ts","../src/coder/borsh/instruction.ts","../src/utils/sha256.ts","../node_modules/cross-fetch/index.d.ts","../src/utils/registry.ts","../src/utils/index.ts","../node_modules/@types/pako/index.d.ts","../src/program/namespace/state.ts","../src/program/namespace/index.ts","../src/program/index.ts","../src/coder/spl-associated-token/instruction.ts","../src/coder/spl-associated-token/state.ts","../src/coder/spl-associated-token/accounts.ts","../src/coder/spl-associated-token/events.ts","../src/coder/spl-associated-token/types.ts","../src/coder/spl-associated-token/index.ts","../src/spl/associated-token.ts","../src/spl/token/index.ts","../src/spl/index.ts","../src/native/system.ts","../src/native/index.ts","../src/index.ts","../node_modules/toml/index.d.ts","../src/workspace.ts","../node_modules/@solana/buffer-layout/node_modules/buffer/index.d.ts","../node_modules/@solana/buffer-layout/lib/Layout.d.ts","../types/borsh/index.d.ts","../types/buffer-layout/index.d.ts","../node_modules/@babel/types/lib/index.d.ts","../node_modules/@types/babel__generator/index.d.ts","../node_modules/@babel/parser/typings/babel-parser.d.ts","../node_modules/@types/babel__template/index.d.ts","../node_modules/@types/babel__traverse/index.d.ts","../node_modules/@types/babel__core/index.d.ts","../node_modules/base-x/src/index.d.ts","../node_modules/@types/bs58/index.d.ts","../node_modules/@types/connect/index.d.ts","../node_modules/@types/estree/index.d.ts","../node_modules/@types/graceful-fs/index.d.ts","../node_modules/@types/istanbul-lib-coverage/index.d.ts","../node_modules/@types/istanbul-lib-report/index.d.ts","../node_modules/@types/istanbul-reports/index.d.ts","../node_modules/chalk/index.d.ts","../node_modules/jest-diff/build/cleanupSemantic.d.ts","../node_modules/pretty-format/build/types.d.ts","../node_modules/pretty-format/build/index.d.ts","../node_modules/jest-diff/build/types.d.ts","../node_modules/jest-diff/build/diffLines.d.ts","../node_modules/jest-diff/build/printDiffs.d.ts","../node_modules/jest-diff/build/index.d.ts","../node_modules/jest-matcher-utils/build/index.d.ts","../node_modules/@types/jest/index.d.ts","../node_modules/@types/json-schema/index.d.ts","../node_modules/@types/minimist/index.d.ts","../node_modules/@types/normalize-package-data/index.d.ts","../node_modules/@types/parse-json/index.d.ts","../node_modules/@types/prettier/index.d.ts","../node_modules/@types/resolve/index.d.ts","../node_modules/@types/stack-utils/index.d.ts","../node_modules/@types/ws/index.d.ts","../node_modules/@types/yargs-parser/index.d.ts","../node_modules/@types/yargs/index.d.ts"],"fileInfos":[{"version":"f20c05dbfe50a208301d2a1da37b9931bce0466eb5a1f4fe240971b4ecc82b67","affectsGlobalScope":true},"dc47c4fa66b9b9890cf076304de2a9c5201e94b740cffdf09f87296d877d71f6","7a387c58583dfca701b6c85e0adaf43fb17d590fb16d5b2dc0a2fbd89f35c467","8a12173c586e95f4433e0c6dc446bc88346be73ffe9ca6eec7aa63c8f3dca7f9","5f4e733ced4e129482ae2186aae29fde948ab7182844c3a5a51dd346182c7b06","e6b724280c694a9f588847f754198fb96c43d805f065c3a5b28bbc9594541c84","1fc5ab7a764205c68fa10d381b08417795fc73111d6dd16b5b1ed36badb743d9",{"version":"9b087de7268e4efc5f215347a62656663933d63c0b1d7b624913240367b999ea","affectsGlobalScope":true},{"version":"3260e3386d9535b804205bdddb5618a9a27735bd22927f48ad54363abcd23d45","affectsGlobalScope":true},{"version":"7fac8cb5fc820bc2a59ae11ef1c5b38d3832c6d0dfaec5acdb5569137d09a481","affectsGlobalScope":true},{"version":"097a57355ded99c68e6df1b738990448e0bf170e606707df5a7c0481ff2427cd","affectsGlobalScope":true},{"version":"adb996790133eb33b33aadb9c09f15c2c575e71fb57a62de8bf74dbf59ec7dfb","affectsGlobalScope":true},{"version":"8cc8c5a3bac513368b0157f3d8b31cfdcfe78b56d3724f30f80ed9715e404af8","affectsGlobalScope":true},{"version":"cdccba9a388c2ee3fd6ad4018c640a471a6c060e96f1232062223063b0a5ac6a","affectsGlobalScope":true},{"version":"c5c05907c02476e4bde6b7e76a79ffcd948aedd14b6a8f56e4674221b0417398","affectsGlobalScope":true},{"version":"0d5f52b3174bee6edb81260ebcd792692c32c81fd55499d69531496f3f2b25e7","affectsGlobalScope":true},{"version":"55f400eec64d17e888e278f4def2f254b41b89515d3b88ad75d5e05f019daddd","affectsGlobalScope":true},{"version":"181f1784c6c10b751631b24ce60c7f78b20665db4550b335be179217bacc0d5f","affectsGlobalScope":true},{"version":"3013574108c36fd3aaca79764002b3717da09725a36a6fc02eac386593110f93","affectsGlobalScope":true},{"version":"75ec0bdd727d887f1b79ed6619412ea72ba3c81d92d0787ccb64bab18d261f14","affectsGlobalScope":true},{"version":"3be5a1453daa63e031d266bf342f3943603873d890ab8b9ada95e22389389006","affectsGlobalScope":true},{"version":"17bb1fc99591b00515502d264fa55dc8370c45c5298f4a5c2083557dccba5a2a","affectsGlobalScope":true},{"version":"7ce9f0bde3307ca1f944119f6365f2d776d281a393b576a18a2f2893a2d75c98","affectsGlobalScope":true},{"version":"6a6b173e739a6a99629a8594bfb294cc7329bfb7b227f12e1f7c11bc163b8577","affectsGlobalScope":true},{"version":"81cac4cbc92c0c839c70f8ffb94eb61e2d32dc1c3cf6d95844ca099463cf37ea","affectsGlobalScope":true},{"version":"b0124885ef82641903d232172577f2ceb5d3e60aed4da1153bab4221e1f6dd4e","affectsGlobalScope":true},{"version":"0eb85d6c590b0d577919a79e0084fa1744c1beba6fd0d4e951432fa1ede5510a","affectsGlobalScope":true},{"version":"da233fc1c8a377ba9e0bed690a73c290d843c2c3d23a7bd7ec5cd3d7d73ba1e0","affectsGlobalScope":true},{"version":"d154ea5bb7f7f9001ed9153e876b2d5b8f5c2bb9ec02b3ae0d239ec769f1f2ae","affectsGlobalScope":true},{"version":"bb2d3fb05a1d2ffbca947cc7cbc95d23e1d053d6595391bd325deb265a18d36c","affectsGlobalScope":true},{"version":"c80df75850fea5caa2afe43b9949338ce4e2de086f91713e9af1a06f973872b8","affectsGlobalScope":true},{"version":"9d57b2b5d15838ed094aa9ff1299eecef40b190722eb619bac4616657a05f951","affectsGlobalScope":true},{"version":"6c51b5dd26a2c31dbf37f00cfc32b2aa6a92e19c995aefb5b97a3a64f1ac99de","affectsGlobalScope":true},{"version":"6e7997ef61de3132e4d4b2250e75343f487903ddf5370e7ce33cf1b9db9a63ed","affectsGlobalScope":true},{"version":"2ad234885a4240522efccd77de6c7d99eecf9b4de0914adb9a35c0c22433f993","affectsGlobalScope":true},{"version":"09aa50414b80c023553090e2f53827f007a301bc34b0495bfb2c3c08ab9ad1eb","affectsGlobalScope":true},{"version":"d7f680a43f8cd12a6b6122c07c54ba40952b0c8aa140dcfcf32eb9e6cb028596","affectsGlobalScope":true},{"version":"3787b83e297de7c315d55d4a7c546ae28e5f6c0a361b7a1dcec1f1f50a54ef11","affectsGlobalScope":true},{"version":"e7e8e1d368290e9295ef18ca23f405cf40d5456fa9f20db6373a61ca45f75f40","affectsGlobalScope":true},{"version":"faf0221ae0465363c842ce6aa8a0cbda5d9296940a8e26c86e04cc4081eea21e","affectsGlobalScope":true},{"version":"06393d13ea207a1bfe08ec8d7be562549c5e2da8983f2ee074e00002629d1871","affectsGlobalScope":true},{"version":"775d9c9fd150d5de79e0450f35bc8b8f94ae64e3eb5da12725ff2a649dccc777","affectsGlobalScope":true},{"version":"b248e32ca52e8f5571390a4142558ae4f203ae2f94d5bac38a3084d529ef4e58","affectsGlobalScope":true},{"version":"52d1bb7ab7a3306fd0375c8bff560feed26ed676a5b0457fa8027b563aecb9a4","affectsGlobalScope":true},"1f03b495671c3a1bd24510f38b8947f0991dfd6bf0278c68eca14af15b306e1f","9122ed7070e054b73ebab37c2373a196def2d90e7d1a9a7fcd9d46b0e51fae78","a69c09dbea52352f479d3e7ac949fde3d17b195abe90b045d619f747b38d6d1a",{"version":"02873d070f9cb79f50833fbf4a9a27ac578a2edf8ddb8421eba1b37faba83bfb","affectsGlobalScope":true},"21a167fec8f933752fb8157f06d28fab6817af3ad9b0bdb1908a10762391eab9",{"version":"e9d541cf4452ff2a5543c2d8a220f645b094b5e2b6cf7c5dd2a8cb54e8731f31","affectsGlobalScope":true},"0c0cee62cb619aed81133b904f644515ba3064487002a7da83fd8aa07b1b4abd","5a94487653355b56018122d92392beb2e5f4a6c63ba5cef83bbe1c99775ef713",{"version":"d5135ad93b33adcce80b18f8065087934cdc1730d63db58562edcf017e1aad9b","affectsGlobalScope":true},"82408ed3e959ddc60d3e9904481b5a8dc16469928257af22a3f7d1a3bc7fd8c4","93a195fae9f7275e1a0631acffdfae49bb285d96fc8f7f606cb6eb7516dd03f5","bb9c4ffa5e6290c6980b63c815cdd1625876dadb2efaf77edbe82984be93e55e","75ecef44f126e2ae018b4abbd85b6e8a2e2ba1638ebec56cc64274643ce3567b","f30bb836526d930a74593f7b0f5c1c46d10856415a8f69e5e2fc3db80371e362","14b5aa23c5d0ae1907bc696ac7b6915d88f7d85799cc0dc2dcf98fbce2c5a67c","5c439dafdc09abe4d6c260a96b822fa0ba5be7203c71a63ab1f1423cd9e838ea",{"version":"9b4e8e95e480a6ef470e0b0e1eaea9d986011d4dc05267dcc9edfaa6d22e7cd1","affectsGlobalScope":true},{"version":"816ad2e607a96de5bcac7d437f843f5afd8957f1fa5eefa6bba8e4ed7ca8fd84","affectsGlobalScope":true},"cec36af22f514322f870e81d30675c78df82ae8bf4863f5fd4e4424c040c678d","d903fafe96674bc0b2ac38a5be4a8fc07b14c2548d1cdb165a80ea24c44c0c54","fa68e523cb5d3c2f1f02a94ea8ba2a61a9d1c88dc3c163e411311a826be1f9f3","04eb6578a588d6a46f50299b55f30e3a04ef27d0c5a46c57d8fcc211cd530faa","dbe5aa5a5dd8bd1c6a8d11b1310c3f0cdabaacc78a37b394a8c7b14faeb5fb84","2c828a5405191d006115ab34e191b8474bc6c86ffdc401d1a9864b1b6e088a58",{"version":"e8b18c6385ff784228a6f369694fcf1a6b475355ba89090a88de13587a9391d5","affectsGlobalScope":true},"d4ac44f01d42f541631c5fc88d0ed8efac29a3a3ad9a745d9fd58f8b61ed132e","7c013aa892414a7fdcfd861ae524a668eaa3ede8c7c0acafaf611948122c8d93","b0973c3cbcdc59b37bf477731d468696ecaf442593ec51bab497a613a580fe30",{"version":"4989e92ba5b69b182d2caaea6295af52b7dc73a4f7a2e336a676722884e7139d","affectsGlobalScope":true},{"version":"b3624aed92dab6da8484280d3cb3e2f4130ec3f4ef3f8201c95144ae9e898bb6","affectsGlobalScope":true},"5153a2fd150e46ce57bb3f8db1318d33f6ad3261ed70ceeff92281c0608c74a3","d1a78a3c5708807e8de3e399f91df4797c62e44b02195eefc2209b2e713e54ee","36b03690b628eab08703d63f04eaa89c5df202e5f1edf3989f13ad389cd2c091","0effadd232a20498b11308058e334d3339cc5bf8c4c858393e38d9d4c0013dcf","25846d43937c672bab7e8195f3d881f93495df712ee901860effc109918938cc","3163f47436da41706c6e2b3c1511f3b7cce9f9f3905b2f3e01246c48b4ba7d14","1b952304137851e45bc009785de89ada562d9376177c97e37702e39e60c2f1ff","69ee23dd0d215b09907ad30d23f88b7790c93329d1faf31d7835552a10cf7cbf","44b8b584a338b190a59f4f6929d072431950c7bd92ec2694821c11bce180c8a5","23b89798789dffbd437c0c423f5d02d11f9736aea73d6abf16db4f812ff36eda","24ad30a03d6c9266b63540956868dd70fa2dc523d60d780d6586eb0c281946bc",{"version":"970a90f76d4d219ad60819d61f5994514087ba94c985647a3474a5a3d12714ed","affectsGlobalScope":true},"664d8f2d59164f2e08c543981453893bc7e003e4dfd29651ce09db13e9457980","4c8525f256873c7ba3135338c647eaf0ca7115a1a2805ae2d0056629461186ce","3c13ef48634e7b5012fcf7e8fce7496352c2d779a7201389ca96a2a81ee4314d","5d0a25ec910fa36595f85a67ac992d7a53dd4064a1ba6aea1c9f14ab73a023f2",{"version":"f0900cd5d00fe1263ff41201fb8073dbeb984397e4af3b8002a5c207a30bdc33","affectsGlobalScope":true},{"version":"f7db71191aa7aac5d6bc927ed6e7075c2763d22c7238227ec0c63c8cf5cb6a8b","affectsGlobalScope":true},"06d7c42d256f0ce6afe1b2b6cfbc97ab391f29dadb00dd0ae8e8f23f5bc916c3","ec4bd1b200670fb567920db572d6701ed42a9641d09c4ff6869768c8f81b404c","e59a892d87e72733e2a9ca21611b9beb52977be2696c7ba4b216cbbb9a48f5aa",{"version":"da26af7362f53d122283bc69fed862b9a9fe27e01bc6a69d1d682e0e5a4df3e6","affectsGlobalScope":true},"8a300fa9b698845a1f9c41ecbe2c5966634582a8e2020d51abcace9b55aa959e",{"version":"ab9b9a36e5284fd8d3bf2f7d5fcbc60052f25f27e4d20954782099282c60d23e","affectsGlobalScope":true},"652ee9c5103e89102d87bc20d167a02a0e3e5e53665674466c8cfea8a9e418c7","8e9c23ba78aabc2e0a27033f18737a6df754067731e69dc5f52823957d60a4b6","4c34ad9d2a313d53705da7e2ea146e6e5ad4939dd3d4d3b998f6dd61e5446096",{"version":"befdefdd77a07b1f920d713f4b4421b164675b8b0e046c13a9964517986c0e43","signature":"5c8a7c35b3ededbbf0b7ddbd5e99a50061d424946da2ed5abbbbbdb3989effd0"},{"version":"a86dc7b80fe9ae9c249c238b804b021ef3f62a1147ad7b2d311e25ff59f00e8c","signature":"8b7564d78dd27e5c40f038069bd7fafe3686fa4812f5bf35d0e39f485cbed6f6"},"bc6dd50ac2fc9a7ca6488811b116bd0ddd606338db0bb97852c8fcf757e2d7f5","fd741c46337e33810601102c64ae65bc75e371900ed0f97c7f11e1afe4af1b71",{"version":"382a738e15f89ae278979d9cb9ff787d548d1823bcfeffac3970765af91b3323","signature":"7650deb800835c9840c8f41fa24bc686c39fdaa14bbfb194044f5cbaba2ce62c"},{"version":"5084f1b4f39624ea996a5592b63035abc2ca41b567884c25cd117992e0910c1e","signature":"f39698935ba1c86f1e5f26ef3155c5d2f7ef2d269d02b0465825d3cadd86d7a1"},{"version":"35ffd71b66f8e57858ef043f6b71e27d5f96ff2f1e2c344f5757864e27c4b8a1","signature":"2ac98cf7e22ea906eacd1877528ebd04380c7410d4c40824168ad1e6d4030fdf"},{"version":"c3d5c4f1658d398a91161bdae314c8a44f4b3adb2f2f02f5327feab6266a16b0","signature":"4187ffd3773d7c4607b1ad977e8dd68626b1cd6ae8668ac5d88f1693c582b80d"},"a3c89483a38d76c77a13b69b268a9e5d13abcdf0957ca3f28c9702c47ce8050f","40ec7e761ea0ddfc0add7aedb95dacfc579b25010ed0e2190abc1d34bb67f81e",{"version":"3daac099d3e4317eaab9edca5d432e4c3a359771561a1ffcf9857f4118d763af","signature":"d034b8b804ed5a4e8bdade82559d20b1e91fe4fbaf432df5bca19c250f2c2b7c"},"96da6c81cd788939a7cf6546ea1f65ab5ca38952e5bd7d8c284bfe1f3c22dce7",{"version":"080db29be3b8348f57e61e9ea5a7dc44f07b7fa68b2d137b9c21aed76f42747d","signature":"2ac98cf7e22ea906eacd1877528ebd04380c7410d4c40824168ad1e6d4030fdf"},{"version":"5f6f1917021f1151785ebcbf76c5e1a8fae7798d30eddaf3325078e6ae79ff98","signature":"06220791ee97c034df78256437c134c7c804d7bac1ec915dac01a5b4faecd936"},{"version":"a08a5705aad5d453fc8aa3627ded9340b6552be25f49ea37b3b37faa87c5afe0","signature":"d0ba96286d352ddc9a7cef109166bf51d562c79315ad183a8e4884dc803861ff"},"51c7e7813dd1c1e7b5144ebff587c97bf8022bb2d6e12c6b3c4e3597686b8bd8","204f41659a02170064f953786aa397d89a0c095eb766f942902acb32780cabdc","193e45dd974dff7630cec4c07aa73963458dc9d137778a5890ae7532e1b71e48","a50599c08934a62f11657bdbe0dc929ab66da1b1f09974408fd9a33ec1bb8060","5a20e7d6c630b91be15e9b837853173829d00273197481dc8d3e94df61105a71","8d478048d71cc16f806d4b71b252ecb67c7444ccf4f4b09b29a312712184f859","b4000a0a525fa921e896cbdb32ae802c9684f0fd371b5fc69e7310f7918cc2c3","9df4662ca3dbc2522bc115833ee04faa1afbb4e249a85ef4a0a09c621346bd08",{"version":"3de95f953e99a586d7f5e587ef3043acffeb22d863cbe82ff4f8966e308d1065","signature":"6429a3d6ae0322ae922b944094e3f7fcfa371f2346225da9f757f18d4f74d770"},{"version":"bd2b80d05513d3dc66d93a21169eafd517bf9ed46e69986de87dad4555cf28c4","signature":"053cefb34a3c33ce9c769965eddff78ce2bb7dc118c84250206da10e70f9b506"},{"version":"d0ce2f87d6092cb4c7f14e2abe9d9f99a28ec12ddca144ab4137764d1cd8bd69","signature":"0a88ce1832850d453ec0709ec35e2e15a64381e4cf7e72efaf9cab3f6e03b67f"},"0a0369924232cb369c4a5e2befb4e29d2fe0f192881bc3f168de8dafbe609095","7ff2f9be9be7f8b4f8a1833941a128ca71f66ccdc2d0efdb148525ab282048be","2ff973968cd1f5d737adcc8021972b8a84b3e4bf4962465541299050d58e921b","7a009c59392ac7fd557cdf76eabaa92f1b068dee3f91c5c4bc6c006cba1a4ddd","b23eaaa7e972f765b04ac4c0608cd0a933370e297a3d230531512541436f7fe3","0afbe91142eb631d6f31be624cf8a550b03736bfd22b0f309405a6fe4d4c9517",{"version":"c758d45ab74fe2e45ccf82783df246d03a2fcdf538f2abaf688ab88fdb55d0d4","signature":"bbe0fc14e0acb87010bd2bcb7bdfb1e903eb4a925c7dcd7b3f180b18b632f6da"},"b80c780c52524beb13488942543972c8b0e54400e8b59cee0169f38d0fabb968",{"version":"f8586e5573f873a79bfb0cb8cd701692d9bb87e5b0e2aafa91cce103607a2255","signature":"5c96dbcd7152cabe5846cdfe0b4828306f6113325f420093354053c5d5bcb191"},{"version":"1da6be75a3cce6731f31fad8b835f60f7935a868d67bf0b87092c9b5a783e4a6","signature":"84b34424d9828e8417723e68fa216af370f6579c822aad9249bb438273ce6280"},{"version":"075ef13a8afba3257860d243e05a045201bbe0c4b766eecc5725b38ac9c9dcb5","signature":"f9bdc250bcd81fb1d636fffa9cd36b5366e297bf2116c21a79d5845b190d885c"},{"version":"6090cf36676b6fd34a36d8173555877a92ac34df8b46166e53a9877d5dfb5064","signature":"f361e8d157342cd469483e15fc3a5c0788eea6218f3df079ce93ea42a437387c"},{"version":"ab467df03547108ee11650189c009d7594767ff60ed4895d8689be3a34a9de0e","signature":"bf003410f1e2df26112c1e26b2de4d90cd598444fbad41ac4b5338b9fb19cdb0"},{"version":"8846555aabca9babf10903bf9ae604fbb7d9d05cb4c66ccd02cd45b316ddd486","signature":"ec941fc2f14c8d12efb7a5def6e72532404a3770e7372f0f701721ca8afea739"},{"version":"fc949b2600d04a7afb9ae316c3dd62471557647a41e92683fdcfae21d60e77a9","signature":"4af54bdccf329506099cc2796e6e96713334ecb1143314ce5b08ddacc24bee8e"},{"version":"b5c1855d9246aabceb807d53c91227a8b83547fdba3ae4dffb67c30bd0b5fe53","signature":"9912e25af397d90c58b896877a11588b8d33af19b57bc03518e8555238aae71d"},{"version":"7c6b9a04c866eefe3eb2521035b064c31a1cfb59fd44f012234b330aa8812f2c","signature":"40ae80170fbb5619e22ae07f9bdb51fce8957d4ae6cf80f72805d28ddfcb2437"},{"version":"3af8279b39595d75cf8655e44661c1f2c5d72a763491110e43dec0772bff0eb5","signature":"fbcd61a941d7265f812f71d8dd0c5d264942c1ce333f174f79355a45966ea960"},{"version":"629c630b3f303efe570a298124d237ab68c09994beffce1eb9721a0eabf66db7","signature":"c6e1ef92f4ad545d2f7ee8c45f17bbd0275a9e11a11e576655c704e6f56b9cd6"},{"version":"e66ab9c20c542d4fca4ed5e85c1d1ba83fa690386891118bbf1650ffac667550","signature":"8673f732e5a8cb710b6f46c930797aee1027b0655b58c644bb04cf77517a7237"},{"version":"9632669de226fd1385c390180a355c9a2db22f1379dc4e5e28519983be98b351","signature":"21147130f76eff30e6bac0efcec30a2cd4b0275a235b345d972bc7b61f8c161e"},{"version":"3229621359707181178a3a8a276f69111af39fcf9a9b5e630b90ebbcf3ad86e1","signature":"bfbb4c88338b95823f65b52a7c61caaece2d06cccc14f5a17b08078cf4f6a193"},{"version":"4051211200d783c8491ccd6bfadbfed4458bdf620a59511f10f6cd724ac831e3","signature":"882cd511efb95dc1f1cf945987b9bdcd9938c5a5380da3bacf175305dd33fb76"},{"version":"ac8360b6e25f0f019a2b6f36d5d6c14b1e409cc552e299165d898ba5db827641","signature":"2e6b77d6c338b4c16ef5002171e7dcc9fe9a5bf2f81aa6e2749a50d27353d216"},{"version":"7e5e0c64f727928e9807072e62537d90587c5d959dd7f06b931ce9af45ac7e27","signature":"e49a5171442aeb881d409f6b6c6e0492bc8fe991d16e6e1231ac852c91176343"},{"version":"e750e4c0da73a4c2ca6d8a39e3f62dbd9dbe83337ccbfd9cc7c19729ab860303","signature":"58a6284757cca578954f44df7e53e1e4fcaa2246d3a19d0b5f1d73c4b22e22f9"},{"version":"688d078aaeda8b48c244eb352b00655fe285580cb39965b14b2e84a42495b3a2","signature":"c8df9910ac2564f6def47cb4244b96604133b7e8e895a5413b9644819cd6d161"},{"version":"a1c44b8387051cc86987935ec55bda39ecebfa208b43d742ad6af0efd89ceabe","signature":"456ab07143636dd2234125334f9d03abefcaf5465f4a7c531e83d811e0293f19"},{"version":"5ef6b6b8561a2c34d345c4747eb78ac5fa3841cac8933cd9fdcec37dd0c66b9a","signature":"0f2a5208f196cc5f74dc1dca519543c093a1b6d18d03e5f5eace58b905c9213c"},{"version":"f6026ae2f88860b197a3415b1b321f9e314d86037e3ab89f647abce026ce7ca1","signature":"ab3854ce72f9ba550fe48ed6cd00472d542c99b1585b3613b976896333cf8866"},{"version":"7e3fdad269c90f5521af9051efe6b1cc7b95c877e8615d25a133dfee64533e24","signature":"7e0708bc62c1103527a33968ede597c964b65a45d8d30596480ffbf3e5c65e06"},{"version":"201e10c4adba4ebe978b3f78cf9a7c44154af42ed216a58b470f52d91b46187c","signature":"a2aeea2eb4d0a627be088a533c381a31e1193a34fc633cde6580b6f15658c2c6"},{"version":"f3700d8afe2242239c1ebb64dc4cf7522100e051bb1c89c74a5ac600641e876f","signature":"ee905257910e0a6431f7eee1eb0a7b0422845fa0b42f6dc1b49e675a8226ab75"},{"version":"ee9557a0fe8e8bd1821611be9c330db207540f8f641716a504eaa1db2f29aa94","signature":"8e01e287b56913065001a22aeee30f6f2f399f58040d1f10fa8b845684310695"},{"version":"8115c4f3cd77c71e405c3aa3c706a8fe0b97ac1a709f833e1b373f3b9909af69","signature":"4584cd079c6253edd6b8fda7986c58b74d03c353b6c4978aa4c985a0bbe48e5a"},{"version":"0adb04636c1474cbddd989eee787f3ac41089523b934723f6150dc0680fd7575","signature":"3fbb9b0c794b6c31090dfe45b70e7bd33f651f6ba8c607f5949199b0fee40bd4"},{"version":"4452bfc71b360a582e2578b7a5bb1ed2a6cf2e04b10c6555e3d8a1941ed41edb","signature":"d2ceb3ab4dc4a3cdfa1fdc8295d3ffc97c319eefda609b89d49da49aa3eb7214"},{"version":"40edff6b80b5f26936cdde9070638c6675607c73e1a1998d92d2e83403e37825","signature":"7a92f7903930c996524338a93867918fb6d1d5b34175fc7f46e346038e988719"},{"version":"a8a0dc91adbe978cbb42524bb504353ca2ba6296fd7e30702cd1bf67bab09866","signature":"46397f1929532194085ce244458925ba6b374606eb6e523b0df29ce0e339c255"},{"version":"8ca89b4c40083b8294e9e6cec768028811a0205ba9e3649e39222192dc912074","signature":"96226de9300f3f7999727bc17ec45e0174de9148636131476f1fbfb132cee992"},{"version":"9b893a328f92e30269d6f802d1295f8b34ce94a9eeff358dc3860552bf41f3c1","signature":"0c609838f7b5a10b03fef513bbfd7d056bf0e6fb0cfae6baa0be1d85341dc295"},{"version":"64c550b351f69cd8e561bc06459734df07139c7e677f9ab1d036d4a2dc089fe2","signature":"feaf1e039bd3c3229dcdfa1ab7cd435572fe5e088b7b527f4e2eb366b378f30b"},{"version":"84f56784edc4c9c36eed90f595285bf5bfa93693729676915640a59a0d68314c","signature":"d859f59d6e0207221afe60fdc41b4ba2afad5424027c86369399f8081ff0eaa6"},{"version":"4899a9fb8af92394e716a597b504a260c3ca085bde4a85a97e13b74b4adcfa6a","signature":"c7fbf0a5085492d743b0f2eb118050316d3fb1f6777131c8206d106ab5dc4581"},{"version":"1e5b35f3725dbbb74a55f25283b13fc4f25017cb429380793f9fa67d6dac2b8c","signature":"3424887c366944908368061895237ad5431922c24ee490bad728dc585767c359"},{"version":"7e05a3e4112bac9904af5908cd19143ca0c85cef107c48acae8546e102467d2e","signature":"6576df814a036dd0a40d16b554e1fe7e215478ddb021055e713d9929dd10f80e"},{"version":"409cf8770fbb9f099124e9ca744282ebfd85df2fd3650ae05c4ee3d03af66714","affectsGlobalScope":true},{"version":"c18e5155f6d915fb89813b7146e73c96300e2e0db317b68176f61c91af6ec2d2","signature":"91f472b6568b9afd43176ccb34ea0e2665e27e567d013767464a9ba71ca466b4"},"7e88d2eef3de0e141de5c7b3140c5aade44be358a5a6ed30a7595b625868cf77","4e9d375d05a75efefcdae0a6a7be76861b5c96683acd31d1c8b120f60c0f6194",{"version":"d78ae32cfecb754ed228423cd32b52f594eccc14bd28a25b2ce4f8e0f347a953","signature":"d771d53a5b40b24f24262ef062ab24811b12806956d90e6af41383b072f44526"},{"version":"f7b32a1d4d4594fe1ad21a53dd00445cd8e15f90fdc5543c51662e184e860d3e","signature":"d27ed966dde366fc2b51aca32ddf4f6349735936f9143dd5b50b4b6d525e44c6"},{"version":"97ece670ec6b66089032d9d5ae846307ba2dc04114e9f0663ea2a0cb65a25fb7","signature":"829ecb867b9408f238a8dab5279d61d223bfd0b51e0b0cf4ca86376b485962bf"},{"version":"98457868ad4bb4fe632c49397bec911cbf70b84ad94a9de167287f3f1690934b","signature":"07dcb8c48662805ca9af4ab866d37f8630e348c4f0eb602ba1ca9287dec5ca21"},{"version":"e2018ab98c4d3c9604a1a8b324e5e781dda8d77c04dfd88304fcf25b57394e52","signature":"4efd621d6bc9ce138c4d23a4ee95096603d6a2fd4e87227aa8c3ee9edb970d08"},{"version":"7a2e491ee5ed24b45206b4d4babc46979945a82333e80afd96b2ae8d198ff4bc","signature":"7917af61848eaaa3a89abba839a9c01e8f34e22a6b554f5b2f33ee93bee6d6ff"},{"version":"63956e9f42990675523bd04fdc35ba8e81d53998dd195a30af285b22f4615832","signature":"94c122711e7d7612d2e218319eeae5031b072aeef54e3423bf9fef913d90e267"},{"version":"37148ad9f3aa2a35cb5806ca79f13fa235d54d35a00306b976dc47418157908c","signature":"c96203e1746d7a7970262c16b2fcf6476cbba7e1660953e02919c3fe0195a22b"},{"version":"b72a9b41e5ddef16d50385a50666bc546ce7f0b41c0f422cd2f7137d88dace2c","signature":"7a4e6345e0fca7dc62d581bb8f6c7c61d4c17edc2723f7c6ba0e06cf852d5a8c"},{"version":"91dc6f8000647e11edffeb2437ac823a46b32e4dc07a67d0df5ccc7e521cb3f9","signature":"38ef80c37e8058bcfe10534bd401ddb9d4855b12a85e67331f32ca0043eb6b61"},{"version":"f91c5af45b307e68771ba082ec6fa50dd14750aa0ec0ddc63c63f2273e86f5ec","signature":"4ef73c812ad71ecfaa9833d24cb6da043d24a555e7a23ebe9f0be181300d1335"},{"version":"70a5d907f3325fcf4154c1138e4fe1d616b5f2a079ab6a5a8e51336f51ea0c04","signature":"f9b03c8344b0b02c15e3ea0e65fa8e15f566d573069ae6c961fb55c84efb4ad0"},{"version":"ab2d2820111df5b42fd11e87912e7486e05033c1535ddeea6213f7006104c0fb","signature":"4ef309d0560707f99a0de05df2c27ae15fdb09a401f85e5f699b2c737b37af43"},{"version":"19faf2ac1f1fc3a95415aafee6a9a6ebb60a4f97f98319963eb25d0b046fc9d0","signature":"c746651f3145fc12d1efa456fe7eb530102acdb242a2e5720ab03bf790fab81e"},{"version":"1e20f2ea343dd784560a72ded27caf3a420ed4d55a0aa3824f3b80fd9a37ad3b","signature":"741b315d25621e20da9ec7f8bca8d1312dd0de752178a9b1cd60e1f9036849ec"},"a7fe7e88c50608567af53c49d3c59ea5f33bf5f59126d67b2a25f85eb41297ba",{"version":"27c6cf3ad5b3298aa880b2b42e898e1b12f8f580c776e797b2271dc490d196d8","signature":"a4f4df0c5afe9820a69bd0b721b8f979093a13290d36c428ca92c04baab4dd7a"},"4967529644e391115ca5592184d4b63980569adf60ee685f968fd59ab1557188","5f1fc8edcf0258de2fce28a785d5fecd9de993eb34239762ecc13fc5ff4cb7d6","62dd6e1fb4b6d2c8a966e9c66118f45e4b32aa8adc9ef92a858dc0ab14d14b3c","2b621455229800f85bdcbab3f516c5122fb0439ef30a4da19d5393f826fc2b69","760cb9b76ab53a2f704ee0e731e162bcfc6af609f5e400a668efe2cc7923e4f4","cc957354aa3c94c9961ebf46282cfde1e81d107fc5785a61f62c67f1dd3ac2eb","7ec238b220ea991b6643e24191b1f552a65956d5f6de4c6144e700b9985265d8","93de1c6dab503f053efe8d304cb522bb3a89feab8c98f307a674a4fae04773e9","dae3d1adc67ac3dbd1cd471889301339ec439837b5df565982345be20c8fca9a","5426e62886b7be7806312d31a00e8f7dccd6fe63ba9bbefe99ee2eab29cc48a3","e91751abb2372a36a90869d36f6ad5d5e69a84c5513ca99d236554e4dd8b9aa1","5cbc27193321e6ba10f4e9f3c5519649d9e2716cf103efd7eaa7a89e0f8ed1d4","6d829824ead8999f87b6df21200df3c6150391b894b4e80662caa462bd48d073","946bd1737d9412395a8f24414c70f18660b84a75a12b0b448e6eb1a2161d06dd","3ebae8c00411116a66fca65b08228ea0cf0b72724701f9b854442100aab55aba","8b06ac3faeacb8484d84ddb44571d8f410697f98d7bfa86c0fda60373a9f5215","7eb06594824ada538b1d8b48c3925a83e7db792f47a081a62cf3e5c4e23cf0ee","f5638f7c2f12a9a1a57b5c41b3c1ea7db3876c003bab68e6a57afd6bcc169af0","0d14fa22c41fdc7277e6f71473b20ebc07f40f00e38875142335d5b63cdfc9d2","d8aab31ba8e618cc3eea10b0945de81cb93b7e8150a013a482332263b9305322","462bccdf75fcafc1ae8c30400c9425e1a4681db5d605d1a0edb4f990a54d8094","5923d8facbac6ecf7c84739a5c701a57af94a6f6648d6229a6c768cf28f0f8cb","7adecb2c3238794c378d336a8182d4c3dd2c4fa6fa1785e2797a3db550edea62","dc12dc0e5aa06f4e1a7692149b78f89116af823b9e1f1e4eae140cd3e0e674e6","1bfc6565b90c8771615cd8cfcf9b36efc0275e5e83ac7d9181307e96eb495161","8a8a96898906f065f296665e411f51010b51372fa260d5373bf9f64356703190","7f82ef88bdb67d9a850dd1c7cd2d690f33e0f0acd208e3c9eba086f3670d4f73",{"version":"ccfd8774cd9b929f63ff7dcf657977eb0652e3547f1fcac1b3a1dc5db22d4d58","affectsGlobalScope":true},"f3e604694b624fa3f83f6684185452992088f5efb2cf136b62474aa106d6f1b6","209e814e8e71aec74f69686a9506dd7610b97ab59dcee9446266446f72a76d05","6fa0008bf91a4cc9c8963bace4bba0bd6865cbfa29c3e3ccc461155660fb113a","2b8264b2fefd7367e0f20e2c04eed5d3038831fe00f5efbc110ff0131aab899b","93c4fc5b5237c09bc9ed65cb8f0dc1d89034406ab40500b89701341994897142","8a19491eba2108d5c333c249699f40aff05ad312c04a17504573b27d91f0aede","b0d10e46cfe3f6c476b69af02eaa38e4ccc7430221ce3109ae84bb9fb8282298","bc81aff061c53a7140270555f4b22da4ecfe8601e8027cf5aa175fbdc7927c31","70e9a18da08294f75bf23e46c7d69e67634c0765d355887b9b41f0d959e1426e","6ba73232c9d3267ca36ddb83e335d474d2c0e167481e3dec416c782894e11438"],"options":{"composite":true,"declaration":true,"declarationMap":true,"esModuleInterop":true,"module":1,"noImplicitAny":false,"outDir":"./cjs","rootDir":"../src","sourceMap":true,"strictNullChecks":true,"target":6},"fileIdsList":[[92,199],[92],[92,131],[92,128,129],[92,130],[92,99,101,104,125,198],[50,92],[50,92,99],[92,199,200,201,202,203],[92,199,201],[92,99],[92,205],[65,92,99],[63,92,99],[92,210],[92,211],[92,216,221],[46,92],[49,92],[50,55,83,92],[51,62,63,70,80,91,92],[51,52,62,70,92],[53,92],[54,55,63,71,92],[55,80,88,92],[56,58,62,70,92],[57,92],[58,59,92],[62,92],[60,62,92],[62,63,64,80,91,92],[62,63,64,77,80,83,92],[92,96],[65,70,80,91,92],[62,63,65,66,70,80,88,91,92],[65,67,80,88,91,92],[46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98],[62,68,92],[69,91,92],[58,62,70,80,92],[71,92],[72,92],[49,73,92],[74,90,92,96],[75,92],[76,92],[62,77,78,92],[77,79,92,94],[50,62,80,81,82,83,92],[50,80,82,92],[80,81,92],[83,92],[84,92],[62,86,87,92],[86,87,92],[55,70,80,88,92],[89,92],[70,90,92],[50,65,76,91,92],[55,92],[80,92,93],[92,94],[92,95],[50,55,62,64,73,80,91,92,94,96],[80,92,97],[62,65,67,70,80,88,91,92,97,99],[92,231],[92,110],[92,214,217],[92,214,217,218,219],[92,216],[92,213,220],[92,215],[92,117,119,120,121,122,123],[92,117,118],[92,119],[92,118,119],[92,117,119],[50,92,101,106,111,125,132,133,134,148,171,198],[50,92,106,113,133,134,159,171,198],[92,103,105,106,132,197,198],[92,106,160,161,162,163,171,172],[50,92,101,105,106,116,125,132,133,134,171,197,198],[50,92,101,102,106,125,133,134,148,198],[50,92,101,106,125,134,148,171,198],[92,103,105,106,197,198],[92,106,155,159,164,170],[92,106,148,171],[92,106,159,171],[92,106,171,181,182,183,184,185],[92,106,132,171],[92,106,171],[92,106,148,151,171,198],[92,101,104,125,198],[92,106,149,150,152,153,154,171],[92,105,106,132,148,171,197,198],[92,101,104,105,106,125,148,171,197,198],[92,106,165,166,167,168,169,171],[92,104,105,106,116,132,171,197,198],[92,101,102,125],[50,92,101,105,125,197],[92,101,103,104,106,107,125,126,127,171,172,176,180,189,191],[92,190,192],[92,101,125,127,170,180],[92,101,106,109,125,127,132,145,146,147,155,158],[92,101,106,125,135,137],[92,101,106,125,136],[46,92,101,106,125,127,158,171],[92,101,106,116,125,127,136,137,159,171,177,179],[92,101,106,125,127,132,135,136,140,144,158,171],[92,101,106,125,127,132,136,138,139,141,142,143,145,157,158,171,178],[92,101,102,103,106,125,136,137,158],[92,101,106,125,127,137,138,139,141,142,143,145,156,158],[92,101,103,106,125,127,137,139,158],[92,101,103,106,125,127,137,139,140,158,159,171],[92,101,106,125,127,132,135,136,137,138,139,142,144,158,171,179],[92,101,106,125,137,138,158],[92,101,104,106,125,132,137,157,192],[92,101,106,114,125,134,141,158],[92,101,107,116,125,126],[92,101,125,127,180,186],[92,187,188,192],[92,101,125,127,147,155,180],[50,92,113],[92,111],[92,108,109,112,114,115],[92,107],[92,102,116,140,144,146,173,175],[50,92,101,115,125,133,136],[92,101,104,105,125,174,197],[50,92,101,107,125,127,136],[92,133],[92,101,124,125],[92,101,125],[50,92,101,107,125,127],[63,74,92,101,106,107,125,132,180,193],[92,105,196,197],[92,196],[50,106,171],[50,106,159,171],[106,198],[106,160,161,162,163,171,172],[50,101,106,125,171],[50,106],[106,155,159,164,170],[106,171],[106,159,171],[106,171,181,182,183,184,185],[101,104,125,198],[106,149,150,152,153,154,171],[106,165,166,167,168,169,171],[101,125],[50,101,125],[101,103,104,106,125,126,127,171,172,176,180,189,191],[190,192],[127,170,180],[101,106,125,127,145,158],[101,106,125,135,137],[101,106,125,136],[101,106,125,127,158,171],[101,106,125,127,136,137,159,171,179],[101,106,125,127,132,135,136,158,171],[101,106,125,127,138,139,141,142,143,145,157,158,171,178],[101,106,125,137,158],[101,106,125,127,137,138,139,141,142,143,145,158],[101,106,125,127,139,158],[101,106,125,127,139,158,159,171],[101,106,125,127,135,158,171,179],[101,106,125,138,158],[101,104,106,125,132,137,157,192],[101,106,125,141,158],[127,180,186],[187,188,192],[127,147,155,180],[50],[108,109,112,114,115],[50,101,125,136],[101,104,125],[50,101,125,127,136],[101,125,127]],"referencedMap":[[201,1],[199,2],[128,2],[129,2],[132,3],[130,4],[131,5],[105,6],[196,7],[195,2],[101,8],[204,9],[200,1],[202,10],[203,1],[104,11],[206,12],[207,13],[208,2],[209,14],[210,2],[211,15],[212,16],[222,17],[223,2],[224,2],[46,18],[47,18],[49,19],[50,20],[51,21],[52,22],[53,23],[54,24],[55,25],[56,26],[57,27],[58,28],[59,28],[61,29],[60,30],[62,29],[63,31],[64,32],[48,33],[98,2],[65,34],[66,35],[67,36],[99,37],[68,38],[69,39],[70,40],[71,41],[72,42],[73,43],[74,44],[75,45],[76,46],[77,47],[78,47],[79,48],[80,49],[82,50],[81,51],[83,52],[84,53],[85,2],[86,54],[87,55],[88,56],[89,57],[90,58],[91,59],[92,60],[93,61],[94,62],[95,63],[96,64],[97,65],[225,2],[177,2],[226,2],[227,2],[228,11],[229,2],[230,66],[231,2],[232,67],[205,11],[113,2],[111,68],[110,2],[100,2],[213,2],[174,2],[135,2],[214,2],[218,69],[220,70],[219,69],[217,71],[221,72],[133,2],[216,73],[215,2],[117,2],[124,74],[119,75],[120,76],[121,76],[122,77],[123,77],[118,78],[193,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[45,2],[33,2],[34,2],[35,2],[36,2],[7,2],[37,2],[42,2],[43,2],[38,2],[39,2],[40,2],[41,2],[1,2],[44,2],[11,2],[10,2],[160,79],[161,80],[134,81],[164,82],[172,83],[162,84],[163,85],[148,86],[171,87],[183,88],[184,89],[186,90],[181,91],[182,92],[185,92],[152,93],[151,94],[153,89],[155,95],[149,96],[150,92],[154,92],[167,97],[168,89],[170,98],[165,99],[166,92],[169,92],[103,100],[106,101],[192,102],[191,103],[190,104],[156,105],[136,106],[137,107],[159,108],[180,109],[145,110],[179,111],[138,112],[157,113],[142,114],[141,115],[178,116],[139,117],[158,118],[143,119],[127,120],[187,121],[189,122],[147,2],[188,123],[114,124],[112,125],[115,2],[108,7],[116,126],[109,127],[107,2],[102,2],[176,128],[144,129],[175,130],[140,131],[173,132],[125,133],[146,134],[126,135],[194,136],[197,137],[198,138]],"exportedModulesMap":[[201,1],[199,2],[128,2],[129,2],[132,3],[130,4],[131,5],[105,6],[196,7],[195,2],[101,8],[204,9],[200,1],[202,10],[203,1],[104,11],[206,12],[207,13],[208,2],[209,14],[210,2],[211,15],[212,16],[222,17],[223,2],[224,2],[46,18],[47,18],[49,19],[50,20],[51,21],[52,22],[53,23],[54,24],[55,25],[56,26],[57,27],[58,28],[59,28],[61,29],[60,30],[62,29],[63,31],[64,32],[48,33],[98,2],[65,34],[66,35],[67,36],[99,37],[68,38],[69,39],[70,40],[71,41],[72,42],[73,43],[74,44],[75,45],[76,46],[77,47],[78,47],[79,48],[80,49],[82,50],[81,51],[83,52],[84,53],[85,2],[86,54],[87,55],[88,56],[89,57],[90,58],[91,59],[92,60],[93,61],[94,62],[95,63],[96,64],[97,65],[225,2],[177,2],[226,2],[227,2],[228,11],[229,2],[230,66],[231,2],[232,67],[205,11],[113,2],[111,68],[110,2],[100,2],[213,2],[174,2],[135,2],[214,2],[218,69],[220,70],[219,69],[217,71],[221,72],[133,2],[216,73],[215,2],[117,2],[124,74],[119,75],[120,76],[121,76],[122,77],[123,77],[118,78],[193,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[45,2],[33,2],[34,2],[35,2],[36,2],[7,2],[37,2],[42,2],[43,2],[38,2],[39,2],[40,2],[41,2],[1,2],[44,2],[11,2],[10,2],[160,139],[161,140],[134,141],[164,142],[172,143],[162,144],[163,139],[148,141],[171,145],[183,146],[184,147],[186,148],[181,146],[182,146],[185,146],[152,146],[151,149],[153,147],[155,150],[149,146],[150,146],[154,146],[167,146],[168,147],[170,151],[165,146],[166,146],[169,146],[103,152],[106,153],[192,154],[191,155],[190,156],[156,157],[136,158],[137,159],[159,160],[180,161],[145,162],[179,163],[138,164],[157,165],[142,166],[141,167],[178,168],[139,169],[158,170],[143,171],[127,152],[187,172],[189,173],[188,174],[114,175],[108,175],[116,176],[176,128],[144,177],[175,178],[140,179],[125,152],[146,152],[126,180],[197,137],[198,138]],"semanticDiagnosticsPerFile":[201,199,128,129,132,130,131,105,196,195,101,204,200,202,203,104,206,207,208,209,210,211,212,222,223,224,46,47,49,50,51,52,53,54,55,56,57,58,59,61,60,62,63,64,48,98,65,66,67,99,68,69,70,71,72,73,74,75,76,77,78,79,80,82,81,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,225,177,226,227,228,229,230,231,232,205,113,111,110,100,213,174,135,214,218,220,219,217,221,133,216,215,117,124,119,120,121,122,123,118,193,8,9,13,12,2,14,15,16,17,18,19,20,21,3,4,25,22,23,24,26,27,28,5,29,30,31,32,6,45,33,34,35,36,7,37,42,43,38,39,40,41,1,44,11,10,160,161,134,164,172,162,163,148,171,183,184,186,181,182,185,152,151,153,155,149,150,154,167,168,170,165,166,169,103,106,192,191,190,156,136,137,159,180,145,179,138,157,142,141,178,139,158,143,127,187,189,147,188,114,112,115,108,116,109,107,102,176,144,175,140,173,125,146,126,194,197,198],"latestChangedDtsFile":"./cjs/workspace.d.ts"},"version":"4.8.4"}
\ No newline at end of file
diff --git a/dist/tsconfig.tsbuildinfo b/dist/tsconfig.tsbuildinfo
index 141b76f0aa4dffc615612061dcfb61fbb35568cf..1d0fddfaa89768a843df34cc068f0182a86121ed 100644
--- a/dist/tsconfig.tsbuildinfo
+++ b/dist/tsconfig.tsbuildinfo
@@ -1 +1 @@
-{"program":{"fileNames":["../node_modules/typescript/lib/lib.es5.d.ts","../node_modules/typescript/lib/lib.es2015.d.ts","../node_modules/typescript/lib/lib.es2016.d.ts","../node_modules/typescript/lib/lib.es2017.d.ts","../node_modules/typescript/lib/lib.es2018.d.ts","../node_modules/typescript/lib/lib.es2019.d.ts","../node_modules/typescript/lib/lib.es2020.d.ts","../node_modules/typescript/lib/lib.dom.d.ts","../node_modules/typescript/lib/lib.dom.iterable.d.ts","../node_modules/typescript/lib/lib.webworker.importscripts.d.ts","../node_modules/typescript/lib/lib.scripthost.d.ts","../node_modules/typescript/lib/lib.es2015.core.d.ts","../node_modules/typescript/lib/lib.es2015.collection.d.ts","../node_modules/typescript/lib/lib.es2015.generator.d.ts","../node_modules/typescript/lib/lib.es2015.iterable.d.ts","../node_modules/typescript/lib/lib.es2015.promise.d.ts","../node_modules/typescript/lib/lib.es2015.proxy.d.ts","../node_modules/typescript/lib/lib.es2015.reflect.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2016.array.include.d.ts","../node_modules/typescript/lib/lib.es2017.object.d.ts","../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2017.string.d.ts","../node_modules/typescript/lib/lib.es2017.intl.d.ts","../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","../node_modules/typescript/lib/lib.es2018.intl.d.ts","../node_modules/typescript/lib/lib.es2018.promise.d.ts","../node_modules/typescript/lib/lib.es2018.regexp.d.ts","../node_modules/typescript/lib/lib.es2019.array.d.ts","../node_modules/typescript/lib/lib.es2019.object.d.ts","../node_modules/typescript/lib/lib.es2019.string.d.ts","../node_modules/typescript/lib/lib.es2019.symbol.d.ts","../node_modules/typescript/lib/lib.es2020.bigint.d.ts","../node_modules/typescript/lib/lib.es2020.promise.d.ts","../node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2020.string.d.ts","../node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2020.intl.d.ts","../node_modules/typescript/lib/lib.esnext.intl.d.ts","../node_modules/typescript/lib/lib.es2019.full.d.ts","../node_modules/@types/node/assert.d.ts","../node_modules/@types/node/assert/strict.d.ts","../node_modules/@types/node/globals.d.ts","../node_modules/@types/node/async_hooks.d.ts","../node_modules/@types/node/buffer.d.ts","../node_modules/@types/node/child_process.d.ts","../node_modules/@types/node/cluster.d.ts","../node_modules/@types/node/console.d.ts","../node_modules/@types/node/constants.d.ts","../node_modules/@types/node/crypto.d.ts","../node_modules/@types/node/dgram.d.ts","../node_modules/@types/node/diagnostics_channel.d.ts","../node_modules/@types/node/dns.d.ts","../node_modules/@types/node/dns/promises.d.ts","../node_modules/@types/node/domain.d.ts","../node_modules/@types/node/events.d.ts","../node_modules/@types/node/fs.d.ts","../node_modules/@types/node/fs/promises.d.ts","../node_modules/@types/node/http.d.ts","../node_modules/@types/node/http2.d.ts","../node_modules/@types/node/https.d.ts","../node_modules/@types/node/inspector.d.ts","../node_modules/@types/node/module.d.ts","../node_modules/@types/node/net.d.ts","../node_modules/@types/node/os.d.ts","../node_modules/@types/node/path.d.ts","../node_modules/@types/node/perf_hooks.d.ts","../node_modules/@types/node/process.d.ts","../node_modules/@types/node/punycode.d.ts","../node_modules/@types/node/querystring.d.ts","../node_modules/@types/node/readline.d.ts","../node_modules/@types/node/repl.d.ts","../node_modules/@types/node/stream.d.ts","../node_modules/@types/node/stream/promises.d.ts","../node_modules/@types/node/stream/consumers.d.ts","../node_modules/@types/node/stream/web.d.ts","../node_modules/@types/node/string_decoder.d.ts","../node_modules/@types/node/timers.d.ts","../node_modules/@types/node/timers/promises.d.ts","../node_modules/@types/node/tls.d.ts","../node_modules/@types/node/trace_events.d.ts","../node_modules/@types/node/tty.d.ts","../node_modules/@types/node/url.d.ts","../node_modules/@types/node/util.d.ts","../node_modules/@types/node/v8.d.ts","../node_modules/@types/node/vm.d.ts","../node_modules/@types/node/wasi.d.ts","../node_modules/@types/node/worker_threads.d.ts","../node_modules/@types/node/zlib.d.ts","../node_modules/@types/node/globals.global.d.ts","../node_modules/@types/node/index.d.ts","../node_modules/buffer/index.d.ts","../node_modules/@solana/web3.js/lib/index.d.ts","../src/utils/features.ts","../src/error.ts","../node_modules/@types/bn.js/index.d.ts","../node_modules/@project-serum/borsh/dist/lib/index.d.ts","../src/idl.ts","../src/utils/bytes/hex.ts","../src/utils/common.ts","../src/utils/bytes/utf8.ts","../node_modules/base-x/src/index.d.ts","../node_modules/@types/bs58/index.d.ts","../src/utils/bytes/bs58.ts","../node_modules/base64-js/index.d.ts","../src/utils/bytes/base64.ts","../src/utils/bytes/index.ts","../node_modules/eventemitter3/index.d.ts","../src/program/context.ts","../src/program/common.ts","../node_modules/superstruct/lib/error.d.ts","../node_modules/superstruct/lib/utils.d.ts","../node_modules/superstruct/lib/struct.d.ts","../node_modules/superstruct/lib/structs/coercions.d.ts","../node_modules/superstruct/lib/structs/refinements.d.ts","../node_modules/superstruct/lib/structs/types.d.ts","../node_modules/superstruct/lib/structs/utilities.d.ts","../node_modules/superstruct/lib/index.d.ts","../src/utils/rpc.ts","../src/provider.ts","../src/nodewallet.ts","../node_modules/camelcase/index.d.ts","../node_modules/no-case/dist/index.d.ts","../node_modules/dot-case/dist/index.d.ts","../node_modules/snake-case/dist/index.d.ts","../node_modules/js-sha256/index.d.ts","../src/coder/borsh/idl.ts","../src/program/namespace/instruction.ts","../src/program/namespace/transaction.ts","../src/program/namespace/simulate.ts","../src/program/namespace/rpc.ts","../src/program/namespace/views.ts","../src/utils/pubkey.ts","../src/program/namespace/account.ts","../src/utils/token.ts","../node_modules/@types/pako/index.d.ts","../src/program/namespace/state.ts","../src/program/namespace/index.ts","../src/program/index.ts","../src/coder/spl-token/instruction.ts","../src/coder/spl-token/state.ts","../src/coder/spl-token/buffer-layout.ts","../src/coder/common.ts","../src/coder/spl-token/accounts.ts","../src/coder/spl-token/events.ts","../src/coder/spl-token/types.ts","../src/coder/spl-token/index.ts","../src/spl/token.ts","../src/program/accounts-resolver.ts","../src/program/namespace/methods.ts","../src/program/namespace/types.ts","../src/program/event.ts","../src/coder/borsh/accounts.ts","../src/coder/borsh/event.ts","../src/coder/borsh/state.ts","../src/coder/borsh/types.ts","../src/coder/borsh/index.ts","../src/coder/system/instruction.ts","../src/coder/system/state.ts","../src/coder/system/accounts.ts","../src/coder/system/events.ts","../src/coder/system/types.ts","../src/coder/system/index.ts","../src/coder/index.ts","../src/coder/borsh/instruction.ts","../src/utils/sha256.ts","../node_modules/cross-fetch/index.d.ts","../src/utils/registry.ts","../src/utils/index.ts","../src/coder/spl-associated-token/instruction.ts","../src/coder/spl-associated-token/state.ts","../src/coder/spl-associated-token/accounts.ts","../src/coder/spl-associated-token/events.ts","../src/coder/spl-associated-token/types.ts","../src/coder/spl-associated-token/index.ts","../src/spl/associated-token.ts","../src/spl/index.ts","../src/native/system.ts","../src/native/index.ts","../src/index.ts","../node_modules/toml/index.d.ts","../src/workspace.ts","../types/buffer-layout/index.d.ts","../node_modules/@babel/types/lib/index.d.ts","../node_modules/@types/babel__generator/index.d.ts","../node_modules/@babel/parser/typings/babel-parser.d.ts","../node_modules/@types/babel__template/index.d.ts","../node_modules/@types/babel__traverse/index.d.ts","../node_modules/@types/babel__core/index.d.ts","../node_modules/@types/connect/index.d.ts","../node_modules/@types/estree/index.d.ts","../node_modules/@types/range-parser/index.d.ts","../node_modules/@types/qs/index.d.ts","../node_modules/@types/express-serve-static-core/index.d.ts","../node_modules/@types/graceful-fs/index.d.ts","../node_modules/@types/istanbul-lib-coverage/index.d.ts","../node_modules/@types/istanbul-lib-report/index.d.ts","../node_modules/@types/istanbul-reports/index.d.ts","../node_modules/chalk/index.d.ts","../node_modules/jest-diff/build/cleanupsemantic.d.ts","../node_modules/pretty-format/build/types.d.ts","../node_modules/pretty-format/build/index.d.ts","../node_modules/jest-diff/build/types.d.ts","../node_modules/jest-diff/build/difflines.d.ts","../node_modules/jest-diff/build/printdiffs.d.ts","../node_modules/jest-diff/build/index.d.ts","../node_modules/jest-matcher-utils/build/index.d.ts","../node_modules/@types/jest/index.d.ts","../node_modules/@types/json-schema/index.d.ts","../node_modules/@types/lodash/common/common.d.ts","../node_modules/@types/lodash/common/array.d.ts","../node_modules/@types/lodash/common/collection.d.ts","../node_modules/@types/lodash/common/date.d.ts","../node_modules/@types/lodash/common/function.d.ts","../node_modules/@types/lodash/common/lang.d.ts","../node_modules/@types/lodash/common/math.d.ts","../node_modules/@types/lodash/common/number.d.ts","../node_modules/@types/lodash/common/object.d.ts","../node_modules/@types/lodash/common/seq.d.ts","../node_modules/@types/lodash/common/string.d.ts","../node_modules/@types/lodash/common/util.d.ts","../node_modules/@types/lodash/index.d.ts","../node_modules/@types/minimist/index.d.ts","../node_modules/@types/normalize-package-data/index.d.ts","../node_modules/@types/parse-json/index.d.ts","../node_modules/@types/prettier/index.d.ts","../node_modules/@types/resolve/index.d.ts","../node_modules/@types/stack-utils/index.d.ts","../node_modules/@types/ws/index.d.ts","../node_modules/@types/yargs-parser/index.d.ts","../node_modules/@types/yargs/index.d.ts"],"fileInfos":[{"version":"3ac1b83264055b28c0165688fda6dfcc39001e9e7828f649299101c23ad0a0c3","affectsGlobalScope":true},"dc47c4fa66b9b9890cf076304de2a9c5201e94b740cffdf09f87296d877d71f6","7a387c58583dfca701b6c85e0adaf43fb17d590fb16d5b2dc0a2fbd89f35c467","8a12173c586e95f4433e0c6dc446bc88346be73ffe9ca6eec7aa63c8f3dca7f9","5f4e733ced4e129482ae2186aae29fde948ab7182844c3a5a51dd346182c7b06","e6b724280c694a9f588847f754198fb96c43d805f065c3a5b28bbc9594541c84","e21c071ca3e1b4a815d5f04a7475adcaeea5d64367e840dd0154096d705c3940",{"version":"72704b10d97777e15f1a581b73f88273037ef752d2e50b72287bd0a90af64fe6","affectsGlobalScope":true},{"version":"dbb73d4d99be496175cb432c74c2615f78c76f4272f1d83cba11ee0ed6dbddf0","affectsGlobalScope":true},{"version":"7fac8cb5fc820bc2a59ae11ef1c5b38d3832c6d0dfaec5acdb5569137d09a481","affectsGlobalScope":true},{"version":"097a57355ded99c68e6df1b738990448e0bf170e606707df5a7c0481ff2427cd","affectsGlobalScope":true},{"version":"d8996609230d17e90484a2dd58f22668f9a05a3bfe00bfb1d6271171e54a31fb","affectsGlobalScope":true},{"version":"43fb1d932e4966a39a41b464a12a81899d9ae5f2c829063f5571b6b87e6d2f9c","affectsGlobalScope":true},{"version":"cdccba9a388c2ee3fd6ad4018c640a471a6c060e96f1232062223063b0a5ac6a","affectsGlobalScope":true},{"version":"c5c05907c02476e4bde6b7e76a79ffcd948aedd14b6a8f56e4674221b0417398","affectsGlobalScope":true},{"version":"0d5f52b3174bee6edb81260ebcd792692c32c81fd55499d69531496f3f2b25e7","affectsGlobalScope":true},{"version":"810627a82ac06fb5166da5ada4159c4ec11978dfbb0805fe804c86406dab8357","affectsGlobalScope":true},{"version":"62d80405c46c3f4c527ee657ae9d43fda65a0bf582292429aea1e69144a522a6","affectsGlobalScope":true},{"version":"3013574108c36fd3aaca79764002b3717da09725a36a6fc02eac386593110f93","affectsGlobalScope":true},{"version":"75ec0bdd727d887f1b79ed6619412ea72ba3c81d92d0787ccb64bab18d261f14","affectsGlobalScope":true},{"version":"3be5a1453daa63e031d266bf342f3943603873d890ab8b9ada95e22389389006","affectsGlobalScope":true},{"version":"17bb1fc99591b00515502d264fa55dc8370c45c5298f4a5c2083557dccba5a2a","affectsGlobalScope":true},{"version":"7ce9f0bde3307ca1f944119f6365f2d776d281a393b576a18a2f2893a2d75c98","affectsGlobalScope":true},{"version":"6a6b173e739a6a99629a8594bfb294cc7329bfb7b227f12e1f7c11bc163b8577","affectsGlobalScope":true},{"version":"12a310447c5d23c7d0d5ca2af606e3bd08afda69100166730ab92c62999ebb9d","affectsGlobalScope":true},{"version":"b0124885ef82641903d232172577f2ceb5d3e60aed4da1153bab4221e1f6dd4e","affectsGlobalScope":true},{"version":"0eb85d6c590b0d577919a79e0084fa1744c1beba6fd0d4e951432fa1ede5510a","affectsGlobalScope":true},{"version":"da233fc1c8a377ba9e0bed690a73c290d843c2c3d23a7bd7ec5cd3d7d73ba1e0","affectsGlobalScope":true},{"version":"d154ea5bb7f7f9001ed9153e876b2d5b8f5c2bb9ec02b3ae0d239ec769f1f2ae","affectsGlobalScope":true},{"version":"bb2d3fb05a1d2ffbca947cc7cbc95d23e1d053d6595391bd325deb265a18d36c","affectsGlobalScope":true},{"version":"c80df75850fea5caa2afe43b9949338ce4e2de086f91713e9af1a06f973872b8","affectsGlobalScope":true},{"version":"9d57b2b5d15838ed094aa9ff1299eecef40b190722eb619bac4616657a05f951","affectsGlobalScope":true},{"version":"6c51b5dd26a2c31dbf37f00cfc32b2aa6a92e19c995aefb5b97a3a64f1ac99de","affectsGlobalScope":true},{"version":"6e7997ef61de3132e4d4b2250e75343f487903ddf5370e7ce33cf1b9db9a63ed","affectsGlobalScope":true},{"version":"2ad234885a4240522efccd77de6c7d99eecf9b4de0914adb9a35c0c22433f993","affectsGlobalScope":true},{"version":"1b3fe904465430e030c93239a348f05e1be80640d91f2f004c3512c2c2c89f34","affectsGlobalScope":true},{"version":"3787b83e297de7c315d55d4a7c546ae28e5f6c0a361b7a1dcec1f1f50a54ef11","affectsGlobalScope":true},{"version":"e7e8e1d368290e9295ef18ca23f405cf40d5456fa9f20db6373a61ca45f75f40","affectsGlobalScope":true},{"version":"faf0221ae0465363c842ce6aa8a0cbda5d9296940a8e26c86e04cc4081eea21e","affectsGlobalScope":true},{"version":"06393d13ea207a1bfe08ec8d7be562549c5e2da8983f2ee074e00002629d1871","affectsGlobalScope":true},{"version":"5075b36ab861c8c0c45377cb8c96270d7c65f0eeaf105d53fac6850da61f1027","affectsGlobalScope":true},{"version":"10bbdc1981b8d9310ee75bfac28ee0477bb2353e8529da8cff7cb26c409cb5e8","affectsGlobalScope":true},"1f03b495671c3a1bd24510f38b8947f0991dfd6bf0278c68eca14af15b306e1f","0cba3a5d7b81356222594442753cf90dd2892e5ccfe1d262aaca6896ba6c1380","a69c09dbea52352f479d3e7ac949fde3d17b195abe90b045d619f747b38d6d1a",{"version":"c2ab70bbc7a24c42a790890739dd8a0ba9d2e15038b40dff8163a97a5d148c00","affectsGlobalScope":true},"422dbb183fdced59425ca072c8bd09efaa77ce4e2ab928ec0d8a1ce062d2a45a",{"version":"712ba0d43b44d144dfd01593f61af6e2e21cfae83e834d297643e7973e55ed61","affectsGlobalScope":true},"1dab5ab6bcf11de47ab9db295df8c4f1d92ffa750e8f095e88c71ce4c3299628","f71f46ccd5a90566f0a37b25b23bc4684381ab2180bdf6733f4e6624474e1894",{"version":"54e65985a3ee3cec182e6a555e20974ea936fc8b8d1738c14e8ed8a42bd921d4","affectsGlobalScope":true},"82408ed3e959ddc60d3e9904481b5a8dc16469928257af22a3f7d1a3bc7fd8c4","98a3ebfa494b46265634a73459050befba5da8fdc6ca0ef9b7269421780f4ff3","34e5de87d983bc6aefef8b17658556e3157003e8d9555d3cb098c6bef0b5fbc8","cc0b61316c4f37393f1f9595e93b673f4184e9d07f4c127165a490ec4a928668","f27371653aded82b2b160f7a7033fb4a5b1534b6f6081ef7be1468f0f15327d3","c762cd6754b13a461c54b59d0ae0ab7aeef3c292c6cf889873f786ee4d8e75c9","f4ea7d5df644785bd9fbf419930cbaec118f0d8b4160037d2339b8e23c059e79",{"version":"bfea28e6162ed21a0aeed181b623dcf250aa79abf49e24a6b7e012655af36d81","affectsGlobalScope":true},"7a5459efa09ea82088234e6533a203d528c594b01787fb90fba148885a36e8b6","ae97e20f2e10dbeec193d6a2f9cd9a367a1e293e7d6b33b68bacea166afd7792","10d4796a130577d57003a77b95d8723530bbec84718e364aa2129fa8ffba0378","ad41bb744149e92adb06eb953da195115620a3f2ad48e7d3ae04d10762dae197","bf73c576885408d4a176f44a9035d798827cc5020d58284cb18d7573430d9022","7ae078ca42a670445ae0c6a97c029cb83d143d62abd1730efb33f68f0b2c0e82",{"version":"e8b18c6385ff784228a6f369694fcf1a6b475355ba89090a88de13587a9391d5","affectsGlobalScope":true},"5d0a9ea09d990b5788f867f1c79d4878f86f7384cb7dab38eecbf22f9efd063d","12eea70b5e11e924bb0543aea5eadc16ced318aa26001b453b0d561c2fd0bd1e","08777cd9318d294646b121838574e1dd7acbb22c21a03df84e1f2c87b1ad47f2","08a90bcdc717df3d50a2ce178d966a8c353fd23e5c392fd3594a6e39d9bb6304",{"version":"4cd4cff679c9b3d9239fd7bf70293ca4594583767526916af8e5d5a47d0219c7","affectsGlobalScope":true},"2a12d2da5ac4c4979401a3f6eaafa874747a37c365e4bc18aa2b171ae134d21b","002b837927b53f3714308ecd96f72ee8a053b8aeb28213d8ec6de23ed1608b66","1dc9c847473bb47279e398b22c740c83ea37a5c88bf66629666e3cf4c5b9f99c","a9e4a5a24bf2c44de4c98274975a1a705a0abbaad04df3557c2d3cd8b1727949","00fa7ce8bc8acc560dc341bbfdf37840a8c59e6a67c9bfa3fa5f36254df35db2","1b952304137851e45bc009785de89ada562d9376177c97e37702e39e60c2f1ff",{"version":"806ef4cac3b3d9fa4a48d849c8e084d7c72fcd7b16d76e06049a9ed742ff79c0","affectsGlobalScope":true},"44b8b584a338b190a59f4f6929d072431950c7bd92ec2694821c11bce180c8a5","5f0ed51db151c2cdc4fa3bb0f44ce6066912ad001b607a34e65a96c52eb76248",{"version":"3345c276cab0e76dda86c0fb79104ff915a4580ba0f3e440870e183b1baec476","affectsGlobalScope":true},"664d8f2d59164f2e08c543981453893bc7e003e4dfd29651ce09db13e9457980","e383ff72aabf294913f8c346f5da1445ae6ad525836d28efd52cbadc01a361a6","f52fbf64c7e480271a9096763c4882d356b05cab05bf56a64e68a95313cd2ce2","59bdb65f28d7ce52ccfc906e9aaf422f8b8534b2d21c32a27d7819be5ad81df7",{"version":"3a2da34079a2567161c1359316a32e712404b56566c45332ac9dcee015ecce9f","affectsGlobalScope":true},"28a2e7383fd898c386ffdcacedf0ec0845e5d1a86b5a43f25b86bc315f556b79","3aff9c8c36192e46a84afe7b926136d520487155154ab9ba982a8b544ea8fc95","a880cf8d85af2e4189c709b0fea613741649c0e40fffb4360ec70762563d5de0","85bbf436a15bbeda4db888be3062d47f99c66fd05d7c50f0f6473a9151b6a070","9f9c49c95ecd25e0cb2587751925976cf64fd184714cb11e213749c80cf0f927","f0c75c08a71f9212c93a719a25fb0320d53f2e50ca89a812640e08f8ad8c408c",{"version":"ab9b9a36e5284fd8d3bf2f7d5fcbc60052f25f27e4d20954782099282c60d23e","affectsGlobalScope":true},"9cafe917bf667f1027b2bb62e2de454ecd2119c80873ad76fc41d941089753b8","8e9c23ba78aabc2e0a27033f18737a6df754067731e69dc5f52823957d60a4b6","4bc4fa25f93690656cef6fdc801d4ad6557b4b35a8f05f74404b414fd6141d8e","befdefdd77a07b1f920d713f4b4421b164675b8b0e046c13a9964517986c0e43","3481403a78f452354813bd5566fb4b9504f6651b288c0e49d7f56b51c7474bce","bc6dd50ac2fc9a7ca6488811b116bd0ddd606338db0bb97852c8fcf757e2d7f5","fd741c46337e33810601102c64ae65bc75e371900ed0f97c7f11e1afe4af1b71","91210392e0f15b679207911a4c2c93e0e4d051dec53d8591364db652cd86d0b6","c1e676ba25c394ede9a0b45b6ae7bb47bd14d067a2604faa67e6a8f278e233ac","8fa778af138d7c7c977585501f3e1efe3a95ca02d1e22dc71856a4da32f34be5","b528724447b639c00b673388587783786b4403a2d8373421affceae41796d8fc","e91751abb2372a36a90869d36f6ad5d5e69a84c5513ca99d236554e4dd8b9aa1","5cbc27193321e6ba10f4e9f3c5519649d9e2716cf103efd7eaa7a89e0f8ed1d4","8209f8449c9b3a8297223cafea51a91f2dffdc94fa58fa0486a7214be6abd7eb","96da6c81cd788939a7cf6546ea1f65ab5ca38952e5bd7d8c284bfe1f3c22dce7","8da7bd22f9432732c0eb2f9c7bf11fb9a0bbd4913f4429d9ff7a74123f09904e","147abcf1d48a19553366fec6b72191ecf6f83d8e4c1260436c4f854883bba65c","b80c780c52524beb13488942543972c8b0e54400e8b59cee0169f38d0fabb968","1da6be75a3cce6731f31fad8b835f60f7935a868d67bf0b87092c9b5a783e4a6","f8586e5573f873a79bfb0cb8cd701692d9bb87e5b0e2aafa91cce103607a2255","51c7e7813dd1c1e7b5144ebff587c97bf8022bb2d6e12c6b3c4e3597686b8bd8","204f41659a02170064f953786aa397d89a0c095eb766f942902acb32780cabdc","193e45dd974dff7630cec4c07aa73963458dc9d137778a5890ae7532e1b71e48","a50599c08934a62f11657bdbe0dc929ab66da1b1f09974408fd9a33ec1bb8060","5a20e7d6c630b91be15e9b837853173829d00273197481dc8d3e94df61105a71","1657505fba9c49e14b9ae448370dcd08a671cb64b959359a8b310101538fb86c","b4000a0a525fa921e896cbdb32ae802c9684f0fd371b5fc69e7310f7918cc2c3","9df4662ca3dbc2522bc115833ee04faa1afbb4e249a85ef4a0a09c621346bd08","3b607cb791c0f7038d0b13e9aecf885d278bb04b416bd9f4be3b624e975d0237","1936bae9df3e27b277a8ca968e03d844416a79b8c7e32e710413ad1cab5c91cf","44ebe115dbe709ba448ef5892d48cb478b8db7143027c313933e7d59f25cc536","b8e7261f41dd775524077306a69c01796bd5a2a742c7338e6607ff4e689bc356","b4e123af1af6049685c93073a15868b50aebdad666d422edc72fa2b585fa8a37","062959a1d825b96639d87be35fe497cbd3f89544bf06fdad577bbfb85fcf604c","74b4035dd26d09a417c44ca23ab5ee69b173f8c2f6b2e47350ab0795cf2d4a17","0afbe91142eb631d6f31be624cf8a550b03736bfd22b0f309405a6fe4d4c9517","847959096193a8af74d745dc04141ef91e95ff464529204e7a1c8aadd41fe070","075ef13a8afba3257860d243e05a045201bbe0c4b766eecc5725b38ac9c9dcb5","6090cf36676b6fd34a36d8173555877a92ac34df8b46166e53a9877d5dfb5064","234ce06aa37b728dcb1bdd86a9a431330f8c8c7d570532ba55c6d6d891dc26b7","fc949b2600d04a7afb9ae316c3dd62471557647a41e92683fdcfae21d60e77a9","b5c1855d9246aabceb807d53c91227a8b83547fdba3ae4dffb67c30bd0b5fe53","2ba451a5349336265ec338b9f75b9839b91917abf1ecf1b3b76f6b1e855f5460","0a5bdbdf2593487e7522d28b5a3f587dec1fd89f0e4ff65a9da510115245b222","629c630b3f303efe570a298124d237ab68c09994beffce1eb9721a0eabf66db7","4e9d375d05a75efefcdae0a6a7be76861b5c96683acd31d1c8b120f60c0f6194","b9c54bc66ddaad9765c1ef14b0714090eb1e6a614ad6206daecd4c11f516c4f5","e77af82244f0777d2ce92cf3472171e43ecc4576d0b75248a39d55280ebdb3e5","8fea0e7dfb3ffb1d8610c4f277812b43f88d8cbde5d1c7cf83fbd71a2bb29f01","4f12dfc9cc8af590337b63d2ee5942b1de147aeedd275ef9b55c17184773c24e","4051211200d783c8491ccd6bfadbfed4458bdf620a59511f10f6cd724ac831e3","1fca1ad444f3860ceec053479fddcae7f9aed97ba0276e3c3c7e107cce7ac7fe","cd1252e734ea70e9a7d656c73329e71a213e227d059098e0b38e4e173551615f","6ab74b69ee79b769435c777bc63ca6e8ec3a405e2d61c8f9df4a209b5e2f0e7a","e750e4c0da73a4c2ca6d8a39e3f62dbd9dbe83337ccbfd9cc7c19729ab860303","688d078aaeda8b48c244eb352b00655fe285580cb39965b14b2e84a42495b3a2","a1c44b8387051cc86987935ec55bda39ecebfa208b43d742ad6af0efd89ceabe","295db4c75f8f0bb9fbbe26ab71a3f2ab6b1c71ff1bd084a5d7b13932583371bd","6b3b406f83ecbe547da60dea299c8d4e08df705b4da0c50ee51a19b0b7aa895c","f6026ae2f88860b197a3415b1b321f9e314d86037e3ab89f647abce026ce7ca1","b5b5694754fd8ab1e8c986f79ab646c3e45bdbf7963ec4175b0cf53f9718df46","201e10c4adba4ebe978b3f78cf9a7c44154af42ed216a58b470f52d91b46187c","7e4af93331cdac0dcc5d5ab563c85b032a4ea4bc09a26d15058ececeb82a2898","425915f5688520cdcf347a43953683256d267606c6ac3f45939463ad03c6c25e","645a3618d329a7be176ce0c0bfc259c2575343b8232e6e734e7b999905292667","cd0ccdddf7c7b2ae54cd5da22ffac7faa8ea75ec5fb9e8a3dd6e9a2d2b913b56","03cb2c7af1308544e43219def34b175ab7c0c7a2b8f217a42b72b92d077e3e41","ccd8543501661df11a29a64b4fb27f605c8a1d6c66ff218dc2e9d680a19d39ee","a8a0dc91adbe978cbb42524bb504353ca2ba6296fd7e30702cd1bf67bab09866","716f90e583e42b7334abacb5130b71dc94415737e975a61963ad24cca751457a","9b893a328f92e30269d6f802d1295f8b34ce94a9eeff358dc3860552bf41f3c1","64c550b351f69cd8e561bc06459734df07139c7e677f9ab1d036d4a2dc089fe2","84f56784edc4c9c36eed90f595285bf5bfa93693729676915640a59a0d68314c","b32cc44e5c84856108a21f294ee09129f8e11dd16b3d4e953e28ee1693a26d18","34cccf89f3e9af6c0cf9937f13aa7797c517fb80231e24129b7a410972f0cd23","3c0c533dd0f4090e2d26eee3e81e3285d24f7e01375973beeba3e54fd46cfc87",{"version":"409cf8770fbb9f099124e9ca744282ebfd85df2fd3650ae05c4ee3d03af66714","affectsGlobalScope":true},"c18e5155f6d915fb89813b7146e73c96300e2e0db317b68176f61c91af6ec2d2","7e88d2eef3de0e141de5c7b3140c5aade44be358a5a6ed30a7595b625868cf77","163afef94e87f2a4c0180e5ede0982a124811370e24609bd31b075abb477e1f3","e2018ab98c4d3c9604a1a8b324e5e781dda8d77c04dfd88304fcf25b57394e52","7a2e491ee5ed24b45206b4d4babc46979945a82333e80afd96b2ae8d198ff4bc","63956e9f42990675523bd04fdc35ba8e81d53998dd195a30af285b22f4615832","37148ad9f3aa2a35cb5806ca79f13fa235d54d35a00306b976dc47418157908c","b72a9b41e5ddef16d50385a50666bc546ce7f0b41c0f422cd2f7137d88dace2c","b001911fe90bb3ddc5c474ecab74bc3164a4029b5b01cc5c6cfe70faae31efe8","2075f2d624e4ded0576079e7cbd13241a6e81fdd53595ad96b678a0feab905ce","6e348ffc030456fbd854f4609af25c001f220a7403c45d562eb8258793ce738b","19faf2ac1f1fc3a95415aafee6a9a6ebb60a4f97f98319963eb25d0b046fc9d0","26040e0eb877ce51d2d432a37e55eeb33ee9281f5b13208fb7f36485eeca1961","a7fe7e88c50608567af53c49d3c59ea5f33bf5f59126d67b2a25f85eb41297ba","5c136d8b0aebdb034c68456fb6d7a94e7a2f7a533faf025708e561afa5c3c1ff","f073ae34a84410826fa152340f77fe547b426eeec25707dffc5816704330b09c","2ff9995137f3e5d68971388ec58af0c79721626323884513f9f5e2e996ac1fdd","cc957354aa3c94c9961ebf46282cfde1e81d107fc5785a61f62c67f1dd3ac2eb","1a7cc144992d79b062c22ac0309c6624dbb0d49bbddff7ea3b9daa0c17bcac0a","93de1c6dab503f053efe8d304cb522bb3a89feab8c98f307a674a4fae04773e9","3b043cf9a81854a72963fdb57d1884fc4da1cf5be69b5e0a4c5b751e58cb6d88","5426e62886b7be7806312d31a00e8f7dccd6fe63ba9bbefe99ee2eab29cc48a3","6d829824ead8999f87b6df21200df3c6150391b894b4e80662caa462bd48d073","a1c79f857f5c7754e14c93949dad8cfefcd7df2ecc0dc9dd79a30fd493e28449","16d51f964ec125ad2024cf03f0af444b3bc3ec3614d9345cc54d09bab45c9a4c","ba601641fac98c229ccd4a303f747de376d761babb33229bb7153bed9356c9cc",{"version":"d2f7baf43dfa349d4010cbd9d64d84cdf3ec26c65fa5f44c8f74f052bedd0b49","affectsGlobalScope":true},"3ebae8c00411116a66fca65b08228ea0cf0b72724701f9b854442100aab55aba","8b06ac3faeacb8484d84ddb44571d8f410697f98d7bfa86c0fda60373a9f5215","7eb06594824ada538b1d8b48c3925a83e7db792f47a081a62cf3e5c4e23cf0ee","f5638f7c2f12a9a1a57b5c41b3c1ea7db3876c003bab68e6a57afd6bcc169af0","0d14fa22c41fdc7277e6f71473b20ebc07f40f00e38875142335d5b63cdfc9d2","d8aab31ba8e618cc3eea10b0945de81cb93b7e8150a013a482332263b9305322","462bccdf75fcafc1ae8c30400c9425e1a4681db5d605d1a0edb4f990a54d8094","5923d8facbac6ecf7c84739a5c701a57af94a6f6648d6229a6c768cf28f0f8cb","7adecb2c3238794c378d336a8182d4c3dd2c4fa6fa1785e2797a3db550edea62","dc12dc0e5aa06f4e1a7692149b78f89116af823b9e1f1e4eae140cd3e0e674e6","1bfc6565b90c8771615cd8cfcf9b36efc0275e5e83ac7d9181307e96eb495161","8a8a96898906f065f296665e411f51010b51372fa260d5373bf9f64356703190","7f82ef88bdb67d9a850dd1c7cd2d690f33e0f0acd208e3c9eba086f3670d4f73",{"version":"3fe15a491a792852283caeece8142bc7427a29c183d9fec8691d95a49c8932a1","affectsGlobalScope":true},"d38e588a10943bbab1d4ce03d94759bf065ff802a9a72fc57aa75a72f1725b71","675e702f2032766a91eeadee64f51014c64688525da99dccd8178f0c599f13a8","fe4a2042d087990ebfc7dc0142d5aaf5a152e4baea86b45f283f103ec1e871ea","d70c026dd2eeaa974f430ea229230a1897fdb897dc74659deebe2afd4feeb08f","187119ff4f9553676a884e296089e131e8cc01691c546273b1d0089c3533ce42","c24ad9be9adf28f0927e3d9d9e9cec1c677022356f241ccbbfb97bfe8fb3d1a1","ca59fe42b81228a317812e95a2e72ccc8c7f1911b5f0c2a032adf41a0161ec5d","9364c7566b0be2f7b70ff5285eb34686f83ccb01bda529b82d23b2a844653bfb","00baffbe8a2f2e4875367479489b5d43b5fc1429ecb4a4cc98cfc3009095f52a","ae9930989ed57478eb03b9b80ad3efa7a3eacdfeff0f78ecf7894c4963a64f93","3c92b6dfd43cc1c2485d9eba5ff0b74a19bb8725b692773ef1d66dac48cda4bd","3e59f00ab03c33717b3130066d4debb272da90eeded4935ff0604c2bc25a5cae","df996e25faa505f85aeb294d15ebe61b399cf1d1e49959cdfaf2cc0815c203f9",{"version":"0714e2046df66c0e93c3330d30dbc0565b3e8cd3ee302cf99e4ede6220e5fec8","affectsGlobalScope":true},"209e814e8e71aec74f69686a9506dd7610b97ab59dcee9446266446f72a76d05","6fa0008bf91a4cc9c8963bace4bba0bd6865cbfa29c3e3ccc461155660fb113a","2b8264b2fefd7367e0f20e2c04eed5d3038831fe00f5efbc110ff0131aab899b","6209c901f30cc321f4b86800d11fad3d67e73a3308f19946b1bc642af0280298","8a19491eba2108d5c333c249699f40aff05ad312c04a17504573b27d91f0aede","b0d10e46cfe3f6c476b69af02eaa38e4ccc7430221ce3109ae84bb9fb8282298","bc81aff061c53a7140270555f4b22da4ecfe8601e8027cf5aa175fbdc7927c31","70e9a18da08294f75bf23e46c7d69e67634c0765d355887b9b41f0d959e1426e","6ba73232c9d3267ca36ddb83e335d474d2c0e167481e3dec416c782894e11438"],"options":{"allowSyntheticDefaultImports":true,"composite":true,"declaration":true,"declarationMap":true,"emitDecoratorMetadata":true,"esModuleInterop":true,"experimentalDecorators":true,"module":7,"noImplicitAny":false,"outDir":"./esm","rootDir":"../src","sourceMap":true,"strictNullChecks":true,"target":6},"fileIdsList":[[87,187],[87],[87,94,96,99,186],[48,87,94],[87,187,188,189,190,191],[87,187,189],[87,94],[87,105],[62,87,94],[59,62,87,94,195,196],[60,87,94],[87,199],[87,200],[87,205,210],[87,213,215,216,217,218,219,220,221,222,223,224,225],[87,213,214,216,217,218,219,220,221,222,223,224,225],[87,214,215,216,217,218,219,220,221,222,223,224,225],[87,213,214,215,217,218,219,220,221,222,223,224,225],[87,213,214,215,216,218,219,220,221,222,223,224,225],[87,213,214,215,216,217,219,220,221,222,223,224,225],[87,213,214,215,216,217,218,220,221,222,223,224,225],[87,213,214,215,216,217,218,219,221,222,223,224,225],[87,213,214,215,216,217,218,219,220,222,223,224,225],[87,213,214,215,216,217,218,219,220,221,223,224,225],[87,213,214,215,216,217,218,219,220,221,222,224,225],[87,213,214,215,216,217,218,219,220,221,222,223,225],[87,213,214,215,216,217,218,219,220,221,222,223,224],[44,87],[47,87],[48,53,87],[49,59,60,67,76,86,87],[49,50,59,67,87],[51,87],[52,53,60,68,87],[53,76,83,87],[54,56,59,67,87],[55,87],[56,57,87],[58,59,87],[59,87],[59,60,61,76,86,87],[59,60,61,76,87],[62,67,76,86,87],[59,60,62,63,67,76,83,86,87],[62,64,76,83,86,87],[44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93],[59,65,87],[66,86,87],[56,59,67,76,87],[68,87],[69,87],[47,70,87],[71,85,87,91],[72,87],[73,87],[59,74,87],[74,75,87,89],[59,76,77,78,87],[76,78,87],[76,77,87],[79,87],[80,87],[59,81,82,87],[81,82,87],[53,67,76,83,87],[84,87],[67,85,87],[48,62,73,86,87],[53,87],[76,87,88],[87,89],[87,90],[48,53,59,61,70,76,86,87,89,91],[76,87,92],[59,62,64,67,76,83,86,87,92,94],[87,233],[87,126],[87,203,206],[87,203,206,207,208],[87,205],[87,202,209],[87,204],[87,127],[87,114,116,117,118,119,120],[87,114,115],[87,116],[87,115,116],[87,114,116],[48,87,101,106,125,129,130,146,167,186],[48,87,101,108,129,130,155,167,186],[87,98,100,101,125,186],[87,101,156,157,158,159,167,168],[48,87,96,100,101,106,125,128,129,130,167,186],[48,87,97,101,129,130,186],[48,87,101,130,167,186],[87,98,101],[87,101,150,155,160,166],[87,101,146,167],[87,101,155,167],[87,101,167,173,174,175,176,177],[87,101,125,167],[87,101,167],[87,101,145,146,167,186],[87,96,99,186],[87,101,143,144,147,148,149,167],[87,96,101,125,167,186],[87,96,101,146,167,186],[87,101,161,162,163,164,165,167],[87,99,101,125,167,186],[87,96,97],[48,87,96,100],[87,96,98,99,101,103,123,124,142,167,168,172,180,182],[87,181,183],[87,96,123,142,166],[48,87,96,123],[87,96,101,104,123,125,137,138,151,154],[87,96,101,111,112],[87,96,101,113],[44,87,96,101,123,154,167],[87,96,101,110,112,113,123,139,141,155,167],[87,96,101,111,113,122,123,125,136,154,167],[87,96,101,113,123,125,131,132,133,134,135,137,140,153,154,167],[87,96,97,98,101,112,113,154],[87,96,101,112,123,131,132,133,134,135,137,152,154],[87,96,98,101,112,123,132,154],[87,96,98,101,112,122,123,132,154,155,167],[87,96,101,111,112,113,123,125,131,132,134,136,141,154,167],[87,96,101,112,131,154],[87,96,99,101,112,153,183],[87,96,101,109,130,133,154],[87,96,103,110,122],[87,96,123,142,178],[87,151,179,183],[87,96,123,142,150],[48,87,108],[87,106],[48,87],[87,102,104,107,109],[87,103],[87,97,110,122,136,138,169,171],[48,87,96,99,113,129],[87,96,99,100,170],[44,48,87,96,103,113,121,123],[87,129],[87,96],[87,96,101,103,125,142,184]],"referencedMap":[[189,1],[187,2],[100,3],[96,4],[192,5],[188,1],[190,6],[191,1],[99,7],[106,8],[193,9],[194,2],[197,10],[198,11],[199,2],[200,12],[201,13],[211,14],[212,2],[214,15],[215,16],[213,17],[216,18],[217,19],[218,20],[219,21],[220,22],[221,23],[222,24],[223,25],[224,26],[225,27],[226,2],[44,28],[45,28],[47,29],[48,30],[49,31],[50,32],[51,33],[52,34],[53,35],[54,36],[55,37],[56,38],[57,38],[58,39],[59,40],[60,41],[61,42],[46,2],[93,2],[62,43],[63,44],[64,45],[94,46],[65,47],[66,48],[67,49],[68,50],[69,51],[70,52],[71,53],[72,54],[73,55],[74,56],[75,57],[76,58],[78,59],[77,60],[79,61],[80,62],[81,63],[82,64],[83,65],[84,66],[85,67],[86,68],[87,69],[88,70],[89,71],[90,72],[91,73],[92,74],[227,2],[139,2],[228,2],[229,2],[196,2],[195,2],[230,7],[231,2],[232,75],[233,2],[234,76],[105,7],[108,2],[95,2],[125,2],[202,2],[170,2],[127,77],[111,2],[203,2],[207,78],[209,79],[208,78],[206,80],[210,81],[129,2],[126,2],[205,82],[204,2],[128,83],[114,2],[121,84],[116,85],[117,86],[118,86],[119,87],[120,87],[115,88],[184,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[43,2],[33,2],[34,2],[35,2],[36,2],[7,2],[41,2],[37,2],[38,2],[39,2],[40,2],[1,2],[42,2],[11,2],[10,2],[156,89],[157,90],[130,91],[160,92],[168,93],[158,94],[159,95],[146,96],[167,97],[175,98],[176,99],[178,100],[173,101],[174,102],[177,102],[147,103],[145,104],[148,99],[150,105],[143,106],[144,102],[149,102],[163,107],[164,99],[166,108],[161,109],[162,102],[165,102],[98,110],[101,111],[183,112],[182,113],[181,114],[124,115],[152,116],[113,117],[112,118],[155,119],[142,120],[137,121],[141,122],[131,123],[153,124],[134,125],[133,126],[140,127],[132,128],[154,129],[135,130],[123,131],[179,132],[180,133],[151,134],[109,135],[107,136],[102,137],[110,138],[104,139],[103,2],[97,2],[172,140],[136,141],[171,142],[122,143],[169,144],[138,145],[185,146],[186,2]],"exportedModulesMap":[[189,1],[187,2],[100,3],[96,4],[192,5],[188,1],[190,6],[191,1],[99,7],[106,8],[193,9],[194,2],[197,10],[198,11],[199,2],[200,12],[201,13],[211,14],[212,2],[214,15],[215,16],[213,17],[216,18],[217,19],[218,20],[219,21],[220,22],[221,23],[222,24],[223,25],[224,26],[225,27],[226,2],[44,28],[45,28],[47,29],[48,30],[49,31],[50,32],[51,33],[52,34],[53,35],[54,36],[55,37],[56,38],[57,38],[58,39],[59,40],[60,41],[61,42],[46,2],[93,2],[62,43],[63,44],[64,45],[94,46],[65,47],[66,48],[67,49],[68,50],[69,51],[70,52],[71,53],[72,54],[73,55],[74,56],[75,57],[76,58],[78,59],[77,60],[79,61],[80,62],[81,63],[82,64],[83,65],[84,66],[85,67],[86,68],[87,69],[88,70],[89,71],[90,72],[91,73],[92,74],[227,2],[139,2],[228,2],[229,2],[196,2],[195,2],[230,7],[231,2],[232,75],[233,2],[234,76],[105,7],[108,2],[95,2],[125,2],[202,2],[170,2],[127,77],[111,2],[203,2],[207,78],[209,79],[208,78],[206,80],[210,81],[129,2],[126,2],[205,82],[204,2],[128,83],[114,2],[121,84],[116,85],[117,86],[118,86],[119,87],[120,87],[115,88],[184,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[43,2],[33,2],[34,2],[35,2],[36,2],[7,2],[41,2],[37,2],[38,2],[39,2],[40,2],[1,2],[42,2],[11,2],[10,2],[156,89],[157,90],[130,91],[160,92],[168,93],[158,94],[159,95],[146,96],[167,97],[175,98],[176,99],[178,100],[173,101],[174,102],[177,102],[147,103],[145,104],[148,99],[150,105],[143,106],[144,102],[149,102],[163,107],[164,99],[166,108],[161,109],[162,102],[165,102],[98,110],[101,111],[183,112],[182,113],[181,114],[124,115],[152,116],[113,117],[112,118],[155,119],[142,120],[137,121],[141,122],[131,123],[153,124],[134,125],[133,126],[140,127],[132,128],[154,129],[135,130],[123,131],[179,132],[180,133],[151,134],[109,135],[107,136],[102,137],[110,138],[104,139],[103,2],[97,2],[172,140],[136,141],[171,142],[122,143],[169,144],[138,145],[185,146],[186,2]],"semanticDiagnosticsPerFile":[189,187,100,96,192,188,190,191,99,106,193,194,197,198,199,200,201,211,212,214,215,213,216,217,218,219,220,221,222,223,224,225,226,44,45,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,46,93,62,63,64,94,65,66,67,68,69,70,71,72,73,74,75,76,78,77,79,80,81,82,83,84,85,86,87,88,89,90,91,92,227,139,228,229,196,195,230,231,232,233,234,105,108,95,125,202,170,127,111,203,207,209,208,206,210,129,126,205,204,128,114,121,116,117,118,119,120,115,184,8,9,13,12,2,14,15,16,17,18,19,20,21,3,4,25,22,23,24,26,27,28,5,29,30,31,32,6,43,33,34,35,36,7,41,37,38,39,40,1,42,11,10,156,157,130,160,168,158,159,146,167,175,176,178,173,174,177,147,145,148,150,143,144,149,163,164,166,161,162,165,98,101,183,182,181,124,152,113,112,155,142,137,141,131,153,134,133,140,132,154,135,123,179,180,151,109,107,102,110,104,103,97,172,136,171,122,169,138,185,186]},"version":"4.6.2"}
\ No newline at end of file
+{"program":{"fileNames":["../node_modules/typescript/lib/lib.es5.d.ts","../node_modules/typescript/lib/lib.es2015.d.ts","../node_modules/typescript/lib/lib.es2016.d.ts","../node_modules/typescript/lib/lib.es2017.d.ts","../node_modules/typescript/lib/lib.es2018.d.ts","../node_modules/typescript/lib/lib.es2019.d.ts","../node_modules/typescript/lib/lib.es2020.d.ts","../node_modules/typescript/lib/lib.dom.d.ts","../node_modules/typescript/lib/lib.dom.iterable.d.ts","../node_modules/typescript/lib/lib.webworker.importscripts.d.ts","../node_modules/typescript/lib/lib.scripthost.d.ts","../node_modules/typescript/lib/lib.es2015.core.d.ts","../node_modules/typescript/lib/lib.es2015.collection.d.ts","../node_modules/typescript/lib/lib.es2015.generator.d.ts","../node_modules/typescript/lib/lib.es2015.iterable.d.ts","../node_modules/typescript/lib/lib.es2015.promise.d.ts","../node_modules/typescript/lib/lib.es2015.proxy.d.ts","../node_modules/typescript/lib/lib.es2015.reflect.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.d.ts","../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2016.array.include.d.ts","../node_modules/typescript/lib/lib.es2017.object.d.ts","../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2017.string.d.ts","../node_modules/typescript/lib/lib.es2017.intl.d.ts","../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","../node_modules/typescript/lib/lib.es2018.intl.d.ts","../node_modules/typescript/lib/lib.es2018.promise.d.ts","../node_modules/typescript/lib/lib.es2018.regexp.d.ts","../node_modules/typescript/lib/lib.es2019.array.d.ts","../node_modules/typescript/lib/lib.es2019.object.d.ts","../node_modules/typescript/lib/lib.es2019.string.d.ts","../node_modules/typescript/lib/lib.es2019.symbol.d.ts","../node_modules/typescript/lib/lib.es2020.bigint.d.ts","../node_modules/typescript/lib/lib.es2020.date.d.ts","../node_modules/typescript/lib/lib.es2020.promise.d.ts","../node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","../node_modules/typescript/lib/lib.es2020.string.d.ts","../node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","../node_modules/typescript/lib/lib.es2020.intl.d.ts","../node_modules/typescript/lib/lib.es2020.number.d.ts","../node_modules/typescript/lib/lib.esnext.intl.d.ts","../node_modules/typescript/lib/lib.es2019.full.d.ts","../node_modules/@types/node/ts4.8/assert.d.ts","../node_modules/@types/node/ts4.8/assert/strict.d.ts","../node_modules/@types/node/ts4.8/globals.d.ts","../node_modules/@types/node/ts4.8/async_hooks.d.ts","../node_modules/@types/node/ts4.8/buffer.d.ts","../node_modules/@types/node/ts4.8/child_process.d.ts","../node_modules/@types/node/ts4.8/cluster.d.ts","../node_modules/@types/node/ts4.8/console.d.ts","../node_modules/@types/node/ts4.8/constants.d.ts","../node_modules/@types/node/ts4.8/crypto.d.ts","../node_modules/@types/node/ts4.8/dgram.d.ts","../node_modules/@types/node/ts4.8/diagnostics_channel.d.ts","../node_modules/@types/node/ts4.8/dns.d.ts","../node_modules/@types/node/ts4.8/dns/promises.d.ts","../node_modules/@types/node/ts4.8/domain.d.ts","../node_modules/@types/node/ts4.8/dom-events.d.ts","../node_modules/@types/node/ts4.8/events.d.ts","../node_modules/@types/node/ts4.8/fs.d.ts","../node_modules/@types/node/ts4.8/fs/promises.d.ts","../node_modules/@types/node/ts4.8/http.d.ts","../node_modules/@types/node/ts4.8/http2.d.ts","../node_modules/@types/node/ts4.8/https.d.ts","../node_modules/@types/node/ts4.8/inspector.d.ts","../node_modules/@types/node/ts4.8/module.d.ts","../node_modules/@types/node/ts4.8/net.d.ts","../node_modules/@types/node/ts4.8/os.d.ts","../node_modules/@types/node/ts4.8/path.d.ts","../node_modules/@types/node/ts4.8/perf_hooks.d.ts","../node_modules/@types/node/ts4.8/process.d.ts","../node_modules/@types/node/ts4.8/punycode.d.ts","../node_modules/@types/node/ts4.8/querystring.d.ts","../node_modules/@types/node/ts4.8/readline.d.ts","../node_modules/@types/node/ts4.8/readline/promises.d.ts","../node_modules/@types/node/ts4.8/repl.d.ts","../node_modules/@types/node/ts4.8/stream.d.ts","../node_modules/@types/node/ts4.8/stream/promises.d.ts","../node_modules/@types/node/ts4.8/stream/consumers.d.ts","../node_modules/@types/node/ts4.8/stream/web.d.ts","../node_modules/@types/node/ts4.8/string_decoder.d.ts","../node_modules/@types/node/ts4.8/test.d.ts","../node_modules/@types/node/ts4.8/timers.d.ts","../node_modules/@types/node/ts4.8/timers/promises.d.ts","../node_modules/@types/node/ts4.8/tls.d.ts","../node_modules/@types/node/ts4.8/trace_events.d.ts","../node_modules/@types/node/ts4.8/tty.d.ts","../node_modules/@types/node/ts4.8/url.d.ts","../node_modules/@types/node/ts4.8/util.d.ts","../node_modules/@types/node/ts4.8/v8.d.ts","../node_modules/@types/node/ts4.8/vm.d.ts","../node_modules/@types/node/ts4.8/wasi.d.ts","../node_modules/@types/node/ts4.8/worker_threads.d.ts","../node_modules/@types/node/ts4.8/zlib.d.ts","../node_modules/@types/node/ts4.8/globals.global.d.ts","../node_modules/@types/node/ts4.8/index.d.ts","../node_modules/buffer/index.d.ts","../node_modules/@solana/web3.js/lib/index.d.ts","../src/utils/features.ts","../src/error.ts","../node_modules/@types/bn.js/index.d.ts","../node_modules/@project-serum/borsh/dist/lib/index.d.ts","../src/idl.ts","../src/utils/common.ts","../src/utils/bytes/hex.ts","../src/utils/bytes/utf8.ts","../node_modules/bs58/node_modules/base-x/src/index.d.ts","../node_modules/bs58/index.d.ts","../src/utils/bytes/bs58.ts","../node_modules/base64-js/index.d.ts","../src/utils/bytes/base64.ts","../src/utils/bytes/buffer.ts","../src/utils/bytes/index.ts","../node_modules/superstruct/lib/error.d.ts","../node_modules/superstruct/lib/utils.d.ts","../node_modules/superstruct/lib/struct.d.ts","../node_modules/superstruct/lib/structs/coercions.d.ts","../node_modules/superstruct/lib/structs/refinements.d.ts","../node_modules/superstruct/lib/structs/types.d.ts","../node_modules/superstruct/lib/structs/utilities.d.ts","../node_modules/superstruct/lib/index.d.ts","../src/utils/simulate.ts","../src/wallet.ts","../src/provider.ts","../node_modules/@juici/case/types/generated/unicode.d.ts","../node_modules/@juici/case/types/generated/utf16.d.ts","../node_modules/@juici/case/types/string.d.ts","../node_modules/@juici/case/types/transform.d.ts","../node_modules/@juici/case/types/index.d.ts","../node_modules/js-sha256/index.d.ts","../src/coder/borsh/idl.ts","../node_modules/eventemitter3/index.d.ts","../src/program/common.ts","../src/program/context.ts","../src/program/namespace/instruction.ts","../src/program/namespace/transaction.ts","../src/utils/rpc.ts","../src/program/namespace/simulate.ts","../src/program/namespace/rpc.ts","../src/program/namespace/views.ts","../src/utils/pubkey.ts","../src/program/namespace/account.ts","../src/utils/token.ts","../src/spl/token/idl.ts","../src/coder/common.ts","../src/coder/spl-token/instruction.ts","../src/coder/spl-token/state.ts","../src/coder/spl-token/buffer-layout.ts","../src/coder/spl-token/accounts.ts","../src/coder/spl-token/events.ts","../src/coder/spl-token/types.ts","../src/coder/spl-token/index.ts","../src/program/accounts-resolver.ts","../src/program/namespace/methods.ts","../src/program/namespace/types.ts","../src/program/event.ts","../src/coder/borsh/accounts.ts","../src/coder/borsh/event.ts","../src/coder/borsh/state.ts","../src/coder/borsh/types.ts","../src/coder/borsh/index.ts","../src/coder/system/instruction.ts","../src/coder/system/state.ts","../src/coder/system/accounts.ts","../src/coder/system/events.ts","../src/coder/system/types.ts","../src/coder/system/index.ts","../src/coder/index.ts","../src/coder/borsh/instruction.ts","../src/utils/sha256.ts","../node_modules/cross-fetch/index.d.ts","../src/utils/registry.ts","../src/utils/index.ts","../node_modules/@types/pako/index.d.ts","../src/program/namespace/state.ts","../src/program/namespace/index.ts","../src/program/index.ts","../src/coder/spl-associated-token/instruction.ts","../src/coder/spl-associated-token/state.ts","../src/coder/spl-associated-token/accounts.ts","../src/coder/spl-associated-token/events.ts","../src/coder/spl-associated-token/types.ts","../src/coder/spl-associated-token/index.ts","../src/spl/associated-token.ts","../src/spl/token/index.ts","../src/spl/index.ts","../src/native/system.ts","../src/native/index.ts","../src/index.ts","../node_modules/toml/index.d.ts","../src/workspace.ts","../node_modules/@solana/buffer-layout/node_modules/buffer/index.d.ts","../node_modules/@solana/buffer-layout/lib/Layout.d.ts","../types/borsh/index.d.ts","../types/buffer-layout/index.d.ts","../node_modules/@babel/types/lib/index.d.ts","../node_modules/@types/babel__generator/index.d.ts","../node_modules/@babel/parser/typings/babel-parser.d.ts","../node_modules/@types/babel__template/index.d.ts","../node_modules/@types/babel__traverse/index.d.ts","../node_modules/@types/babel__core/index.d.ts","../node_modules/base-x/src/index.d.ts","../node_modules/@types/bs58/index.d.ts","../node_modules/@types/connect/index.d.ts","../node_modules/@types/estree/index.d.ts","../node_modules/@types/graceful-fs/index.d.ts","../node_modules/@types/istanbul-lib-coverage/index.d.ts","../node_modules/@types/istanbul-lib-report/index.d.ts","../node_modules/@types/istanbul-reports/index.d.ts","../node_modules/chalk/index.d.ts","../node_modules/jest-diff/build/cleanupSemantic.d.ts","../node_modules/pretty-format/build/types.d.ts","../node_modules/pretty-format/build/index.d.ts","../node_modules/jest-diff/build/types.d.ts","../node_modules/jest-diff/build/diffLines.d.ts","../node_modules/jest-diff/build/printDiffs.d.ts","../node_modules/jest-diff/build/index.d.ts","../node_modules/jest-matcher-utils/build/index.d.ts","../node_modules/@types/jest/index.d.ts","../node_modules/@types/json-schema/index.d.ts","../node_modules/@types/minimist/index.d.ts","../node_modules/@types/normalize-package-data/index.d.ts","../node_modules/@types/parse-json/index.d.ts","../node_modules/@types/prettier/index.d.ts","../node_modules/@types/resolve/index.d.ts","../node_modules/@types/stack-utils/index.d.ts","../node_modules/@types/ws/index.d.ts","../node_modules/@types/yargs-parser/index.d.ts","../node_modules/@types/yargs/index.d.ts"],"fileInfos":[{"version":"f20c05dbfe50a208301d2a1da37b9931bce0466eb5a1f4fe240971b4ecc82b67","affectsGlobalScope":true},"dc47c4fa66b9b9890cf076304de2a9c5201e94b740cffdf09f87296d877d71f6","7a387c58583dfca701b6c85e0adaf43fb17d590fb16d5b2dc0a2fbd89f35c467","8a12173c586e95f4433e0c6dc446bc88346be73ffe9ca6eec7aa63c8f3dca7f9","5f4e733ced4e129482ae2186aae29fde948ab7182844c3a5a51dd346182c7b06","e6b724280c694a9f588847f754198fb96c43d805f065c3a5b28bbc9594541c84","1fc5ab7a764205c68fa10d381b08417795fc73111d6dd16b5b1ed36badb743d9",{"version":"9b087de7268e4efc5f215347a62656663933d63c0b1d7b624913240367b999ea","affectsGlobalScope":true},{"version":"3260e3386d9535b804205bdddb5618a9a27735bd22927f48ad54363abcd23d45","affectsGlobalScope":true},{"version":"7fac8cb5fc820bc2a59ae11ef1c5b38d3832c6d0dfaec5acdb5569137d09a481","affectsGlobalScope":true},{"version":"097a57355ded99c68e6df1b738990448e0bf170e606707df5a7c0481ff2427cd","affectsGlobalScope":true},{"version":"adb996790133eb33b33aadb9c09f15c2c575e71fb57a62de8bf74dbf59ec7dfb","affectsGlobalScope":true},{"version":"8cc8c5a3bac513368b0157f3d8b31cfdcfe78b56d3724f30f80ed9715e404af8","affectsGlobalScope":true},{"version":"cdccba9a388c2ee3fd6ad4018c640a471a6c060e96f1232062223063b0a5ac6a","affectsGlobalScope":true},{"version":"c5c05907c02476e4bde6b7e76a79ffcd948aedd14b6a8f56e4674221b0417398","affectsGlobalScope":true},{"version":"0d5f52b3174bee6edb81260ebcd792692c32c81fd55499d69531496f3f2b25e7","affectsGlobalScope":true},{"version":"55f400eec64d17e888e278f4def2f254b41b89515d3b88ad75d5e05f019daddd","affectsGlobalScope":true},{"version":"181f1784c6c10b751631b24ce60c7f78b20665db4550b335be179217bacc0d5f","affectsGlobalScope":true},{"version":"3013574108c36fd3aaca79764002b3717da09725a36a6fc02eac386593110f93","affectsGlobalScope":true},{"version":"75ec0bdd727d887f1b79ed6619412ea72ba3c81d92d0787ccb64bab18d261f14","affectsGlobalScope":true},{"version":"3be5a1453daa63e031d266bf342f3943603873d890ab8b9ada95e22389389006","affectsGlobalScope":true},{"version":"17bb1fc99591b00515502d264fa55dc8370c45c5298f4a5c2083557dccba5a2a","affectsGlobalScope":true},{"version":"7ce9f0bde3307ca1f944119f6365f2d776d281a393b576a18a2f2893a2d75c98","affectsGlobalScope":true},{"version":"6a6b173e739a6a99629a8594bfb294cc7329bfb7b227f12e1f7c11bc163b8577","affectsGlobalScope":true},{"version":"81cac4cbc92c0c839c70f8ffb94eb61e2d32dc1c3cf6d95844ca099463cf37ea","affectsGlobalScope":true},{"version":"b0124885ef82641903d232172577f2ceb5d3e60aed4da1153bab4221e1f6dd4e","affectsGlobalScope":true},{"version":"0eb85d6c590b0d577919a79e0084fa1744c1beba6fd0d4e951432fa1ede5510a","affectsGlobalScope":true},{"version":"da233fc1c8a377ba9e0bed690a73c290d843c2c3d23a7bd7ec5cd3d7d73ba1e0","affectsGlobalScope":true},{"version":"d154ea5bb7f7f9001ed9153e876b2d5b8f5c2bb9ec02b3ae0d239ec769f1f2ae","affectsGlobalScope":true},{"version":"bb2d3fb05a1d2ffbca947cc7cbc95d23e1d053d6595391bd325deb265a18d36c","affectsGlobalScope":true},{"version":"c80df75850fea5caa2afe43b9949338ce4e2de086f91713e9af1a06f973872b8","affectsGlobalScope":true},{"version":"9d57b2b5d15838ed094aa9ff1299eecef40b190722eb619bac4616657a05f951","affectsGlobalScope":true},{"version":"6c51b5dd26a2c31dbf37f00cfc32b2aa6a92e19c995aefb5b97a3a64f1ac99de","affectsGlobalScope":true},{"version":"6e7997ef61de3132e4d4b2250e75343f487903ddf5370e7ce33cf1b9db9a63ed","affectsGlobalScope":true},{"version":"2ad234885a4240522efccd77de6c7d99eecf9b4de0914adb9a35c0c22433f993","affectsGlobalScope":true},{"version":"09aa50414b80c023553090e2f53827f007a301bc34b0495bfb2c3c08ab9ad1eb","affectsGlobalScope":true},{"version":"d7f680a43f8cd12a6b6122c07c54ba40952b0c8aa140dcfcf32eb9e6cb028596","affectsGlobalScope":true},{"version":"3787b83e297de7c315d55d4a7c546ae28e5f6c0a361b7a1dcec1f1f50a54ef11","affectsGlobalScope":true},{"version":"e7e8e1d368290e9295ef18ca23f405cf40d5456fa9f20db6373a61ca45f75f40","affectsGlobalScope":true},{"version":"faf0221ae0465363c842ce6aa8a0cbda5d9296940a8e26c86e04cc4081eea21e","affectsGlobalScope":true},{"version":"06393d13ea207a1bfe08ec8d7be562549c5e2da8983f2ee074e00002629d1871","affectsGlobalScope":true},{"version":"775d9c9fd150d5de79e0450f35bc8b8f94ae64e3eb5da12725ff2a649dccc777","affectsGlobalScope":true},{"version":"b248e32ca52e8f5571390a4142558ae4f203ae2f94d5bac38a3084d529ef4e58","affectsGlobalScope":true},{"version":"52d1bb7ab7a3306fd0375c8bff560feed26ed676a5b0457fa8027b563aecb9a4","affectsGlobalScope":true},"1f03b495671c3a1bd24510f38b8947f0991dfd6bf0278c68eca14af15b306e1f","9122ed7070e054b73ebab37c2373a196def2d90e7d1a9a7fcd9d46b0e51fae78","a69c09dbea52352f479d3e7ac949fde3d17b195abe90b045d619f747b38d6d1a",{"version":"02873d070f9cb79f50833fbf4a9a27ac578a2edf8ddb8421eba1b37faba83bfb","affectsGlobalScope":true},"21a167fec8f933752fb8157f06d28fab6817af3ad9b0bdb1908a10762391eab9",{"version":"e9d541cf4452ff2a5543c2d8a220f645b094b5e2b6cf7c5dd2a8cb54e8731f31","affectsGlobalScope":true},"0c0cee62cb619aed81133b904f644515ba3064487002a7da83fd8aa07b1b4abd","5a94487653355b56018122d92392beb2e5f4a6c63ba5cef83bbe1c99775ef713",{"version":"d5135ad93b33adcce80b18f8065087934cdc1730d63db58562edcf017e1aad9b","affectsGlobalScope":true},"82408ed3e959ddc60d3e9904481b5a8dc16469928257af22a3f7d1a3bc7fd8c4","93a195fae9f7275e1a0631acffdfae49bb285d96fc8f7f606cb6eb7516dd03f5","bb9c4ffa5e6290c6980b63c815cdd1625876dadb2efaf77edbe82984be93e55e","75ecef44f126e2ae018b4abbd85b6e8a2e2ba1638ebec56cc64274643ce3567b","f30bb836526d930a74593f7b0f5c1c46d10856415a8f69e5e2fc3db80371e362","14b5aa23c5d0ae1907bc696ac7b6915d88f7d85799cc0dc2dcf98fbce2c5a67c","5c439dafdc09abe4d6c260a96b822fa0ba5be7203c71a63ab1f1423cd9e838ea",{"version":"9b4e8e95e480a6ef470e0b0e1eaea9d986011d4dc05267dcc9edfaa6d22e7cd1","affectsGlobalScope":true},{"version":"816ad2e607a96de5bcac7d437f843f5afd8957f1fa5eefa6bba8e4ed7ca8fd84","affectsGlobalScope":true},"cec36af22f514322f870e81d30675c78df82ae8bf4863f5fd4e4424c040c678d","d903fafe96674bc0b2ac38a5be4a8fc07b14c2548d1cdb165a80ea24c44c0c54","fa68e523cb5d3c2f1f02a94ea8ba2a61a9d1c88dc3c163e411311a826be1f9f3","04eb6578a588d6a46f50299b55f30e3a04ef27d0c5a46c57d8fcc211cd530faa","dbe5aa5a5dd8bd1c6a8d11b1310c3f0cdabaacc78a37b394a8c7b14faeb5fb84","2c828a5405191d006115ab34e191b8474bc6c86ffdc401d1a9864b1b6e088a58",{"version":"e8b18c6385ff784228a6f369694fcf1a6b475355ba89090a88de13587a9391d5","affectsGlobalScope":true},"d4ac44f01d42f541631c5fc88d0ed8efac29a3a3ad9a745d9fd58f8b61ed132e","7c013aa892414a7fdcfd861ae524a668eaa3ede8c7c0acafaf611948122c8d93","b0973c3cbcdc59b37bf477731d468696ecaf442593ec51bab497a613a580fe30",{"version":"4989e92ba5b69b182d2caaea6295af52b7dc73a4f7a2e336a676722884e7139d","affectsGlobalScope":true},{"version":"b3624aed92dab6da8484280d3cb3e2f4130ec3f4ef3f8201c95144ae9e898bb6","affectsGlobalScope":true},"5153a2fd150e46ce57bb3f8db1318d33f6ad3261ed70ceeff92281c0608c74a3","d1a78a3c5708807e8de3e399f91df4797c62e44b02195eefc2209b2e713e54ee","36b03690b628eab08703d63f04eaa89c5df202e5f1edf3989f13ad389cd2c091","0effadd232a20498b11308058e334d3339cc5bf8c4c858393e38d9d4c0013dcf","25846d43937c672bab7e8195f3d881f93495df712ee901860effc109918938cc","3163f47436da41706c6e2b3c1511f3b7cce9f9f3905b2f3e01246c48b4ba7d14","1b952304137851e45bc009785de89ada562d9376177c97e37702e39e60c2f1ff","69ee23dd0d215b09907ad30d23f88b7790c93329d1faf31d7835552a10cf7cbf","44b8b584a338b190a59f4f6929d072431950c7bd92ec2694821c11bce180c8a5","23b89798789dffbd437c0c423f5d02d11f9736aea73d6abf16db4f812ff36eda","24ad30a03d6c9266b63540956868dd70fa2dc523d60d780d6586eb0c281946bc",{"version":"970a90f76d4d219ad60819d61f5994514087ba94c985647a3474a5a3d12714ed","affectsGlobalScope":true},"664d8f2d59164f2e08c543981453893bc7e003e4dfd29651ce09db13e9457980","4c8525f256873c7ba3135338c647eaf0ca7115a1a2805ae2d0056629461186ce","3c13ef48634e7b5012fcf7e8fce7496352c2d779a7201389ca96a2a81ee4314d","5d0a25ec910fa36595f85a67ac992d7a53dd4064a1ba6aea1c9f14ab73a023f2",{"version":"f0900cd5d00fe1263ff41201fb8073dbeb984397e4af3b8002a5c207a30bdc33","affectsGlobalScope":true},{"version":"f7db71191aa7aac5d6bc927ed6e7075c2763d22c7238227ec0c63c8cf5cb6a8b","affectsGlobalScope":true},"06d7c42d256f0ce6afe1b2b6cfbc97ab391f29dadb00dd0ae8e8f23f5bc916c3","ec4bd1b200670fb567920db572d6701ed42a9641d09c4ff6869768c8f81b404c","e59a892d87e72733e2a9ca21611b9beb52977be2696c7ba4b216cbbb9a48f5aa",{"version":"da26af7362f53d122283bc69fed862b9a9fe27e01bc6a69d1d682e0e5a4df3e6","affectsGlobalScope":true},"8a300fa9b698845a1f9c41ecbe2c5966634582a8e2020d51abcace9b55aa959e",{"version":"ab9b9a36e5284fd8d3bf2f7d5fcbc60052f25f27e4d20954782099282c60d23e","affectsGlobalScope":true},"652ee9c5103e89102d87bc20d167a02a0e3e5e53665674466c8cfea8a9e418c7","8e9c23ba78aabc2e0a27033f18737a6df754067731e69dc5f52823957d60a4b6","4c34ad9d2a313d53705da7e2ea146e6e5ad4939dd3d4d3b998f6dd61e5446096",{"version":"befdefdd77a07b1f920d713f4b4421b164675b8b0e046c13a9964517986c0e43","signature":"5c8a7c35b3ededbbf0b7ddbd5e99a50061d424946da2ed5abbbbbdb3989effd0"},{"version":"a86dc7b80fe9ae9c249c238b804b021ef3f62a1147ad7b2d311e25ff59f00e8c","signature":"8b7564d78dd27e5c40f038069bd7fafe3686fa4812f5bf35d0e39f485cbed6f6"},"bc6dd50ac2fc9a7ca6488811b116bd0ddd606338db0bb97852c8fcf757e2d7f5","fd741c46337e33810601102c64ae65bc75e371900ed0f97c7f11e1afe4af1b71",{"version":"382a738e15f89ae278979d9cb9ff787d548d1823bcfeffac3970765af91b3323","signature":"7650deb800835c9840c8f41fa24bc686c39fdaa14bbfb194044f5cbaba2ce62c"},{"version":"5084f1b4f39624ea996a5592b63035abc2ca41b567884c25cd117992e0910c1e","signature":"f39698935ba1c86f1e5f26ef3155c5d2f7ef2d269d02b0465825d3cadd86d7a1"},{"version":"35ffd71b66f8e57858ef043f6b71e27d5f96ff2f1e2c344f5757864e27c4b8a1","signature":"2ac98cf7e22ea906eacd1877528ebd04380c7410d4c40824168ad1e6d4030fdf"},{"version":"c3d5c4f1658d398a91161bdae314c8a44f4b3adb2f2f02f5327feab6266a16b0","signature":"4187ffd3773d7c4607b1ad977e8dd68626b1cd6ae8668ac5d88f1693c582b80d"},"a3c89483a38d76c77a13b69b268a9e5d13abcdf0957ca3f28c9702c47ce8050f","40ec7e761ea0ddfc0add7aedb95dacfc579b25010ed0e2190abc1d34bb67f81e",{"version":"3daac099d3e4317eaab9edca5d432e4c3a359771561a1ffcf9857f4118d763af","signature":"d034b8b804ed5a4e8bdade82559d20b1e91fe4fbaf432df5bca19c250f2c2b7c"},"96da6c81cd788939a7cf6546ea1f65ab5ca38952e5bd7d8c284bfe1f3c22dce7",{"version":"080db29be3b8348f57e61e9ea5a7dc44f07b7fa68b2d137b9c21aed76f42747d","signature":"2ac98cf7e22ea906eacd1877528ebd04380c7410d4c40824168ad1e6d4030fdf"},{"version":"5f6f1917021f1151785ebcbf76c5e1a8fae7798d30eddaf3325078e6ae79ff98","signature":"06220791ee97c034df78256437c134c7c804d7bac1ec915dac01a5b4faecd936"},{"version":"a08a5705aad5d453fc8aa3627ded9340b6552be25f49ea37b3b37faa87c5afe0","signature":"d0ba96286d352ddc9a7cef109166bf51d562c79315ad183a8e4884dc803861ff"},"51c7e7813dd1c1e7b5144ebff587c97bf8022bb2d6e12c6b3c4e3597686b8bd8","204f41659a02170064f953786aa397d89a0c095eb766f942902acb32780cabdc","193e45dd974dff7630cec4c07aa73963458dc9d137778a5890ae7532e1b71e48","a50599c08934a62f11657bdbe0dc929ab66da1b1f09974408fd9a33ec1bb8060","5a20e7d6c630b91be15e9b837853173829d00273197481dc8d3e94df61105a71","8d478048d71cc16f806d4b71b252ecb67c7444ccf4f4b09b29a312712184f859","b4000a0a525fa921e896cbdb32ae802c9684f0fd371b5fc69e7310f7918cc2c3","9df4662ca3dbc2522bc115833ee04faa1afbb4e249a85ef4a0a09c621346bd08",{"version":"3de95f953e99a586d7f5e587ef3043acffeb22d863cbe82ff4f8966e308d1065","signature":"6429a3d6ae0322ae922b944094e3f7fcfa371f2346225da9f757f18d4f74d770"},{"version":"bd2b80d05513d3dc66d93a21169eafd517bf9ed46e69986de87dad4555cf28c4","signature":"053cefb34a3c33ce9c769965eddff78ce2bb7dc118c84250206da10e70f9b506"},{"version":"d0ce2f87d6092cb4c7f14e2abe9d9f99a28ec12ddca144ab4137764d1cd8bd69","signature":"0a88ce1832850d453ec0709ec35e2e15a64381e4cf7e72efaf9cab3f6e03b67f"},"0a0369924232cb369c4a5e2befb4e29d2fe0f192881bc3f168de8dafbe609095","7ff2f9be9be7f8b4f8a1833941a128ca71f66ccdc2d0efdb148525ab282048be","2ff973968cd1f5d737adcc8021972b8a84b3e4bf4962465541299050d58e921b","7a009c59392ac7fd557cdf76eabaa92f1b068dee3f91c5c4bc6c006cba1a4ddd","b23eaaa7e972f765b04ac4c0608cd0a933370e297a3d230531512541436f7fe3","0afbe91142eb631d6f31be624cf8a550b03736bfd22b0f309405a6fe4d4c9517",{"version":"c758d45ab74fe2e45ccf82783df246d03a2fcdf538f2abaf688ab88fdb55d0d4","signature":"bbe0fc14e0acb87010bd2bcb7bdfb1e903eb4a925c7dcd7b3f180b18b632f6da"},"b80c780c52524beb13488942543972c8b0e54400e8b59cee0169f38d0fabb968",{"version":"f8586e5573f873a79bfb0cb8cd701692d9bb87e5b0e2aafa91cce103607a2255","signature":"5c96dbcd7152cabe5846cdfe0b4828306f6113325f420093354053c5d5bcb191"},{"version":"1da6be75a3cce6731f31fad8b835f60f7935a868d67bf0b87092c9b5a783e4a6","signature":"84b34424d9828e8417723e68fa216af370f6579c822aad9249bb438273ce6280"},{"version":"075ef13a8afba3257860d243e05a045201bbe0c4b766eecc5725b38ac9c9dcb5","signature":"f9bdc250bcd81fb1d636fffa9cd36b5366e297bf2116c21a79d5845b190d885c"},{"version":"6090cf36676b6fd34a36d8173555877a92ac34df8b46166e53a9877d5dfb5064","signature":"f361e8d157342cd469483e15fc3a5c0788eea6218f3df079ce93ea42a437387c"},{"version":"ab467df03547108ee11650189c009d7594767ff60ed4895d8689be3a34a9de0e","signature":"bf003410f1e2df26112c1e26b2de4d90cd598444fbad41ac4b5338b9fb19cdb0"},{"version":"8846555aabca9babf10903bf9ae604fbb7d9d05cb4c66ccd02cd45b316ddd486","signature":"ec941fc2f14c8d12efb7a5def6e72532404a3770e7372f0f701721ca8afea739"},{"version":"fc949b2600d04a7afb9ae316c3dd62471557647a41e92683fdcfae21d60e77a9","signature":"4af54bdccf329506099cc2796e6e96713334ecb1143314ce5b08ddacc24bee8e"},{"version":"b5c1855d9246aabceb807d53c91227a8b83547fdba3ae4dffb67c30bd0b5fe53","signature":"9912e25af397d90c58b896877a11588b8d33af19b57bc03518e8555238aae71d"},{"version":"7c6b9a04c866eefe3eb2521035b064c31a1cfb59fd44f012234b330aa8812f2c","signature":"40ae80170fbb5619e22ae07f9bdb51fce8957d4ae6cf80f72805d28ddfcb2437"},{"version":"3af8279b39595d75cf8655e44661c1f2c5d72a763491110e43dec0772bff0eb5","signature":"fbcd61a941d7265f812f71d8dd0c5d264942c1ce333f174f79355a45966ea960"},{"version":"629c630b3f303efe570a298124d237ab68c09994beffce1eb9721a0eabf66db7","signature":"c6e1ef92f4ad545d2f7ee8c45f17bbd0275a9e11a11e576655c704e6f56b9cd6"},{"version":"e66ab9c20c542d4fca4ed5e85c1d1ba83fa690386891118bbf1650ffac667550","signature":"8673f732e5a8cb710b6f46c930797aee1027b0655b58c644bb04cf77517a7237"},{"version":"9632669de226fd1385c390180a355c9a2db22f1379dc4e5e28519983be98b351","signature":"21147130f76eff30e6bac0efcec30a2cd4b0275a235b345d972bc7b61f8c161e"},{"version":"3229621359707181178a3a8a276f69111af39fcf9a9b5e630b90ebbcf3ad86e1","signature":"bfbb4c88338b95823f65b52a7c61caaece2d06cccc14f5a17b08078cf4f6a193"},{"version":"4051211200d783c8491ccd6bfadbfed4458bdf620a59511f10f6cd724ac831e3","signature":"882cd511efb95dc1f1cf945987b9bdcd9938c5a5380da3bacf175305dd33fb76"},{"version":"ac8360b6e25f0f019a2b6f36d5d6c14b1e409cc552e299165d898ba5db827641","signature":"2e6b77d6c338b4c16ef5002171e7dcc9fe9a5bf2f81aa6e2749a50d27353d216"},{"version":"7e5e0c64f727928e9807072e62537d90587c5d959dd7f06b931ce9af45ac7e27","signature":"e49a5171442aeb881d409f6b6c6e0492bc8fe991d16e6e1231ac852c91176343"},{"version":"e750e4c0da73a4c2ca6d8a39e3f62dbd9dbe83337ccbfd9cc7c19729ab860303","signature":"58a6284757cca578954f44df7e53e1e4fcaa2246d3a19d0b5f1d73c4b22e22f9"},{"version":"688d078aaeda8b48c244eb352b00655fe285580cb39965b14b2e84a42495b3a2","signature":"c8df9910ac2564f6def47cb4244b96604133b7e8e895a5413b9644819cd6d161"},{"version":"a1c44b8387051cc86987935ec55bda39ecebfa208b43d742ad6af0efd89ceabe","signature":"456ab07143636dd2234125334f9d03abefcaf5465f4a7c531e83d811e0293f19"},{"version":"5ef6b6b8561a2c34d345c4747eb78ac5fa3841cac8933cd9fdcec37dd0c66b9a","signature":"0f2a5208f196cc5f74dc1dca519543c093a1b6d18d03e5f5eace58b905c9213c"},{"version":"f6026ae2f88860b197a3415b1b321f9e314d86037e3ab89f647abce026ce7ca1","signature":"ab3854ce72f9ba550fe48ed6cd00472d542c99b1585b3613b976896333cf8866"},{"version":"7e3fdad269c90f5521af9051efe6b1cc7b95c877e8615d25a133dfee64533e24","signature":"7e0708bc62c1103527a33968ede597c964b65a45d8d30596480ffbf3e5c65e06"},{"version":"201e10c4adba4ebe978b3f78cf9a7c44154af42ed216a58b470f52d91b46187c","signature":"a2aeea2eb4d0a627be088a533c381a31e1193a34fc633cde6580b6f15658c2c6"},{"version":"f3700d8afe2242239c1ebb64dc4cf7522100e051bb1c89c74a5ac600641e876f","signature":"ee905257910e0a6431f7eee1eb0a7b0422845fa0b42f6dc1b49e675a8226ab75"},{"version":"ee9557a0fe8e8bd1821611be9c330db207540f8f641716a504eaa1db2f29aa94","signature":"8e01e287b56913065001a22aeee30f6f2f399f58040d1f10fa8b845684310695"},{"version":"8115c4f3cd77c71e405c3aa3c706a8fe0b97ac1a709f833e1b373f3b9909af69","signature":"4584cd079c6253edd6b8fda7986c58b74d03c353b6c4978aa4c985a0bbe48e5a"},{"version":"0adb04636c1474cbddd989eee787f3ac41089523b934723f6150dc0680fd7575","signature":"3fbb9b0c794b6c31090dfe45b70e7bd33f651f6ba8c607f5949199b0fee40bd4"},{"version":"4452bfc71b360a582e2578b7a5bb1ed2a6cf2e04b10c6555e3d8a1941ed41edb","signature":"d2ceb3ab4dc4a3cdfa1fdc8295d3ffc97c319eefda609b89d49da49aa3eb7214"},{"version":"40edff6b80b5f26936cdde9070638c6675607c73e1a1998d92d2e83403e37825","signature":"7a92f7903930c996524338a93867918fb6d1d5b34175fc7f46e346038e988719"},{"version":"a8a0dc91adbe978cbb42524bb504353ca2ba6296fd7e30702cd1bf67bab09866","signature":"46397f1929532194085ce244458925ba6b374606eb6e523b0df29ce0e339c255"},{"version":"8ca89b4c40083b8294e9e6cec768028811a0205ba9e3649e39222192dc912074","signature":"96226de9300f3f7999727bc17ec45e0174de9148636131476f1fbfb132cee992"},{"version":"9b893a328f92e30269d6f802d1295f8b34ce94a9eeff358dc3860552bf41f3c1","signature":"0c609838f7b5a10b03fef513bbfd7d056bf0e6fb0cfae6baa0be1d85341dc295"},{"version":"64c550b351f69cd8e561bc06459734df07139c7e677f9ab1d036d4a2dc089fe2","signature":"feaf1e039bd3c3229dcdfa1ab7cd435572fe5e088b7b527f4e2eb366b378f30b"},{"version":"84f56784edc4c9c36eed90f595285bf5bfa93693729676915640a59a0d68314c","signature":"d859f59d6e0207221afe60fdc41b4ba2afad5424027c86369399f8081ff0eaa6"},{"version":"4899a9fb8af92394e716a597b504a260c3ca085bde4a85a97e13b74b4adcfa6a","signature":"c7fbf0a5085492d743b0f2eb118050316d3fb1f6777131c8206d106ab5dc4581"},{"version":"1e5b35f3725dbbb74a55f25283b13fc4f25017cb429380793f9fa67d6dac2b8c","signature":"3424887c366944908368061895237ad5431922c24ee490bad728dc585767c359"},{"version":"7e05a3e4112bac9904af5908cd19143ca0c85cef107c48acae8546e102467d2e","signature":"6576df814a036dd0a40d16b554e1fe7e215478ddb021055e713d9929dd10f80e"},{"version":"409cf8770fbb9f099124e9ca744282ebfd85df2fd3650ae05c4ee3d03af66714","affectsGlobalScope":true},{"version":"c18e5155f6d915fb89813b7146e73c96300e2e0db317b68176f61c91af6ec2d2","signature":"91f472b6568b9afd43176ccb34ea0e2665e27e567d013767464a9ba71ca466b4"},"7e88d2eef3de0e141de5c7b3140c5aade44be358a5a6ed30a7595b625868cf77","4e9d375d05a75efefcdae0a6a7be76861b5c96683acd31d1c8b120f60c0f6194",{"version":"d78ae32cfecb754ed228423cd32b52f594eccc14bd28a25b2ce4f8e0f347a953","signature":"d771d53a5b40b24f24262ef062ab24811b12806956d90e6af41383b072f44526"},{"version":"f7b32a1d4d4594fe1ad21a53dd00445cd8e15f90fdc5543c51662e184e860d3e","signature":"d27ed966dde366fc2b51aca32ddf4f6349735936f9143dd5b50b4b6d525e44c6"},{"version":"97ece670ec6b66089032d9d5ae846307ba2dc04114e9f0663ea2a0cb65a25fb7","signature":"829ecb867b9408f238a8dab5279d61d223bfd0b51e0b0cf4ca86376b485962bf"},{"version":"98457868ad4bb4fe632c49397bec911cbf70b84ad94a9de167287f3f1690934b","signature":"07dcb8c48662805ca9af4ab866d37f8630e348c4f0eb602ba1ca9287dec5ca21"},{"version":"e2018ab98c4d3c9604a1a8b324e5e781dda8d77c04dfd88304fcf25b57394e52","signature":"4efd621d6bc9ce138c4d23a4ee95096603d6a2fd4e87227aa8c3ee9edb970d08"},{"version":"7a2e491ee5ed24b45206b4d4babc46979945a82333e80afd96b2ae8d198ff4bc","signature":"7917af61848eaaa3a89abba839a9c01e8f34e22a6b554f5b2f33ee93bee6d6ff"},{"version":"63956e9f42990675523bd04fdc35ba8e81d53998dd195a30af285b22f4615832","signature":"94c122711e7d7612d2e218319eeae5031b072aeef54e3423bf9fef913d90e267"},{"version":"37148ad9f3aa2a35cb5806ca79f13fa235d54d35a00306b976dc47418157908c","signature":"c96203e1746d7a7970262c16b2fcf6476cbba7e1660953e02919c3fe0195a22b"},{"version":"b72a9b41e5ddef16d50385a50666bc546ce7f0b41c0f422cd2f7137d88dace2c","signature":"7a4e6345e0fca7dc62d581bb8f6c7c61d4c17edc2723f7c6ba0e06cf852d5a8c"},{"version":"91dc6f8000647e11edffeb2437ac823a46b32e4dc07a67d0df5ccc7e521cb3f9","signature":"38ef80c37e8058bcfe10534bd401ddb9d4855b12a85e67331f32ca0043eb6b61"},{"version":"f91c5af45b307e68771ba082ec6fa50dd14750aa0ec0ddc63c63f2273e86f5ec","signature":"4ef73c812ad71ecfaa9833d24cb6da043d24a555e7a23ebe9f0be181300d1335"},{"version":"70a5d907f3325fcf4154c1138e4fe1d616b5f2a079ab6a5a8e51336f51ea0c04","signature":"f9b03c8344b0b02c15e3ea0e65fa8e15f566d573069ae6c961fb55c84efb4ad0"},{"version":"ab2d2820111df5b42fd11e87912e7486e05033c1535ddeea6213f7006104c0fb","signature":"4ef309d0560707f99a0de05df2c27ae15fdb09a401f85e5f699b2c737b37af43"},{"version":"19faf2ac1f1fc3a95415aafee6a9a6ebb60a4f97f98319963eb25d0b046fc9d0","signature":"c746651f3145fc12d1efa456fe7eb530102acdb242a2e5720ab03bf790fab81e"},{"version":"1e20f2ea343dd784560a72ded27caf3a420ed4d55a0aa3824f3b80fd9a37ad3b","signature":"741b315d25621e20da9ec7f8bca8d1312dd0de752178a9b1cd60e1f9036849ec"},"a7fe7e88c50608567af53c49d3c59ea5f33bf5f59126d67b2a25f85eb41297ba",{"version":"27c6cf3ad5b3298aa880b2b42e898e1b12f8f580c776e797b2271dc490d196d8","signature":"a4f4df0c5afe9820a69bd0b721b8f979093a13290d36c428ca92c04baab4dd7a"},"4967529644e391115ca5592184d4b63980569adf60ee685f968fd59ab1557188","5f1fc8edcf0258de2fce28a785d5fecd9de993eb34239762ecc13fc5ff4cb7d6","62dd6e1fb4b6d2c8a966e9c66118f45e4b32aa8adc9ef92a858dc0ab14d14b3c","2b621455229800f85bdcbab3f516c5122fb0439ef30a4da19d5393f826fc2b69","760cb9b76ab53a2f704ee0e731e162bcfc6af609f5e400a668efe2cc7923e4f4","cc957354aa3c94c9961ebf46282cfde1e81d107fc5785a61f62c67f1dd3ac2eb","7ec238b220ea991b6643e24191b1f552a65956d5f6de4c6144e700b9985265d8","93de1c6dab503f053efe8d304cb522bb3a89feab8c98f307a674a4fae04773e9","dae3d1adc67ac3dbd1cd471889301339ec439837b5df565982345be20c8fca9a","5426e62886b7be7806312d31a00e8f7dccd6fe63ba9bbefe99ee2eab29cc48a3","e91751abb2372a36a90869d36f6ad5d5e69a84c5513ca99d236554e4dd8b9aa1","5cbc27193321e6ba10f4e9f3c5519649d9e2716cf103efd7eaa7a89e0f8ed1d4","6d829824ead8999f87b6df21200df3c6150391b894b4e80662caa462bd48d073","946bd1737d9412395a8f24414c70f18660b84a75a12b0b448e6eb1a2161d06dd","3ebae8c00411116a66fca65b08228ea0cf0b72724701f9b854442100aab55aba","8b06ac3faeacb8484d84ddb44571d8f410697f98d7bfa86c0fda60373a9f5215","7eb06594824ada538b1d8b48c3925a83e7db792f47a081a62cf3e5c4e23cf0ee","f5638f7c2f12a9a1a57b5c41b3c1ea7db3876c003bab68e6a57afd6bcc169af0","0d14fa22c41fdc7277e6f71473b20ebc07f40f00e38875142335d5b63cdfc9d2","d8aab31ba8e618cc3eea10b0945de81cb93b7e8150a013a482332263b9305322","462bccdf75fcafc1ae8c30400c9425e1a4681db5d605d1a0edb4f990a54d8094","5923d8facbac6ecf7c84739a5c701a57af94a6f6648d6229a6c768cf28f0f8cb","7adecb2c3238794c378d336a8182d4c3dd2c4fa6fa1785e2797a3db550edea62","dc12dc0e5aa06f4e1a7692149b78f89116af823b9e1f1e4eae140cd3e0e674e6","1bfc6565b90c8771615cd8cfcf9b36efc0275e5e83ac7d9181307e96eb495161","8a8a96898906f065f296665e411f51010b51372fa260d5373bf9f64356703190","7f82ef88bdb67d9a850dd1c7cd2d690f33e0f0acd208e3c9eba086f3670d4f73",{"version":"ccfd8774cd9b929f63ff7dcf657977eb0652e3547f1fcac1b3a1dc5db22d4d58","affectsGlobalScope":true},"f3e604694b624fa3f83f6684185452992088f5efb2cf136b62474aa106d6f1b6","209e814e8e71aec74f69686a9506dd7610b97ab59dcee9446266446f72a76d05","6fa0008bf91a4cc9c8963bace4bba0bd6865cbfa29c3e3ccc461155660fb113a","2b8264b2fefd7367e0f20e2c04eed5d3038831fe00f5efbc110ff0131aab899b","93c4fc5b5237c09bc9ed65cb8f0dc1d89034406ab40500b89701341994897142","8a19491eba2108d5c333c249699f40aff05ad312c04a17504573b27d91f0aede","b0d10e46cfe3f6c476b69af02eaa38e4ccc7430221ce3109ae84bb9fb8282298","bc81aff061c53a7140270555f4b22da4ecfe8601e8027cf5aa175fbdc7927c31","70e9a18da08294f75bf23e46c7d69e67634c0765d355887b9b41f0d959e1426e","6ba73232c9d3267ca36ddb83e335d474d2c0e167481e3dec416c782894e11438"],"options":{"composite":true,"declaration":true,"declarationMap":true,"esModuleInterop":true,"module":7,"noImplicitAny":false,"outDir":"./esm","rootDir":"../src","sourceMap":true,"strictNullChecks":true,"target":6},"fileIdsList":[[92,199],[92],[92,131],[92,128,129],[92,130],[92,99,101,104,125,198],[50,92],[50,92,99],[92,199,200,201,202,203],[92,199,201],[92,99],[92,205],[65,92,99],[63,92,99],[92,210],[92,211],[92,216,221],[46,92],[49,92],[50,55,83,92],[51,62,63,70,80,91,92],[51,52,62,70,92],[53,92],[54,55,63,71,92],[55,80,88,92],[56,58,62,70,92],[57,92],[58,59,92],[62,92],[60,62,92],[62,63,64,80,91,92],[62,63,64,77,80,83,92],[92,96],[65,70,80,91,92],[62,63,65,66,70,80,88,91,92],[65,67,80,88,91,92],[46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98],[62,68,92],[69,91,92],[58,62,70,80,92],[71,92],[72,92],[49,73,92],[74,90,92,96],[75,92],[76,92],[62,77,78,92],[77,79,92,94],[50,62,80,81,82,83,92],[50,80,82,92],[80,81,92],[83,92],[84,92],[62,86,87,92],[86,87,92],[55,70,80,88,92],[89,92],[70,90,92],[50,65,76,91,92],[55,92],[80,92,93],[92,94],[92,95],[50,55,62,64,73,80,91,92,94,96],[80,92,97],[62,65,67,70,80,88,91,92,97,99],[92,231],[92,110],[92,214,217],[92,214,217,218,219],[92,216],[92,213,220],[92,215],[92,117,119,120,121,122,123],[92,117,118],[92,119],[92,118,119],[92,117,119],[50,92,101,106,111,125,132,133,134,148,171,198],[50,92,106,113,133,134,159,171,198],[92,103,105,106,132,197,198],[92,106,160,161,162,163,171,172],[50,92,101,105,106,116,125,132,133,134,171,197,198],[50,92,101,102,106,125,133,134,148,198],[50,92,101,106,125,134,148,171,198],[92,103,105,106,197,198],[92,106,155,159,164,170],[92,106,148,171],[92,106,159,171],[92,106,171,181,182,183,184,185],[92,106,132,171],[92,106,171],[92,106,148,151,171,198],[92,101,104,125,198],[92,106,149,150,152,153,154,171],[92,105,106,132,148,171,197,198],[92,101,104,105,106,125,148,171,197,198],[92,106,165,166,167,168,169,171],[92,104,105,106,116,132,171,197,198],[92,101,102,125],[50,92,101,105,125,197],[92,101,103,104,106,107,125,126,127,171,172,176,180,189,191],[92,190,192],[92,101,125,127,170,180],[92,101,106,109,125,127,132,145,146,147,155,158],[92,101,106,125,135,137],[92,101,106,125,136],[46,92,101,106,125,127,158,171],[92,101,106,116,125,127,136,137,159,171,177,179],[92,101,106,125,127,132,135,136,140,144,158,171],[92,101,106,125,127,132,136,138,139,141,142,143,145,157,158,171,178],[92,101,102,103,106,125,136,137,158],[92,101,106,125,127,137,138,139,141,142,143,145,156,158],[92,101,103,106,125,127,137,139,158],[92,101,103,106,125,127,137,139,140,158,159,171],[92,101,106,125,127,132,135,136,137,138,139,142,144,158,171,179],[92,101,106,125,137,138,158],[92,101,104,106,125,132,137,157,192],[92,101,106,114,125,134,141,158],[92,101,107,116,125,126],[92,101,125,127,180,186],[92,187,188,192],[92,101,125,127,147,155,180],[50,92,113],[92,111],[92,108,109,112,114,115],[92,107],[92,102,116,140,144,146,173,175],[50,92,101,115,125,133,136],[92,101,104,105,125,174,197],[50,92,101,107,125,127,136],[92,133],[92,101,124,125],[92,101,125],[50,92,101,107,125,127],[63,74,92,101,106,107,125,132,180,193],[92,105,196,197],[92,196],[50,106,171],[50,106,159,171],[106,198],[106,160,161,162,163,171,172],[50,101,106,125,171],[50,106],[106,155,159,164,170],[106,171],[106,159,171],[106,171,181,182,183,184,185],[101,104,125,198],[106,149,150,152,153,154,171],[106,165,166,167,168,169,171],[101,125],[50,101,125],[101,103,104,106,125,126,127,171,172,176,180,189,191],[190,192],[127,170,180],[101,106,125,127,145,158],[101,106,125,135,137],[101,106,125,136],[101,106,125,127,158,171],[101,106,125,127,136,137,159,171,179],[101,106,125,127,132,135,136,158,171],[101,106,125,127,138,139,141,142,143,145,157,158,171,178],[101,106,125,137,158],[101,106,125,127,137,138,139,141,142,143,145,158],[101,106,125,127,139,158],[101,106,125,127,139,158,159,171],[101,106,125,127,135,158,171,179],[101,106,125,138,158],[101,104,106,125,132,137,157,192],[101,106,125,141,158],[127,180,186],[187,188,192],[127,147,155,180],[50],[108,109,112,114,115],[50,101,125,136],[101,104,125],[50,101,125,127,136],[101,125,127]],"referencedMap":[[201,1],[199,2],[128,2],[129,2],[132,3],[130,4],[131,5],[105,6],[196,7],[195,2],[101,8],[204,9],[200,1],[202,10],[203,1],[104,11],[206,12],[207,13],[208,2],[209,14],[210,2],[211,15],[212,16],[222,17],[223,2],[224,2],[46,18],[47,18],[49,19],[50,20],[51,21],[52,22],[53,23],[54,24],[55,25],[56,26],[57,27],[58,28],[59,28],[61,29],[60,30],[62,29],[63,31],[64,32],[48,33],[98,2],[65,34],[66,35],[67,36],[99,37],[68,38],[69,39],[70,40],[71,41],[72,42],[73,43],[74,44],[75,45],[76,46],[77,47],[78,47],[79,48],[80,49],[82,50],[81,51],[83,52],[84,53],[85,2],[86,54],[87,55],[88,56],[89,57],[90,58],[91,59],[92,60],[93,61],[94,62],[95,63],[96,64],[97,65],[225,2],[177,2],[226,2],[227,2],[228,11],[229,2],[230,66],[231,2],[232,67],[205,11],[113,2],[111,68],[110,2],[100,2],[213,2],[174,2],[135,2],[214,2],[218,69],[220,70],[219,69],[217,71],[221,72],[133,2],[216,73],[215,2],[117,2],[124,74],[119,75],[120,76],[121,76],[122,77],[123,77],[118,78],[193,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[45,2],[33,2],[34,2],[35,2],[36,2],[7,2],[37,2],[42,2],[43,2],[38,2],[39,2],[40,2],[41,2],[1,2],[44,2],[11,2],[10,2],[160,79],[161,80],[134,81],[164,82],[172,83],[162,84],[163,85],[148,86],[171,87],[183,88],[184,89],[186,90],[181,91],[182,92],[185,92],[152,93],[151,94],[153,89],[155,95],[149,96],[150,92],[154,92],[167,97],[168,89],[170,98],[165,99],[166,92],[169,92],[103,100],[106,101],[192,102],[191,103],[190,104],[156,105],[136,106],[137,107],[159,108],[180,109],[145,110],[179,111],[138,112],[157,113],[142,114],[141,115],[178,116],[139,117],[158,118],[143,119],[127,120],[187,121],[189,122],[147,2],[188,123],[114,124],[112,125],[115,2],[108,7],[116,126],[109,127],[107,2],[102,2],[176,128],[144,129],[175,130],[140,131],[173,132],[125,133],[146,134],[126,135],[194,136],[197,137],[198,138]],"exportedModulesMap":[[201,1],[199,2],[128,2],[129,2],[132,3],[130,4],[131,5],[105,6],[196,7],[195,2],[101,8],[204,9],[200,1],[202,10],[203,1],[104,11],[206,12],[207,13],[208,2],[209,14],[210,2],[211,15],[212,16],[222,17],[223,2],[224,2],[46,18],[47,18],[49,19],[50,20],[51,21],[52,22],[53,23],[54,24],[55,25],[56,26],[57,27],[58,28],[59,28],[61,29],[60,30],[62,29],[63,31],[64,32],[48,33],[98,2],[65,34],[66,35],[67,36],[99,37],[68,38],[69,39],[70,40],[71,41],[72,42],[73,43],[74,44],[75,45],[76,46],[77,47],[78,47],[79,48],[80,49],[82,50],[81,51],[83,52],[84,53],[85,2],[86,54],[87,55],[88,56],[89,57],[90,58],[91,59],[92,60],[93,61],[94,62],[95,63],[96,64],[97,65],[225,2],[177,2],[226,2],[227,2],[228,11],[229,2],[230,66],[231,2],[232,67],[205,11],[113,2],[111,68],[110,2],[100,2],[213,2],[174,2],[135,2],[214,2],[218,69],[220,70],[219,69],[217,71],[221,72],[133,2],[216,73],[215,2],[117,2],[124,74],[119,75],[120,76],[121,76],[122,77],[123,77],[118,78],[193,2],[8,2],[9,2],[13,2],[12,2],[2,2],[14,2],[15,2],[16,2],[17,2],[18,2],[19,2],[20,2],[21,2],[3,2],[4,2],[25,2],[22,2],[23,2],[24,2],[26,2],[27,2],[28,2],[5,2],[29,2],[30,2],[31,2],[32,2],[6,2],[45,2],[33,2],[34,2],[35,2],[36,2],[7,2],[37,2],[42,2],[43,2],[38,2],[39,2],[40,2],[41,2],[1,2],[44,2],[11,2],[10,2],[160,139],[161,140],[134,141],[164,142],[172,143],[162,144],[163,139],[148,141],[171,145],[183,146],[184,147],[186,148],[181,146],[182,146],[185,146],[152,146],[151,149],[153,147],[155,150],[149,146],[150,146],[154,146],[167,146],[168,147],[170,151],[165,146],[166,146],[169,146],[103,152],[106,153],[192,154],[191,155],[190,156],[156,157],[136,158],[137,159],[159,160],[180,161],[145,162],[179,163],[138,164],[157,165],[142,166],[141,167],[178,168],[139,169],[158,170],[143,171],[127,152],[187,172],[189,173],[188,174],[114,175],[108,175],[116,176],[176,128],[144,177],[175,178],[140,179],[125,152],[146,152],[126,180],[197,137],[198,138]],"semanticDiagnosticsPerFile":[201,199,128,129,132,130,131,105,196,195,101,204,200,202,203,104,206,207,208,209,210,211,212,222,223,224,46,47,49,50,51,52,53,54,55,56,57,58,59,61,60,62,63,64,48,98,65,66,67,99,68,69,70,71,72,73,74,75,76,77,78,79,80,82,81,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,225,177,226,227,228,229,230,231,232,205,113,111,110,100,213,174,135,214,218,220,219,217,221,133,216,215,117,124,119,120,121,122,123,118,193,8,9,13,12,2,14,15,16,17,18,19,20,21,3,4,25,22,23,24,26,27,28,5,29,30,31,32,6,45,33,34,35,36,7,37,42,43,38,39,40,41,1,44,11,10,160,161,134,164,172,162,163,148,171,183,184,186,181,182,185,152,151,153,155,149,150,154,167,168,170,165,166,169,103,106,192,191,190,156,136,137,159,180,145,179,138,157,142,141,178,139,158,143,127,187,189,147,188,114,112,115,108,116,109,107,102,176,144,175,140,173,125,146,126,194,197,198],"latestChangedDtsFile":"./esm/workspace.d.ts"},"version":"4.8.4"}
\ No newline at end of file
diff --git a/package.json b/package.json
index 726d7801b1e374231e46a0bf48f3abf086a69180..71a6e865d333885671fc48291bd84e130d693ca3 100644
--- a/package.json
+++ b/package.json
@@ -22,9 +22,9 @@
     "node": ">=11"
   },
   "scripts": {
-    "build": "rimraf dist/ && yarn build:node && yarn build:browser",
-    "build:node": "tsc && tsc -p tsconfig.cjs.json",
-    "build:browser": "rollup --config",
+    "build": "rimraf dist && yarn build:node && yarn build:browser",
+    "build:node": "tsc -p tsconfig.json && tsc -p tsconfig.cjs.json",
+    "build:browser": "rollup --config rollup.config.mjs",
     "lint:fix": "prettier src/** tests/** -w",
     "lint": "prettier src/** tests/** --check",
     "watch": "tsc -p tsconfig.cjs.json --watch",
@@ -33,20 +33,18 @@
     "test": "jest tests --detectOpenHandles"
   },
   "dependencies": {
+    "@juici/case": "^0.1.2",
     "@project-serum/borsh": "^0.2.5",
-    "@solana/web3.js": "^1.36.0",
+    "@solana/web3.js": "^1.66.2",
     "base64-js": "^1.5.1",
-    "bn.js": "^5.1.2",
-    "bs58": "^4.0.1",
+    "bn.js": "^5.2.1",
+    "bs58": "^5.0.0",
     "buffer-layout": "^1.2.2",
-    "camelcase": "^5.3.1",
     "cross-fetch": "^3.1.5",
-    "crypto-hash": "^1.3.0",
     "eventemitter3": "^4.0.7",
     "js-sha256": "^0.9.0",
-    "pako": "^2.0.3",
-    "snake-case": "^3.0.4",
-    "superstruct": "^0.15.4",
+    "pako": "^2.1.0",
+    "superstruct": "^0.16.7",
     "toml": "^3.0.0"
   },
   "devDependencies": {
@@ -56,9 +54,9 @@
     "@rollup/plugin-node-resolve": "^13.0.6",
     "@rollup/plugin-replace": "^3.0.0",
     "@rollup/plugin-typescript": "^8.3.0",
+    "@solana/buffer-layout": "^4.0.0",
     "@types/bn.js": "^4.11.6",
     "@types/bs58": "^4.0.1",
-    "@types/crypto-hash": "^1.1.2",
     "@types/jest": "^27.4.1",
     "@types/pako": "^1.0.1",
     "@typescript-eslint/eslint-plugin": "^4.6.0",
@@ -77,10 +75,11 @@
     "ts-jest-resolver": "^2.0.0",
     "ts-node": "^9.0.0",
     "tslib": "^2.3.1",
-    "typedoc": "^0.22.10",
-    "typescript": "^4.5.2"
+    "typedoc": "^0.23.15",
+    "typescript": "^4.8.4"
   },
   "files": [
+    "src",
     "dist",
     "types"
   ]
diff --git a/src/coder/borsh/accounts.ts b/src/coder/borsh/accounts.ts
new file mode 100644
index 0000000000000000000000000000000000000000..bda44ac7a8a35a9d74d69f41fb4e851909c749c3
--- /dev/null
+++ b/src/coder/borsh/accounts.ts
@@ -0,0 +1,111 @@
+import bs58 from "bs58";
+import { Buffer } from "buffer";
+import { Layout } from "buffer-layout";
+import { pascalCase } from "@juici/case";
+import { sha256 } from "js-sha256";
+import { Idl, IdlTypeDef } from "../../idl.js";
+import { IdlCoder } from "./idl.js";
+import { AccountsCoder } from "../index.js";
+import { accountSize, layoutSize } from "../common.js";
+import { PACKET_DATA_SIZE } from "@solana/web3.js";
+
+/**
+ * Number of bytes of the account discriminator.
+ */
+export const ACCOUNT_DISCRIMINATOR_SIZE = 8;
+
+/**
+ * Encodes and decodes account objects.
+ */
+export class BorshAccountsCoder<A extends string = string>
+  implements AccountsCoder
+{
+  /**
+   * Maps account type identifier to a layout.
+   */
+  private accountLayouts: Map<A, [Layout, number | undefined]>;
+
+  /**
+   * IDL whose acconts will be coded.
+   */
+  private idl: Idl;
+
+  public constructor(idl: Idl) {
+    if (idl.accounts === undefined) {
+      this.accountLayouts = new Map();
+      return;
+    }
+    const layouts: [A, [Layout, number | undefined]][] = idl.accounts.map(
+      (acc) => {
+        const layout = IdlCoder.typeDefLayout(acc, idl.types);
+        let size: number | undefined;
+        try {
+          size = layoutSize(layout);
+        } catch (_) {
+          // noop
+        }
+        return [acc.name as A, [layout, size]];
+      }
+    );
+
+    this.accountLayouts = new Map(layouts);
+    this.idl = idl;
+  }
+
+  public async encode<T = any>(accountName: A, account: T): Promise<Buffer> {
+    const entry = this.accountLayouts.get(accountName);
+    if (!entry) {
+      throw new Error(`Unknown account: ${accountName}`);
+    }
+    const [layout, size] = entry;
+    const buffer = Buffer.alloc(size ?? PACKET_DATA_SIZE);
+    const len = layout.encode(account, buffer);
+    const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
+    return Buffer.concat([discriminator, buffer.subarray(0, len)]);
+  }
+
+  public decode<T = any>(accountName: A, data: Buffer): T {
+    // Assert the account discriminator is correct.
+    const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
+    if (discriminator.compare(data.subarray(0, ACCOUNT_DISCRIMINATOR_SIZE))) {
+      throw new Error("Invalid account discriminator");
+    }
+    return this.decodeUnchecked(accountName, data);
+  }
+
+  public decodeUnchecked<T = any>(accountName: A, ix: Buffer): T {
+    const entry = this.accountLayouts.get(accountName);
+    if (!entry) {
+      throw new Error(`Unknown account: ${accountName}`);
+    }
+    const [layout] = entry;
+    // Chop off the discriminator before decoding.
+    return layout.decode(ix.subarray(ACCOUNT_DISCRIMINATOR_SIZE));
+  }
+
+  public memcmp(accountName: A, appendData?: Buffer): any {
+    const discriminator = BorshAccountsCoder.accountDiscriminator(accountName);
+    return {
+      offset: 0,
+      bytes: bs58.encode(
+        appendData ? Buffer.concat([discriminator, appendData]) : discriminator
+      ),
+    };
+  }
+
+  public size(idlAccount: IdlTypeDef): number {
+    return (
+      ACCOUNT_DISCRIMINATOR_SIZE + (accountSize(this.idl, idlAccount) ?? 0)
+    );
+  }
+
+  /**
+   * Calculates and returns a unique 8 byte discriminator prepended to all anchor accounts.
+   *
+   * @param name The name of the account to calculate the discriminator.
+   */
+  public static accountDiscriminator(name: string): Buffer {
+    const digest = sha256.digest(`account:${pascalCase(name)}`);
+    return Buffer.from(digest).subarray(0, ACCOUNT_DISCRIMINATOR_SIZE);
+  }
+}
diff --git a/src/coder/borsh/event.ts b/src/coder/borsh/event.ts
new file mode 100644
index 0000000000000000000000000000000000000000..61d8334c57532d6ca2bd70e7ee34f8d25fbbd2b7
--- /dev/null
+++ b/src/coder/borsh/event.ts
@@ -0,0 +1,83 @@
+import { Buffer } from "buffer";
+import * as base64 from "base64-js";
+import { Layout } from "buffer-layout";
+import { sha256 } from "js-sha256";
+import { Idl, IdlEvent, IdlTypeDef } from "../../idl.js";
+import { Event, EventData } from "../../program/event.js";
+import { IdlCoder } from "./idl.js";
+import { EventCoder } from "../index.js";
+
+export class BorshEventCoder implements EventCoder {
+  /**
+   * Maps account type identifier to a layout.
+   */
+  private layouts: Map<string, Layout>;
+
+  /**
+   * Maps base64 encoded event discriminator to event name.
+   */
+  private discriminators: Map<string, string>;
+
+  public constructor(idl: Idl) {
+    if (idl.events === undefined) {
+      this.layouts = new Map();
+      return;
+    }
+    const layouts: [string, Layout<any>][] = idl.events.map((event) => {
+      let eventTypeDef: IdlTypeDef = {
+        name: event.name,
+        type: {
+          kind: "struct",
+          fields: event.fields.map((f) => {
+            return { name: f.name, type: f.type };
+          }),
+        },
+      };
+      return [event.name, IdlCoder.typeDefLayout(eventTypeDef, idl.types)];
+    });
+    this.layouts = new Map(layouts);
+
+    this.discriminators = new Map<string, string>(
+      idl.events === undefined
+        ? []
+        : idl.events.map((e) => [
+            base64.fromByteArray(eventDiscriminator(e.name)),
+            e.name,
+          ])
+    );
+  }
+
+  public decode<E extends IdlEvent = IdlEvent, T = Record<string, never>>(
+    log: string
+  ): Event<E, T> | null {
+    let logBytes: Buffer;
+    // This will throw if log length is not a multiple of 4.
+    try {
+      const bytes = base64.toByteArray(log);
+      logBytes = Buffer.from(bytes.buffer, bytes.byteOffset, bytes.byteLength);
+    } catch (e) {
+      return null;
+    }
+    const disc = base64.fromByteArray(logBytes.subarray(0, 8));
+
+    // Only deserialize if the discriminator implies a proper event.
+    const eventName = this.discriminators.get(disc);
+    if (eventName === undefined) {
+      return null;
+    }
+
+    const layout = this.layouts.get(eventName);
+    if (!layout) {
+      throw new Error(`Unknown event: ${eventName}`);
+    }
+    const data = layout.decode(logBytes.subarray(8)) as EventData<
+      E["fields"][number],
+      T
+    >;
+    return { data, name: eventName };
+  }
+}
+
+export function eventDiscriminator(name: string): Buffer {
+  return Buffer.from(sha256.digest(`event:${name}`)).subarray(0, 8);
+}
diff --git a/src/coder/borsh/idl.ts b/src/coder/borsh/idl.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b79d389a5a0bb0b3f9b2a7c9d1cff1cf518987b0
--- /dev/null
+++ b/src/coder/borsh/idl.ts
@@ -0,0 +1,156 @@
+import { Layout } from "buffer-layout";
+import * as borsh from "@project-serum/borsh";
+import { IdlField, IdlTypeDef, IdlEnumVariant, IdlType } from "../../idl.js";
+import { IdlError } from "../../error.js";
+import { camelCase } from "@juici/case";
+
+export class IdlCoder {
+  public static fieldLayout(
+    field: { name?: string } & Pick<IdlField, "type">,
+    types?: IdlTypeDef[]
+  ): Layout {
+    const fieldName =
+      field.name !== undefined ? camelCase(field.name) : undefined;
+    switch (field.type) {
+      case "bool": {
+        return borsh.bool(fieldName);
+      }
+      case "u8": {
+        return borsh.u8(fieldName);
+      }
+      case "i8": {
+        return borsh.i8(fieldName);
+      }
+      case "u16": {
+        return borsh.u16(fieldName);
+      }
+      case "i16": {
+        return borsh.i16(fieldName);
+      }
+      case "u32": {
+        return borsh.u32(fieldName);
+      }
+      case "i32": {
+        return borsh.i32(fieldName);
+      }
+      case "f32": {
+        return borsh.f32(fieldName);
+      }
+      case "u64": {
+        return borsh.u64(fieldName);
+      }
+      case "i64": {
+        return borsh.i64(fieldName);
+      }
+      case "f64": {
+        return borsh.f64(fieldName);
+      }
+      case "u128": {
+        return borsh.u128(fieldName);
+      }
+      case "i128": {
+        return borsh.i128(fieldName);
+      }
+      case "bytes": {
+        return borsh.vecU8(fieldName);
+      }
+      case "string": {
+        return borsh.str(fieldName);
+      }
+      case "publicKey": {
+        return borsh.publicKey(fieldName);
+      }
+      default: {
+        if ("vec" in field.type) {
+          return borsh.vec(
+            IdlCoder.fieldLayout(
+              {
+                name: undefined,
+                type: field.type.vec,
+              },
+              types
+            ),
+            fieldName
+          );
+        } else if ("option" in field.type) {
+          return borsh.option(
+            IdlCoder.fieldLayout(
+              {
+                name: undefined,
+                type: field.type.option,
+              },
+              types
+            ),
+            fieldName
+          );
+        } else if ("defined" in field.type) {
+          const defined = field.type.defined;
+          // User defined type.
+          if (types === undefined) {
+            throw new IdlError("User defined types not provided");
+          }
+          const filtered = types.filter((t) => t.name === defined);
+          if (filtered.length !== 1) {
+            throw new IdlError(`Type not found: ${JSON.stringify(field)}`);
+          }
+          return IdlCoder.typeDefLayout(filtered[0], types, fieldName);
+        } else if ("array" in field.type) {
+          let arrayTy = field.type.array[0];
+          let arrayLen = field.type.array[1];
+          let innerLayout = IdlCoder.fieldLayout(
+            {
+              name: undefined,
+              type: arrayTy,
+            },
+            types
+          );
+          return borsh.array(innerLayout, arrayLen, fieldName);
+        } else {
+          throw new Error(`Not yet implemented: ${field}`);
+        }
+      }
+    }
+  }
+
+  public static typeDefLayout(
+    typeDef: IdlTypeDef,
+    types: IdlTypeDef[] = [],
+    name?: string
+  ): Layout {
+    if (typeDef.type.kind === "struct") {
+      const fieldLayouts = typeDef.type.fields.map((field) => {
+        const x = IdlCoder.fieldLayout(field, types);
+        return x;
+      });
+      return borsh.struct(fieldLayouts, name);
+    } else if (typeDef.type.kind === "enum") {
+      const variants = typeDef.type.variants.map((variant: IdlEnumVariant) => {
+        const name = camelCase(variant.name);
+        if (variant.fields === undefined) {
+          return borsh.struct([], name);
+        }
+        const fieldLayouts = variant.fields.map((f: IdlField | IdlType) => {
+          if (!f.hasOwnProperty("name")) {
+            throw new Error("Tuple enum variants not yet implemented.");
+          }
+          // this typescript conversion is ok
+          // because if f were of type IdlType
+          // (that does not have a name property)
+          // the check before would've errored
+          return IdlCoder.fieldLayout(f as IdlField, types);
+        });
+        return borsh.struct(fieldLayouts, name);
+      });
+
+      if (name !== undefined) {
+        // Buffer-layout lib requires the name to be null (on construction)
+        // when used as a field.
+        return borsh.rustEnum(variants).replicate(name);
+      }
+
+      return borsh.rustEnum(variants, name);
+    } else {
+      throw new Error(`Unknown type kint: ${typeDef}`);
+    }
+  }
+}
diff --git a/src/coder/borsh/index.ts b/src/coder/borsh/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..7f726af4f0a2692fd76199baf8888617da12415d
--- /dev/null
+++ b/src/coder/borsh/index.ts
@@ -0,0 +1,55 @@
+import { Idl } from "../../idl.js";
+import { BorshInstructionCoder } from "./instruction.js";
+import { BorshAccountsCoder } from "./accounts.js";
+import { BorshEventCoder } from "./event.js";
+import { BorshStateCoder } from "./state.js";
+import { BorshTypesCoder } from "./types.js";
+import { Coder } from "../index.js";
+
+export { BorshInstructionCoder } from "./instruction.js";
+export { BorshAccountsCoder, ACCOUNT_DISCRIMINATOR_SIZE } from "./accounts.js";
+export { BorshEventCoder, eventDiscriminator } from "./event.js";
+export { BorshStateCoder, stateDiscriminator } from "./state.js";
+
+/**
+ * BorshCoder is the default Coder for Anchor programs implementing the
+ * borsh based serialization interface.
+ */
+export class BorshCoder<A extends string = string, T extends string = string>
+  implements Coder
+{
+  /**
+   * Instruction coder.
+   */
+  readonly instruction: BorshInstructionCoder;
+
+  /**
+   * Account coder.
+   */
+  readonly accounts: BorshAccountsCoder<A>;
+
+  /**
+   * Coder for state structs.
+   */
+  readonly state?: BorshStateCoder | undefined;
+
+  /**
+   * Coder for events.
+   */
+  readonly events: BorshEventCoder;
+
+  /**
+   * Coder for user-defined types.
+   */
+  readonly types: BorshTypesCoder<T>;
+
+  constructor(idl: Idl) {
+    this.instruction = new BorshInstructionCoder(idl);
+    this.accounts = new BorshAccountsCoder(idl);
+    this.events = new BorshEventCoder(idl);
+    if (idl.state) {
+      this.state = new BorshStateCoder(idl);
+    }
+    this.types = new BorshTypesCoder(idl);
+  }
+}
diff --git a/src/coder/borsh/instruction.ts b/src/coder/borsh/instruction.ts
new file mode 100644
index 0000000000000000000000000000000000000000..de707cc42383ce49ea2cba7bcd43be101e431869
--- /dev/null
+++ b/src/coder/borsh/instruction.ts
@@ -0,0 +1,390 @@
+import { Buffer } from "buffer";
+import { Layout } from "buffer-layout";
+import { camelCase, pascalCase, snakeCase } from "@juici/case";
+import { sha256 } from "js-sha256";
+import * as borsh from "@project-serum/borsh";
+import { AccountMeta, PublicKey } from "@solana/web3.js";
+import {
+  Idl,
+  IdlField,
+  IdlStateMethod,
+  IdlType,
+  IdlTypeDef,
+  IdlAccount,
+  IdlAccountItem,
+  IdlTypeDefTyStruct,
+  IdlTypeVec,
+  IdlTypeOption,
+  IdlTypeDefined,
+  IdlAccounts,
+} from "../../idl.js";
+import { IdlCoder } from "./idl.js";
+import { InstructionCoder } from "../index.js";
+import { bs58 } from "../../utils/bytes/index.js";
+
+/**
+ * Namespace for state method function signatures.
+ */
+export const SIGHASH_STATE_NAMESPACE = "state";
+/**
+ * Namespace for global instruction function signatures (i.e. functions
+ * that aren't namespaced by the state or any of its trait implementations).
+ */
+export const SIGHASH_GLOBAL_NAMESPACE = "global";
+
+/**
+ * Encodes and decodes program instructions.
+ */
+export class BorshInstructionCoder implements InstructionCoder {
+  // Instruction args layout. Maps namespaced method
+  private ixLayout: Map<string, Layout>;
+
+  // Base58 encoded sighash to instruction layout.
+  private sighashLayouts: Map<string, { layout: Layout; name: string }>;
+
+  public constructor(private idl: Idl) {
+    this.ixLayout = BorshInstructionCoder.parseIxLayout(idl);
+
+    const sighashLayouts = new Map();
+    idl.instructions.forEach((ix) => {
+      const sh = sighash(SIGHASH_GLOBAL_NAMESPACE, ix.name);
+      sighashLayouts.set(bs58.encode(sh), {
+        layout: this.ixLayout.get(ix.name),
+        name: ix.name,
+      });
+    });
+
+    if (idl.state) {
+      idl.state.methods.map((ix) => {
+        const sh = sighash(SIGHASH_STATE_NAMESPACE, ix.name);
+        sighashLayouts.set(bs58.encode(sh), {
+          layout: this.ixLayout.get(ix.name) as Layout,
+          name: ix.name,
+        });
+      });
+    }
+
+    this.sighashLayouts = sighashLayouts;
+  }
+
+  /**
+   * Encodes a program instruction.
+   */
+  public encode(ixName: string, ix: any): Buffer {
+    return this._encode(SIGHASH_GLOBAL_NAMESPACE, ixName, ix);
+  }
+
+  /**
+   * Encodes a program state instruction.
+   */
+  public encodeState(ixName: string, ix: any): Buffer {
+    return this._encode(SIGHASH_STATE_NAMESPACE, ixName, ix);
+  }
+
+  private _encode(nameSpace: string, ixName: string, ix: any): Buffer {
+    const buffer = Buffer.alloc(1000); // TODO: use a tighter buffer.
+    const methodName = camelCase(ixName);
+    const layout = this.ixLayout.get(methodName);
+    if (!layout) {
+      throw new Error(`Unknown method: ${methodName}`);
+    }
+    const len = layout.encode(ix, buffer);
+    const data = buffer.slice(0, len);
+    return Buffer.concat([sighash(nameSpace, ixName), data]);
+  }
+
+  private static parseIxLayout(idl: Idl): Map<string, Layout> {
+    const stateMethods = idl.state ? idl.state.methods : [];
+
+    const ixLayouts = stateMethods
+      .map((m: IdlStateMethod): [string, Layout<unknown>] => {
+        let fieldLayouts = m.args.map((arg: IdlField) => {
+          return IdlCoder.fieldLayout(
+            arg,
+            Array.from([...(idl.accounts ?? []), ...(idl.types ?? [])])
+          );
+        });
+        const name = camelCase(m.name);
+        return [name, borsh.struct<any>(fieldLayouts, name)];
+      })
+      .concat(
+        idl.instructions.map((ix) => {
+          let fieldLayouts = ix.args.map((arg: IdlField) =>
+            IdlCoder.fieldLayout(
+              arg,
+              Array.from([...(idl.accounts ?? []), ...(idl.types ?? [])])
+            )
+          );
+          const name = camelCase(ix.name);
+          return [name, borsh.struct<any>(fieldLayouts, name)];
+        })
+      );
+    return new Map(ixLayouts);
+  }
+
+  /**
+   * Decodes a program instruction.
+   */
+  public decode(
+    ix: Buffer | string,
+    encoding: "hex" | "base58" = "hex"
+  ): Instruction | null {
+    if (typeof ix === "string") {
+      ix = encoding === "hex" ? Buffer.from(ix, "hex") : bs58.decode(ix);
+    }
+    const sighash = bs58.encode(ix.subarray(0, 8));
+    const decoder = this.sighashLayouts.get(sighash);
+    if (!decoder) {
+      return null;
+    }
+    const data = ix.subarray(8);
+    return {
+      data: decoder.layout.decode(data),
+      name: decoder.name,
+    };
+  }
+
+  /**
+   * Returns a formatted table of all the fields in the given instruction data.
+   */
+  public format(
+    ix: Instruction,
+    accountMetas: AccountMeta[]
+  ): InstructionDisplay | null {
+    return InstructionFormatter.format(ix, accountMetas, this.idl);
+  }
+}
+
+export type Instruction = {
+  name: string;
+  data: Object;
+};
+
+export type InstructionDisplay = {
+  args: { name: string; type: string; data: string }[];
+  accounts: {
+    name?: string;
+    pubkey: PublicKey;
+    isSigner: boolean;
+    isWritable: boolean;
+  }[];
+};
+
+class InstructionFormatter {
+  public static format(
+    ix: Instruction,
+    accountMetas: AccountMeta[],
+    idl: Idl
+  ): InstructionDisplay | null {
+    const idlIx = idl.instructions.filter((i) => ix.name === i.name)[0];
+    if (idlIx === undefined) {
+      console.error("Invalid instruction given");
+      return null;
+    }
+
+    const args = idlIx.args.map((idlField) => {
+      return {
+        name: idlField.name,
+        type: InstructionFormatter.formatIdlType(idlField.type),
+        data: InstructionFormatter.formatIdlData(
+          idlField,
+          ix.data[idlField.name],
+          idl.types
+        ),
+      };
+    });
+
+    const flatIdlAccounts = InstructionFormatter.flattenIdlAccounts(
+      idlIx.accounts
+    );
+
+    const accounts = accountMetas.map((meta, idx) => {
+      if (idx < flatIdlAccounts.length) {
+        return {
+          name: flatIdlAccounts[idx].name,
+          ...meta,
+        };
+      }
+      // "Remaining accounts" are unnamed in Anchor.
+      else {
+        return {
+          name: undefined,
+          ...meta,
+        };
+      }
+    });
+
+    return {
+      args,
+      accounts,
+    };
+  }
+
+  private static formatIdlType(idlType: IdlType): string {
+    if (typeof idlType === "string") {
+      return idlType as string;
+    }
+
+    if ("vec" in idlType) {
+      return `Vec<${this.formatIdlType(idlType.vec)}>`;
+    }
+    if ("option" in idlType) {
+      return `Option<${this.formatIdlType(idlType.option)}>`;
+    }
+    if ("defined" in idlType) {
+      return idlType.defined;
+    }
+    if ("array" in idlType) {
+      return `Array<${idlType.array[0]}; ${idlType.array[1]}>`;
+    }
+
+    throw new Error(`Unknown IDL type: ${idlType}`);
+  }
+
+  private static formatIdlData(
+    idlField: IdlField,
+    data: Object,
+    types?: IdlTypeDef[]
+  ): string {
+    if (typeof idlField.type === "string") {
+      return data.toString();
+    }
+    if (idlField.type.hasOwnProperty("vec")) {
+      return (
+        "[" +
+        (<Array<IdlField>>data)
+          .map((d: IdlField) =>
+            this.formatIdlData(
+              { name: "", type: (<IdlTypeVec>idlField.type).vec },
+              d
+            )
+          )
+          .join(", ") +
+        "]"
+      );
+    }
+    if (idlField.type.hasOwnProperty("option")) {
+      return data === null
+        ? "null"
+        : this.formatIdlData(
+            { name: "", type: (<IdlTypeOption>idlField.type).option },
+            data,
+            types
+          );
+    }
+    if (idlField.type.hasOwnProperty("defined")) {
+      if (types === undefined) {
+        throw new Error("User defined types not provided");
+      }
+      const filtered = types.filter(
+        (t) => t.name === (<IdlTypeDefined>idlField.type).defined
+      );
+      if (filtered.length !== 1) {
+        throw new Error(
+          `Type not found: ${(<IdlTypeDefined>idlField.type).defined}`
+        );
+      }
+      return InstructionFormatter.formatIdlDataDefined(
+        filtered[0],
+        data,
+        types
+      );
+    }
+
+    return "unknown";
+  }
+
+  private static formatIdlDataDefined(
+    typeDef: IdlTypeDef,
+    data: Object,
+    types: IdlTypeDef[]
+  ): string {
+    if (typeDef.type.kind === "struct") {
+      const struct: IdlTypeDefTyStruct = typeDef.type;
+      const fields = Object.keys(data)
+        .map((k) => {
+          const f = struct.fields.filter((f) => f.name === k)[0];
+          if (f === undefined) {
+            throw new Error("Unable to find type");
+          }
+          return (
+            k + ": " + InstructionFormatter.formatIdlData(f, data[k], types)
+          );
+        })
+        .join(", ");
+      return "{ " + fields + " }";
+    } else {
+      if (typeDef.type.variants.length === 0) {
+        return "{}";
+      }
+      // Struct enum.
+      if (typeDef.type.variants[0].name) {
+        const variants = typeDef.type.variants;
+        const variant = Object.keys(data)[0];
+        const enumType = data[variant];
+        const namedFields = Object.keys(enumType)
+          .map((f) => {
+            const fieldData = enumType[f];
+            const idlField = variants[variant]?.filter(
+              (v: IdlField) => v.name === f
+            )[0];
+            if (idlField === undefined) {
+              throw new Error("Unable to find variant");
+            }
+            return (
+              f +
+              ": " +
+              InstructionFormatter.formatIdlData(idlField, fieldData, types)
+            );
+          })
+          .join(", ");
+
+        const variantName = pascalCase(variant);
+        if (namedFields.length === 0) {
+          return variantName;
+        }
+        return `${variantName} { ${namedFields} }`;
+      }
+      // Tuple enum.
+      else {
+        // TODO.
+        return "Tuple formatting not yet implemented";
+      }
+    }
+  }
+
+  private static flattenIdlAccounts(
+    accounts: IdlAccountItem[],
+    prefix?: string
+  ): IdlAccount[] {
+    return accounts
+      .map((account) => {
+        const accName = sentenceCase(account.name);
+        if (account.hasOwnProperty("accounts")) {
+          const newPrefix = prefix ? `${prefix} > ${accName}` : accName;
+          return InstructionFormatter.flattenIdlAccounts(
+            (<IdlAccounts>account).accounts,
+            newPrefix
+          );
+        } else {
+          return {
+            ...(<IdlAccount>account),
+            name: prefix ? `${prefix} > ${accName}` : accName,
+          };
+        }
+      })
+      .flat();
+  }
+}
+
+function sentenceCase(field: string): string {
+  const result = field.replace(/([A-Z])/g, " $1");
+  return result.charAt(0).toUpperCase() + result.slice(1);
+}
+
+// Not technically sighash, since we don't include the arguments, as Rust
+// doesn't allow function overloading.
+function sighash(nameSpace: string, ixName: string): Buffer {
+  const digest = sha256.digest(`${nameSpace}:${snakeCase(ixName)}`);
+  return Buffer.from(digest).subarray(0, 8);
+}
diff --git a/src/coder/borsh/state.ts b/src/coder/borsh/state.ts
new file mode 100644
index 0000000000000000000000000000000000000000..4104440ab0ffcdd3b5008a761713026118baa21f
--- /dev/null
+++ b/src/coder/borsh/state.ts
@@ -0,0 +1,43 @@
+import { Buffer } from "buffer";
+import { Layout } from "buffer-layout";
+import { sha256 } from "js-sha256";
+import { Idl } from "../../idl.js";
+import { IdlCoder } from "./idl.js";
+import * as features from "../../utils/features.js";
+import { layoutSize } from "../common.js";
+import { PACKET_DATA_SIZE } from "@solana/web3.js";
+
+export class BorshStateCoder {
+  private layout: Layout;
+  private maxSize: number | undefined;
+
+  public constructor(idl: Idl) {
+    if (idl.state === undefined) {
+      throw new Error("Idl state not defined.");
+    }
+    this.layout = IdlCoder.typeDefLayout(idl.state.struct, idl.types);
+    this.maxSize = layoutSize(this.layout);
+  }
+
+  public async encode<T = any>(name: string, account: T): Promise<Buffer> {
+    const buffer = Buffer.alloc(this.maxSize ?? PACKET_DATA_SIZE);
+    const len = this.layout.encode(account, buffer);
+
+    const disc = await stateDiscriminator(name);
+    const accData = buffer.subarray(0, len);
+
+    return Buffer.concat([disc, accData]);
+  }
+
+  public decode<T = any>(ix: Buffer): T {
+    // Chop off discriminator.
+    const data = ix.subarray(8);
+    return this.layout.decode(data);
+  }
+}
+
+// Calculates unique 8 byte discriminator prepended to all anchor state accounts.
+export async function stateDiscriminator(name: string): Promise<Buffer> {
+  const ns = features.isSet("anchor-deprecated-state") ? "account" : "state";
+  return Buffer.from(sha256.digest(`${ns}:${name}`)).subarray(0, 8);
+}
diff --git a/src/coder/borsh/types.ts b/src/coder/borsh/types.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f5955ceebf7d8fd47fd3f9978f242d19a62d1e1f
--- /dev/null
+++ b/src/coder/borsh/types.ts
@@ -0,0 +1,63 @@
+import { Buffer } from "buffer";
+import { Layout } from "buffer-layout";
+import { PACKET_DATA_SIZE } from "@solana/web3.js";
+import { Idl } from "../../idl.js";
+import { IdlCoder } from "./idl.js";
+import { TypesCoder } from "../index.js";
+import { layoutSize } from "../common.js";
+
+/**
+ * Encodes and decodes user-defined types.
+ */
+export class BorshTypesCoder<N extends string = string> implements TypesCoder {
+  /**
+   * Maps type name to a layout.
+   */
+  private typeLayouts: Map<N, [Layout, number | undefined]>;
+
+  /**
+   * IDL whose types will be coded.
+   */
+  private idl: Idl;
+
+  public constructor(idl: Idl) {
+    if (idl.types === undefined) {
+      this.typeLayouts = new Map();
+      return;
+    }
+    const layouts: [N, [Layout, number | undefined]][] = idl.types.map(
+      (type) => {
+        const layout = IdlCoder.typeDefLayout(type, idl.types);
+        let size: number | undefined;
+        try {
+          size = layoutSize(layout);
+        } catch (_) {
+          // noop
+        }
+        return [type.name as N, [layout, size]];
+      }
+    );
+    this.typeLayouts = new Map(layouts);
+    this.idl = idl;
+  }
+
+  public encode<T = any>(typeName: N, type: T): Buffer {
+    const entry = this.typeLayouts.get(typeName);
+    if (!entry) {
+      throw new Error(`Unknown type: ${typeName}`);
+    }
+    const [layout, size] = entry;
+    const buffer = Buffer.alloc(size ?? PACKET_DATA_SIZE);
+    const len = layout.encode(type, buffer);
+    return buffer.subarray(0, len);
+  }
+
+  public decode<T = any>(typeName: N, typeData: Buffer): T {
+    const entry = this.typeLayouts.get(typeName);
+    if (!entry) {
+      throw new Error(`Unknown type: ${typeName}`);
+    }
+    const [layout] = entry;
+    return layout.decode(typeData);
+  }
+}
diff --git a/src/coder/common.ts b/src/coder/common.ts
new file mode 100644
index 0000000000000000000000000000000000000000..30c894d4dc146bbc3b699bd2af6229756b2a17cb
--- /dev/null
+++ b/src/coder/common.ts
@@ -0,0 +1,138 @@
+import { Idl, IdlField, IdlTypeDef, IdlEnumVariant, IdlType } from "../idl.js";
+import { IdlError } from "../error.js";
+import * as BufferLayout from "buffer-layout";
+import * as borsh from "@project-serum/borsh";
+
+const isOptionLayout = (() => {
+  type OptionLayout = ReturnType<typeof borsh.option>;
+
+  return (layout: BufferLayout.Layout): layout is OptionLayout =>
+    layout["layout"] instanceof BufferLayout.Layout &&
+    layout["discriminator"] instanceof BufferLayout.UInt;
+})();
+
+const isWrappedLayout = (() => {
+  interface WrappedLayout extends BufferLayout.Layout {
+    layout: BufferLayout.Layout;
+  }
+
+  return (layout: BufferLayout.Layout): layout is WrappedLayout =>
+    layout["layout"] instanceof BufferLayout.Layout &&
+    typeof layout["decoder"] === "function" &&
+    typeof layout["encoder"] === "function";
+})();
+
+export function layoutSize(layout: BufferLayout.Layout): number {
+  if (layout.span >= 0) {
+    return layout.span;
+  }
+
+  if (layout instanceof BufferLayout.Structure) {
+    return layout.fields.reduce((acc, field) => acc + layoutSize(field), 0);
+  } else if (layout instanceof BufferLayout.Union) {
+    let span = Object.values(layout.registry).reduce((max, variant) => {
+      const span = layoutSize(variant);
+      return span > max ? span : max;
+    }, 0);
+
+    if (layout.usesPrefixDiscriminator) {
+      span += (layout.discriminator as BufferLayout.UnionLayoutDiscriminator)
+        .layout.span;
+    }
+
+    return span;
+  } else if (layout instanceof BufferLayout.VariantLayout) {
+    return layout.layout == null ? 0 : layoutSize(layout.layout);
+  } else if (isOptionLayout(layout)) {
+    return layoutSize(layout.discriminator) + layoutSize(layout.layout);
+  } else if (isWrappedLayout(layout)) {
+    return layoutSize(layout.layout);
+  }
+
+  throw new Error("indeterminate span");
+}
+
+export function accountSize(idl: Idl, idlAccount: IdlTypeDef): number {
+  if (idlAccount.type.kind === "enum") {
+    let variantSizes = idlAccount.type.variants.map(
+      (variant: IdlEnumVariant) => {
+        if (variant.fields === undefined) {
+          return 0;
+        }
+        return variant.fields
+          .map((f: IdlField | IdlType) => {
+            if (!(typeof f === "object" && "name" in f)) {
+              throw new Error("Tuple enum variants not yet implemented.");
+            }
+            return typeSize(idl, f.type);
+          })
+          .reduce((a: number, b: number) => a + b);
+      }
+    );
+    return Math.max(...variantSizes) + 1;
+  }
+  if (idlAccount.type.fields === undefined) {
+    return 0;
+  }
+  return idlAccount.type.fields
+    .map((f) => typeSize(idl, f.type))
+    .reduce((a, b) => a + b, 0);
+}
+
+// Returns the size of the type in bytes.
+//
+// For variable length types, just return 1.
+// Users should override this value in such cases.
+function typeSize(idl: Idl, ty: IdlType): number {
+  switch (ty) {
+    case "bool":
+      return 1;
+    case "u8":
+    case "i8":
+      return 1;
+    case "i16":
+    case "u16":
+      return 2;
+    case "u32":
+    case "i32":
+    case "f32":
+      return 4;
+    case "u64":
+    case "i64":
+    case "f64":
+      return 8;
+    case "u128":
+    case "i128":
+      return 16;
+    case "bytes":
+    case "string":
+      return 1;
+    case "publicKey":
+      return 32;
+    default:
+      if ("vec" in ty) {
+        return 1;
+      }
+      if ("option" in ty) {
+        return 1 + typeSize(idl, ty.option);
+      }
+      if ("coption" in ty) {
+        return 4 + typeSize(idl, ty.coption);
+      }
+      if ("defined" in ty) {
+        const filtered = idl.types?.filter((t) => t.name === ty.defined) ?? [];
+        if (filtered.length !== 1) {
+          throw new IdlError(`Type not found: ${JSON.stringify(ty)}`);
+        }
+        let typeDef = filtered[0];
+
+        return accountSize(idl, typeDef);
+      }
+      if ("array" in ty) {
+        let arrayTy = ty.array[0];
+        let arraySize = ty.array[1];
+        return typeSize(idl, arrayTy) * arraySize;
+      }
+      throw new Error(`Invalid type ${JSON.stringify(ty)}`);
+  }
+}
diff --git a/src/coder/index.ts b/src/coder/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..2f9b508ed8fb64ae0a47b19338d9f327d62a31a3
--- /dev/null
+++ b/src/coder/index.ts
@@ -0,0 +1,65 @@
+import { IdlEvent, IdlTypeDef } from "../idl.js";
+import { Event } from "../program/event.js";
+
+export * from "./borsh/index.js";
+export * from "./spl-token/index.js";
+export * from "./system/index.js";
+
+/**
+ * Coder provides a facade for encoding and decoding all IDL related objects.
+ */
+export interface Coder<A extends string = string, T extends string = string> {
+  /**
+   * Instruction coder.
+   */
+  readonly instruction: InstructionCoder;
+
+  /**
+   * Account coder.
+   */
+  readonly accounts: AccountsCoder<A>;
+
+  /**
+   * Coder for state structs.
+   */
+  readonly state?: StateCoder | undefined;
+
+  /**
+   * Coder for events.
+   */
+  readonly events: EventCoder;
+
+  /**
+   * Coder for user-defined types.
+   */
+  readonly types: TypesCoder<T>;
+}
+
+export interface StateCoder {
+  encode<T = any>(name: string, account: T): Promise<Buffer>;
+  decode<T = any>(ix: Buffer): T;
+}
+
+export interface AccountsCoder<A extends string = string> {
+  encode<T = any>(accountName: A, account: T): Promise<Buffer>;
+  decode<T = any>(accountName: A, ix: Buffer): T;
+  decodeUnchecked<T = any>(accountName: A, ix: Buffer): T;
+  memcmp(accountName: A, appendData?: Buffer): any;
+  size(idlAccount: IdlTypeDef): number;
+}
+
+export interface InstructionCoder {
+  encode(ixName: string, ix: any): Buffer;
+  encodeState(ixName: string, ix: any): Buffer;
+}
+
+export interface EventCoder {
+  decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(
+    log: string
+  ): Event<E, T> | null;
+}
+
+export interface TypesCoder<N extends string = string> {
+  encode<T = any>(typeName: N, type: T): Buffer;
+  decode<T = any>(typeName: N, typeData: Buffer): T;
+}
diff --git a/src/coder/spl-associated-token/accounts.ts b/src/coder/spl-associated-token/accounts.ts
new file mode 100644
index 0000000000000000000000000000000000000000..8aab9db3aa0b4a005f9317835827ba2179af23cb
--- /dev/null
+++ b/src/coder/spl-associated-token/accounts.ts
@@ -0,0 +1,42 @@
+import { AccountsCoder } from "../index.js";
+import { Idl, IdlTypeDef } from "../../idl.js";
+import { accountSize } from "../common";
+
+export class SplAssociatedTokenAccountsCoder<A extends string = string>
+  implements AccountsCoder
+{
+  constructor(private idl: Idl) {}
+
+  public async encode<T = any>(accountName: A, account: T): Promise<Buffer> {
+    switch (accountName) {
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  public decode<T = any>(accountName: A, ix: Buffer): T {
+    return this.decodeUnchecked(accountName, ix);
+  }
+
+  public decodeUnchecked<T = any>(accountName: A, ix: Buffer): T {
+    switch (accountName) {
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  // TODO: this won't use the appendData.
+  public memcmp(accountName: A, _appendData?: Buffer): any {
+    switch (accountName) {
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  public size(idlAccount: IdlTypeDef): number {
+    return accountSize(this.idl, idlAccount) ?? 0;
+  }
+}
diff --git a/src/coder/spl-associated-token/events.ts b/src/coder/spl-associated-token/events.ts
new file mode 100644
index 0000000000000000000000000000000000000000..df70671cf7f7ddce891eaf7439708fc23ec215ec
--- /dev/null
+++ b/src/coder/spl-associated-token/events.ts
@@ -0,0 +1,14 @@
+import { EventCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { Event } from "../../program/event";
+import { IdlEvent } from "../../idl";
+
+export class SplAssociatedTokenEventsCoder implements EventCoder {
+  constructor(_idl: Idl) {}
+
+  decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(
+    _log: string
+  ): Event<E, T> | null {
+    throw new Error("SPL associated token program does not have events");
+  }
+}
diff --git a/src/coder/spl-associated-token/index.ts b/src/coder/spl-associated-token/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..6a5cfb7946d49cae969d96f22551287f62cfc95d
--- /dev/null
+++ b/src/coder/spl-associated-token/index.ts
@@ -0,0 +1,26 @@
+import { Idl } from "../../idl.js";
+import { Coder } from "../index.js";
+import { SplAssociatedTokenInstructionCoder } from "./instruction.js";
+import { SplAssociatedTokenStateCoder } from "./state.js";
+import { SplAssociatedTokenAccountsCoder } from "./accounts.js";
+import { SplAssociatedTokenEventsCoder } from "./events.js";
+import { SplAssociatedTokenTypesCoder } from "./types.js";
+
+/**
+ * Coder for the SPL token program.
+ */
+export class SplAssociatedTokenCoder implements Coder {
+  readonly instruction: SplAssociatedTokenInstructionCoder;
+  readonly accounts: SplAssociatedTokenAccountsCoder;
+  readonly state: SplAssociatedTokenStateCoder;
+  readonly events: SplAssociatedTokenEventsCoder;
+  readonly types: SplAssociatedTokenTypesCoder;
+
+  constructor(idl: Idl) {
+    this.instruction = new SplAssociatedTokenInstructionCoder(idl);
+    this.accounts = new SplAssociatedTokenAccountsCoder(idl);
+    this.events = new SplAssociatedTokenEventsCoder(idl);
+    this.state = new SplAssociatedTokenStateCoder(idl);
+    this.types = new SplAssociatedTokenTypesCoder(idl);
+  }
+}
diff --git a/src/coder/spl-associated-token/instruction.ts b/src/coder/spl-associated-token/instruction.ts
new file mode 100644
index 0000000000000000000000000000000000000000..bbf62a60c923dcc4b29ba63e06a93f2fcf177abc
--- /dev/null
+++ b/src/coder/spl-associated-token/instruction.ts
@@ -0,0 +1,22 @@
+import { camelCase } from "@juici/case";
+import { Idl } from "../../idl.js";
+import { InstructionCoder } from "../index.js";
+
+export class SplAssociatedTokenInstructionCoder implements InstructionCoder {
+  constructor(_: Idl) {}
+
+  encode(ixName: string, _: any): Buffer {
+    switch (camelCase(ixName)) {
+      case "create": {
+        return Buffer.alloc(0);
+      }
+      default: {
+        throw new Error(`Invalid instruction: ${ixName}`);
+      }
+    }
+  }
+
+  encodeState(_ixName: string, _ix: any): Buffer {
+    throw new Error("SPL associated token does not have state");
+  }
+}
diff --git a/src/coder/spl-associated-token/state.ts b/src/coder/spl-associated-token/state.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c607f82c8aa890d05d29a69edbf18c39645b930c
--- /dev/null
+++ b/src/coder/spl-associated-token/state.ts
@@ -0,0 +1,13 @@
+import { StateCoder } from "../index.js";
+import { Idl } from "../../idl";
+
+export class SplAssociatedTokenStateCoder implements StateCoder {
+  constructor(_idl: Idl) {}
+
+  encode<T = any>(_name: string, _account: T): Promise<Buffer> {
+    throw new Error("SPL associated token does not have state");
+  }
+  decode<T = any>(_ix: Buffer): T {
+    throw new Error("SPL associated token does not have state");
+  }
+}
diff --git a/src/coder/spl-associated-token/types.ts b/src/coder/spl-associated-token/types.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e6b2958cb9b27eebc44d4f49c99405c03f7fad54
--- /dev/null
+++ b/src/coder/spl-associated-token/types.ts
@@ -0,0 +1,13 @@
+import { TypesCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+
+export class SplAssociatedTokenTypesCoder implements TypesCoder {
+  constructor(_idl: Idl) {}
+
+  encode<T = any>(_name: string, _type: T): Buffer {
+    throw new Error("SPL associated token does not have user-defined types");
+  }
+  decode<T = any>(_name: string, _typeData: Buffer): T {
+    throw new Error("SPL associated token does not have user-defined types");
+  }
+}
diff --git a/src/coder/spl-token/accounts.ts b/src/coder/spl-token/accounts.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f33208807af28f5d7a662d635e45ab0805f3f033
--- /dev/null
+++ b/src/coder/spl-token/accounts.ts
@@ -0,0 +1,99 @@
+import * as BufferLayout from "buffer-layout";
+import { publicKey, uint64, coption, bool } from "./buffer-layout.js";
+import { AccountsCoder } from "../index.js";
+import { Idl, IdlTypeDef } from "../../idl.js";
+import { accountSize } from "../common";
+
+export class SplTokenAccountsCoder<A extends string = string>
+  implements AccountsCoder
+{
+  constructor(private idl: Idl) {}
+
+  public async encode<T = any>(accountName: A, account: T): Promise<Buffer> {
+    switch (accountName) {
+      case "token": {
+        const buffer = Buffer.alloc(165);
+        // @ts-ignore
+        const len = TOKEN_ACCOUNT_LAYOUT.encode(account, buffer);
+        return buffer.slice(0, len);
+      }
+      case "mint": {
+        const buffer = Buffer.alloc(82);
+        // @ts-ignore
+        const len = MINT_ACCOUNT_LAYOUT.encode(account, buffer);
+        return buffer.slice(0, len);
+      }
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  public decode<T = any>(accountName: A, ix: Buffer): T {
+    return this.decodeUnchecked(accountName, ix);
+  }
+
+  public decodeUnchecked<T = any>(accountName: A, ix: Buffer): T {
+    switch (accountName) {
+      case "token": {
+        return decodeTokenAccount(ix);
+      }
+      case "mint": {
+        return decodeMintAccount(ix);
+      }
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  // TODO: this won't use the appendData.
+  public memcmp(accountName: A, _appendData?: Buffer): any {
+    switch (accountName) {
+      case "token": {
+        return {
+          dataSize: 165,
+        };
+      }
+      case "mint": {
+        return {
+          dataSize: 82,
+        };
+      }
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  public size(idlAccount: IdlTypeDef): number {
+    return accountSize(this.idl, idlAccount) ?? 0;
+  }
+}
+
+function decodeMintAccount<T = any>(ix: Buffer): T {
+  return MINT_ACCOUNT_LAYOUT.decode(ix) as T;
+}
+
+function decodeTokenAccount<T = any>(ix: Buffer): T {
+  return TOKEN_ACCOUNT_LAYOUT.decode(ix) as T;
+}
+
+const MINT_ACCOUNT_LAYOUT = BufferLayout.struct([
+  coption(publicKey(), "mintAuthority"),
+  uint64("supply"),
+  BufferLayout.u8("decimals"),
+  bool("isInitialized"),
+  coption(publicKey(), "freezeAuthority"),
+]);
+
+const TOKEN_ACCOUNT_LAYOUT = BufferLayout.struct([
+  publicKey("mint"),
+  publicKey("authority"),
+  uint64("amount"),
+  coption(publicKey(), "delegate"),
+  BufferLayout.u8("state"),
+  coption(uint64(), "isNative"),
+  uint64("delegatedAmount"),
+  coption(publicKey(), "closeAuthority"),
+]);
diff --git a/src/coder/spl-token/buffer-layout.ts b/src/coder/spl-token/buffer-layout.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f8cc84edf0500472dff83951cbae653a9249493d
--- /dev/null
+++ b/src/coder/spl-token/buffer-layout.ts
@@ -0,0 +1,132 @@
+import BN from "bn.js";
+import * as BufferLayout from "buffer-layout";
+import { Layout } from "buffer-layout";
+import { PublicKey } from "@solana/web3.js";
+
+export function uint64(property?: string): Layout<u64> {
+  return new WrappedLayout(
+    BufferLayout.blob(8),
+    (b: Buffer) => u64.fromBuffer(b),
+    (n: u64) => n.toBuffer(),
+    property
+  );
+}
+
+export function bool(property?: string): Layout<boolean> {
+  return new WrappedLayout(BufferLayout.u8(), decodeBool, encodeBool, property);
+}
+
+export function publicKey(property?: string): Layout<PublicKey> {
+  return new WrappedLayout(
+    BufferLayout.blob(32),
+    (b: Buffer) => new PublicKey(b),
+    (key: PublicKey) => key.toBuffer(),
+    property
+  );
+}
+
+export function coption<T>(
+  layout: Layout<T>,
+  property?: string
+): Layout<T | null> {
+  return new COptionLayout<T>(layout, property);
+}
+
+class WrappedLayout<T, U> extends Layout<U> {
+  layout: Layout<T>;
+  decoder: (data: T) => U;
+  encoder: (src: U) => T;
+
+  constructor(
+    layout: Layout<T>,
+    decoder: (data: T) => U,
+    encoder: (src: U) => T,
+    property?: string
+  ) {
+    super(layout.span, property);
+    this.layout = layout;
+    this.decoder = decoder;
+    this.encoder = encoder;
+  }
+
+  decode(b: Buffer, offset?: number): U {
+    return this.decoder(this.layout.decode(b, offset));
+  }
+
+  encode(src: U, b: Buffer, offset?: number): number {
+    return this.layout.encode(this.encoder(src), b, offset);
+  }
+
+  getSpan(b: Buffer, offset?: number): number {
+    return this.layout.getSpan(b, offset);
+  }
+}
+
+export class COptionLayout<T> extends Layout<T | null> {
+  layout: Layout<T>;
+  discriminator: Layout<number>;
+
+  constructor(layout: Layout<T>, property?: string) {
+    super(-1, property);
+    this.layout = layout;
+    this.discriminator = BufferLayout.u32();
+  }
+
+  encode(src: T | null, b: Buffer, offset = 0): number {
+    if (src === null || src === undefined) {
+      return this.layout.span + this.discriminator.encode(0, b, offset);
+    }
+    this.discriminator.encode(1, b, offset);
+    return 4 + this.layout.encode(src, b, offset + 4);
+  }
+
+  decode(b: Buffer, offset = 0): T | null {
+    const discriminator = this.discriminator.decode(b, offset);
+    if (discriminator === 0) {
+      return null;
+    } else if (discriminator === 1) {
+      return this.layout.decode(b, offset + 4);
+    }
+    throw new Error("Invalid coption " + this.layout.property);
+  }
+
+  getSpan(b: Buffer, offset = 0): number {
+    return this.layout.getSpan(b, offset + 4) + 4;
+  }
+}
+
+function decodeBool(value: number): boolean {
+  if (value === 0) {
+    return false;
+  } else if (value === 1) {
+    return true;
+  }
+  throw new Error("Invalid bool: " + value);
+}
+
+function encodeBool(value: boolean): number {
+  return value ? 1 : 0;
+}
+
+export class u64 extends BN {
+  /**
+   * Convert to Buffer representation
+   */
+  toBuffer(): Buffer {
+    const buf = super.toArrayLike(Buffer, "le", 8);
+    if (buf.length >= 8) {
+      throw new Error("u64 too large");
+    }
+    return buf;
+  }
+
+  /**
+   * Construct a u64 from Buffer representation
+   */
+  static fromBuffer(buffer: Buffer): u64 {
+    if (buffer.length !== 8) {
+      throw new Error(`Invalid buffer length: ${buffer.length}`);
+    }
+    return new u64(buffer, "le");
+  }
+}
diff --git a/src/coder/spl-token/events.ts b/src/coder/spl-token/events.ts
new file mode 100644
index 0000000000000000000000000000000000000000..973258f4cf61c5f9b8615c2fd9f9585e4e953c73
--- /dev/null
+++ b/src/coder/spl-token/events.ts
@@ -0,0 +1,14 @@
+import { EventCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { Event } from "../../program/event";
+import { IdlEvent } from "../../idl";
+
+export class SplTokenEventsCoder implements EventCoder {
+  constructor(_idl: Idl) {}
+
+  decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(
+    _log: string
+  ): Event<E, T> | null {
+    throw new Error("SPL token program does not have events");
+  }
+}
diff --git a/src/coder/spl-token/index.ts b/src/coder/spl-token/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f7d33e798b057a6c0ed2270f26451fda3ad2a43a
--- /dev/null
+++ b/src/coder/spl-token/index.ts
@@ -0,0 +1,26 @@
+import { Idl } from "../../idl.js";
+import { Coder } from "../index.js";
+import { SplTokenInstructionCoder } from "./instruction.js";
+import { SplTokenStateCoder } from "./state.js";
+import { SplTokenAccountsCoder } from "./accounts.js";
+import { SplTokenEventsCoder } from "./events.js";
+import { SplTokenTypesCoder } from "./types.js";
+
+/**
+ * Coder for the SPL token program.
+ */
+export class SplTokenCoder implements Coder {
+  readonly instruction: SplTokenInstructionCoder;
+  readonly accounts: SplTokenAccountsCoder;
+  readonly state: SplTokenStateCoder;
+  readonly events: SplTokenEventsCoder;
+  readonly types: SplTokenTypesCoder;
+
+  constructor(idl: Idl) {
+    this.instruction = new SplTokenInstructionCoder(idl);
+    this.accounts = new SplTokenAccountsCoder(idl);
+    this.events = new SplTokenEventsCoder(idl);
+    this.state = new SplTokenStateCoder(idl);
+    this.types = new SplTokenTypesCoder(idl);
+  }
+}
diff --git a/src/coder/spl-token/instruction.ts b/src/coder/spl-token/instruction.ts
new file mode 100644
index 0000000000000000000000000000000000000000..7ca10bae3fd31f6e818fdf7091dd712808c10d9f
--- /dev/null
+++ b/src/coder/spl-token/instruction.ts
@@ -0,0 +1,312 @@
+import * as BufferLayout from "buffer-layout";
+import * as borsh from "@project-serum/borsh";
+import { camelCase } from "@juici/case";
+import { InstructionCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { layoutSize } from "../common.js";
+
+export class SplTokenInstructionCoder implements InstructionCoder {
+  constructor(_: Idl) {}
+
+  encode(ixName: string, ix: any): Buffer {
+    switch (camelCase(ixName)) {
+      case "initializeMint": {
+        return encodeInitializeMint(ix);
+      }
+      case "initializeAccount": {
+        return encodeInitializeAccount(ix);
+      }
+      case "initializeMultisig": {
+        return encodeInitializeMultisig(ix);
+      }
+      case "transfer": {
+        return encodeTransfer(ix);
+      }
+      case "approve": {
+        return encodeApprove(ix);
+      }
+      case "revoke": {
+        return encodeRevoke(ix);
+      }
+      case "setAuthority": {
+        return encodeSetAuthority(ix);
+      }
+      case "mintTo": {
+        return encodeMintTo(ix);
+      }
+      case "burn": {
+        return encodeBurn(ix);
+      }
+      case "closeAccount": {
+        return encodeCloseAccount(ix);
+      }
+      case "freezeAccount": {
+        return encodeFreezeAccount(ix);
+      }
+      case "thawAccount": {
+        return encodeThawAccount(ix);
+      }
+      case "transferChecked": {
+        return encodeTransferChecked(ix);
+      }
+      case "approvedChecked": {
+        return encodeApproveChecked(ix);
+      }
+      case "mintToChecked": {
+        return encodeMintToChecked(ix);
+      }
+      case "burnChecked": {
+        return encodeBurnChecked(ix);
+      }
+      case "intializeAccount2": {
+        return encodeInitializeAccount2(ix);
+      }
+      case "syncNative": {
+        return encodeSyncNative(ix);
+      }
+      case "initializeAccount3": {
+        return encodeInitializeAccount3(ix);
+      }
+      case "initializeMultisig2": {
+        return encodeInitializeMultisig2(ix);
+      }
+      case "initializeMint2": {
+        return encodeInitializeMint2(ix);
+      }
+      default: {
+        throw new Error(`Invalid instruction: ${ixName}`);
+      }
+    }
+  }
+
+  encodeState(_ixName: string, _ix: any): Buffer {
+    throw new Error("SPL token does not have state");
+  }
+}
+
+function encodeInitializeMint({
+  decimals,
+  mintAuthority,
+  freezeAuthority,
+}: any): Buffer {
+  return encodeData({
+    initializeMint: {
+      decimals,
+      mintAuthority,
+      freezeAuthority,
+    },
+  });
+}
+
+function encodeInitializeAccount(_ix: any): Buffer {
+  return encodeData({
+    initializeAccount: {},
+  });
+}
+
+function encodeInitializeMultisig({ m }: any): Buffer {
+  return encodeData({
+    initializeMultisig: {
+      m,
+    },
+  });
+}
+
+function encodeTransfer({ amount }: any): Buffer {
+  return encodeData({
+    transfer: { amount },
+  });
+}
+
+function encodeApprove({ amount }: any): Buffer {
+  return encodeData({
+    approve: { amount },
+  });
+}
+
+function encodeRevoke(_ix: any): Buffer {
+  return encodeData({
+    revoke: {},
+  });
+}
+
+function encodeSetAuthority({ authorityType, newAuthority }: any): Buffer {
+  return encodeData({
+    setAuthority: { authorityType, newAuthority },
+  });
+}
+
+function encodeMintTo({ amount }: any): Buffer {
+  return encodeData({
+    mintTo: { amount },
+  });
+}
+
+function encodeBurn({ amount }: any): Buffer {
+  return encodeData({
+    burn: { amount },
+  });
+}
+
+function encodeCloseAccount(_: any): Buffer {
+  return encodeData({
+    closeAccount: {},
+  });
+}
+
+function encodeFreezeAccount(_: any): Buffer {
+  return encodeData({
+    freezeAccount: {},
+  });
+}
+
+function encodeThawAccount(_: any): Buffer {
+  return encodeData({
+    thawAccount: {},
+  });
+}
+
+function encodeTransferChecked({ amount, decimals }: any): Buffer {
+  return encodeData({
+    transferChecked: { amount, decimals },
+  });
+}
+
+function encodeApproveChecked({ amount, decimals }: any): Buffer {
+  return encodeData({
+    approveChecked: { amount, decimals },
+  });
+}
+
+function encodeMintToChecked({ amount, decimals }: any): Buffer {
+  return encodeData({
+    mintToChecked: { amount, decimals },
+  });
+}
+
+function encodeBurnChecked({ amount, decimals }: any): Buffer {
+  return encodeData({
+    burnChecked: { amount, decimals },
+  });
+}
+
+function encodeInitializeAccount2({ authority }: any): Buffer {
+  return encodeData({
+    initilaizeAccount2: { authority },
+  });
+}
+
+function encodeSyncNative(_: any): Buffer {
+  return encodeData({
+    syncNative: {},
+  });
+}
+
+function encodeInitializeAccount3({ authority }: any): Buffer {
+  return encodeData({
+    initializeAccount3: { authority },
+  });
+}
+
+function encodeInitializeMultisig2({ m }: any): Buffer {
+  return encodeData({
+    initializeMultisig2: { m },
+  });
+}
+
+function encodeInitializeMint2({
+  decimals,
+  mintAuthority,
+  freezeAuthority,
+}: any): Buffer {
+  return encodeData({
+    initializeMint2: { decimals, mintAuthority, freezeAuthority },
+  });
+}
+
+const LAYOUT = BufferLayout.union(BufferLayout.u8("instruction"));
+LAYOUT.addVariant(
+  0,
+  BufferLayout.struct([
+    BufferLayout.u8("decimals"),
+    borsh.publicKey("mintAuthority"),
+    borsh.option(borsh.publicKey(), "freezeAuthority"),
+  ]),
+  "initializeMint"
+);
+LAYOUT.addVariant(1, BufferLayout.struct([]), "initializeAccount");
+LAYOUT.addVariant(
+  2,
+  BufferLayout.struct([BufferLayout.u8("m")]),
+  "initializeMultisig"
+);
+LAYOUT.addVariant(3, BufferLayout.struct([borsh.u64("amount")]), "transfer");
+LAYOUT.addVariant(4, BufferLayout.struct([borsh.u64("amount")]), "approve");
+LAYOUT.addVariant(5, BufferLayout.struct([]), "revoke");
+LAYOUT.addVariant(
+  6,
+  BufferLayout.struct([
+    BufferLayout.u8("authorityType"),
+    borsh.option(borsh.publicKey(), "newAuthority"),
+  ]),
+  "setAuthority"
+);
+LAYOUT.addVariant(7, BufferLayout.struct([borsh.u64("amount")]), "mintTo");
+LAYOUT.addVariant(8, BufferLayout.struct([borsh.u64("amount")]), "burn");
+LAYOUT.addVariant(9, BufferLayout.struct([]), "closeAccount");
+LAYOUT.addVariant(10, BufferLayout.struct([]), "freezeAccount");
+LAYOUT.addVariant(11, BufferLayout.struct([]), "thawAccount");
+LAYOUT.addVariant(
+  12,
+  BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]),
+  "transferChecked"
+);
+LAYOUT.addVariant(
+  13,
+  BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]),
+  "approvedChecked"
+);
+LAYOUT.addVariant(
+  14,
+  BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]),
+  "mintToChecked"
+);
+LAYOUT.addVariant(
+  15,
+  BufferLayout.struct([borsh.u64("amount"), BufferLayout.u8("decimals")]),
+  "burnedChecked"
+);
+LAYOUT.addVariant(
+  16,
+  BufferLayout.struct([borsh.publicKey("authority")]),
+  "InitializeAccount2"
+);
+LAYOUT.addVariant(17, BufferLayout.struct([]), "syncNative");
+LAYOUT.addVariant(
+  18,
+  BufferLayout.struct([borsh.publicKey("authority")]),
+  "initializeAccount3"
+);
+LAYOUT.addVariant(
+  19,
+  BufferLayout.struct([BufferLayout.u8("m")]),
+  "initializeMultisig2"
+);
+LAYOUT.addVariant(
+  20,
+  BufferLayout.struct([
+    BufferLayout.u8("decimals"),
+    borsh.publicKey("mintAuthority"),
+    BufferLayout.u8("freezeAuthorityOption"),
+    borsh.publicKey("freezeAuthority"),
+  ]),
+  "initializeMint2"
+);
+
+function encodeData(instruction: any): Buffer {
+  let b = Buffer.alloc(instructionMaxSpan);
+  let span = LAYOUT.encode(instruction, b);
+  return b.subarray(0, span);
+}
+
+const instructionMaxSpan = layoutSize(LAYOUT);
diff --git a/src/coder/spl-token/state.ts b/src/coder/spl-token/state.ts
new file mode 100644
index 0000000000000000000000000000000000000000..baff6a8a91215676a0c57a9e6861573714156e20
--- /dev/null
+++ b/src/coder/spl-token/state.ts
@@ -0,0 +1,13 @@
+import { StateCoder } from "../index.js";
+import { Idl } from "../../idl";
+
+export class SplTokenStateCoder implements StateCoder {
+  constructor(_idl: Idl) {}
+
+  encode<T = any>(_name: string, _account: T): Promise<Buffer> {
+    throw new Error("SPL token does not have state");
+  }
+  decode<T = any>(_ix: Buffer): T {
+    throw new Error("SPL token does not have state");
+  }
+}
diff --git a/src/coder/spl-token/types.ts b/src/coder/spl-token/types.ts
new file mode 100644
index 0000000000000000000000000000000000000000..fee1e00de70220fee1b5031e12ac564158ec4db3
--- /dev/null
+++ b/src/coder/spl-token/types.ts
@@ -0,0 +1,13 @@
+import { TypesCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+
+export class SplTokenTypesCoder implements TypesCoder {
+  constructor(_idl: Idl) {}
+
+  encode<T = any>(_name: string, _type: T): Buffer {
+    throw new Error("SPL token does not have user-defined types");
+  }
+  decode<T = any>(_name: string, _typeData: Buffer): T {
+    throw new Error("SPL token does not have user-defined types");
+  }
+}
diff --git a/src/coder/system/accounts.ts b/src/coder/system/accounts.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b2c45a9f286e0a6c078d0a12c42e951d40a5ee80
--- /dev/null
+++ b/src/coder/system/accounts.ts
@@ -0,0 +1,74 @@
+import { AccountsCoder } from "../index.js";
+import { Idl, IdlTypeDef } from "../../idl.js";
+import * as BufferLayout from "buffer-layout";
+import * as borsh from "@project-serum/borsh";
+import { NONCE_ACCOUNT_LENGTH } from "@solana/web3.js";
+import { accountSize } from "../common.js";
+import BN from "bn.js";
+
+export class SystemAccountsCoder<A extends string = string>
+  implements AccountsCoder
+{
+  constructor(private idl: Idl) {}
+
+  public async encode<T = any>(accountName: A, account: T): Promise<Buffer> {
+    switch (accountName) {
+      case "nonce": {
+        const buffer = Buffer.alloc(NONCE_ACCOUNT_LENGTH);
+        const len = NONCE_ACCOUNT_LAYOUT.encode(account as any, buffer);
+        return buffer.subarray(0, len);
+      }
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  public decode<T = any>(accountName: A, ix: Buffer): T {
+    return this.decodeUnchecked(accountName, ix);
+  }
+
+  public decodeUnchecked<T = any>(accountName: A, ix: Buffer): T {
+    switch (accountName) {
+      case "nonce": {
+        return decodeNonceAccount(ix);
+      }
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  // TODO: this won't use the appendData.
+  public memcmp(accountName: A, _appendData?: Buffer): any {
+    switch (accountName) {
+      case "nonce": {
+        return {
+          dataSize: NONCE_ACCOUNT_LENGTH,
+        };
+      }
+      default: {
+        throw new Error(`Invalid account name: ${accountName}`);
+      }
+    }
+  }
+
+  public size(idlAccount: IdlTypeDef): number {
+    return accountSize(this.idl, idlAccount) ?? 0;
+  }
+}
+
+function decodeNonceAccount<T = any>(ix: Buffer): T {
+  return NONCE_ACCOUNT_LAYOUT.decode(ix) as T;
+}
+
+const NONCE_ACCOUNT_LAYOUT = BufferLayout.struct([
+  BufferLayout.u32("version"),
+  BufferLayout.u32("state"),
+  borsh.publicKey("authorizedPubkey"),
+  borsh.publicKey("nonce"),
+  BufferLayout.struct<{ lamportsPerSignature: BN }>(
+    [borsh.u64("lamportsPerSignature")],
+    "feeCalculator"
+  ),
+]);
diff --git a/src/coder/system/events.ts b/src/coder/system/events.ts
new file mode 100644
index 0000000000000000000000000000000000000000..9a9f5faac9fa71c45c9f822e7112d4b4f729a507
--- /dev/null
+++ b/src/coder/system/events.ts
@@ -0,0 +1,14 @@
+import { EventCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+import { Event } from "../../program/event";
+import { IdlEvent } from "../../idl";
+
+export class SystemEventsCoder implements EventCoder {
+  constructor(_idl: Idl) {}
+
+  decode<E extends IdlEvent = IdlEvent, T = Record<string, string>>(
+    _log: string
+  ): Event<E, T> | null {
+    throw new Error("System program does not have events");
+  }
+}
diff --git a/src/coder/system/index.ts b/src/coder/system/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f4efa131cc86d95ec7971e06883e9f7498402684
--- /dev/null
+++ b/src/coder/system/index.ts
@@ -0,0 +1,26 @@
+import { Idl } from "../../idl.js";
+import { Coder } from "../index.js";
+import { SystemInstructionCoder } from "./instruction.js";
+import { SystemStateCoder } from "./state.js";
+import { SystemAccountsCoder } from "./accounts.js";
+import { SystemEventsCoder } from "./events.js";
+import { SystemTypesCoder } from "./types.js";
+
+/**
+ * Coder for the System program.
+ */
+export class SystemCoder implements Coder {
+  readonly instruction: SystemInstructionCoder;
+  readonly accounts: SystemAccountsCoder;
+  readonly state: SystemStateCoder;
+  readonly events: SystemEventsCoder;
+  readonly types: SystemTypesCoder;
+
+  constructor(idl: Idl) {
+    this.instruction = new SystemInstructionCoder(idl);
+    this.accounts = new SystemAccountsCoder(idl);
+    this.events = new SystemEventsCoder(idl);
+    this.state = new SystemStateCoder(idl);
+    this.types = new SystemTypesCoder(idl);
+  }
+}
diff --git a/src/coder/system/instruction.ts b/src/coder/system/instruction.ts
new file mode 100644
index 0000000000000000000000000000000000000000..8001b94fb18bee536d2d88bb121f0c329add9c18
--- /dev/null
+++ b/src/coder/system/instruction.ts
@@ -0,0 +1,305 @@
+import BN from "bn.js";
+import * as BufferLayout from "buffer-layout";
+import * as borsh from "@project-serum/borsh";
+import { camelCase } from "@juici/case";
+import { Idl } from "../../idl.js";
+import { InstructionCoder } from "../index.js";
+import { utf8 } from "../../utils/bytes/index.js";
+
+export class SystemInstructionCoder implements InstructionCoder {
+  // eslint-disable-next-line @typescript-eslint/no-empty-function
+  constructor(_: Idl) {}
+
+  encode(ixName: string, ix: any): Buffer {
+    switch (camelCase(ixName)) {
+      case "createAccount": {
+        return encodeCreateAccount(ix);
+      }
+      case "assign": {
+        return encodeAssign(ix);
+      }
+      case "transfer": {
+        return encodeTransfer(ix);
+      }
+      case "createAccountWithSeed": {
+        return encodeCreateAccountWithSeed(ix);
+      }
+      case "advanceNonceAccount": {
+        return encodeAdvanceNonceAccount(ix);
+      }
+      case "withdrawNonceAccount": {
+        return encodeWithdrawNonceAccount(ix);
+      }
+      case "initializeNonceAccount": {
+        return encodeInitializeNonceAccount(ix);
+      }
+      case "authorizeNonceAccount": {
+        return encodeAuthorizeNonceAccount(ix);
+      }
+      case "allocate": {
+        return encodeAllocate(ix);
+      }
+      case "allocateWithSeed": {
+        return encodeAllocateWithSeed(ix);
+      }
+      case "assignWithSeed": {
+        return encodeAssignWithSeed(ix);
+      }
+      case "transferWithSeed": {
+        return encodeTransferWithSeed(ix);
+      }
+      default: {
+        throw new Error(`Invalid instruction: ${ixName}`);
+      }
+    }
+  }
+
+  encodeState(_ixName: string, _ix: any): Buffer {
+    throw new Error("System does not have state");
+  }
+}
+
+class RustStringLayout extends BufferLayout.Layout<string | null> {
+  layout = BufferLayout.struct<
+    Readonly<{
+      length?: number;
+      lengthPadding?: number;
+      chars: Uint8Array;
+    }>
+  >(
+    [
+      BufferLayout.u32("length"),
+      BufferLayout.u32("lengthPadding"),
+      BufferLayout.blob(BufferLayout.offset(BufferLayout.u32(), -8), "chars"),
+    ],
+    this.property
+  );
+
+  constructor(public property?: string) {
+    super(-1, property);
+  }
+
+  encode(src: string | null, b: Buffer, offset = 0): number {
+    if (src === null || src === undefined) {
+      return this.layout.span;
+    }
+
+    const data = {
+      chars: Buffer.from(src, "utf-8"),
+    };
+
+    return this.layout.encode(data, b, offset);
+  }
+
+  decode(b: Buffer, offset = 0): string | null {
+    const { chars } = this.layout.decode(b, offset);
+    return utf8.decode(chars);
+  }
+
+  getSpan(b: Buffer, offset = 0): number {
+    const view = new DataView(b.buffer, b.byteOffset, b.byteLength);
+    const len = view.getUint32(offset, true);
+    return 8 + len;
+  }
+}
+
+function rustStringLayout(property: string) {
+  return new RustStringLayout(property);
+}
+
+function encodeCreateAccount({ lamports, space, owner }: any): Buffer {
+  return encodeData({
+    createAccount: { lamports, space, owner: owner.toBuffer() },
+  });
+}
+
+function encodeAssign({ owner }: any): Buffer {
+  return encodeData({
+    assign: { owner: owner.toBuffer() },
+  });
+}
+
+function encodeTransfer({ lamports }: any): Buffer {
+  return encodeData({
+    transfer: { lamports },
+  });
+}
+
+function encodeCreateAccountWithSeed({
+  base,
+  seed,
+  lamports,
+  space,
+  owner,
+}: any): Buffer {
+  return encodeData(
+    {
+      createAccountWithSeed: {
+        base: base.toBuffer(),
+        seed,
+        lamports,
+        space,
+        owner: owner.toBuffer(),
+      },
+    },
+    LAYOUT.getVariant(3)!.span + seed.length
+  );
+}
+
+function encodeInitializeNonceAccount({ authorized }: any): Buffer {
+  return encodeData({
+    initializeNonceAccount: { authorized: authorized.toBuffer() },
+  });
+}
+
+function encodeAdvanceNonceAccount({ authorized }: any): Buffer {
+  return encodeData({
+    advanceNonceAccount: { authorized: authorized.toBuffer() },
+  });
+}
+
+function encodeWithdrawNonceAccount({ lamports }: any): Buffer {
+  return encodeData({
+    withdrawNonceAccount: { lamports },
+  });
+}
+
+function encodeAuthorizeNonceAccount({ authorized }: any): Buffer {
+  return encodeData({
+    authorizeNonceAccount: { authorized: authorized.toBuffer() },
+  });
+}
+
+function encodeAllocate({ space }: any): Buffer {
+  return encodeData({
+    allocate: { space },
+  });
+}
+
+function encodeAllocateWithSeed({ base, seed, space, owner }: any): Buffer {
+  return encodeData(
+    {
+      allocateWithSeed: {
+        base: base.toBuffer(),
+        seed,
+        space,
+        owner: owner.toBuffer(),
+      },
+    },
+    LAYOUT.getVariant(9)!.span + seed.length
+  );
+}
+
+function encodeAssignWithSeed({ base, seed, owner }: any): Buffer {
+  return encodeData(
+    {
+      assignWithSeed: {
+        base: base.toBuffer(),
+        seed,
+        owner: owner.toBuffer(),
+      },
+    },
+    LAYOUT.getVariant(10)!.span + seed.length
+  );
+}
+
+function encodeTransferWithSeed({ lamports, seed, owner }: any): Buffer {
+  return encodeData(
+    {
+      transferWithSeed: {
+        lamports,
+        seed,
+        owner: owner.toBuffer(),
+      },
+    },
+    LAYOUT.getVariant(11)!.span + seed.length
+  );
+}
+
+const LAYOUT = BufferLayout.union(BufferLayout.u32("instruction"));
+LAYOUT.addVariant(
+  0,
+  BufferLayout.struct([
+    borsh.u64("lamports"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
+  ]),
+  "createAccount"
+);
+LAYOUT.addVariant(1, BufferLayout.struct([borsh.publicKey("owner")]), "assign");
+LAYOUT.addVariant(2, BufferLayout.struct([borsh.u64("lamports")]), "transfer");
+LAYOUT.addVariant(
+  3,
+  BufferLayout.struct([
+    borsh.publicKey("base"),
+    rustStringLayout("seed"),
+    borsh.u64("lamports"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
+  ]),
+  "createAccountWithSeed"
+);
+LAYOUT.addVariant(
+  4,
+  BufferLayout.struct([borsh.publicKey("authorized")]),
+  "advanceNonceAccount"
+);
+LAYOUT.addVariant(
+  5,
+  BufferLayout.struct([borsh.u64("lamports")]),
+  "withdrawNonceAccount"
+);
+LAYOUT.addVariant(
+  6,
+  BufferLayout.struct([borsh.publicKey("authorized")]),
+  "initializeNonceAccount"
+);
+LAYOUT.addVariant(
+  7,
+  BufferLayout.struct([borsh.publicKey("authorized")]),
+  "authorizeNonceAccount"
+);
+LAYOUT.addVariant(8, BufferLayout.struct([borsh.u64("space")]), "allocate");
+LAYOUT.addVariant(
+  9,
+  BufferLayout.struct([
+    borsh.publicKey("base"),
+    rustStringLayout("seed"),
+    borsh.u64("space"),
+    borsh.publicKey("owner"),
+  ]),
+  "allocateWithSeed"
+);
+LAYOUT.addVariant(
+  10,
+  BufferLayout.struct([
+    borsh.publicKey("base"),
+    rustStringLayout("seed"),
+    borsh.publicKey("owner"),
+  ]),
+  "assignWithSeed"
+);
+LAYOUT.addVariant(
+  11,
+  BufferLayout.struct([
+    borsh.u64("lamports"),
+    rustStringLayout("seed"),
+    borsh.publicKey("owner"),
+  ]),
+  "transferWithSeed"
+);
+
+function encodeData(instruction: any, maxSpan?: number): Buffer {
+  const b = Buffer.alloc(maxSpan ?? instructionMaxSpan);
+  const span = LAYOUT.encode(instruction, b);
+
+  if (maxSpan === undefined) {
+    return b.subarray(0, span);
+  }
+
+  return b;
+}
+
+const instructionMaxSpan = Math.max(
+  ...Object.values(LAYOUT.registry).map((r: any) => r.span)
+);
diff --git a/src/coder/system/state.ts b/src/coder/system/state.ts
new file mode 100644
index 0000000000000000000000000000000000000000..2d7f1a2ef8b59021efbc02b4d0517b507a1f1817
--- /dev/null
+++ b/src/coder/system/state.ts
@@ -0,0 +1,14 @@
+import { StateCoder } from "../index.js";
+import { Idl } from "../../idl";
+
+export class SystemStateCoder implements StateCoder {
+  // eslint-disable-next-line @typescript-eslint/no-empty-function
+  constructor(_idl: Idl) {}
+
+  encode<T = any>(_name: string, _account: T): Promise<Buffer> {
+    throw new Error("System does not have state");
+  }
+  decode<T = any>(_ix: Buffer): T {
+    throw new Error("System does not have state");
+  }
+}
diff --git a/src/coder/system/types.ts b/src/coder/system/types.ts
new file mode 100644
index 0000000000000000000000000000000000000000..65d63b2adf90a19757490eceaa8e124330ce1684
--- /dev/null
+++ b/src/coder/system/types.ts
@@ -0,0 +1,13 @@
+import { TypesCoder } from "../index.js";
+import { Idl } from "../../idl.js";
+
+export class SystemTypesCoder implements TypesCoder {
+  constructor(_idl: Idl) {}
+
+  encode<T = any>(_name: string, _type: T): Buffer {
+    throw new Error("System does not have user-defined types");
+  }
+  decode<T = any>(_name: string, _typeData: Buffer): T {
+    throw new Error("System does not have user-defined types");
+  }
+}
diff --git a/src/error.ts b/src/error.ts
new file mode 100644
index 0000000000000000000000000000000000000000..5461a087cb6d5226f95a2138f21b8cbd522c8e2b
--- /dev/null
+++ b/src/error.ts
@@ -0,0 +1,534 @@
+import { PublicKey } from "@solana/web3.js";
+import * as features from "./utils/features.js";
+
+export class IdlError extends Error {
+  constructor(message: string) {
+    super(message);
+    this.name = "IdlError";
+  }
+}
+
+interface ErrorCode {
+  code: string;
+  number: number;
+}
+
+interface FileLine {
+  file: string;
+  line: number;
+}
+
+type Origin = string | FileLine;
+type ComparedAccountNames = [string, string];
+type ComparedPublicKeys = [PublicKey, PublicKey];
+type ComparedValues = ComparedAccountNames | ComparedPublicKeys;
+
+export class ProgramErrorStack {
+  constructor(readonly stack: PublicKey[]) {}
+
+  public static parse(logs: string[]) {
+    const programKeyRegex = /^Program (\w*) invoke/;
+    const successRegex = /^Program \w* success/;
+
+    const programStack: PublicKey[] = [];
+    for (let i = 0; i < logs.length; i++) {
+      if (successRegex.exec(logs[i])) {
+        programStack.pop();
+        continue;
+      }
+
+      const programKey = programKeyRegex.exec(logs[i])?.[1];
+      if (!programKey) {
+        continue;
+      }
+      programStack.push(new PublicKey(programKey));
+    }
+    return new ProgramErrorStack(programStack);
+  }
+}
+
+export class AnchorError extends Error {
+  readonly error: {
+    errorCode: ErrorCode;
+    errorMessage: string;
+    comparedValues?: ComparedValues;
+    origin?: Origin;
+  };
+  private readonly _programErrorStack: ProgramErrorStack;
+
+  constructor(
+    errorCode: ErrorCode,
+    errorMessage: string,
+    readonly errorLogs: string[],
+    readonly logs: string[],
+    origin?: Origin,
+    comparedValues?: ComparedValues
+  ) {
+    super(errorLogs.join("\n").replace("Program log: ", ""));
+    this.error = { errorCode, errorMessage, comparedValues, origin };
+    this._programErrorStack = ProgramErrorStack.parse(logs);
+  }
+
+  public static parse(logs: string[]) {
+    if (!logs) {
+      return null;
+    }
+
+    const anchorErrorLogIndex = logs.findIndex((log) =>
+      log.startsWith("Program log: AnchorError")
+    );
+    if (anchorErrorLogIndex === -1) {
+      return null;
+    }
+    const anchorErrorLog = logs[anchorErrorLogIndex];
+    const errorLogs = [anchorErrorLog];
+    let comparedValues: ComparedValues | undefined;
+    if (anchorErrorLogIndex + 1 < logs.length) {
+      // This catches the comparedValues where the following is logged
+      // <AnchorError>
+      // Left:
+      // <Pubkey>
+      // Right:
+      // <Pubkey>
+      if (logs[anchorErrorLogIndex + 1] === "Program log: Left:") {
+        const pubkeyRegex = /^Program log: (.*)$/;
+        const leftPubkey = pubkeyRegex.exec(logs[anchorErrorLogIndex + 2])![1];
+        const rightPubkey = pubkeyRegex.exec(logs[anchorErrorLogIndex + 4])![1];
+        comparedValues = [
+          new PublicKey(leftPubkey),
+          new PublicKey(rightPubkey),
+        ];
+        errorLogs.push(
+          ...logs.slice(anchorErrorLogIndex + 1, anchorErrorLogIndex + 5)
+        );
+      }
+      // This catches the comparedValues where the following is logged
+      // <AnchorError>
+      // Left: <value>
+      // Right: <value>
+      else if (logs[anchorErrorLogIndex + 1].startsWith("Program log: Left:")) {
+        const valueRegex = /^Program log: (Left|Right): (.*)$/;
+        const leftValue = valueRegex.exec(logs[anchorErrorLogIndex + 1])![2];
+        const rightValue = valueRegex.exec(logs[anchorErrorLogIndex + 2])![2];
+        errorLogs.push(
+          ...logs.slice(anchorErrorLogIndex + 1, anchorErrorLogIndex + 3)
+        );
+        comparedValues = [leftValue, rightValue];
+      }
+    }
+    const regexNoInfo =
+      /^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./;
+    const noInfoAnchorErrorLog = regexNoInfo.exec(anchorErrorLog);
+    const regexFileLine =
+      /^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./;
+    const fileLineAnchorErrorLog = regexFileLine.exec(anchorErrorLog);
+    const regexAccountName =
+      /^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./;
+    const accountNameAnchorErrorLog = regexAccountName.exec(anchorErrorLog);
+    if (noInfoAnchorErrorLog) {
+      const [errorCodeString, errorNumber, errorMessage] =
+        noInfoAnchorErrorLog.slice(1, 4);
+      const errorCode = {
+        code: errorCodeString,
+        number: parseInt(errorNumber),
+      };
+      return new AnchorError(
+        errorCode,
+        errorMessage,
+        errorLogs,
+        logs,
+        undefined,
+        comparedValues
+      );
+    } else if (fileLineAnchorErrorLog) {
+      const [file, line, errorCodeString, errorNumber, errorMessage] =
+        fileLineAnchorErrorLog.slice(1, 6);
+      const errorCode = {
+        code: errorCodeString,
+        number: parseInt(errorNumber),
+      };
+      const fileLine = { file, line: parseInt(line) };
+      return new AnchorError(
+        errorCode,
+        errorMessage,
+        errorLogs,
+        logs,
+        fileLine,
+        comparedValues
+      );
+    } else if (accountNameAnchorErrorLog) {
+      const [accountName, errorCodeString, errorNumber, errorMessage] =
+        accountNameAnchorErrorLog.slice(1, 5);
+      const origin = accountName;
+      const errorCode = {
+        code: errorCodeString,
+        number: parseInt(errorNumber),
+      };
+      return new AnchorError(
+        errorCode,
+        errorMessage,
+        errorLogs,
+        logs,
+        origin,
+        comparedValues
+      );
+    } else {
+      return null;
+    }
+  }
+
+  get program(): PublicKey {
+    return this._programErrorStack.stack[
+      this._programErrorStack.stack.length - 1
+    ];
+  }
+
+  get programErrorStack(): PublicKey[] {
+    return this._programErrorStack.stack;
+  }
+
+  public toString(): string {
+    return this.message;
+  }
+}
+
+// An error from a user defined program.
+export class ProgramError extends Error {
+  private readonly _programErrorStack?: ProgramErrorStack;
+
+  constructor(readonly code: number, msg: string, readonly logs?: string[]) {
+    super(msg);
+    if (logs) {
+      this._programErrorStack = ProgramErrorStack.parse(logs);
+    }
+  }
+
+  public static parse(
+    err: any,
+    idlErrors: Map<number, string>
+  ): ProgramError | null {
+    const errString: string = err.toString();
+    // TODO: don't rely on the error string. web3.js should preserve the error
+    //       code information instead of giving us an untyped string.
+    let unparsedErrorCode: string;
+    if (errString.includes("custom program error:")) {
+      let components = errString.split("custom program error: ");
+      if (components.length !== 2) {
+        return null;
+      } else {
+        unparsedErrorCode = components[1];
+      }
+    } else {
+      const matches = errString.match(/"Custom":([0-9]+)}/g);
+      if (!matches || matches.length > 1) {
+        return null;
+      }
+      unparsedErrorCode = matches[0].match(/([0-9]+)/g)![0];
+    }
+
+    let errorCode: number;
+    try {
+      errorCode = parseInt(unparsedErrorCode);
+    } catch (parseErr) {
+      return null;
+    }
+
+    // Parse user error.
+    let errorMsg = idlErrors.get(errorCode);
+    if (errorMsg !== undefined) {
+      return new ProgramError(errorCode, errorMsg, err.logs);
+    }
+
+    // Parse framework internal error.
+    errorMsg = LangErrorMessage.get(errorCode);
+    if (errorMsg !== undefined) {
+      return new ProgramError(errorCode, errorMsg, err.logs);
+    }
+
+    // Unable to parse the error. Just return the untranslated error.
+    return null;
+  }
+
+  get msg(): string {
+    return this.message;
+  }
+
+  get program(): PublicKey | undefined {
+    return this._programErrorStack?.stack[
+      this._programErrorStack.stack.length - 1
+    ];
+  }
+
+  get programErrorStack(): PublicKey[] | undefined {
+    return this._programErrorStack?.stack;
+  }
+
+  public toString(): string {
+    return this.message;
+  }
+}
+
+export function translateError(err: any, idlErrors: Map<number, string>) {
+  if (features.isSet("debug-logs")) {
+    console.log("Translating error:", err);
+  }
+
+  const anchorError = AnchorError.parse(err.logs);
+  if (anchorError) {
+    return anchorError;
+  }
+
+  const programError = ProgramError.parse(err, idlErrors);
+  if (programError) {
+    return programError;
+  }
+  if (err.logs) {
+    const handler = {
+      get: function (target, prop) {
+        if (prop === "programErrorStack") {
+          return target.programErrorStack.stack;
+        } else if (prop === "program") {
+          return target.programErrorStack.stack[
+            err.programErrorStack.stack.length - 1
+          ];
+        } else {
+          // this is the normal way to return all other props
+          // without modifying them.
+          // @ts-expect-error
+          return Reflect.get(...arguments);
+        }
+      },
+    };
+    err.programErrorStack = ProgramErrorStack.parse(err.logs);
+    return new Proxy(err, handler);
+  }
+  return err;
+}
+
+export enum LangErrorCode {
+  // Instructions.
+  InstructionMissing = 100,
+  InstructionFallbackNotFound = 101,
+  InstructionDidNotDeserialize = 102,
+  InstructionDidNotSerialize = 103,
+
+  // IDL instructions.
+  IdlInstructionStub = 1000,
+  IdlInstructionInvalidProgram = 1001,
+
+  // Constraints.
+  ConstraintMut = 2000,
+  ConstraintHasOne = 2001,
+  ConstraintSigner = 2002,
+  ConstraintRaw = 2003,
+  ConstraintOwner = 2004,
+  ConstraintRentExempt = 2005,
+  ConstraintSeeds = 2006,
+  ConstraintExecutable = 2007,
+  ConstraintState = 2008,
+  ConstraintAssociated = 2009,
+  ConstraintAssociatedInit = 2010,
+  ConstraintClose = 2011,
+  ConstraintAddress = 2012,
+  ConstraintZero = 2013,
+  ConstraintTokenMint = 2014,
+  ConstraintTokenOwner = 2015,
+  ConstraintMintMintAuthority = 2016,
+  ConstraintMintFreezeAuthority = 2017,
+  ConstraintMintDecimals = 2018,
+  ConstraintSpace = 2019,
+
+  // Require.
+  RequireViolated = 2500,
+  RequireEqViolated = 2501,
+  RequireKeysEqViolated = 2502,
+  RequireNeqViolated = 2503,
+  RequireKeysNeqViolated = 2504,
+  RequireGtViolated = 2505,
+  RequireGteViolated = 2506,
+
+  // Accounts.
+  AccountDiscriminatorAlreadySet = 3000,
+  AccountDiscriminatorNotFound = 3001,
+  AccountDiscriminatorMismatch = 3002,
+  AccountDidNotDeserialize = 3003,
+  AccountDidNotSerialize = 3004,
+  AccountNotEnoughKeys = 3005,
+  AccountNotMutable = 3006,
+  AccountOwnedByWrongProgram = 3007,
+  InvalidProgramId = 3008,
+  InvalidProgramExecutable = 3009,
+  AccountNotSigner = 3010,
+  AccountNotSystemOwned = 3011,
+  AccountNotInitialized = 3012,
+  AccountNotProgramData = 3013,
+  AccountNotAssociatedTokenAccount = 3014,
+  AccountSysvarMismatch = 3015,
+  AccountReallocExceedsLimit = 3016,
+  AccountDuplicateReallocs = 3017,
+
+  // State.
+  StateInvalidAddress = 4000,
+
+  // Miscellaneous
+  DeclaredProgramIdMismatch = 4100,
+
+  // Used for APIs that shouldn't be used anymore.
+  Deprecated = 5000,
+}
+
+export const LangErrorMessage = new Map([
+  // Instructions.
+  [
+    LangErrorCode.InstructionMissing,
+    "8 byte instruction identifier not provided",
+  ],
+  [
+    LangErrorCode.InstructionFallbackNotFound,
+    "Fallback functions are not supported",
+  ],
+  [
+    LangErrorCode.InstructionDidNotDeserialize,
+    "The program could not deserialize the given instruction",
+  ],
+  [
+    LangErrorCode.InstructionDidNotSerialize,
+    "The program could not serialize the given instruction",
+  ],
+
+  // Idl instructions.
+  [
+    LangErrorCode.IdlInstructionStub,
+    "The program was compiled without idl instructions",
+  ],
+  [
+    LangErrorCode.IdlInstructionInvalidProgram,
+    "The transaction was given an invalid program for the IDL instruction",
+  ],
+
+  // Constraints.
+  [LangErrorCode.ConstraintMut, "A mut constraint was violated"],
+  [LangErrorCode.ConstraintHasOne, "A has_one constraint was violated"],
+  [LangErrorCode.ConstraintSigner, "A signer constraint was violated"],
+  [LangErrorCode.ConstraintRaw, "A raw constraint was violated"],
+  [LangErrorCode.ConstraintOwner, "An owner constraint was violated"],
+  [
+    LangErrorCode.ConstraintRentExempt,
+    "A rent exemption constraint was violated",
+  ],
+  [LangErrorCode.ConstraintSeeds, "A seeds constraint was violated"],
+  [LangErrorCode.ConstraintExecutable, "An executable constraint was violated"],
+  [LangErrorCode.ConstraintState, "A state constraint was violated"],
+  [LangErrorCode.ConstraintAssociated, "An associated constraint was violated"],
+  [
+    LangErrorCode.ConstraintAssociatedInit,
+    "An associated init constraint was violated",
+  ],
+  [LangErrorCode.ConstraintClose, "A close constraint was violated"],
+  [LangErrorCode.ConstraintAddress, "An address constraint was violated"],
+  [LangErrorCode.ConstraintZero, "Expected zero account discriminant"],
+  [LangErrorCode.ConstraintTokenMint, "A token mint constraint was violated"],
+  [LangErrorCode.ConstraintTokenOwner, "A token owner constraint was violated"],
+  [
+    LangErrorCode.ConstraintMintMintAuthority,
+    "A mint mint authority constraint was violated",
+  ],
+  [
+    LangErrorCode.ConstraintMintFreezeAuthority,
+    "A mint freeze authority constraint was violated",
+  ],
+  [
+    LangErrorCode.ConstraintMintDecimals,
+    "A mint decimals constraint was violated",
+  ],
+  [LangErrorCode.ConstraintSpace, "A space constraint was violated"],
+
+  // Require.
+  [LangErrorCode.RequireViolated, "A require expression was violated"],
+  [LangErrorCode.RequireEqViolated, "A require_eq expression was violated"],
+  [
+    LangErrorCode.RequireKeysEqViolated,
+    "A require_keys_eq expression was violated",
+  ],
+  [LangErrorCode.RequireNeqViolated, "A require_neq expression was violated"],
+  [
+    LangErrorCode.RequireKeysNeqViolated,
+    "A require_keys_neq expression was violated",
+  ],
+  [LangErrorCode.RequireGtViolated, "A require_gt expression was violated"],
+  [LangErrorCode.RequireGteViolated, "A require_gte expression was violated"],
+
+  // Accounts.
+  [
+    LangErrorCode.AccountDiscriminatorAlreadySet,
+    "The account discriminator was already set on this account",
+  ],
+  [
+    LangErrorCode.AccountDiscriminatorNotFound,
+    "No 8 byte discriminator was found on the account",
+  ],
+  [
+    LangErrorCode.AccountDiscriminatorMismatch,
+    "8 byte discriminator did not match what was expected",
+  ],
+  [LangErrorCode.AccountDidNotDeserialize, "Failed to deserialize the account"],
+  [LangErrorCode.AccountDidNotSerialize, "Failed to serialize the account"],
+  [
+    LangErrorCode.AccountNotEnoughKeys,
+    "Not enough account keys given to the instruction",
+  ],
+  [LangErrorCode.AccountNotMutable, "The given account is not mutable"],
+  [
+    LangErrorCode.AccountOwnedByWrongProgram,
+    "The given account is owned by a different program than expected",
+  ],
+  [LangErrorCode.InvalidProgramId, "Program ID was not as expected"],
+  [LangErrorCode.InvalidProgramExecutable, "Program account is not executable"],
+  [LangErrorCode.AccountNotSigner, "The given account did not sign"],
+  [
+    LangErrorCode.AccountNotSystemOwned,
+    "The given account is not owned by the system program",
+  ],
+  [
+    LangErrorCode.AccountNotInitialized,
+    "The program expected this account to be already initialized",
+  ],
+  [
+    LangErrorCode.AccountNotProgramData,
+    "The given account is not a program data account",
+  ],
+  [
+    LangErrorCode.AccountNotAssociatedTokenAccount,
+    "The given account is not the associated token account",
+  ],
+  [
+    LangErrorCode.AccountSysvarMismatch,
+    "The given public key does not match the required sysvar",
+  ],
+  [
+    LangErrorCode.AccountReallocExceedsLimit,
+    "The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit",
+  ],
+  [
+    LangErrorCode.AccountDuplicateReallocs,
+    "The account was duplicated for more than one reallocation",
+  ],
+
+  // State.
+  [
+    LangErrorCode.StateInvalidAddress,
+    "The given state account does not have the correct address",
+  ],
+
+  // Miscellaneous
+  [
+    LangErrorCode.DeclaredProgramIdMismatch,
+    "The declared program id does not match the actual program id",
+  ],
+
+  // Deprecated
+  [
+    LangErrorCode.Deprecated,
+    "The API being used is deprecated and should no longer be used",
+  ],
+]);
diff --git a/src/idl.ts b/src/idl.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e178ea039333958bee4efeccb2fafb9e5bb5a4c2
--- /dev/null
+++ b/src/idl.ts
@@ -0,0 +1,200 @@
+import { Buffer } from "buffer";
+import { PublicKey } from "@solana/web3.js";
+import * as borsh from "@project-serum/borsh";
+
+export type Idl = {
+  version: string;
+  name: string;
+  docs?: string[];
+  instructions: IdlInstruction[];
+  state?: IdlState;
+  accounts?: IdlAccountDef[];
+  types?: IdlTypeDef[];
+  events?: IdlEvent[];
+  errors?: IdlErrorCode[];
+  constants?: IdlConstant[];
+  metadata?: IdlMetadata;
+};
+
+export type IdlMetadata = any;
+
+export type IdlConstant = {
+  name: string;
+  type: IdlType;
+  value: string;
+};
+
+export type IdlEvent = {
+  name: string;
+  fields: IdlEventField[];
+};
+
+export type IdlEventField = {
+  name: string;
+  type: IdlType;
+  index: boolean;
+};
+
+export type IdlInstruction = {
+  name: string;
+  docs?: string[];
+  accounts: IdlAccountItem[];
+  args: IdlField[];
+  returns?: IdlType;
+};
+
+export type IdlState = {
+  struct: IdlTypeDef;
+  methods: IdlStateMethod[];
+};
+
+export type IdlStateMethod = IdlInstruction;
+
+export type IdlAccountItem = IdlAccount | IdlAccounts;
+
+export type IdlAccount = {
+  name: string;
+  isMut: boolean;
+  isSigner: boolean;
+  docs?: string[];
+  pda?: IdlPda;
+};
+
+export type IdlPda = {
+  seeds: IdlSeed[];
+  programId?: IdlSeed;
+};
+
+export type IdlSeed = any; // TODO
+
+// A nested/recursive version of IdlAccount.
+export type IdlAccounts = {
+  name: string;
+  docs?: string[];
+  accounts: IdlAccountItem[];
+};
+
+export type IdlField = {
+  name: string;
+  docs?: string[];
+  type: IdlType;
+};
+
+export type IdlTypeDef = {
+  name: string;
+  docs?: string[];
+  type: IdlTypeDefTy;
+};
+
+export type IdlAccountDef = {
+  name: string;
+  docs?: string[];
+  type: IdlTypeDefTyStruct;
+};
+
+export type IdlTypeDefTyStruct = {
+  kind: "struct";
+  fields: IdlTypeDefStruct;
+};
+
+export type IdlTypeDefTyEnum = {
+  kind: "enum";
+  variants: IdlEnumVariant[];
+};
+
+export type IdlTypeDefTy = IdlTypeDefTyEnum | IdlTypeDefTyStruct;
+
+export type IdlTypeDefStruct = Array<IdlField>;
+
+export type IdlType =
+  | "bool"
+  | "u8"
+  | "i8"
+  | "u16"
+  | "i16"
+  | "u32"
+  | "i32"
+  | "f32"
+  | "u64"
+  | "i64"
+  | "f64"
+  | "u128"
+  | "i128"
+  | "bytes"
+  | "string"
+  | "publicKey"
+  | IdlTypeDefined
+  | IdlTypeOption
+  | IdlTypeCOption
+  | IdlTypeVec
+  | IdlTypeArray;
+
+// User defined type.
+export type IdlTypeDefined = {
+  defined: string;
+};
+
+export type IdlTypeOption = {
+  option: IdlType;
+};
+
+export type IdlTypeCOption = {
+  coption: IdlType;
+};
+
+export type IdlTypeVec = {
+  vec: IdlType;
+};
+
+export type IdlTypeArray = {
+  array: [idlType: IdlType, size: number];
+};
+
+export type IdlEnumVariant = {
+  name: string;
+  fields?: IdlEnumFields;
+};
+
+export type IdlEnumFields = IdlEnumFieldsNamed | IdlEnumFieldsTuple;
+
+export type IdlEnumFieldsNamed = IdlField[];
+
+export type IdlEnumFieldsTuple = IdlType[];
+
+export type IdlErrorCode = {
+  code: number;
+  name: string;
+  msg?: string;
+};
+
+// Deterministic IDL address as a function of the program id.
+export async function idlAddress(programId: PublicKey): Promise<PublicKey> {
+  const base = (await PublicKey.findProgramAddress([], programId))[0];
+  return await PublicKey.createWithSeed(base, seed(), programId);
+}
+
+// Seed for generating the idlAddress.
+export function seed(): string {
+  return "anchor:idl";
+}
+
+// The on-chain account of the IDL.
+export interface IdlProgramAccount {
+  authority: PublicKey;
+  data: Buffer;
+}
+
+const IDL_ACCOUNT_LAYOUT: borsh.Layout<IdlProgramAccount> = borsh.struct([
+  borsh.publicKey("authority"),
+  borsh.vecU8("data"),
+]);
+
+export function decodeIdlAccount(data: Buffer): IdlProgramAccount {
+  return IDL_ACCOUNT_LAYOUT.decode(data);
+}
+
+export function encodeIdlAccount(acc: IdlProgramAccount): Buffer {
+  const buffer = Buffer.alloc(32 + 4 + acc.data.length);
+  const len = IDL_ACCOUNT_LAYOUT.encode(acc, buffer);
+  return buffer.subarray(0, len);
+}
diff --git a/src/index.ts b/src/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0f4b26012d02019df0ea9825572db283638e08b7
--- /dev/null
+++ b/src/index.ts
@@ -0,0 +1,26 @@
+import { isBrowser } from "./utils/common.js";
+
+export { default as BN } from "bn.js";
+export * as web3 from "@solana/web3.js";
+export {
+  default as Provider,
+  getProvider,
+  setProvider,
+  AnchorProvider,
+} from "./provider.js";
+export * from "./error.js";
+export { Instruction } from "./coder/borsh/instruction.js";
+export { Idl } from "./idl.js";
+export * from "./coder/index.js";
+export * as utils from "./utils/index.js";
+export * from "./program/index.js";
+export * from "./spl/index.js";
+export * from "./native/index.js";
+
+export declare const workspace: any;
+
+export { Wallet } from "./wallet";
+
+if (!isBrowser) {
+  exports.workspace = require("./workspace.js").default;
+}
diff --git a/src/native/index.ts b/src/native/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..905c2a0afd862252076a053a5b9460d644c60fe6
--- /dev/null
+++ b/src/native/index.ts
@@ -0,0 +1,10 @@
+import { Program, Provider } from "../index.js";
+import { program as systemProgram, SystemProgram } from "./system.js";
+
+export { SystemProgram } from "./system.js";
+
+export class Native {
+  public static system(provider?: Provider): Program<SystemProgram> {
+    return systemProgram(provider);
+  }
+}
diff --git a/src/native/system.ts b/src/native/system.ts
new file mode 100644
index 0000000000000000000000000000000000000000..1b23fac8d57bb1e0d667b28b4fdc88189fcf9b1c
--- /dev/null
+++ b/src/native/system.ts
@@ -0,0 +1,875 @@
+import { PublicKey } from "@solana/web3.js";
+import { Program } from "../program/index.js";
+import Provider from "../provider.js";
+import { SystemCoder } from "../coder/system/index.js";
+
+const SYSTEM_PROGRAM_ID = new PublicKey("11111111111111111111111111111111");
+
+export function program(provider?: Provider): Program<SystemProgram> {
+  return new Program<SystemProgram>(IDL, SYSTEM_PROGRAM_ID, provider, coder());
+}
+
+export function coder(): SystemCoder {
+  return new SystemCoder(IDL);
+}
+
+/**
+ * System IDL.
+ */
+export type SystemProgram = {
+  version: "0.1.0";
+  name: "system_program";
+  instructions: [
+    {
+      name: "createAccount";
+      accounts: [
+        {
+          name: "from";
+          isMut: true;
+          isSigner: true;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "lamports";
+          type: "u64";
+        },
+        {
+          name: "space";
+          type: "u64";
+        },
+        {
+          name: "owner";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "assign";
+      accounts: [
+        {
+          name: "pubkey";
+          isMut: true;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "owner";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "transfer";
+      accounts: [
+        {
+          name: "from";
+          isMut: true;
+          isSigner: true;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "lamports";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "createAccountWithSeed";
+      accounts: [
+        {
+          name: "from";
+          isMut: true;
+          isSigner: true;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "base";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "base";
+          type: "publicKey";
+        },
+        {
+          name: "seed";
+          type: "string";
+        },
+        {
+          name: "lamports";
+          type: "u64";
+        },
+        {
+          name: "space";
+          type: "u64";
+        },
+        {
+          name: "owner";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "advanceNonceAccount";
+      accounts: [
+        {
+          name: "nonce";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "recentBlockhashes";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authorized";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "authorized";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "withdrawNonceAccount";
+      accounts: [
+        {
+          name: "nonce";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "recentBlockhashes";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authorized";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "lamports";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "initializeNonceAccount";
+      accounts: [
+        {
+          name: "nonce";
+          isMut: true;
+          isSigner: true;
+        },
+        {
+          name: "recentBlockhashes";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "authorized";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "authorizeNonceAccount";
+      accounts: [
+        {
+          name: "nonce";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authorized";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "authorized";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "allocate";
+      accounts: [
+        {
+          name: "pubkey";
+          isMut: true;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "space";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "allocateWithSeed";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "base";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "base";
+          type: "publicKey";
+        },
+        {
+          name: "seed";
+          type: "string";
+        },
+        {
+          name: "space";
+          type: "u64";
+        },
+        {
+          name: "owner";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "assignWithSeed";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "base";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "base";
+          type: "publicKey";
+        },
+        {
+          name: "seed";
+          type: "string";
+        },
+        {
+          name: "owner";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "transferWithSeed";
+      accounts: [
+        {
+          name: "from";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "base";
+          isMut: false;
+          isSigner: true;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "lamports";
+          type: "u64";
+        },
+        {
+          name: "seed";
+          type: "string";
+        },
+        {
+          name: "owner";
+          type: "publicKey";
+        }
+      ];
+    }
+  ];
+  accounts: [
+    {
+      name: "nonce";
+      type: {
+        kind: "struct";
+        fields: [
+          {
+            name: "version";
+            type: "u32";
+          },
+          {
+            name: "state";
+            type: "u32";
+          },
+          {
+            name: "authorizedPubkey";
+            type: "publicKey";
+          },
+          {
+            name: "nonce";
+            type: "publicKey";
+          },
+          {
+            name: "feeCalculator";
+            type: {
+              defined: "FeeCalculator";
+            };
+          }
+        ];
+      };
+    }
+  ];
+  types: [
+    {
+      name: "FeeCalculator";
+      type: {
+        kind: "struct";
+        fields: [
+          {
+            name: "lamportsPerSignature";
+            type: "u64";
+          }
+        ];
+      };
+    }
+  ];
+  errors: [
+    {
+      code: 0;
+      name: "AccountAlreadyInUse";
+      msg: "an account with the same address already exists";
+    },
+    {
+      code: 1;
+      name: "ResultWithNegativeLamports";
+      msg: "account does not have enough SOL to perform the operation";
+    },
+    {
+      code: 2;
+      name: "InvalidProgramId";
+      msg: "cannot assign account to this program id";
+    },
+    {
+      code: 3;
+      name: "InvalidAccountDataLength";
+      msg: "cannot allocate account data of this length";
+    },
+    {
+      code: 4;
+      name: "MaxSeedLengthExceeded";
+      msg: "length of requested seed is too long";
+    },
+    {
+      code: 5;
+      name: "AddressWithSeedMismatch";
+      msg: "provided address does not match addressed derived from seed";
+    },
+    {
+      code: 6;
+      name: "NonceNoRecentBlockhashes";
+      msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar";
+    },
+    {
+      code: 7;
+      name: "NonceBlockhashNotExpired";
+      msg: "stored nonce is still in recent_blockhashes";
+    },
+    {
+      code: 8;
+      name: "NonceUnexpectedBlockhashValue";
+      msg: "specified nonce does not match stored nonce";
+    }
+  ];
+};
+
+export const IDL: SystemProgram = {
+  version: "0.1.0",
+  name: "system_program",
+  instructions: [
+    {
+      name: "createAccount",
+      accounts: [
+        {
+          name: "from",
+          isMut: true,
+          isSigner: true,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "lamports",
+          type: "u64",
+        },
+        {
+          name: "space",
+          type: "u64",
+        },
+        {
+          name: "owner",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "assign",
+      accounts: [
+        {
+          name: "pubkey",
+          isMut: true,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "owner",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "transfer",
+      accounts: [
+        {
+          name: "from",
+          isMut: true,
+          isSigner: true,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "lamports",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "createAccountWithSeed",
+      accounts: [
+        {
+          name: "from",
+          isMut: true,
+          isSigner: true,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "base",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "base",
+          type: "publicKey",
+        },
+        {
+          name: "seed",
+          type: "string",
+        },
+        {
+          name: "lamports",
+          type: "u64",
+        },
+        {
+          name: "space",
+          type: "u64",
+        },
+        {
+          name: "owner",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "advanceNonceAccount",
+      accounts: [
+        {
+          name: "nonce",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "recentBlockhashes",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authorized",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "authorized",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "withdrawNonceAccount",
+      accounts: [
+        {
+          name: "nonce",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "recentBlockhashes",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authorized",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "lamports",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "initializeNonceAccount",
+      accounts: [
+        {
+          name: "nonce",
+          isMut: true,
+          isSigner: true,
+        },
+        {
+          name: "recentBlockhashes",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "authorized",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "authorizeNonceAccount",
+      accounts: [
+        {
+          name: "nonce",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authorized",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "authorized",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "allocate",
+      accounts: [
+        {
+          name: "pubkey",
+          isMut: true,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "space",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "allocateWithSeed",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "base",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "base",
+          type: "publicKey",
+        },
+        {
+          name: "seed",
+          type: "string",
+        },
+        {
+          name: "space",
+          type: "u64",
+        },
+        {
+          name: "owner",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "assignWithSeed",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "base",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "base",
+          type: "publicKey",
+        },
+        {
+          name: "seed",
+          type: "string",
+        },
+        {
+          name: "owner",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "transferWithSeed",
+      accounts: [
+        {
+          name: "from",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "base",
+          isMut: false,
+          isSigner: true,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "lamports",
+          type: "u64",
+        },
+        {
+          name: "seed",
+          type: "string",
+        },
+        {
+          name: "owner",
+          type: "publicKey",
+        },
+      ],
+    },
+  ],
+  accounts: [
+    {
+      name: "nonce",
+      type: {
+        kind: "struct",
+        fields: [
+          {
+            name: "version",
+            type: "u32",
+          },
+          {
+            name: "state",
+            type: "u32",
+          },
+          {
+            name: "authorizedPubkey",
+            type: "publicKey",
+          },
+          {
+            name: "nonce",
+            type: "publicKey",
+          },
+          {
+            name: "feeCalculator",
+            type: {
+              defined: "FeeCalculator",
+            },
+          },
+        ],
+      },
+    },
+  ],
+  types: [
+    {
+      name: "FeeCalculator",
+      type: {
+        kind: "struct",
+        fields: [
+          {
+            name: "lamportsPerSignature",
+            type: "u64",
+          },
+        ],
+      },
+    },
+  ],
+  errors: [
+    {
+      code: 0,
+      name: "AccountAlreadyInUse",
+      msg: "an account with the same address already exists",
+    },
+    {
+      code: 1,
+      name: "ResultWithNegativeLamports",
+      msg: "account does not have enough SOL to perform the operation",
+    },
+    {
+      code: 2,
+      name: "InvalidProgramId",
+      msg: "cannot assign account to this program id",
+    },
+    {
+      code: 3,
+      name: "InvalidAccountDataLength",
+      msg: "cannot allocate account data of this length",
+    },
+    {
+      code: 4,
+      name: "MaxSeedLengthExceeded",
+      msg: "length of requested seed is too long",
+    },
+    {
+      code: 5,
+      name: "AddressWithSeedMismatch",
+      msg: "provided address does not match addressed derived from seed",
+    },
+    {
+      code: 6,
+      name: "NonceNoRecentBlockhashes",
+      msg: "advancing stored nonce requires a populated RecentBlockhashes sysvar",
+    },
+    {
+      code: 7,
+      name: "NonceBlockhashNotExpired",
+      msg: "stored nonce is still in recent_blockhashes",
+    },
+    {
+      code: 8,
+      name: "NonceUnexpectedBlockhashValue",
+      msg: "specified nonce does not match stored nonce",
+    },
+  ],
+};
diff --git a/src/program/accounts-resolver.ts b/src/program/accounts-resolver.ts
new file mode 100644
index 0000000000000000000000000000000000000000..1f085f3366aa128f90d207c8a196bb7f75d85cd8
--- /dev/null
+++ b/src/program/accounts-resolver.ts
@@ -0,0 +1,264 @@
+import { camelCase } from "@juici/case";
+import { PublicKey, SystemProgram, SYSVAR_RENT_PUBKEY } from "@solana/web3.js";
+import { Idl, IdlSeed, IdlAccount } from "../idl.js";
+import * as utf8 from "../utils/bytes/utf8.js";
+import { TOKEN_PROGRAM_ID, ASSOCIATED_PROGRAM_ID } from "../utils/token.js";
+import { AllInstructions } from "./namespace/types.js";
+import Provider from "../provider.js";
+import { AccountNamespace } from "./namespace/account.js";
+
+import { IDL as SPL_IDL } from "../spl/token/idl";
+import { SplTokenCoder } from "../coder/spl-token";
+
+const splCoder = new SplTokenCoder(SPL_IDL);
+
+// Populates a given accounts context with PDAs and common missing accounts.
+export class AccountsResolver<IDL extends Idl, I extends AllInstructions<IDL>> {
+  static readonly CONST_ACCOUNTS = {
+    associatedTokenProgram: ASSOCIATED_PROGRAM_ID,
+    rent: SYSVAR_RENT_PUBKEY,
+    systemProgram: SystemProgram.programId,
+    tokenProgram: TOKEN_PROGRAM_ID,
+  };
+
+  private _accountStore: AccountStore<IDL>;
+
+  constructor(
+    private _args: Array<any>,
+    private _accounts: { [name: string]: PublicKey },
+    private _provider: Provider,
+    private _programId: PublicKey,
+    private _idlIx: AllInstructions<IDL>,
+    _accountNamespace: AccountNamespace<IDL>
+  ) {
+    this._accountStore = new AccountStore(_provider, _accountNamespace);
+  }
+
+  // Note: We serially resolve PDAs one by one rather than doing them
+  //       in parallel because there can be dependencies between
+  //       addresses. That is, one PDA can be used as a seed in another.
+  //
+  // TODO: PDAs need to be resolved in topological order. For now, we
+  //       require the developer to simply list the accounts in the
+  //       correct order. But in future work, we should create the
+  //       dependency graph and resolve automatically.
+  //
+  public async resolve() {
+    for (let k = 0; k < this._idlIx.accounts.length; k += 1) {
+      // Cast is ok because only a non-nested IdlAccount can have a seeds
+      // cosntraint.
+      const accountDesc = this._idlIx.accounts[k] as IdlAccount;
+      const accountDescName = camelCase(accountDesc.name);
+
+      // Signers default to the provider.
+      if (accountDesc.isSigner && !this._accounts[accountDescName]) {
+        if (this._provider.wallet === undefined) {
+          throw new Error(
+            "This function requires the Provider interface implementor to have a 'wallet' field."
+          );
+        }
+        this._accounts[accountDescName] = this._provider.wallet.publicKey;
+        continue;
+      }
+
+      // Common accounts are auto populated with magic names by convention.
+      if (
+        Reflect.has(AccountsResolver.CONST_ACCOUNTS, accountDescName) &&
+        !this._accounts[accountDescName]
+      ) {
+        this._accounts[accountDescName] =
+          AccountsResolver.CONST_ACCOUNTS[accountDescName];
+      }
+    }
+
+    for (let k = 0; k < this._idlIx.accounts.length; k += 1) {
+      // Cast is ok because only a non-nested IdlAccount can have a seeds
+      // cosntraint.
+      const accountDesc = this._idlIx.accounts[k] as IdlAccount;
+      const accountDescName = camelCase(accountDesc.name);
+
+      // PDA derived from IDL seeds.
+      if (
+        accountDesc.pda &&
+        accountDesc.pda.seeds.length > 0 &&
+        !this._accounts[accountDescName]
+      ) {
+        await this.autoPopulatePda(accountDesc);
+        continue;
+      }
+    }
+  }
+
+  private async autoPopulatePda(accountDesc: IdlAccount) {
+    if (!accountDesc.pda || !accountDesc.pda.seeds)
+      throw new Error("Must have seeds");
+
+    const seeds: Buffer[] = await Promise.all(
+      accountDesc.pda.seeds.map((seedDesc: IdlSeed) => this.toBuffer(seedDesc))
+    );
+
+    const programId = await this.parseProgramId(accountDesc);
+    const [pubkey] = await PublicKey.findProgramAddress(seeds, programId);
+
+    this._accounts[camelCase(accountDesc.name)] = pubkey;
+  }
+
+  private async parseProgramId(accountDesc: IdlAccount): Promise<PublicKey> {
+    if (!accountDesc.pda?.programId) {
+      return this._programId;
+    }
+    switch (accountDesc.pda.programId.kind) {
+      case "const":
+        return new PublicKey(
+          this.toBufferConst(accountDesc.pda.programId.value)
+        );
+      case "arg":
+        return this.argValue(accountDesc.pda.programId);
+      case "account":
+        return await this.accountValue(accountDesc.pda.programId);
+      default:
+        throw new Error(
+          `Unexpected program seed kind: ${accountDesc.pda.programId.kind}`
+        );
+    }
+  }
+
+  private async toBuffer(seedDesc: IdlSeed): Promise<Buffer> {
+    switch (seedDesc.kind) {
+      case "const":
+        return this.toBufferConst(seedDesc);
+      case "arg":
+        return await this.toBufferArg(seedDesc);
+      case "account":
+        return await this.toBufferAccount(seedDesc);
+      default:
+        throw new Error(`Unexpected seed kind: ${seedDesc.kind}`);
+    }
+  }
+
+  private toBufferConst(seedDesc: IdlSeed): Buffer {
+    return this.toBufferValue(seedDesc.type, seedDesc.value);
+  }
+
+  private async toBufferArg(seedDesc: IdlSeed): Promise<Buffer> {
+    const argValue = this.argValue(seedDesc);
+    return this.toBufferValue(seedDesc.type, argValue);
+  }
+
+  private argValue(seedDesc: IdlSeed): any {
+    const seedArgName = camelCase(seedDesc.path.split(".")[0]);
+
+    const idlArgPosition = this._idlIx.args.findIndex(
+      (argDesc: any) => argDesc.name === seedArgName
+    );
+    if (idlArgPosition === -1) {
+      throw new Error(`Unable to find argument for seed: ${seedArgName}`);
+    }
+
+    return this._args[idlArgPosition];
+  }
+
+  private async toBufferAccount(seedDesc: IdlSeed): Promise<Buffer> {
+    const accountValue = await this.accountValue(seedDesc);
+    return this.toBufferValue(seedDesc.type, accountValue);
+  }
+
+  private async accountValue(seedDesc: IdlSeed): Promise<any> {
+    const pathComponents = seedDesc.path.split(".");
+
+    const fieldName = pathComponents[0];
+    const fieldPubkey = this._accounts[camelCase(fieldName)];
+
+    // The seed is a pubkey of the account.
+    if (pathComponents.length === 1) {
+      return fieldPubkey;
+    }
+
+    // The key is account data.
+    //
+    // Fetch and deserialize it.
+    const account = await this._accountStore.fetchAccount(
+      seedDesc.account,
+      fieldPubkey
+    );
+
+    // Dereference all fields in the path to get the field value
+    // used in the seed.
+    const fieldValue = this.parseAccountValue(account, pathComponents.slice(1));
+    return fieldValue;
+  }
+
+  private parseAccountValue<T = any>(account: T, path: Array<string>): any {
+    let accountField: any;
+    while (path.length > 0) {
+      accountField = account[camelCase(path[0])];
+      path = path.slice(1);
+    }
+    return accountField;
+  }
+
+  // Converts the given idl valaue into a Buffer. The values here must be
+  // primitives. E.g. no structs.
+  //
+  // TODO: add more types here as needed.
+  private toBufferValue(type: string | any, value: any): Buffer {
+    switch (type) {
+      case "u8":
+        return Buffer.from([value]);
+      case "u16":
+        let b = Buffer.alloc(2);
+        b.writeUInt16LE(value);
+        return b;
+      case "u32":
+        let buf = Buffer.alloc(4);
+        buf.writeUInt32LE(value);
+        return buf;
+      case "u64":
+        let bU64 = Buffer.alloc(8);
+        bU64.writeBigUInt64LE(BigInt(value));
+        return bU64;
+      case "string":
+        return utf8.encode(value);
+      case "publicKey":
+        return value.toBuffer();
+      default:
+        if (type.array) {
+          return Buffer.from(value);
+        }
+        throw new Error(`Unexpected seed type: ${type}`);
+    }
+  }
+}
+
+// TODO: this should be configureable to avoid unnecessary requests.
+export class AccountStore<IDL extends Idl> {
+  private _cache = new Map<string, any>();
+
+  constructor(
+    private _provider: Provider,
+    private _accounts: AccountNamespace<IDL>
+  ) {}
+
+  public async fetchAccount<T = any>(
+    name: string,
+    publicKey: PublicKey
+  ): Promise<T> {
+    const address = publicKey.toString();
+    if (!this._cache.has(address)) {
+      if (name === "TokenAccount") {
+        const accountInfo = await this._provider.connection.getAccountInfo(
+          publicKey
+        );
+        if (accountInfo === null) {
+          throw new Error(`invalid account info for ${address}`);
+        }
+        const data = splCoder.accounts.decode("token", accountInfo.data);
+        this._cache.set(address, data);
+      } else {
+        const account = this._accounts[camelCase(name)].fetch(publicKey);
+        this._cache.set(address, account);
+      }
+    }
+    return this._cache.get(address);
+  }
+}
diff --git a/src/program/common.ts b/src/program/common.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0023ce3f790e87eef40b50e4e78c80d21d82f8f8
--- /dev/null
+++ b/src/program/common.ts
@@ -0,0 +1,65 @@
+import EventEmitter from "eventemitter3";
+import { PublicKey } from "@solana/web3.js";
+import { Idl, IdlInstruction, IdlAccountItem, IdlStateMethod } from "../idl.js";
+import { Accounts } from "./context.js";
+
+export type Subscription = {
+  listener: number;
+  ee: EventEmitter;
+};
+
+export function parseIdlErrors(idl: Idl): Map<number, string> {
+  const errors = new Map();
+  if (idl.errors) {
+    idl.errors.forEach((e) => {
+      let msg = e.msg ?? e.name;
+      errors.set(e.code, msg);
+    });
+  }
+  return errors;
+}
+
+// Allow either IdLInstruction or IdlStateMethod since the types share fields.
+export function toInstruction(
+  idlIx: IdlInstruction | IdlStateMethod,
+  ...args: any[]
+) {
+  if (idlIx.args.length != args.length) {
+    throw new Error("Invalid argument length");
+  }
+  const ix: { [key: string]: any } = {};
+  let idx = 0;
+  idlIx.args.forEach((ixArg) => {
+    ix[ixArg.name] = args[idx];
+    idx += 1;
+  });
+
+  return ix;
+}
+
+// Throws error if any account required for the `ix` is not given.
+export function validateAccounts(
+  ixAccounts: IdlAccountItem[],
+  accounts: Accounts = {}
+) {
+  ixAccounts.forEach((acc) => {
+    if ("accounts" in acc) {
+      validateAccounts(acc.accounts, accounts[acc.name] as Accounts);
+    } else {
+      if (accounts[acc.name] === undefined) {
+        throw new Error(`Invalid arguments: ${acc.name} not provided.`);
+      }
+    }
+  });
+}
+
+// Translates an address to a Pubkey.
+export function translateAddress(address: Address): PublicKey {
+  return address instanceof PublicKey ? address : new PublicKey(address);
+}
+
+/**
+ * An address to identify an account on chain. Can be a [[PublicKey]],
+ * or Base 58 encoded string.
+ */
+export type Address = PublicKey | string;
diff --git a/src/program/context.ts b/src/program/context.ts
new file mode 100644
index 0000000000000000000000000000000000000000..ca7b3406a77fac6b275d0e6486206c687ab77524
--- /dev/null
+++ b/src/program/context.ts
@@ -0,0 +1,91 @@
+import {
+  AccountMeta,
+  Signer,
+  ConfirmOptions,
+  TransactionInstruction,
+} from "@solana/web3.js";
+import { Address } from "./common.js";
+import { IdlAccountItem, IdlAccounts, IdlInstruction } from "../idl.js";
+
+/**
+ * Context provides all non-argument inputs for generating Anchor transactions.
+ */
+export type Context<A extends Accounts = Accounts> = {
+  /**
+   * Accounts used in the instruction context.
+   */
+  accounts?: A;
+
+  /**
+   * All accounts to pass into an instruction *after* the main `accounts`.
+   * This can be used for optional or otherwise unknown accounts.
+   */
+  remainingAccounts?: AccountMeta[];
+
+  /**
+   * Accounts that must sign a given transaction.
+   */
+  signers?: Array<Signer>;
+
+  /**
+   * @deprecated use preInstructions instead.
+   * Instructions to run *before* a given method. Often this is used, for
+   * example to create accounts prior to executing a method.
+   */
+  instructions?: TransactionInstruction[];
+
+  /**
+   * Instructions to run *before* a given method. Often this is used, for
+   * example to create accounts prior to executing a method.
+   */
+  preInstructions?: TransactionInstruction[];
+
+  /**
+   * Instructions to run *after* a given method. Often this is used, for
+   * example to close accounts after executing a method.
+   */
+  postInstructions?: TransactionInstruction[];
+
+  /**
+   * Commitment parameters to use for a transaction.
+   */
+  options?: ConfirmOptions;
+};
+
+/**
+ * A set of accounts mapping one-to-one to the program's accounts struct, i.e.,
+ * the type deriving `#[derive(Accounts)]`.
+ *
+ * The name of each field should match the name for that account in the IDL.
+ *
+ * If multiple accounts are nested in the rust program, then they should be
+ * nested here.
+ */
+export type Accounts<A extends IdlAccountItem = IdlAccountItem> = {
+  [N in A["name"]]: Account<A & { name: N }>;
+};
+
+type Account<A extends IdlAccountItem> = A extends IdlAccounts
+  ? Accounts<A["accounts"][number]>
+  : Address;
+
+export function splitArgsAndCtx(
+  idlIx: IdlInstruction,
+  args: any[]
+): [any[], Context] {
+  let options = {};
+
+  const inputLen = idlIx.args ? idlIx.args.length : 0;
+  if (args.length > inputLen) {
+    if (args.length !== inputLen + 1) {
+      throw new Error(
+        `provided too many arguments ${args} to instruction ${
+          idlIx?.name
+        } expecting: ${idlIx.args?.map((a) => a.name) ?? []}`
+      );
+    }
+    options = args.pop();
+  }
+
+  return [args, options];
+}
diff --git a/src/program/event.ts b/src/program/event.ts
new file mode 100644
index 0000000000000000000000000000000000000000..872251b39c0072ef7b20f6c653d0c9c19f9e652e
--- /dev/null
+++ b/src/program/event.ts
@@ -0,0 +1,290 @@
+import { PublicKey } from "@solana/web3.js";
+import * as assert from "assert";
+import { IdlEvent, IdlEventField } from "../idl.js";
+import { Coder } from "../coder/index.js";
+import { DecodeType } from "./namespace/types.js";
+import Provider from "../provider.js";
+
+const PROGRAM_LOG = "Program log: ";
+const PROGRAM_DATA = "Program data: ";
+const PROGRAM_LOG_START_INDEX = PROGRAM_LOG.length;
+const PROGRAM_DATA_START_INDEX = PROGRAM_DATA.length;
+
+// Deserialized event.
+export type Event<
+  E extends IdlEvent = IdlEvent,
+  Defined = Record<string, never>
+> = {
+  name: E["name"];
+  data: EventData<E["fields"][number], Defined>;
+};
+
+export type EventData<T extends IdlEventField, Defined> = {
+  [N in T["name"]]: DecodeType<(T & { name: N })["type"], Defined>;
+};
+
+type EventCallback = (event: any, slot: number, signature: string) => void;
+
+export class EventManager {
+  /**
+   * Program ID for event subscriptions.
+   */
+  private _programId: PublicKey;
+
+  /**
+   * Network and wallet provider.
+   */
+  private _provider: Provider;
+
+  /**
+   * Event parser to handle onLogs callbacks.
+   */
+  private _eventParser: EventParser;
+
+  /**
+   * Maps event listener id to [event-name, callback].
+   */
+  private _eventCallbacks: Map<number, [string, EventCallback]>;
+
+  /**
+   * Maps event name to all listeners for the event.
+   */
+  private _eventListeners: Map<string, Array<number>>;
+
+  /**
+   * The next listener id to allocate.
+   */
+  private _listenerIdCount: number;
+
+  /**
+   * The subscription id from the connection onLogs subscription.
+   */
+  private _onLogsSubscriptionId: number | undefined;
+
+  constructor(programId: PublicKey, provider: Provider, coder: Coder) {
+    this._programId = programId;
+    this._provider = provider;
+    this._eventParser = new EventParser(programId, coder);
+    this._eventCallbacks = new Map();
+    this._eventListeners = new Map();
+    this._listenerIdCount = 0;
+  }
+
+  public addEventListener(
+    eventName: string,
+    callback: (event: any, slot: number, signature: string) => void
+  ): number {
+    let listener = this._listenerIdCount;
+    this._listenerIdCount += 1;
+
+    // Store the listener into the event map.
+    if (!(eventName in this._eventCallbacks)) {
+      this._eventListeners.set(eventName, []);
+    }
+    this._eventListeners.set(
+      eventName,
+      (this._eventListeners.get(eventName) ?? []).concat(listener)
+    );
+
+    // Store the callback into the listener map.
+    this._eventCallbacks.set(listener, [eventName, callback]);
+
+    // Create the subscription singleton, if needed.
+    if (this._onLogsSubscriptionId !== undefined) {
+      return listener;
+    }
+
+    this._onLogsSubscriptionId = this._provider!.connection.onLogs(
+      this._programId,
+      (logs, ctx) => {
+        if (logs.err) {
+          return;
+        }
+
+        for (const event of this._eventParser.parseLogs(logs.logs)) {
+          const allListeners = this._eventListeners.get(event.name);
+
+          if (allListeners) {
+            allListeners.forEach((listener) => {
+              const listenerCb = this._eventCallbacks.get(listener);
+
+              if (listenerCb) {
+                const [, callback] = listenerCb;
+                callback(event.data, ctx.slot, logs.signature);
+              }
+            });
+          }
+        }
+      }
+    );
+
+    return listener;
+  }
+
+  public async removeEventListener(listener: number): Promise<void> {
+    // Get the callback.
+    const callback = this._eventCallbacks.get(listener);
+    if (!callback) {
+      throw new Error(`Event listener ${listener} doesn't exist!`);
+    }
+    const [eventName] = callback;
+
+    // Get the listeners.
+    let listeners = this._eventListeners.get(eventName);
+    if (!listeners) {
+      throw new Error(`Event listeners don't exist for ${eventName}!`);
+    }
+
+    // Update both maps.
+    this._eventCallbacks.delete(listener);
+    listeners = listeners.filter((l) => l !== listener);
+    if (listeners.length === 0) {
+      this._eventListeners.delete(eventName);
+    }
+
+    // Kill the websocket connection if all listeners have been removed.
+    if (this._eventCallbacks.size == 0) {
+      assert.ok(this._eventListeners.size === 0);
+      if (this._onLogsSubscriptionId !== undefined) {
+        await this._provider!.connection.removeOnLogsListener(
+          this._onLogsSubscriptionId
+        );
+        this._onLogsSubscriptionId = undefined;
+      }
+    }
+  }
+}
+
+export class EventParser {
+  private coder: Coder;
+  private programId: PublicKey;
+
+  constructor(programId: PublicKey, coder: Coder) {
+    this.coder = coder;
+    this.programId = programId;
+  }
+
+  // Each log given, represents an array of messages emitted by
+  // a single transaction, which can execute many different programs across
+  // CPI boundaries. However, the subscription is only interested in the
+  // events emitted by *this* program. In achieving this, we keep track of the
+  // program execution context by parsing each log and looking for a CPI
+  // `invoke` call. If one exists, we know a new program is executing. So we
+  // push the programId onto a stack and switch the program context. This
+  // allows us to track, for a given log, which program was executing during
+  // its emission, thereby allowing us to know if a given log event was
+  // emitted by *this* program. If it was, then we parse the raw string and
+  // emit the event if the string matches the event being subscribed to.
+  public *parseLogs(logs: string[]) {
+    const logScanner = new LogScanner(logs);
+    const execution = new ExecutionContext();
+    let log = logScanner.next();
+    while (log !== null) {
+      let [event, newProgram, didPop] = this.handleLog(execution, log);
+      if (event) {
+        yield event;
+      }
+      if (newProgram) {
+        execution.push(newProgram);
+      }
+      if (didPop) {
+        execution.pop();
+      }
+      log = logScanner.next();
+    }
+  }
+
+  // Main log handler. Returns a three element array of the event, the
+  // next program that was invoked for CPI, and a boolean indicating if
+  // a program has completed execution (and thus should be popped off the
+  // execution stack).
+  private handleLog(
+    execution: ExecutionContext,
+    log: string
+  ): [Event | null, string | null, boolean] {
+    // Executing program is this program.
+    if (
+      execution.stack.length > 0 &&
+      execution.program() === this.programId.toString()
+    ) {
+      return this.handleProgramLog(log);
+    }
+    // Executing program is not this program.
+    else {
+      return [null, ...this.handleSystemLog(log)];
+    }
+  }
+
+  // Handles logs from *this* program.
+  private handleProgramLog(
+    log: string
+  ): [Event | null, string | null, boolean] {
+    // This is a `msg!` log or a `sol_log_data` log.
+    if (log.startsWith(PROGRAM_LOG) || log.startsWith(PROGRAM_DATA)) {
+      const logStr = log.startsWith(PROGRAM_LOG)
+        ? log.slice(PROGRAM_LOG_START_INDEX)
+        : log.slice(PROGRAM_DATA_START_INDEX);
+      const event = this.coder.events.decode(logStr);
+      return [event, null, false];
+    }
+    // System log.
+    else {
+      return [null, ...this.handleSystemLog(log)];
+    }
+  }
+
+  // Handles logs when the current program being executing is *not* this.
+  private handleSystemLog(log: string): [string | null, boolean] {
+    // System component.
+    const logStart = log.split(":")[0];
+
+    // Did the program finish executing?
+    if (logStart.match(/^Program (.*) success/g) !== null) {
+      return [null, true];
+      // Recursive call.
+    } else if (
+      logStart.startsWith(`Program ${this.programId.toString()} invoke`)
+    ) {
+      return [this.programId.toString(), false];
+    }
+    // CPI call.
+    else if (logStart.includes("invoke")) {
+      return ["cpi", false]; // Any string will do.
+    } else {
+      return [null, false];
+    }
+  }
+}
+
+// Stack frame execution context, allowing one to track what program is
+// executing for a given log.
+class ExecutionContext {
+  stack: string[] = [];
+
+  program(): string {
+    assert.ok(this.stack.length > 0);
+    return this.stack[this.stack.length - 1];
+  }
+
+  push(newProgram: string) {
+    this.stack.push(newProgram);
+  }
+
+  pop() {
+    assert.ok(this.stack.length > 0);
+    this.stack.pop();
+  }
+}
+
+class LogScanner {
+  constructor(public logs: string[]) {}
+
+  next(): string | null {
+    if (this.logs.length === 0) {
+      return null;
+    }
+    let l = this.logs[0];
+    this.logs = this.logs.slice(1);
+    return l;
+  }
+}
diff --git a/src/program/index.ts b/src/program/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..fcd61f79e3355bc82120b13915661fb1fe5fe69b
--- /dev/null
+++ b/src/program/index.ts
@@ -0,0 +1,378 @@
+import { inflate } from "pako";
+import { PublicKey } from "@solana/web3.js";
+import Provider, { getProvider } from "../provider.js";
+import { Idl, idlAddress, decodeIdlAccount } from "../idl.js";
+import { Coder, BorshCoder } from "../coder/index.js";
+import NamespaceFactory from "./namespace/index.js";
+import type {
+  RpcNamespace,
+  InstructionNamespace,
+  TransactionNamespace,
+  AccountNamespace,
+  StateClient,
+  SimulateNamespace,
+  MethodsNamespace,
+  ViewNamespace,
+} from "./namespace/index.js";
+import { utf8 } from "../utils/bytes/index.js";
+import { EventManager } from "./event.js";
+import { Address, translateAddress } from "./common.js";
+
+export * from "./common.js";
+export * from "./context.js";
+export * from "./event.js";
+export * from "./namespace/index.js";
+
+/**
+ * ## Program
+ *
+ * Program provides the IDL deserialized client representation of an Anchor
+ * program.
+ *
+ * This API is the one stop shop for all things related to communicating with
+ * on-chain programs. Among other things, one can send transactions, fetch
+ * deserialized accounts, decode instruction data, subscribe to account
+ * changes, and listen to events.
+ *
+ * In addition to field accessors and methods, the object provides a set of
+ * dynamically generated properties, also known as namespaces, that
+ * map one-to-one to program methods and accounts. These namespaces generally
+ *  can be used as follows:
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * program.<namespace>.<program-specific-method>
+ * ```
+ *
+ * API specifics are namespace dependent. The examples used in the documentation
+ * below will refer to the two counter examples found
+ * [here](https://github.com/coral-xyz/anchor#examples).
+ */
+export class Program<IDL extends Idl = Idl> {
+  /**
+   * Async methods to send signed transactions to *non*-state methods on the
+   * program, returning a [[TransactionSignature]].
+   *
+   * ## Usage
+   *
+   * ```javascript
+   * rpc.<method>(...args, ctx);
+   * ```
+   *
+   * ## Parameters
+   *
+   * 1. `args` - The positional arguments for the program. The type and number
+   *    of these arguments depend on the program being used.
+   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+   *    Always the last parameter in the method call.
+   *
+   * ## Example
+   *
+   * To send a transaction invoking the `increment` method above,
+   *
+   * ```javascript
+   * const txSignature = await program.rpc.increment({
+   *   accounts: {
+   *     counter,
+   *     authority,
+   *   },
+   * });
+   * ```
+   * @deprecated
+   * Use program.methods.<method>(...args).rpc() instead
+   */
+  readonly rpc: RpcNamespace<IDL>;
+
+  /**
+   * The namespace provides handles to an [[AccountClient]] object for each
+   * account in the program.
+   *
+   * ## Usage
+   *
+   * ```javascript
+   * program.account.<account-client>
+   * ```
+   *
+   * ## Example
+   *
+   * To fetch a `Counter` account from the above example,
+   *
+   * ```javascript
+   * const counter = await program.account.counter.fetch(address);
+   * ```
+   *
+   * For the full API, see the [[AccountClient]] reference.
+   */
+  readonly account: AccountNamespace<IDL>;
+
+  /**
+   * The namespace provides functions to build [[TransactionInstruction]]
+   * objects for each method of a program.
+   *
+   * ## Usage
+   *
+   * ```javascript
+   * program.instruction.<method>(...args, ctx);
+   * ```
+   *
+   * ## Parameters
+   *
+   * 1. `args` - The positional arguments for the program. The type and number
+   *    of these arguments depend on the program being used.
+   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+   *    Always the last parameter in the method call.
+   *
+   * ## Example
+   *
+   * To create an instruction for the `increment` method above,
+   *
+   * ```javascript
+   * const tx = await program.instruction.increment({
+   *   accounts: {
+   *     counter,
+   *   },
+   * });
+   * ```
+   * @deprecated
+   */
+  readonly instruction: InstructionNamespace<IDL>;
+
+  /**
+   * The namespace provides functions to build [[Transaction]] objects for each
+   * method of a program.
+   *
+   * ## Usage
+   *
+   * ```javascript
+   * program.transaction.<method>(...args, ctx);
+   * ```
+   *
+   * ## Parameters
+   *
+   * 1. `args` - The positional arguments for the program. The type and number
+   *    of these arguments depend on the program being used.
+   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+   *    Always the last parameter in the method call.
+   *
+   * ## Example
+   *
+   * To create an instruction for the `increment` method above,
+   *
+   * ```javascript
+   * const tx = await program.transaction.increment({
+   *   accounts: {
+   *     counter,
+   *   },
+   * });
+   * ```
+   * @deprecated
+   */
+  readonly transaction: TransactionNamespace<IDL>;
+
+  /**
+   * The namespace provides functions to simulate transactions for each method
+   * of a program, returning a list of deserialized events *and* raw program
+   * logs.
+   *
+   * One can use this to read data calculated from a program on chain, by
+   * emitting an event in the program and reading the emitted event client side
+   * via the `simulate` namespace.
+   *
+   * ## simulate
+   *
+   * ```javascript
+   * program.simulate.<method>(...args, ctx);
+   * ```
+   *
+   * ## Parameters
+   *
+   * 1. `args` - The positional arguments for the program. The type and number
+   *    of these arguments depend on the program being used.
+   * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+   *    Always the last parameter in the method call.
+   *
+   * ## Example
+   *
+   * To simulate the `increment` method above,
+   *
+   * ```javascript
+   * const events = await program.simulate.increment({
+   *   accounts: {
+   *     counter,
+   *   },
+   * });
+   * ```
+   * @deprecated
+   */
+  readonly simulate: SimulateNamespace<IDL>;
+
+  /**
+   * A client for the program state. Similar to the base [[Program]] client,
+   * one can use this to send transactions and read accounts for the state
+   * abstraction.
+   */
+  readonly state?: StateClient<IDL>;
+
+  /**
+   * The namespace provides a builder API for all APIs on the program.
+   * This is an alternative to using namespace the other namespaces..
+   */
+  readonly methods: MethodsNamespace<IDL>;
+
+  readonly views?: ViewNamespace<IDL>;
+
+  /**
+   * Address of the program.
+   */
+  public get programId(): PublicKey {
+    return this._programId;
+  }
+  private _programId: PublicKey;
+
+  /**
+   * IDL defining the program's interface.
+   */
+  public get idl(): IDL {
+    return this._idl;
+  }
+  private _idl: IDL;
+
+  /**
+   * Coder for serializing requests.
+   */
+  public get coder(): Coder {
+    return this._coder;
+  }
+  private _coder: Coder;
+
+  /**
+   * Wallet and network provider.
+   */
+  public get provider(): Provider {
+    return this._provider;
+  }
+  private _provider: Provider;
+
+  /**
+   * Handles event subscriptions.
+   */
+  private _events: EventManager;
+
+  /**
+   * @param idl       The interface definition.
+   * @param programId The on-chain address of the program.
+   * @param provider  The network and wallet context to use. If not provided
+   *                  then uses [[getProvider]].
+   */
+  public constructor(
+    idl: IDL,
+    programId: Address,
+    provider?: Provider,
+    coder?: Coder
+  ) {
+    programId = translateAddress(programId);
+
+    if (!provider) {
+      provider = getProvider();
+    }
+
+    // Fields.
+    this._idl = idl;
+    this._provider = provider;
+    this._programId = programId;
+    this._coder = coder ?? new BorshCoder(idl);
+    this._events = new EventManager(this._programId, provider, this._coder);
+
+    // Dynamic namespaces.
+    const [
+      rpc,
+      instruction,
+      transaction,
+      account,
+      simulate,
+      methods,
+      state,
+      views,
+    ] = NamespaceFactory.build(idl, this._coder, programId, provider);
+    this.rpc = rpc;
+    this.instruction = instruction;
+    this.transaction = transaction;
+    this.account = account;
+    this.simulate = simulate;
+    this.methods = methods;
+    this.state = state;
+    this.views = views;
+  }
+
+  /**
+   * Generates a Program client by fetching the IDL from the network.
+   *
+   * In order to use this method, an IDL must have been previously initialized
+   * via the anchor CLI's `anchor idl init` command.
+   *
+   * @param programId The on-chain address of the program.
+   * @param provider  The network and wallet context.
+   */
+  public static async at<IDL extends Idl = Idl>(
+    address: Address,
+    provider?: Provider
+  ): Promise<Program<IDL>> {
+    const programId = translateAddress(address);
+
+    const idl = await Program.fetchIdl<IDL>(programId, provider);
+    if (!idl) {
+      throw new Error(`IDL not found for program: ${address.toString()}`);
+    }
+
+    return new Program(idl, programId, provider);
+  }
+
+  /**
+   * Fetches an idl from the blockchain.
+   *
+   * In order to use this method, an IDL must have been previously initialized
+   * via the anchor CLI's `anchor idl init` command.
+   *
+   * @param programId The on-chain address of the program.
+   * @param provider  The network and wallet context.
+   */
+  public static async fetchIdl<IDL extends Idl = Idl>(
+    address: Address,
+    provider?: Provider
+  ): Promise<IDL | null> {
+    provider = provider ?? getProvider();
+    const programId = translateAddress(address);
+
+    const idlAddr = await idlAddress(programId);
+    const accountInfo = await provider.connection.getAccountInfo(idlAddr);
+    if (!accountInfo) {
+      return null;
+    }
+    // Chop off account discriminator.
+    const idlAccount = decodeIdlAccount(accountInfo.data.subarray(8));
+    const inflatedIdl = inflate(idlAccount.data);
+    return JSON.parse(utf8.decode(inflatedIdl));
+  }
+
+  /**
+   * Invokes the given callback every time the given event is emitted.
+   *
+   * @param eventName The PascalCase name of the event, provided by the IDL.
+   * @param callback  The function to invoke whenever the event is emitted from
+   *                  program logs.
+   */
+  public addEventListener(
+    eventName: string,
+    callback: (event: any, slot: number, signature: string) => void
+  ): number {
+    return this._events.addEventListener(eventName, callback);
+  }
+
+  /**
+   * Unsubscribes from the given eventName.
+   */
+  public async removeEventListener(listener: number): Promise<void> {
+    return await this._events.removeEventListener(listener);
+  }
+}
diff --git a/src/program/namespace/account.ts b/src/program/namespace/account.ts
new file mode 100644
index 0000000000000000000000000000000000000000..6be8b135ae0c4ad5790ae43c136097df8b2d947d
--- /dev/null
+++ b/src/program/namespace/account.ts
@@ -0,0 +1,352 @@
+import { CamelCase, camelCase } from "@juici/case";
+import EventEmitter from "eventemitter3";
+import {
+  Signer,
+  PublicKey,
+  SystemProgram,
+  TransactionInstruction,
+  Commitment,
+  GetProgramAccountsFilter,
+  AccountInfo,
+} from "@solana/web3.js";
+import Provider, { getProvider } from "../../provider.js";
+import { Idl, IdlAccountDef } from "../../idl.js";
+import { Coder, BorshCoder } from "../../coder/index.js";
+import { Subscription, Address, translateAddress } from "../common.js";
+import { IdlTypes, TypeDef } from "./types.js";
+import * as pubkeyUtil from "../../utils/pubkey.js";
+import * as rpcUtil from "../../utils/rpc.js";
+
+export default class AccountFactory {
+  public static build<IDL extends Idl>(
+    idl: IDL,
+    coder: Coder,
+    programId: PublicKey,
+    provider?: Provider
+  ): AccountNamespace<IDL> {
+    const accountFns = {} as AccountNamespace<IDL>;
+
+    idl.accounts?.forEach((idlAccount) => {
+      const name = camelCase(idlAccount.name);
+      accountFns[name] = new AccountClient<IDL>(
+        idl,
+        idlAccount,
+        programId,
+        provider,
+        coder
+      );
+    });
+
+    return accountFns;
+  }
+}
+
+/**
+ * The namespace provides handles to an [[AccountClient]] object for each
+ * account in a program.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * account.<account-client>
+ * ```
+ *
+ * ## Example
+ *
+ * To fetch a `Counter` account from the above example,
+ *
+ * ```javascript
+ * const counter = await program.account.counter.fetch(address);
+ * ```
+ *
+ * For the full API, see the [[AccountClient]] reference.
+ */
+export type AccountNamespace<IDL extends Idl = Idl> = {
+  [K in NonNullable<
+    IDL["accounts"]
+  >[number]["name"] as CamelCase<K>]: AccountClient<
+    IDL,
+    NonNullable<IDL["accounts"]>[number] & { name: K }
+  >;
+};
+
+export class AccountClient<
+  IDL extends Idl = Idl,
+  A extends IdlAccountDef = IdlAccountDef,
+  T = TypeDef<A, IdlTypes<IDL>>
+> {
+  /**
+   * Returns the number of bytes in this account.
+   */
+  get size(): number {
+    return this._size;
+  }
+  private _size: number;
+
+  /**
+   * Returns the program ID owning all accounts.
+   */
+  get programId(): PublicKey {
+    return this._programId;
+  }
+  private _programId: PublicKey;
+
+  /**
+   * Returns the client's wallet and network provider.
+   */
+  get provider(): Provider {
+    return this._provider;
+  }
+  private _provider: Provider;
+
+  /**
+   * Returns the coder.
+   */
+  get coder(): Coder {
+    return this._coder;
+  }
+  private _coder: Coder;
+
+  private _idlAccount: A;
+
+  constructor(
+    idl: IDL,
+    idlAccount: A,
+    programId: PublicKey,
+    provider?: Provider,
+    coder?: Coder
+  ) {
+    this._idlAccount = idlAccount;
+    this._programId = programId;
+    this._provider = provider ?? getProvider();
+    this._coder = coder ?? new BorshCoder(idl);
+    this._size = this._coder.accounts.size(idlAccount);
+  }
+
+  /**
+   * Returns a deserialized account, returning null if it doesn't exist.
+   *
+   * @param address The address of the account to fetch.
+   */
+  async fetchNullable(
+    address: Address,
+    commitment?: Commitment
+  ): Promise<T | null> {
+    const accountInfo = await this.getAccountInfo(address, commitment);
+    if (accountInfo === null) {
+      return null;
+    }
+    return this._coder.accounts.decode<T>(
+      this._idlAccount.name,
+      accountInfo.data
+    );
+  }
+
+  /**
+   * Returns a deserialized account.
+   *
+   * @param address The address of the account to fetch.
+   */
+  async fetch(address: Address, commitment?: Commitment): Promise<T> {
+    const data = await this.fetchNullable(address, commitment);
+    if (data === null) {
+      throw new Error(`Account does not exist ${address.toString()}`);
+    }
+    return data;
+  }
+
+  /**
+   * Returns multiple deserialized accounts.
+   * Accounts not found or with wrong discriminator are returned as null.
+   *
+   * @param addresses The addresses of the accounts to fetch.
+   */
+  async fetchMultiple(
+    addresses: Address[],
+    commitment?: Commitment
+  ): Promise<(Object | null)[]> {
+    const accounts = await rpcUtil.getMultipleAccounts(
+      this._provider.connection,
+      addresses.map((address) => translateAddress(address)),
+      commitment
+    );
+
+    // Decode accounts where discriminator is correct, null otherwise
+    return accounts.map((account) => {
+      if (account == null) {
+        return null;
+      }
+      return this._coder.accounts.decode(
+        this._idlAccount.name,
+        account?.account.data
+      );
+    });
+  }
+
+  /**
+   * Returns all instances of this account type for the program.
+   *
+   * @param filters User-provided filters to narrow the results from `connection.getProgramAccounts`.
+   *
+   *                When filters are not defined this method returns all
+   *                the account instances.
+   *
+   *                When filters are of type `Buffer`, the filters are appended
+   *                after the discriminator.
+   *
+   *                When filters are of type `GetProgramAccountsFilter[]`,
+   *                filters are appended after the discriminator filter.
+   */
+  async all(
+    filters?: Buffer | GetProgramAccountsFilter[]
+  ): Promise<ProgramAccount<T>[]> {
+    let resp = await this._provider.connection.getProgramAccounts(
+      this._programId,
+      {
+        commitment: this._provider.connection.commitment,
+        filters: [
+          {
+            memcmp: this.coder.accounts.memcmp(
+              this._idlAccount.name,
+              filters instanceof Buffer ? filters : undefined
+            ),
+          },
+          ...(Array.isArray(filters) ? filters : []),
+        ],
+      }
+    );
+    return resp.map(({ pubkey, account }) => {
+      return {
+        publicKey: pubkey,
+        account: this._coder.accounts.decode(
+          this._idlAccount.name,
+          account.data
+        ),
+      };
+    });
+  }
+
+  /**
+   * Returns an `EventEmitter` emitting a "change" event whenever the account
+   * changes.
+   */
+  subscribe(address: Address, commitment?: Commitment): EventEmitter {
+    const sub = subscriptions.get(address.toString());
+    if (sub) {
+      return sub.ee;
+    }
+
+    const ee = new EventEmitter();
+    address = translateAddress(address);
+    const listener = this._provider.connection.onAccountChange(
+      address,
+      (acc) => {
+        const account = this._coder.accounts.decode(
+          this._idlAccount.name,
+          acc.data
+        );
+        ee.emit("change", account);
+      },
+      commitment
+    );
+
+    subscriptions.set(address.toString(), {
+      ee,
+      listener,
+    });
+
+    return ee;
+  }
+
+  /**
+   * Unsubscribes from the account at the given address.
+   */
+  async unsubscribe(address: Address) {
+    let sub = subscriptions.get(address.toString());
+    if (!sub) {
+      console.warn("Address is not subscribed");
+      return;
+    }
+    if (subscriptions) {
+      await this._provider.connection
+        .removeAccountChangeListener(sub.listener)
+        .then(() => {
+          subscriptions.delete(address.toString());
+        })
+        .catch(console.error);
+    }
+  }
+
+  /**
+   * Returns an instruction for creating this account.
+   */
+  async createInstruction(
+    signer: Signer,
+    sizeOverride?: number
+  ): Promise<TransactionInstruction> {
+    const size = this.size;
+
+    if (this._provider.wallet === undefined) {
+      throw new Error(
+        "This function requires the Provider interface implementor to have a 'wallet' field."
+      );
+    }
+
+    return SystemProgram.createAccount({
+      fromPubkey: this._provider.wallet.publicKey,
+      newAccountPubkey: signer.publicKey,
+      space: sizeOverride ?? size,
+      lamports:
+        await this._provider.connection.getMinimumBalanceForRentExemption(
+          sizeOverride ?? size
+        ),
+      programId: this._programId,
+    });
+  }
+
+  /**
+   * @deprecated since version 14.0.
+   *
+   * Function returning the associated account. Args are keys to associate.
+   * Order matters.
+   */
+  async associated(...args: Array<PublicKey | Buffer>): Promise<T> {
+    const addr = await this.associatedAddress(...args);
+    return await this.fetch(addr);
+  }
+
+  /**
+   * @deprecated since version 14.0.
+   *
+   * Function returning the associated address. Args are keys to associate.
+   * Order matters.
+   */
+  async associatedAddress(
+    ...args: Array<PublicKey | Buffer>
+  ): Promise<PublicKey> {
+    return await pubkeyUtil.associated(this._programId, ...args);
+  }
+
+  async getAccountInfo(
+    address: Address,
+    commitment?: Commitment
+  ): Promise<AccountInfo<Buffer> | null> {
+    return await this._provider.connection.getAccountInfo(
+      translateAddress(address),
+      commitment
+    );
+  }
+}
+
+/**
+ * @hidden
+ *
+ * Deserialized account owned by a program.
+ */
+export type ProgramAccount<T = any> = {
+  publicKey: PublicKey;
+  account: T;
+};
+
+// Tracks all subscriptions.
+const subscriptions: Map<string, Subscription> = new Map();
diff --git a/src/program/namespace/index.ts b/src/program/namespace/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..7e3123dae4333eae2d8e2bf85ad8566d7c3cce4e
--- /dev/null
+++ b/src/program/namespace/index.ts
@@ -0,0 +1,113 @@
+import { camelCase } from "@juici/case";
+import { PublicKey } from "@solana/web3.js";
+import { Coder } from "../../coder/index.js";
+import Provider from "../../provider.js";
+import { Idl } from "../../idl.js";
+import StateFactory, { StateClient } from "./state.js";
+import InstructionFactory, { InstructionNamespace } from "./instruction.js";
+import TransactionFactory, { TransactionNamespace } from "./transaction.js";
+import RpcFactory, { RpcNamespace } from "./rpc.js";
+import AccountFactory, { AccountNamespace } from "./account.js";
+import SimulateFactory, { SimulateNamespace } from "./simulate.js";
+import { parseIdlErrors } from "../common.js";
+import { MethodsBuilderFactory, MethodsNamespace } from "./methods";
+import ViewFactory, { ViewNamespace } from "./views";
+
+// Re-exports.
+export { StateClient } from "./state.js";
+export { InstructionNamespace, InstructionFn } from "./instruction.js";
+export { TransactionNamespace, TransactionFn } from "./transaction.js";
+export { RpcNamespace, RpcFn } from "./rpc.js";
+export { AccountNamespace, AccountClient, ProgramAccount } from "./account.js";
+export { SimulateNamespace, SimulateFn } from "./simulate.js";
+export { IdlAccounts, IdlTypes, IdlEvents, DecodeType } from "./types.js";
+export { MethodsBuilderFactory, MethodsNamespace } from "./methods";
+export { ViewNamespace, ViewFn } from "./views";
+
+export default class NamespaceFactory {
+  /**
+   * Generates all namespaces for a given program.
+   */
+  public static build<IDL extends Idl>(
+    idl: IDL,
+    coder: Coder,
+    programId: PublicKey,
+    provider: Provider
+  ): [
+    RpcNamespace<IDL>,
+    InstructionNamespace<IDL>,
+    TransactionNamespace<IDL>,
+    AccountNamespace<IDL>,
+    SimulateNamespace<IDL>,
+    MethodsNamespace<IDL>,
+    StateClient<IDL> | undefined,
+    ViewNamespace<IDL> | undefined
+  ] {
+    const rpc: RpcNamespace = {};
+    const instruction: InstructionNamespace = {};
+    const transaction: TransactionNamespace = {};
+    const simulate: SimulateNamespace = {};
+    const methods: MethodsNamespace = {};
+    const view: ViewNamespace = {};
+
+    const idlErrors = parseIdlErrors(idl);
+
+    const account: AccountNamespace<IDL> = idl.accounts
+      ? AccountFactory.build(idl, coder, programId, provider)
+      : ({} as AccountNamespace<IDL>);
+
+    const state = StateFactory.build(idl, coder, programId, provider);
+
+    idl.instructions.forEach((idlIx) => {
+      const ixItem = InstructionFactory.build<IDL, typeof idlIx>(
+        idlIx,
+        (ixName, ix) => coder.instruction.encode(ixName, ix),
+        programId
+      );
+      const txItem = TransactionFactory.build(idlIx, ixItem);
+      const rpcItem = RpcFactory.build(idlIx, txItem, idlErrors, provider);
+      const simulateItem = SimulateFactory.build(
+        idlIx,
+        txItem,
+        idlErrors,
+        provider,
+        coder,
+        programId,
+        idl
+      );
+      const viewItem = ViewFactory.build(programId, idlIx, simulateItem, idl);
+      const methodItem = MethodsBuilderFactory.build<IDL, typeof idlIx>(
+        provider,
+        programId,
+        idlIx,
+        ixItem,
+        txItem,
+        rpcItem,
+        simulateItem,
+        viewItem,
+        account
+      );
+      const name = camelCase(idlIx.name);
+
+      instruction[name] = ixItem;
+      transaction[name] = txItem;
+      rpc[name] = rpcItem;
+      simulate[name] = simulateItem;
+      methods[name] = methodItem;
+      if (viewItem) {
+        view[name] = viewItem;
+      }
+    });
+
+    return [
+      rpc as RpcNamespace<IDL>,
+      instruction as InstructionNamespace<IDL>,
+      transaction as TransactionNamespace<IDL>,
+      account,
+      simulate as SimulateNamespace<IDL>,
+      methods as MethodsNamespace<IDL>,
+      state,
+      view as ViewNamespace<IDL>,
+    ];
+  }
+}
diff --git a/src/program/namespace/instruction.ts b/src/program/namespace/instruction.ts
new file mode 100644
index 0000000000000000000000000000000000000000..34929f84fa56246988a6c8f39a4bbfe5fb68e342
--- /dev/null
+++ b/src/program/namespace/instruction.ts
@@ -0,0 +1,193 @@
+import {
+  AccountMeta,
+  PublicKey,
+  TransactionInstruction,
+} from "@solana/web3.js";
+import {
+  Idl,
+  IdlAccount,
+  IdlAccountItem,
+  IdlAccounts,
+  IdlInstruction,
+} from "../../idl.js";
+import { IdlError } from "../../error.js";
+import {
+  toInstruction,
+  validateAccounts,
+  translateAddress,
+  Address,
+} from "../common.js";
+import { Accounts, splitArgsAndCtx } from "../context.js";
+import * as features from "../../utils/features.js";
+import {
+  AllInstructions,
+  AllInstructionsMap,
+  InstructionContextFn,
+  InstructionContextFnArgs,
+  MakeInstructionsNamespace,
+} from "./types.js";
+
+export default class InstructionNamespaceFactory {
+  public static build<IDL extends Idl, I extends AllInstructions<IDL>>(
+    idlIx: I,
+    encodeFn: InstructionEncodeFn<I>,
+    programId: PublicKey
+  ): InstructionFn<IDL, I> {
+    if (idlIx.name === "_inner") {
+      throw new IdlError("the _inner name is reserved");
+    }
+
+    const ix = (
+      ...args: InstructionContextFnArgs<IDL, I>
+    ): TransactionInstruction => {
+      const [ixArgs, ctx] = splitArgsAndCtx(idlIx, [...args]);
+      validateAccounts(idlIx.accounts, ctx.accounts);
+      validateInstruction(idlIx, ...args);
+
+      const keys = ix.accounts(ctx.accounts);
+
+      if (ctx.remainingAccounts !== undefined) {
+        keys.push(...ctx.remainingAccounts);
+      }
+
+      if (features.isSet("debug-logs")) {
+        console.log("Outgoing account metas:", keys);
+      }
+
+      return new TransactionInstruction({
+        keys,
+        programId,
+        data: encodeFn(idlIx.name, toInstruction(idlIx, ...ixArgs)),
+      });
+    };
+
+    // Utility fn for ordering the accounts for this instruction.
+    ix["accounts"] = (accs: Accounts<I["accounts"][number]> | undefined) => {
+      return InstructionNamespaceFactory.accountsArray(
+        accs,
+        idlIx.accounts,
+        idlIx.name
+      );
+    };
+
+    return ix;
+  }
+
+  public static accountsArray(
+    ctx: Accounts | undefined,
+    accounts: readonly IdlAccountItem[],
+    ixName?: string
+  ): AccountMeta[] {
+    if (!ctx) {
+      return [];
+    }
+
+    return accounts
+      .map((acc: IdlAccountItem) => {
+        // Nested accounts.
+        const nestedAccounts: IdlAccountItem[] | undefined =
+          "accounts" in acc ? acc.accounts : undefined;
+        if (nestedAccounts !== undefined) {
+          const rpcAccs = ctx[acc.name] as Accounts;
+          return InstructionNamespaceFactory.accountsArray(
+            rpcAccs,
+            (acc as IdlAccounts).accounts,
+            ixName
+          ).flat();
+        } else {
+          const account: IdlAccount = acc as IdlAccount;
+          let pubkey;
+          try {
+            pubkey = translateAddress(ctx[acc.name] as Address);
+          } catch (err) {
+            throw new Error(
+              `Wrong input type for account "${
+                acc.name
+              }" in the instruction accounts object${
+                ixName !== undefined ? ' for instruction "' + ixName + '"' : ""
+              }. Expected PublicKey or string.`
+            );
+          }
+          return {
+            pubkey,
+            isWritable: account.isMut,
+            isSigner: account.isSigner,
+          };
+        }
+      })
+      .flat();
+  }
+}
+
+/**
+ * The namespace provides functions to build [[TransactionInstruction]]
+ * objects for each method of a program.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * instruction.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ *
+ * ## Example
+ *
+ * To create an instruction for the `increment` method above,
+ *
+ * ```javascript
+ * const tx = await program.instruction.increment({
+ *   accounts: {
+ *     counter,
+ *   },
+ * });
+ * ```
+ */
+export type InstructionNamespace<
+  IDL extends Idl = Idl,
+  I extends IdlInstruction = IDL["instructions"][number]
+> = MakeInstructionsNamespace<
+  IDL,
+  I,
+  TransactionInstruction,
+  {
+    [M in keyof AllInstructionsMap<IDL>]: {
+      accounts: (
+        ctx: Accounts<AllInstructionsMap<IDL>[M]["accounts"][number]>
+      ) => unknown;
+    };
+  }
+>;
+
+/**
+ * Function to create a `TransactionInstruction` generated from an IDL.
+ * Additionally it provides an `accounts` utility method, returning a list
+ * of ordered accounts for the instruction.
+ */
+export type InstructionFn<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = InstructionContextFn<IDL, I, TransactionInstruction> &
+  IxProps<Accounts<I["accounts"][number]>>;
+
+type IxProps<A extends Accounts> = {
+  /**
+   * Returns an ordered list of accounts associated with the instruction.
+   */
+  accounts: (ctx: A) => AccountMeta[];
+};
+
+export type InstructionEncodeFn<I extends IdlInstruction = IdlInstruction> = (
+  ixName: I["name"],
+  ix: any
+) => Buffer;
+
+// Throws error if any argument required for the `ix` is not given.
+function validateInstruction(ix: IdlInstruction, ...args: any[]) {
+  // todo
+}
diff --git a/src/program/namespace/methods.ts b/src/program/namespace/methods.ts
new file mode 100644
index 0000000000000000000000000000000000000000..4cf88260b62586ee2640d27f7071ac48eda1e801
--- /dev/null
+++ b/src/program/namespace/methods.ts
@@ -0,0 +1,226 @@
+import {
+  ConfirmOptions,
+  AccountMeta,
+  Signer,
+  Transaction,
+  TransactionInstruction,
+  TransactionSignature,
+  PublicKey,
+} from "@solana/web3.js";
+import { SimulateResponse } from "./simulate.js";
+import { TransactionFn } from "./transaction.js";
+import { Idl } from "../../idl.js";
+import {
+  AllInstructions,
+  MethodsFn,
+  MakeMethodsNamespace,
+  InstructionAccountAddresses,
+} from "./types.js";
+import { InstructionFn } from "./instruction.js";
+import { RpcFn } from "./rpc.js";
+import { SimulateFn } from "./simulate.js";
+import { ViewFn } from "./views.js";
+import Provider from "../../provider.js";
+import { AccountNamespace } from "./account.js";
+import { AccountsResolver } from "../accounts-resolver.js";
+import { Accounts } from "../context.js";
+
+export type MethodsNamespace<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = MakeMethodsNamespace<IDL, I>;
+
+export class MethodsBuilderFactory {
+  public static build<IDL extends Idl, I extends AllInstructions<IDL>>(
+    provider: Provider,
+    programId: PublicKey,
+    idlIx: AllInstructions<IDL>,
+    ixFn: InstructionFn<IDL>,
+    txFn: TransactionFn<IDL>,
+    rpcFn: RpcFn<IDL>,
+    simulateFn: SimulateFn<IDL>,
+    viewFn: ViewFn<IDL> | undefined,
+    accountNamespace: AccountNamespace<IDL>
+  ): MethodsFn<IDL, I, MethodsBuilder<IDL, I>> {
+    return (...args) =>
+      new MethodsBuilder(
+        args,
+        ixFn,
+        txFn,
+        rpcFn,
+        simulateFn,
+        viewFn,
+        provider,
+        programId,
+        idlIx,
+        accountNamespace
+      );
+  }
+}
+
+export class MethodsBuilder<IDL extends Idl, I extends AllInstructions<IDL>> {
+  private readonly _accounts: { [name: string]: PublicKey } = {};
+  private _remainingAccounts: Array<AccountMeta> = [];
+  private _signers: Array<Signer> = [];
+  private _preInstructions: Array<TransactionInstruction> = [];
+  private _postInstructions: Array<TransactionInstruction> = [];
+  private _accountsResolver: AccountsResolver<IDL, I>;
+  private _autoResolveAccounts: boolean = true;
+
+  constructor(
+    private _args: Array<any>,
+    private _ixFn: InstructionFn<IDL>,
+    private _txFn: TransactionFn<IDL>,
+    private _rpcFn: RpcFn<IDL>,
+    private _simulateFn: SimulateFn<IDL>,
+    private _viewFn: ViewFn<IDL> | undefined,
+    _provider: Provider,
+    _programId: PublicKey,
+    _idlIx: AllInstructions<IDL>,
+    _accountNamespace: AccountNamespace<IDL>
+  ) {
+    this._accountsResolver = new AccountsResolver(
+      _args,
+      this._accounts,
+      _provider,
+      _programId,
+      _idlIx,
+      _accountNamespace
+    );
+  }
+
+  public async pubkeys(): Promise<
+    Partial<InstructionAccountAddresses<IDL, I>>
+  > {
+    if (this._autoResolveAccounts) {
+      await this._accountsResolver.resolve();
+    }
+    return this._accounts as Partial<InstructionAccountAddresses<IDL, I>>;
+  }
+
+  public accounts(
+    accounts: Partial<Accounts<I["accounts"][number]>>
+  ): MethodsBuilder<IDL, I> {
+    this._autoResolveAccounts = true;
+    Object.assign(this._accounts, accounts);
+    return this;
+  }
+
+  public accountsStrict(
+    accounts: Accounts<I["accounts"][number]>
+  ): MethodsBuilder<IDL, I> {
+    this._autoResolveAccounts = false;
+    Object.assign(this._accounts, accounts);
+    return this;
+  }
+
+  public signers(signers: Array<Signer>): MethodsBuilder<IDL, I> {
+    this._signers = this._signers.concat(signers);
+    return this;
+  }
+
+  public remainingAccounts(
+    accounts: Array<AccountMeta>
+  ): MethodsBuilder<IDL, I> {
+    this._remainingAccounts = this._remainingAccounts.concat(accounts);
+    return this;
+  }
+
+  public preInstructions(
+    ixs: Array<TransactionInstruction>
+  ): MethodsBuilder<IDL, I> {
+    this._preInstructions = this._preInstructions.concat(ixs);
+    return this;
+  }
+
+  public postInstructions(
+    ixs: Array<TransactionInstruction>
+  ): MethodsBuilder<IDL, I> {
+    this._postInstructions = this._postInstructions.concat(ixs);
+    return this;
+  }
+
+  public async rpc(options?: ConfirmOptions): Promise<TransactionSignature> {
+    if (this._autoResolveAccounts) {
+      await this._accountsResolver.resolve();
+    }
+
+    // @ts-ignore
+    return this._rpcFn(...this._args, {
+      accounts: this._accounts,
+      signers: this._signers,
+      remainingAccounts: this._remainingAccounts,
+      preInstructions: this._preInstructions,
+      postInstructions: this._postInstructions,
+      options: options,
+    });
+  }
+
+  public async view(options?: ConfirmOptions): Promise<any> {
+    if (this._autoResolveAccounts) {
+      await this._accountsResolver.resolve();
+    }
+
+    if (!this._viewFn) {
+      throw new Error("Method does not support views");
+    }
+
+    // @ts-ignore
+    return this._viewFn(...this._args, {
+      accounts: this._accounts,
+      signers: this._signers,
+      remainingAccounts: this._remainingAccounts,
+      preInstructions: this._preInstructions,
+      postInstructions: this._postInstructions,
+      options: options,
+    });
+  }
+
+  public async simulate(
+    options?: ConfirmOptions
+  ): Promise<SimulateResponse<any, any>> {
+    if (this._autoResolveAccounts) {
+      await this._accountsResolver.resolve();
+    }
+
+    // @ts-ignore
+    return this._simulateFn(...this._args, {
+      accounts: this._accounts,
+      signers: this._signers,
+      remainingAccounts: this._remainingAccounts,
+      preInstructions: this._preInstructions,
+      postInstructions: this._postInstructions,
+      options: options,
+    });
+  }
+
+  public async instruction(): Promise<TransactionInstruction> {
+    if (this._autoResolveAccounts) {
+      await this._accountsResolver.resolve();
+    }
+
+    // @ts-ignore
+    return this._ixFn(...this._args, {
+      accounts: this._accounts,
+      signers: this._signers,
+      remainingAccounts: this._remainingAccounts,
+      preInstructions: this._preInstructions,
+      postInstructions: this._postInstructions,
+    });
+  }
+
+  public async transaction(): Promise<Transaction> {
+    if (this._autoResolveAccounts) {
+      await this._accountsResolver.resolve();
+    }
+
+    // @ts-ignore
+    return this._txFn(...this._args, {
+      accounts: this._accounts,
+      signers: this._signers,
+      remainingAccounts: this._remainingAccounts,
+      preInstructions: this._preInstructions,
+      postInstructions: this._postInstructions,
+    });
+  }
+}
diff --git a/src/program/namespace/rpc.ts b/src/program/namespace/rpc.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f61c81bc11792aaadc728c2b7d51f56c05253f12
--- /dev/null
+++ b/src/program/namespace/rpc.ts
@@ -0,0 +1,89 @@
+import { TransactionSignature } from "@solana/web3.js";
+import Provider from "../../provider.js";
+import { Idl } from "../../idl.js";
+import { splitArgsAndCtx } from "../context.js";
+import { TransactionFn } from "./transaction.js";
+import { translateError } from "../../error.js";
+import {
+  AllInstructions,
+  InstructionContextFn,
+  MakeInstructionsNamespace,
+} from "./types.js";
+
+export default class RpcFactory {
+  public static build<IDL extends Idl, I extends AllInstructions<IDL>>(
+    idlIx: I,
+    txFn: TransactionFn<IDL, I>,
+    idlErrors: Map<number, string>,
+    provider: Provider
+  ): RpcFn {
+    const rpc: RpcFn<IDL, I> = async (...args) => {
+      const tx = txFn(...args);
+      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);
+      if (provider.sendAndConfirm === undefined) {
+        throw new Error(
+          "This function requires 'Provider.sendAndConfirm' to be implemented."
+        );
+      }
+      try {
+        return await provider.sendAndConfirm(
+          tx,
+          ctx.signers ?? [],
+          ctx.options
+        );
+      } catch (err) {
+        throw translateError(err, idlErrors);
+      }
+    };
+
+    return rpc;
+  }
+}
+
+/**
+ * The namespace provides async methods to send signed transactions for each
+ * *non*-state method on Anchor program.
+ *
+ * Keys are method names, values are RPC functions returning a
+ * [[TransactionInstruction]].
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * rpc.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ * ```
+ *
+ * ## Example
+ *
+ * To send a transaction invoking the `increment` method above,
+ *
+ * ```javascript
+ * const txSignature = await program.rpc.increment({
+ *   accounts: {
+ *     counter,
+ *     authority,
+ *   },
+ * });
+ * ```
+ */
+export type RpcNamespace<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = MakeInstructionsNamespace<IDL, I, Promise<TransactionSignature>>;
+
+/**
+ * RpcFn is a single RPC method generated from an IDL, sending a transaction
+ * paid for and signed by the configured provider.
+ */
+export type RpcFn<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = InstructionContextFn<IDL, I, Promise<TransactionSignature>>;
diff --git a/src/program/namespace/simulate.ts b/src/program/namespace/simulate.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d416e291feb616cf9c0845223ac2abc9bbad4003
--- /dev/null
+++ b/src/program/namespace/simulate.ts
@@ -0,0 +1,133 @@
+import { PublicKey } from "@solana/web3.js";
+import Provider from "../../provider.js";
+import { splitArgsAndCtx } from "../context.js";
+import { TransactionFn } from "./transaction.js";
+import { EventParser, Event } from "../event.js";
+import { Coder } from "../../coder/index.js";
+import { Idl, IdlEvent } from "../../idl.js";
+import { translateError } from "../../error.js";
+import {
+  AllInstructions,
+  IdlTypes,
+  InstructionContextFn,
+  MakeInstructionsNamespace,
+} from "./types";
+
+import type { SuccessfulTxSimulationResponse } from "../../utils/rpc";
+
+export default class SimulateFactory {
+  public static build<IDL extends Idl, I extends AllInstructions<IDL>>(
+    idlIx: AllInstructions<IDL>,
+    txFn: TransactionFn<IDL>,
+    idlErrors: Map<number, string>,
+    provider: Provider,
+    coder: Coder,
+    programId: PublicKey,
+    idl: IDL
+  ): SimulateFn<IDL, I> {
+    const simulate: SimulateFn<IDL> = async (...args) => {
+      const tx = txFn(...args);
+      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);
+      let resp: SuccessfulTxSimulationResponse | undefined = undefined;
+      if (provider.simulate === undefined) {
+        throw new Error(
+          "This function requires 'Provider.simulate' to be implemented."
+        );
+      }
+      try {
+        resp = await provider!.simulate(
+          tx,
+          ctx.signers,
+          ctx.options?.commitment
+        );
+      } catch (err) {
+        throw translateError(err, idlErrors);
+      }
+      if (resp === undefined) {
+        throw new Error("Unable to simulate transaction");
+      }
+      const logs = resp.logs;
+      if (!logs) {
+        throw new Error("Simulated logs not found");
+      }
+
+      const events: Event<IdlEvent, IdlTypes<IDL>>[] = [];
+      if (idl.events) {
+        let parser = new EventParser(programId, coder);
+        for (const event of parser.parseLogs(logs)) {
+          events.push(event);
+        }
+      }
+      return { events, raw: logs };
+    };
+
+    return simulate;
+  }
+}
+
+/**
+ * The namespace provides functions to simulate transactions for each method
+ * of a program, returning a list of deserialized events *and* raw program
+ * logs.
+ *
+ * One can use this to read data calculated from a program on chain, by
+ * emitting an event in the program and reading the emitted event client side
+ * via the `simulate` namespace.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * program.simulate.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ *
+ * ## Example
+ *
+ * To simulate the `increment` method above,
+ *
+ * ```javascript
+ * const events = await program.simulate.increment({
+ *   accounts: {
+ *     counter,
+ *   },
+ * });
+ * ```
+ */
+export type SimulateNamespace<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = MakeInstructionsNamespace<
+  IDL,
+  I,
+  Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>
+>;
+
+type NullableEvents<IDL extends Idl> = IDL["events"] extends IdlEvent[]
+  ? IDL["events"][number]
+  : IdlEvent;
+
+/**
+ * SimulateFn is a single method generated from an IDL. It simulates a method
+ * against a cluster configured by the provider, returning a list of all the
+ * events and raw logs that were emitted during the execution of the
+ * method.
+ */
+export type SimulateFn<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = InstructionContextFn<
+  IDL,
+  I,
+  Promise<SimulateResponse<NullableEvents<IDL>, IdlTypes<IDL>>>
+>;
+
+export type SimulateResponse<E extends IdlEvent, Defined> = {
+  events: readonly Event<E, Defined>[];
+  raw: readonly string[];
+};
diff --git a/src/program/namespace/state.ts b/src/program/namespace/state.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c1ce3279e103e47d7ca8a0b505f0d736f6155a39
--- /dev/null
+++ b/src/program/namespace/state.ts
@@ -0,0 +1,308 @@
+import EventEmitter from "eventemitter3";
+import { camelCase } from "@juici/case";
+import {
+  PublicKey,
+  SystemProgram,
+  Commitment,
+  AccountMeta,
+} from "@solana/web3.js";
+import Provider, { getProvider } from "../../provider.js";
+import {
+  Idl,
+  IdlInstruction,
+  IdlState,
+  IdlStateMethod,
+  IdlTypeDef,
+} from "../../idl.js";
+import {
+  BorshCoder,
+  Coder,
+  StateCoder,
+  stateDiscriminator,
+} from "../../coder/index.js";
+import {
+  RpcNamespace,
+  InstructionNamespace,
+  TransactionNamespace,
+} from "./index.js";
+import { Subscription, validateAccounts, parseIdlErrors } from "../common.js";
+import {
+  findProgramAddressSync,
+  createWithSeedSync,
+} from "../../utils/pubkey.js";
+import { Accounts } from "../context.js";
+import InstructionNamespaceFactory from "./instruction.js";
+import RpcNamespaceFactory from "./rpc.js";
+import TransactionNamespaceFactory from "./transaction.js";
+import { IdlTypes, TypeDef } from "./types.js";
+
+export default class StateFactory {
+  public static build<IDL extends Idl>(
+    idl: IDL,
+    coder: Coder,
+    programId: PublicKey,
+    provider?: Provider
+  ): StateClient<IDL> | undefined {
+    if (idl.state === undefined) {
+      return undefined;
+    }
+    return new StateClient(idl, programId, provider, coder);
+  }
+}
+
+type NullableMethods<IDL extends Idl> = IDL["state"] extends IdlState
+  ? IDL["state"]["methods"]
+  : IdlInstruction[];
+
+type CoderWithState = Coder & { state: StateCoder };
+
+/**
+ * A client for the program state. Similar to the base [[Program]] client,
+ * one can use this to send transactions and read accounts for the state
+ * abstraction.
+ */
+export class StateClient<IDL extends Idl> {
+  /**
+   * Returns the client's wallet and network provider.
+   */
+  readonly provider: Provider;
+  /**
+   * Returns the coder.
+   */
+  readonly coder: CoderWithState;
+
+  /**
+   * [[RpcNamespace]] for all state methods.
+   */
+  readonly rpc: RpcNamespace<IDL, NullableMethods<IDL>[number]>;
+
+  /**
+   * [[InstructionNamespace]] for all state methods.
+   */
+  readonly instruction: InstructionNamespace<IDL, NullableMethods<IDL>[number]>;
+
+  /**
+   * [[TransactionNamespace]] for all state methods.
+   */
+  readonly transaction: TransactionNamespace<IDL, NullableMethods<IDL>[number]>;
+
+  /**
+   * Returns the program ID owning the state.
+   */
+  get programId(): PublicKey {
+    return this._programId;
+  }
+  private _programId: PublicKey;
+
+  private _address: PublicKey;
+  private _idl: IDL;
+  private _sub: Subscription | null;
+
+  constructor(
+    idl: IDL,
+    programId: PublicKey,
+    provider?: Provider,
+    coder?: Coder
+  ) {
+    if (!idl.state || (coder && !coder.state)) {
+      throw new Error("State is not specified in IDL.");
+    }
+
+    this.coder = (coder ?? new BorshCoder(idl)) as CoderWithState;
+    this.provider = provider ?? getProvider();
+
+    this._idl = idl;
+    this._programId = programId;
+    this._address = programStateAddress(programId);
+    this._sub = null;
+
+    // Build namespaces.
+    const [instruction, transaction, rpc] = ((): [
+      InstructionNamespace<IDL, NullableMethods<IDL>[number]>,
+      TransactionNamespace<IDL, NullableMethods<IDL>[number]>,
+      RpcNamespace<IDL, NullableMethods<IDL>[number]>
+    ] => {
+      let instruction: InstructionNamespace = {};
+      let transaction: TransactionNamespace = {};
+      let rpc: RpcNamespace = {};
+
+      idl.state?.methods.forEach(
+        <I extends NullableMethods<IDL>[number]>(m: I) => {
+          // Build instruction method.
+          const ixItem = InstructionNamespaceFactory.build<IDL, I>(
+            m,
+            (ixName, ix) => this.coder.instruction.encodeState(ixName, ix),
+            programId
+          );
+          ixItem["accounts"] = (accounts) => {
+            const keys = stateInstructionKeys(
+              programId,
+              this.provider,
+              m,
+              accounts
+            );
+            return keys.concat(
+              InstructionNamespaceFactory.accountsArray(
+                accounts,
+                m.accounts,
+                m.name
+              )
+            );
+          };
+          // Build transaction method.
+          const txItem = TransactionNamespaceFactory.build(m, ixItem);
+          // Build RPC method.
+          const rpcItem = RpcNamespaceFactory.build(
+            m,
+            txItem,
+            parseIdlErrors(idl),
+            this.provider
+          );
+
+          // Attach them all to their respective namespaces.
+          const name = camelCase(m.name);
+          instruction[name] = ixItem;
+          transaction[name] = txItem;
+          rpc[name] = rpcItem;
+        }
+      );
+
+      return [
+        instruction as InstructionNamespace<IDL, NullableMethods<IDL>[number]>,
+        transaction as TransactionNamespace<IDL, NullableMethods<IDL>[number]>,
+        rpc as RpcNamespace<IDL, NullableMethods<IDL>[number]>,
+      ];
+    })();
+    this.instruction = instruction;
+    this.transaction = transaction;
+    this.rpc = rpc;
+  }
+
+  /**
+   * Returns the deserialized state account.
+   */
+  async fetch(): Promise<
+    TypeDef<
+      IDL["state"] extends IdlState ? IDL["state"]["struct"] : IdlTypeDef,
+      IdlTypes<IDL>
+    >
+  > {
+    const addr = this.address();
+    const accountInfo = await this.provider.connection.getAccountInfo(addr);
+    if (accountInfo === null) {
+      throw new Error(`Account does not exist ${addr.toString()}`);
+    }
+    // Assert the account discriminator is correct.
+    const state = this._idl.state;
+    if (!state) {
+      throw new Error("State is not specified in IDL.");
+    }
+    const expectedDiscriminator = await stateDiscriminator(state.struct.name);
+    if (expectedDiscriminator.compare(accountInfo.data.subarray(0, 8))) {
+      throw new Error("Invalid account discriminator");
+    }
+    return this.coder.state.decode(accountInfo.data);
+  }
+
+  /**
+   * Returns the state address.
+   */
+  address(): PublicKey {
+    return this._address;
+  }
+
+  /**
+   * Returns an `EventEmitter` with a `"change"` event that's fired whenever
+   * the state account cahnges.
+   */
+  subscribe(commitment?: Commitment): EventEmitter {
+    if (this._sub !== null) {
+      return this._sub.ee;
+    }
+    const ee = new EventEmitter();
+
+    const listener = this.provider.connection.onAccountChange(
+      this.address(),
+      (acc) => {
+        const account = this.coder.state.decode(acc.data);
+        ee.emit("change", account);
+      },
+      commitment
+    );
+
+    this._sub = {
+      ee,
+      listener,
+    };
+
+    return ee;
+  }
+
+  /**
+   * Unsubscribes to state changes.
+   */
+  unsubscribe() {
+    if (this._sub !== null) {
+      this.provider.connection
+        .removeAccountChangeListener(this._sub.listener)
+        .then(async () => {
+          this._sub = null;
+        })
+        .catch(console.error);
+    }
+  }
+}
+
+// Calculates the deterministic address of the program's "state" account.
+function programStateAddress(programId: PublicKey): PublicKey {
+  let [registrySigner] = findProgramAddressSync([], programId);
+  return createWithSeedSync(registrySigner, "unversioned", programId);
+}
+
+// Returns the common keys that are prepended to all instructions targeting
+// the "state" of a program.
+function stateInstructionKeys<M extends IdlStateMethod>(
+  programId: PublicKey,
+  provider: Provider,
+  m: M,
+  accounts: Accounts<M["accounts"][number]>
+): AccountMeta[] {
+  if (m.name === "new") {
+    // Ctor `new` method.
+    const [programSigner] = findProgramAddressSync([], programId);
+    if (provider.wallet === undefined) {
+      throw new Error(
+        "This function requires the Provider interface implementor to have a 'wallet' field."
+      );
+    }
+    return [
+      {
+        pubkey: provider.wallet.publicKey,
+        isWritable: false,
+        isSigner: true,
+      },
+      {
+        pubkey: programStateAddress(programId),
+        isWritable: true,
+        isSigner: false,
+      },
+      { pubkey: programSigner, isWritable: false, isSigner: false },
+      {
+        pubkey: SystemProgram.programId,
+        isWritable: false,
+        isSigner: false,
+      },
+
+      { pubkey: programId, isWritable: false, isSigner: false },
+    ];
+  } else {
+    validateAccounts(m.accounts, accounts);
+    return [
+      {
+        pubkey: programStateAddress(programId),
+        isWritable: true,
+        isSigner: false,
+      },
+    ];
+  }
+}
diff --git a/src/program/namespace/transaction.ts b/src/program/namespace/transaction.ts
new file mode 100644
index 0000000000000000000000000000000000000000..27ee0881e671464fab2faf9d6448c4128db01dfd
--- /dev/null
+++ b/src/program/namespace/transaction.ts
@@ -0,0 +1,73 @@
+import { Transaction } from "@solana/web3.js";
+import { Idl, IdlInstruction } from "../../idl.js";
+import { splitArgsAndCtx } from "../context.js";
+import { InstructionFn } from "./instruction.js";
+import {
+  AllInstructions,
+  InstructionContextFn,
+  MakeInstructionsNamespace,
+} from "./types.js";
+
+export default class TransactionFactory {
+  public static build<IDL extends Idl, I extends AllInstructions<IDL>>(
+    idlIx: I,
+    ixFn: InstructionFn<IDL, I>
+  ): TransactionFn<IDL, I> {
+    const txFn: TransactionFn<IDL, I> = (...args): Transaction => {
+      const [, ctx] = splitArgsAndCtx(idlIx, [...args]);
+      const tx = new Transaction();
+      if (ctx.preInstructions && ctx.instructions) {
+        throw new Error("instructions is deprecated, use preInstructions");
+      }
+      ctx.preInstructions?.forEach((ix) => tx.add(ix));
+      ctx.instructions?.forEach((ix) => tx.add(ix));
+      tx.add(ixFn(...args));
+      ctx.postInstructions?.forEach((ix) => tx.add(ix));
+      return tx;
+    };
+
+    return txFn;
+  }
+}
+
+/**
+ * The namespace provides functions to build [[Transaction]] objects for each
+ * method of a program.
+ *
+ * ## Usage
+ *
+ * ```javascript
+ * program.transaction.<method>(...args, ctx);
+ * ```
+ *
+ * ## Parameters
+ *
+ * 1. `args` - The positional arguments for the program. The type and number
+ *    of these arguments depend on the program being used.
+ * 2. `ctx`  - [[Context]] non-argument parameters to pass to the method.
+ *    Always the last parameter in the method call.
+ *
+ * ## Example
+ *
+ * To create an instruction for the `increment` method above,
+ *
+ * ```javascript
+ * const tx = await program.transaction.increment({
+ *   accounts: {
+ *     counter,
+ *   },
+ * });
+ * ```
+ */
+export type TransactionNamespace<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = MakeInstructionsNamespace<IDL, I, Transaction>;
+
+/**
+ * Tx is a function to create a `Transaction` for a given program instruction.
+ */
+export type TransactionFn<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = InstructionContextFn<IDL, I, Transaction>;
diff --git a/src/program/namespace/types.ts b/src/program/namespace/types.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d55077278ac7c422fe2fdb6d79d920668a063b5e
--- /dev/null
+++ b/src/program/namespace/types.ts
@@ -0,0 +1,271 @@
+import { PublicKey } from "@solana/web3.js";
+import BN from "bn.js";
+import { CamelCase } from "@juici/case";
+import { Idl } from "../../";
+import {
+  IdlAccountDef,
+  IdlEnumFields,
+  IdlEnumFieldsNamed,
+  IdlEnumFieldsTuple,
+  IdlField,
+  IdlInstruction,
+  IdlType,
+  IdlTypeDef,
+  IdlTypeDefTyEnum,
+  IdlTypeDefTyStruct,
+} from "../../idl";
+import { Accounts, Context } from "../context";
+import { MethodsBuilder } from "./methods";
+
+/**
+ * All instructions for an IDL.
+ */
+export type AllInstructions<IDL extends Idl> = IDL["instructions"][number];
+
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export type InstructionMap<I extends IdlInstruction> = {
+  [K in I["name"]]: I & { name: K };
+};
+
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export type AllInstructionsMap<IDL extends Idl> = InstructionMap<
+  AllInstructions<IDL>
+>;
+
+/**
+ * All accounts for an IDL.
+ */
+export type AllAccounts<IDL extends Idl> =
+  IDL["accounts"] extends IdlAccountDef[]
+    ? IDL["accounts"][number]
+    : IdlAccountDef;
+
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export type AccountMap<I extends IdlAccountDef> = {
+  [K in I["name"]]: I & { name: K };
+};
+
+/**
+ * Returns a type of instruction name to the IdlInstruction.
+ */
+export type AllAccountsMap<IDL extends Idl> = AccountMap<AllAccounts<IDL>>;
+
+export type MakeInstructionsNamespace<
+  IDL extends Idl,
+  I extends IdlInstruction,
+  Ret,
+  Mk extends { [M in keyof InstructionMap<I>]: unknown } = {
+    [M in keyof InstructionMap<I>]: unknown;
+  }
+> = {
+  [M in keyof InstructionMap<I>]: InstructionContextFn<
+    IDL,
+    InstructionMap<I>[M],
+    Ret
+  > &
+    Mk[M];
+};
+
+export type MakeMethodsNamespace<IDL extends Idl, I extends IdlInstruction> = {
+  [M in keyof InstructionMap<I>]: MethodsFn<
+    IDL,
+    InstructionMap<I>[M],
+    MethodsBuilder<IDL, InstructionMap<I>[M]>
+  >;
+};
+
+export type InstructionContextFn<
+  IDL extends Idl,
+  I extends AllInstructions<IDL>,
+  Ret
+> = (...args: InstructionContextFnArgs<IDL, I>) => Ret;
+
+export type InstructionContextFnArgs<
+  IDL extends Idl,
+  I extends IDL["instructions"][number]
+> = [
+  ...ArgsTuple<I["args"], IdlTypes<IDL>>,
+  Context<Accounts<I["accounts"][number]>>
+];
+
+export type InstructionAccountAddresses<
+  IDL extends Idl,
+  I extends AllInstructions<IDL>
+> = {
+  [N in keyof Accounts<I["accounts"][number]>]: PublicKey;
+};
+
+export type MethodsFn<
+  IDL extends Idl,
+  I extends IDL["instructions"][number],
+  Ret
+> = (...args: ArgsTuple<I["args"], IdlTypes<IDL>>) => Ret;
+
+type TypeMap = {
+  publicKey: PublicKey;
+  bool: boolean;
+  string: string;
+  bytes: Buffer;
+} & {
+  [K in "u8" | "i8" | "u16" | "i16" | "u32" | "i32" | "f32" | "f64"]: number;
+} & {
+  [K in "u64" | "i64" | "u128" | "i128"]: BN;
+};
+
+export type DecodeType<T extends IdlType, Defined> = T extends keyof TypeMap
+  ? TypeMap[T]
+  : T extends { defined: keyof Defined }
+  ? Defined[T["defined"]]
+  : T extends { option: { defined: keyof Defined } }
+  ? Defined[T["option"]["defined"]] | null
+  : T extends { option: keyof TypeMap }
+  ? TypeMap[T["option"]] | null
+  : T extends { coption: { defined: keyof Defined } }
+  ? Defined[T["coption"]["defined"]] | null
+  : T extends { coption: keyof TypeMap }
+  ? TypeMap[T["coption"]] | null
+  : T extends { vec: keyof TypeMap }
+  ? TypeMap[T["vec"]][]
+  : T extends { vec: { defined: keyof Defined } }
+  ? Defined[T["vec"]["defined"]][]
+  : T extends { array: [defined: keyof TypeMap, size: number] }
+  ? TypeMap[T["array"][0]][]
+  : unknown;
+
+/**
+ * Tuple of arguments.
+ */
+type ArgsTuple<A extends IdlField[], Defined> = {
+  [K in keyof A]: A[K] extends IdlField
+    ? DecodeType<A[K]["type"], Defined>
+    : unknown;
+} & unknown[];
+
+/**
+ * Flatten { a: number, b: { c: string } } into number | string
+ */
+type UnboxToUnion<T> = T extends (infer U)[]
+  ? UnboxToUnion<U>
+  : T extends Record<string, never> // empty object, eg: named enum variant without fields
+  ? "__empty_object__"
+  : T extends Record<string, infer V> // object with props, eg: struct
+  ? UnboxToUnion<V>
+  : T;
+
+/**
+ * Decode a single enum field.
+ */
+type DecodeEnumField<F, Defined> = F extends IdlType
+  ? DecodeType<F, Defined>
+  : never;
+
+/**
+ * Decode enum variant: named or tuple.
+ */
+type DecodeEnumFields<
+  F extends IdlEnumFields,
+  Defined
+> = F extends IdlEnumFieldsNamed
+  ? {
+      [F2 in F[number] as F2["name"]]: DecodeEnumField<F2["type"], Defined>;
+    }
+  : F extends IdlEnumFieldsTuple
+  ? {
+      [F3 in keyof F as Exclude<F3, keyof unknown[]>]: DecodeEnumField<
+        F[F3],
+        Defined
+      >;
+    }
+  : Record<never, never>;
+
+type DecodeEnumVariants<I extends IdlTypeDefTyEnum, Defined> = {
+  [V in I["variants"][number] as CamelCase<V["name"]>]: DecodeEnumFields<
+    NonNullable<V["fields"]>,
+    Defined
+  >;
+};
+
+type ValueOf<T> = T[keyof T];
+type XorEnumVariants<T extends Record<string, unknown>> = ValueOf<{
+  [K1 in keyof T]: {
+    [K2 in Exclude<keyof T, K1>]?: never;
+  } & { [K2 in K1]: T[K2] };
+}>;
+
+type DecodeEnum<I extends IdlTypeDefTyEnum, Defined> = XorEnumVariants<
+  DecodeEnumVariants<I, Defined>
+>;
+
+type DecodeStruct<I extends IdlTypeDefTyStruct, Defined> = {
+  [T in I["fields"][number] as T["name"]]: DecodeType<T["type"], Defined>;
+};
+
+export type TypeDef<
+  I extends IdlTypeDef,
+  Defined
+> = I["type"] extends IdlTypeDefTyEnum
+  ? DecodeEnum<I["type"], Defined>
+  : I["type"] extends IdlTypeDefTyStruct
+  ? DecodeStruct<I["type"], Defined>
+  : never;
+
+type TypeDefDictionary<I extends IdlTypeDef[], Defined> = {
+  [T in I[number] as T["name"]]: TypeDef<T, Defined>;
+};
+
+type DecodedHelper<T extends IdlTypeDef[], Defined> = {
+  [D in T[number] as D["name"]]: TypeDef<D, Defined>;
+};
+
+type UnknownType = "__unkown_defined_type__";
+type EmptyDefined = Record<UnknownType, never>;
+
+type RecursiveTypes4<
+  I extends IdlTypeDef[],
+  Defined = EmptyDefined
+> = DecodedHelper<I, Defined>;
+
+type RecursiveTypes3<
+  I extends IdlTypeDef[],
+  Defined = EmptyDefined,
+  Decoded = DecodedHelper<I, Defined>
+> = UnknownType extends UnboxToUnion<Decoded>
+  ? RecursiveTypes4<I, DecodedHelper<I, Defined>>
+  : Decoded;
+
+type RecursiveTypes2<
+  I extends IdlTypeDef[],
+  Defined = EmptyDefined,
+  Decoded = DecodedHelper<I, Defined>
+> = UnknownType extends UnboxToUnion<Decoded>
+  ? RecursiveTypes3<I, DecodedHelper<I, Defined>>
+  : Decoded;
+
+type RecursiveTypes<
+  I extends IdlTypeDef[],
+  Defined = EmptyDefined,
+  Decoded = DecodedHelper<I, Defined>
+> = UnknownType extends UnboxToUnion<Decoded>
+  ? RecursiveTypes2<I, DecodedHelper<I, Defined>>
+  : Decoded;
+
+export type IdlTypes<I extends Idl> = RecursiveTypes<NonNullable<I["types"]>>;
+
+export type IdlAccounts<I extends Idl> = TypeDefDictionary<
+  NonNullable<I["accounts"]>,
+  IdlTypes<I>
+>;
+
+export type IdlEvents<I extends Idl, Defined = IdlTypes<I>> = {
+  [E in NonNullable<I["events"]>[number] as E["name"]]: {
+    [F in E["fields"][number] as F["name"]]: DecodeType<F["type"], Defined>;
+  };
+};
+
+export type IdlErrorInfo<I extends Idl> = NonNullable<I["errors"]>[number];
diff --git a/src/program/namespace/views.ts b/src/program/namespace/views.ts
new file mode 100644
index 0000000000000000000000000000000000000000..da8ffb42a270763ac5226ca85c48e2f896e95a58
--- /dev/null
+++ b/src/program/namespace/views.ts
@@ -0,0 +1,60 @@
+import { PublicKey } from "@solana/web3.js";
+import { Idl, IdlAccount } from "../../idl.js";
+import { SimulateFn } from "./simulate.js";
+import {
+  AllInstructions,
+  InstructionContextFn,
+  MakeInstructionsNamespace,
+} from "./types";
+import { IdlCoder } from "../../coder/borsh/idl";
+import { decode } from "../../utils/bytes/base64";
+
+export default class ViewFactory {
+  public static build<IDL extends Idl, I extends AllInstructions<IDL>>(
+    programId: PublicKey,
+    idlIx: AllInstructions<IDL>,
+    simulateFn: SimulateFn<IDL>,
+    idl: IDL
+  ): ViewFn<IDL, I> | undefined {
+    const isMut = idlIx.accounts.find((a: IdlAccount) => a.isMut);
+    const hasReturn = !!idlIx.returns;
+    if (isMut || !hasReturn) return;
+
+    const view: ViewFn<IDL> = async (...args) => {
+      let simulationResult = await simulateFn(...args);
+      const returnPrefix = `Program return: ${programId} `;
+      let returnLog = simulationResult.raw.find((l) =>
+        l.startsWith(returnPrefix)
+      );
+      if (!returnLog) {
+        throw new Error("View expected return log");
+      }
+      let returnData = decode(returnLog.slice(returnPrefix.length));
+      let returnType = idlIx.returns;
+      if (!returnType) {
+        throw new Error("View expected return type");
+      }
+      const coder = IdlCoder.fieldLayout(
+        { type: returnType },
+        Array.from([...(idl.accounts ?? []), ...(idl.types ?? [])])
+      );
+      return coder.decode(returnData);
+    };
+    return view;
+  }
+}
+
+export type ViewNamespace<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = MakeInstructionsNamespace<IDL, I, Promise<any>>;
+
+/**
+ * ViewFn is a single method generated from an IDL. It simulates a method
+ * against a cluster configured by the provider, and then parses the events
+ * and extracts return data from the raw logs emitted during the simulation.
+ */
+export type ViewFn<
+  IDL extends Idl = Idl,
+  I extends AllInstructions<IDL> = AllInstructions<IDL>
+> = InstructionContextFn<IDL, I, Promise<any>>;
diff --git a/src/provider.ts b/src/provider.ts
new file mode 100644
index 0000000000000000000000000000000000000000..12912e4e7f7ccdcacf807d18264c96ea94fbbc99
--- /dev/null
+++ b/src/provider.ts
@@ -0,0 +1,334 @@
+import {
+  Connection,
+  Signer,
+  PublicKey,
+  Transaction,
+  TransactionSignature,
+  ConfirmOptions,
+  SimulatedTransactionResponse,
+  Commitment,
+  SendTransactionError,
+  SendOptions,
+} from "@solana/web3.js";
+import { bs58 } from "./utils/bytes/index.js";
+import { isBrowser } from "./utils/common.js";
+import {
+  simulateTransaction,
+  SuccessfulTxSimulationResponse,
+} from "./utils/simulate";
+import { Wallet as NodeWallet } from "./wallet";
+
+export default interface Provider {
+  readonly connection: Connection;
+  readonly wallet: Wallet;
+  readonly publicKey: PublicKey;
+
+  send?(
+    tx: Transaction,
+    signers?: Signer[],
+    opts?: SendOptions
+  ): Promise<TransactionSignature>;
+  sendAndConfirm?(
+    tx: Transaction,
+    signers?: Signer[],
+    opts?: ConfirmOptions
+  ): Promise<TransactionSignature>;
+  sendAll?(
+    txWithSigners: { tx: Transaction; signers?: Signer[] }[],
+    opts?: ConfirmOptions
+  ): Promise<Array<TransactionSignature>>;
+  simulate?(
+    tx: Transaction,
+    signers?: Signer[],
+    commitment?: Commitment,
+    includeAccounts?: boolean | PublicKey[]
+  ): Promise<SuccessfulTxSimulationResponse>;
+}
+
+/**
+ * The network and wallet context used to send transactions paid for and signed
+ * by the provider.
+ */
+export class AnchorProvider implements Provider {
+  readonly publicKey: PublicKey;
+
+  /**
+   * @param connection The cluster connection where the program is deployed.
+   * @param wallet     The wallet used to pay for and sign all transactions.
+   * @param opts       Transaction confirmation options to use by default.
+   */
+  constructor(
+    readonly connection: Connection,
+    readonly wallet: Wallet,
+    readonly opts: ConfirmOptions
+  ) {
+    this.publicKey = wallet.publicKey;
+  }
+
+  static defaultOptions(): ConfirmOptions {
+    return {
+      preflightCommitment: "processed",
+      commitment: "processed",
+    };
+  }
+
+  /**
+   * Returns a `Provider` with a wallet read from the local filesystem.
+   *
+   * @param url  The network cluster url.
+   * @param opts The default transaction confirmation options.
+   *
+   * (This api is for Node only.)
+   */
+  static local(url?: string, opts?: ConfirmOptions): AnchorProvider {
+    if (isBrowser) {
+      throw new Error(`Provider local is not available on browser.`);
+    }
+    opts = opts ?? AnchorProvider.defaultOptions();
+    const connection = new Connection(
+      url ?? "http://localhost:8899",
+      opts.preflightCommitment
+    );
+    const wallet = NodeWallet.local();
+    return new AnchorProvider(connection, wallet, opts);
+  }
+
+  /**
+   * Returns a `Provider` read from the `ANCHOR_PROVIDER_URL` environment
+   * variable
+   *
+   * (This api is for Node only.)
+   */
+  static env(): AnchorProvider {
+    if (isBrowser) {
+      throw new Error(`Provider env is not available on browser.`);
+    }
+
+    const process = require("process");
+    const url = process.env.ANCHOR_PROVIDER_URL;
+    if (url === undefined) {
+      throw new Error("ANCHOR_PROVIDER_URL is not defined");
+    }
+    const options = AnchorProvider.defaultOptions();
+    const connection = new Connection(url, options.commitment);
+    const wallet = NodeWallet.local();
+
+    return new AnchorProvider(connection, wallet, options);
+  }
+
+  /**
+   * Sends the given transaction, paid for and signed by the provider's wallet.
+   *
+   * @param tx      The transaction to send.
+   * @param signers The signers of the transaction.
+   * @param opts    Transaction confirmation options.
+   */
+  async sendAndConfirm(
+    tx: Transaction,
+    signers?: Signer[],
+    opts?: ConfirmOptions
+  ): Promise<TransactionSignature> {
+    if (opts === undefined) {
+      opts = this.opts;
+    }
+
+    tx.feePayer = this.wallet.publicKey;
+    tx.recentBlockhash = (
+      await this.connection.getRecentBlockhash(opts.preflightCommitment)
+    ).blockhash;
+
+    tx = await this.wallet.signTransaction(tx);
+    (signers ?? []).forEach((kp) => {
+      tx.partialSign(kp);
+    });
+
+    const rawTx = tx.serialize();
+
+    try {
+      return await sendAndConfirmRawTransaction(this.connection, rawTx, opts);
+    } catch (err) {
+      // thrown if the underlying 'confirmTransaction' encounters a failed tx
+      // the 'confirmTransaction' error does not return logs so we make another rpc call to get them
+      if (err instanceof ConfirmError) {
+        // choose the shortest available commitment for 'getTransaction'
+        // (the json RPC does not support any shorter than "confirmed" for 'getTransaction')
+        // because that will see the tx sent with `sendAndConfirmRawTransaction` no matter which
+        // commitment `sendAndConfirmRawTransaction` used
+        const failedTx = await this.connection.getTransaction(
+          bs58.encode(tx.signature!),
+          { commitment: "confirmed" }
+        );
+        if (!failedTx) {
+          throw err;
+        } else {
+          const logs = failedTx.meta?.logMessages;
+          throw !logs ? err : new SendTransactionError(err.message, logs);
+        }
+      } else {
+        throw err;
+      }
+    }
+  }
+
+  /**
+   * Similar to `send`, but for an array of transactions and signers.
+   */
+  async sendAll(
+    txWithSigners: { tx: Transaction; signers?: Signer[] }[],
+    opts?: ConfirmOptions
+  ): Promise<Array<TransactionSignature>> {
+    if (opts === undefined) {
+      opts = this.opts;
+    }
+    const blockhash = await this.connection.getRecentBlockhash(
+      opts.preflightCommitment
+    );
+
+    let txs = txWithSigners.map((r) => {
+      let tx = r.tx;
+      let signers = r.signers ?? [];
+
+      tx.feePayer = this.wallet.publicKey;
+      tx.recentBlockhash = blockhash.blockhash;
+
+      signers.forEach((kp) => {
+        tx.partialSign(kp);
+      });
+
+      return tx;
+    });
+
+    const signedTxs = await this.wallet.signAllTransactions(txs);
+
+    const sigs: TransactionSignature[] = [];
+
+    for (let k = 0; k < txs.length; k += 1) {
+      const tx = signedTxs[k];
+      const rawTx = tx.serialize();
+      sigs.push(
+        await sendAndConfirmRawTransaction(this.connection, rawTx, opts)
+      );
+    }
+
+    return sigs;
+  }
+
+  /**
+   * Simulates the given transaction, returning emitted logs from execution.
+   *
+   * @param tx      The transaction to send.
+   * @param signers The signers of the transaction.
+   * @param opts    Transaction confirmation options.
+   */
+  async simulate(
+    tx: Transaction,
+    signers?: Signer[],
+    commitment?: Commitment,
+    includeAccounts?: boolean | PublicKey[]
+  ): Promise<SuccessfulTxSimulationResponse> {
+    tx.feePayer = this.wallet.publicKey;
+    tx.recentBlockhash = (
+      await this.connection.getLatestBlockhash(
+        commitment ?? this.connection.commitment
+      )
+    ).blockhash;
+
+    tx = await this.wallet.signTransaction(tx);
+
+    const result = await simulateTransaction(
+      this.connection,
+      tx,
+      signers,
+      commitment,
+      includeAccounts
+    );
+
+    if (result.value.err) {
+      throw new SimulateError(result.value);
+    }
+
+    return result.value;
+  }
+}
+
+class SimulateError extends Error {
+  constructor(
+    readonly simulationResponse: SimulatedTransactionResponse,
+    message?: string
+  ) {
+    super(message);
+  }
+}
+
+export type SendTxRequest = {
+  tx: Transaction;
+  signers: Array<Signer | undefined>;
+};
+
+/**
+ * Wallet interface for objects that can be used to sign provider transactions.
+ */
+export interface Wallet {
+  signTransaction(tx: Transaction): Promise<Transaction>;
+  signAllTransactions(txs: Transaction[]): Promise<Transaction[]>;
+  publicKey: PublicKey;
+}
+
+// Copy of Connection.sendAndConfirmRawTransaction that throws
+// a better error if 'confirmTransaction` returns an error status
+async function sendAndConfirmRawTransaction(
+  connection: Connection,
+  rawTransaction: Buffer,
+  options?: ConfirmOptions
+): Promise<TransactionSignature> {
+  const sendOptions = options && {
+    skipPreflight: options.skipPreflight,
+    preflightCommitment: options.preflightCommitment || options.commitment,
+  };
+
+  const signature = await connection.sendRawTransaction(
+    rawTransaction,
+    sendOptions
+  );
+
+  const status = (
+    await connection.confirmTransaction(
+      signature,
+      options && options.commitment
+    )
+  ).value;
+
+  if (status.err) {
+    throw new ConfirmError(
+      `Raw transaction ${signature} failed (${JSON.stringify(status)})`
+    );
+  }
+
+  return signature;
+}
+
+class ConfirmError extends Error {
+  constructor(message?: string) {
+    super(message);
+  }
+}
+
+/**
+ * Sets the default provider on the client.
+ */
+export function setProvider(provider: Provider) {
+  _provider = provider;
+}
+
+/**
+ * Returns the default provider being used by the client.
+ */
+export function getProvider(): Provider {
+  if (_provider === null) {
+    return AnchorProvider.local();
+  }
+  return _provider;
+}
+
+// Global provider used as the default when a provider is not given.
+let _provider: Provider | null = null;
diff --git a/src/spl/associated-token.ts b/src/spl/associated-token.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e4f17a8e83d613e20b81840c47b9ce3401db428d
--- /dev/null
+++ b/src/spl/associated-token.ts
@@ -0,0 +1,134 @@
+import { PublicKey } from "@solana/web3.js";
+import { Program } from "../program/index.js";
+import Provider from "../provider.js";
+import { SplAssociatedTokenCoder } from "../coder/spl-associated-token/index.js";
+
+const ASSOCIATED_TOKEN_PROGRAM_ID = new PublicKey(
+  "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"
+);
+
+export function program(provider?: Provider): Program<SplAssociatedToken> {
+  return new Program<SplAssociatedToken>(
+    IDL,
+    ASSOCIATED_TOKEN_PROGRAM_ID,
+    provider,
+    coder()
+  );
+}
+
+export function coder(): SplAssociatedTokenCoder {
+  return new SplAssociatedTokenCoder(IDL);
+}
+
+/**
+ * SplAssociatedToken IDL.
+ */
+export type SplAssociatedToken = {
+  version: "0.1.0";
+  name: "spl_associated_token";
+  instructions: [
+    {
+      name: "create";
+      accounts: [
+        {
+          name: "authority";
+          isMut: true;
+          isSigner: true;
+        },
+        {
+          name: "associatedAccount";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "owner";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "systemProgram";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "tokenProgram";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [];
+    }
+  ];
+  errors: [
+    {
+      code: 0;
+      name: "InvalidOwner";
+      msg: "Associated token account owner does not match address derivation";
+    }
+  ];
+};
+
+export const IDL: SplAssociatedToken = {
+  version: "0.1.0",
+  name: "spl_associated_token",
+  instructions: [
+    {
+      name: "create",
+      accounts: [
+        {
+          name: "authority",
+          isMut: true,
+          isSigner: true,
+        },
+        {
+          name: "associatedAccount",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "owner",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "systemProgram",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "tokenProgram",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [],
+    },
+  ],
+  errors: [
+    {
+      code: 0,
+      name: "InvalidOwner",
+      msg: "Associated token account owner does not match address derivation",
+    },
+  ],
+};
diff --git a/src/spl/index.ts b/src/spl/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..c818e20c7fd9a86b80e596daf9f464a7e7907e83
--- /dev/null
+++ b/src/spl/index.ts
@@ -0,0 +1,20 @@
+import { Program, Provider } from "../index.js";
+import {
+  program as associatedTokenProgram,
+  SplAssociatedToken,
+} from "./associated-token.js";
+import { program as tokenProgram, SplToken } from "./token";
+
+export { SplToken } from "./token";
+
+export class Spl {
+  public static token(provider?: Provider): Program<SplToken> {
+    return tokenProgram(provider);
+  }
+
+  public static associatedToken(
+    provider?: Provider
+  ): Program<SplAssociatedToken> {
+    return associatedTokenProgram(provider);
+  }
+}
diff --git a/src/spl/token/idl.ts b/src/spl/token/idl.ts
new file mode 100644
index 0000000000000000000000000000000000000000..3eaefa1d5e833732b0baa31fa09e6daf1a3486ac
--- /dev/null
+++ b/src/spl/token/idl.ts
@@ -0,0 +1,1416 @@
+/**
+ * SplToken IDL.
+ */
+export type SplToken = {
+  version: "0.1.0";
+  name: "spl_token";
+  instructions: [
+    {
+      name: "initializeMint";
+      accounts: [
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "decimals";
+          type: "u8";
+        },
+        {
+          name: "mintAuthority";
+          type: "publicKey";
+        },
+        {
+          name: "freezeAuthority";
+          type: {
+            coption: "publicKey";
+          };
+        }
+      ];
+    },
+    {
+      name: "initializeAccount";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [];
+    },
+    {
+      name: "initializeMultisig";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "m";
+          type: "u8";
+        }
+      ];
+    },
+    {
+      name: "transfer";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "destination";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "approve";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "delegate";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "revoke";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [];
+    },
+    {
+      name: "setAuthority";
+      accounts: [
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "authorityType";
+          type: "u8";
+        },
+        {
+          name: "newAuthority";
+          type: {
+            coption: "publicKey";
+          };
+        }
+      ];
+    },
+    {
+      name: "mintTo";
+      accounts: [
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "burn";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        }
+      ];
+    },
+    {
+      name: "closeAccount";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "destination";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [];
+    },
+    {
+      name: "freezeAccount";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [];
+    },
+    {
+      name: "thawAccount";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [];
+    },
+    {
+      name: "transferChecked";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "destination";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        },
+        {
+          name: "decimals";
+          type: "u8";
+        }
+      ];
+    },
+    {
+      name: "approveChecked";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "delegate";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        },
+        {
+          name: "decimals";
+          type: "u8";
+        }
+      ];
+    },
+    {
+      name: "mintToChecked";
+      accounts: [
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "to";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        },
+        {
+          name: "decimals";
+          type: "u8";
+        }
+      ];
+    },
+    {
+      name: "burnChecked";
+      accounts: [
+        {
+          name: "source";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "authority";
+          isMut: false;
+          isSigner: true;
+        }
+      ];
+      args: [
+        {
+          name: "amount";
+          type: "u64";
+        },
+        {
+          name: "decimals";
+          type: "u8";
+        }
+      ];
+    },
+    {
+      name: "initializeAccount2";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        },
+        {
+          name: "rent";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "authority";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "syncNative";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        }
+      ];
+      args: [];
+    },
+    {
+      name: "initializeAccount3";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        },
+        {
+          name: "mint";
+          isMut: false;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "authority";
+          type: "publicKey";
+        }
+      ];
+    },
+    {
+      name: "initializeMultisig2";
+      accounts: [
+        {
+          name: "account";
+          isMut: true;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "m";
+          type: "u8";
+        }
+      ];
+    },
+    {
+      name: "initializeMint2";
+      accounts: [
+        {
+          name: "mint";
+          isMut: true;
+          isSigner: false;
+        }
+      ];
+      args: [
+        {
+          name: "decimals";
+          type: "u8";
+        },
+        {
+          name: "mintAuthority";
+          type: "publicKey";
+        },
+        {
+          name: "freezeAuthority";
+          type: {
+            coption: "publicKey";
+          };
+        }
+      ];
+    }
+  ];
+  accounts: [
+    {
+      name: "mint";
+      type: {
+        kind: "struct";
+        fields: [
+          {
+            name: "mintAuthority";
+            type: {
+              coption: "publicKey";
+            };
+          },
+          {
+            name: "supply";
+            type: "u64";
+          },
+          {
+            name: "decimals";
+            type: "u8";
+          },
+          {
+            name: "isInitialized";
+            type: "bool";
+          },
+          {
+            name: "freezeAuthority";
+            type: {
+              coption: "publicKey";
+            };
+          }
+        ];
+      };
+    },
+    {
+      name: "token";
+      type: {
+        kind: "struct";
+        fields: [
+          {
+            name: "mint";
+            type: "publicKey";
+          },
+          {
+            name: "authority";
+            type: "publicKey";
+          },
+          {
+            name: "amount";
+            type: "u64";
+          },
+          {
+            name: "delegate";
+            type: {
+              coption: "publicKey";
+            };
+          },
+          {
+            name: "state";
+            type: "u8";
+          },
+          {
+            name: "isNative";
+            type: {
+              coption: "u64";
+            };
+          },
+          {
+            name: "delegatedAmount";
+            type: "u64";
+          },
+          {
+            name: "closeAuthority";
+            type: {
+              coption: "publicKey";
+            };
+          }
+        ];
+      };
+    }
+  ];
+  errors: [
+    {
+      code: 0;
+      name: "NotRentExempt";
+      msg: "Lamport balance below rent-exempt threshold";
+    },
+    {
+      code: 1;
+      name: "InsufficientFunds";
+      msg: "Insufficient funds";
+    },
+    {
+      code: 2;
+      name: "InvalidMint";
+      msg: "Invalid Mint";
+    },
+    {
+      code: 3;
+      name: "MintMismatch";
+      msg: "Account not associated with this Mint";
+    },
+    {
+      code: 4;
+      name: "OwnerMismatch";
+      msg: "Owner does not match";
+    },
+    {
+      code: 5;
+      name: "FixedSupply";
+      msg: "Fixed supply";
+    },
+    {
+      code: 6;
+      name: "AlreadyInUse";
+      msg: "Already in use";
+    },
+    {
+      code: 7;
+      name: "InvalidNumberOfProvidedSigners";
+      msg: "Invalid number of provided signers";
+    },
+    {
+      code: 8;
+      name: "InvalidNumberOfRequiredSigners";
+      msg: "Invalid number of required signers";
+    },
+    {
+      code: 9;
+      name: "UninitializedState";
+      msg: "State is unititialized";
+    },
+    {
+      code: 10;
+      name: "NativeNotSupported";
+      msg: "Instruction does not support native tokens";
+    },
+    {
+      code: 11;
+      name: "NonNativeHasBalance";
+      msg: "Non-native account can only be closed if its balance is zero";
+    },
+    {
+      code: 12;
+      name: "InvalidInstruction";
+      msg: "Invalid instruction";
+    },
+    {
+      code: 13;
+      name: "InvalidState";
+      msg: "State is invalid for requested operation";
+    },
+    {
+      code: 14;
+      name: "Overflow";
+      msg: "Operation overflowed";
+    },
+    {
+      code: 15;
+      name: "AuthorityTypeNotSupported";
+      msg: "Account does not support specified authority type";
+    },
+    {
+      code: 16;
+      name: "MintCannotFreeze";
+      msg: "This token mint cannot freeze accounts";
+    },
+    {
+      code: 17;
+      name: "AccountFrozen";
+      msg: "Account is frozen";
+    },
+    {
+      code: 18;
+      name: "MintDecimalsMismatch";
+      msg: "The provided decimals value different from the Mint decimals";
+    },
+    {
+      code: 19;
+      name: "NonNativeNotSupported";
+      msg: "Instruction does not support non-native tokens";
+    }
+  ];
+};
+
+export const IDL: SplToken = {
+  version: "0.1.0",
+  name: "spl_token",
+  instructions: [
+    {
+      name: "initializeMint",
+      accounts: [
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "decimals",
+          type: "u8",
+        },
+        {
+          name: "mintAuthority",
+          type: "publicKey",
+        },
+        {
+          name: "freezeAuthority",
+          type: {
+            coption: "publicKey",
+          },
+        },
+      ],
+    },
+    {
+      name: "initializeAccount",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [],
+    },
+    {
+      name: "initializeMultisig",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "m",
+          type: "u8",
+        },
+      ],
+    },
+    {
+      name: "transfer",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "destination",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "approve",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "delegate",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "revoke",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [],
+    },
+    {
+      name: "setAuthority",
+      accounts: [
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "authorityType",
+          type: "u8",
+        },
+        {
+          name: "newAuthority",
+          type: {
+            coption: "publicKey",
+          },
+        },
+      ],
+    },
+    {
+      name: "mintTo",
+      accounts: [
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "burn",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+      ],
+    },
+    {
+      name: "closeAccount",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "destination",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [],
+    },
+    {
+      name: "freezeAccount",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [],
+    },
+    {
+      name: "thawAccount",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [],
+    },
+    {
+      name: "transferChecked",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "destination",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+        {
+          name: "decimals",
+          type: "u8",
+        },
+      ],
+    },
+    {
+      name: "approveChecked",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "delegate",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+        {
+          name: "decimals",
+          type: "u8",
+        },
+      ],
+    },
+    {
+      name: "mintToChecked",
+      accounts: [
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "to",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+        {
+          name: "decimals",
+          type: "u8",
+        },
+      ],
+    },
+    {
+      name: "burnChecked",
+      accounts: [
+        {
+          name: "source",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "authority",
+          isMut: false,
+          isSigner: true,
+        },
+      ],
+      args: [
+        {
+          name: "amount",
+          type: "u64",
+        },
+        {
+          name: "decimals",
+          type: "u8",
+        },
+      ],
+    },
+    {
+      name: "initializeAccount2",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+        {
+          name: "rent",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "authority",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "syncNative",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+      ],
+      args: [],
+    },
+    {
+      name: "initializeAccount3",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+        {
+          name: "mint",
+          isMut: false,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "authority",
+          type: "publicKey",
+        },
+      ],
+    },
+    {
+      name: "initializeMultisig2",
+      accounts: [
+        {
+          name: "account",
+          isMut: true,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "m",
+          type: "u8",
+        },
+      ],
+    },
+    {
+      name: "initializeMint2",
+      accounts: [
+        {
+          name: "mint",
+          isMut: true,
+          isSigner: false,
+        },
+      ],
+      args: [
+        {
+          name: "decimals",
+          type: "u8",
+        },
+        {
+          name: "mintAuthority",
+          type: "publicKey",
+        },
+        {
+          name: "freezeAuthority",
+          type: {
+            coption: "publicKey",
+          },
+        },
+      ],
+    },
+  ],
+  accounts: [
+    {
+      name: "mint",
+      type: {
+        kind: "struct",
+        fields: [
+          {
+            name: "mintAuthority",
+            type: {
+              coption: "publicKey",
+            },
+          },
+          {
+            name: "supply",
+            type: "u64",
+          },
+          {
+            name: "decimals",
+            type: "u8",
+          },
+          {
+            name: "isInitialized",
+            type: "bool",
+          },
+          {
+            name: "freezeAuthority",
+            type: {
+              coption: "publicKey",
+            },
+          },
+        ],
+      },
+    },
+    {
+      name: "token",
+      type: {
+        kind: "struct",
+        fields: [
+          {
+            name: "mint",
+            type: "publicKey",
+          },
+          {
+            name: "authority",
+            type: "publicKey",
+          },
+          {
+            name: "amount",
+            type: "u64",
+          },
+          {
+            name: "delegate",
+            type: {
+              coption: "publicKey",
+            },
+          },
+          {
+            name: "state",
+            type: "u8",
+          },
+          {
+            name: "isNative",
+            type: {
+              coption: "u64",
+            },
+          },
+          {
+            name: "delegatedAmount",
+            type: "u64",
+          },
+          {
+            name: "closeAuthority",
+            type: {
+              coption: "publicKey",
+            },
+          },
+        ],
+      },
+    },
+  ],
+  errors: [
+    {
+      code: 0,
+      name: "NotRentExempt",
+      msg: "Lamport balance below rent-exempt threshold",
+    },
+    {
+      code: 1,
+      name: "InsufficientFunds",
+      msg: "Insufficient funds",
+    },
+    {
+      code: 2,
+      name: "InvalidMint",
+      msg: "Invalid Mint",
+    },
+    {
+      code: 3,
+      name: "MintMismatch",
+      msg: "Account not associated with this Mint",
+    },
+    {
+      code: 4,
+      name: "OwnerMismatch",
+      msg: "Owner does not match",
+    },
+    {
+      code: 5,
+      name: "FixedSupply",
+      msg: "Fixed supply",
+    },
+    {
+      code: 6,
+      name: "AlreadyInUse",
+      msg: "Already in use",
+    },
+    {
+      code: 7,
+      name: "InvalidNumberOfProvidedSigners",
+      msg: "Invalid number of provided signers",
+    },
+    {
+      code: 8,
+      name: "InvalidNumberOfRequiredSigners",
+      msg: "Invalid number of required signers",
+    },
+    {
+      code: 9,
+      name: "UninitializedState",
+      msg: "State is unititialized",
+    },
+    {
+      code: 10,
+      name: "NativeNotSupported",
+      msg: "Instruction does not support native tokens",
+    },
+    {
+      code: 11,
+      name: "NonNativeHasBalance",
+      msg: "Non-native account can only be closed if its balance is zero",
+    },
+    {
+      code: 12,
+      name: "InvalidInstruction",
+      msg: "Invalid instruction",
+    },
+    {
+      code: 13,
+      name: "InvalidState",
+      msg: "State is invalid for requested operation",
+    },
+    {
+      code: 14,
+      name: "Overflow",
+      msg: "Operation overflowed",
+    },
+    {
+      code: 15,
+      name: "AuthorityTypeNotSupported",
+      msg: "Account does not support specified authority type",
+    },
+    {
+      code: 16,
+      name: "MintCannotFreeze",
+      msg: "This token mint cannot freeze accounts",
+    },
+    {
+      code: 17,
+      name: "AccountFrozen",
+      msg: "Account is frozen",
+    },
+    {
+      code: 18,
+      name: "MintDecimalsMismatch",
+      msg: "The provided decimals value different from the Mint decimals",
+    },
+    {
+      code: 19,
+      name: "NonNativeNotSupported",
+      msg: "Instruction does not support non-native tokens",
+    },
+  ],
+};
diff --git a/src/spl/token/index.ts b/src/spl/token/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..89fcb66c625960eeb7c42af75729e7bf01f2bb4c
--- /dev/null
+++ b/src/spl/token/index.ts
@@ -0,0 +1,19 @@
+import { PublicKey } from "@solana/web3.js";
+import { Program } from "../../program/index.js";
+import Provider from "../../provider.js";
+import { SplTokenCoder } from "../../coder/spl-token/index.js";
+
+import { IDL, SplToken } from "./idl";
+export { IDL, SplToken } from "./idl";
+
+const TOKEN_PROGRAM_ID = new PublicKey(
+  "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
+);
+
+export function program(provider?: Provider): Program<SplToken> {
+  return new Program<SplToken>(IDL, TOKEN_PROGRAM_ID, provider, coder());
+}
+
+export function coder(): SplTokenCoder {
+  return new SplTokenCoder(IDL);
+}
diff --git a/src/utils/bytes/base64.ts b/src/utils/bytes/base64.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d0d0981a5d7bfb9281116df3c65eedf80089a13a
--- /dev/null
+++ b/src/utils/bytes/base64.ts
@@ -0,0 +1,11 @@
+import { Buffer } from "buffer";
+import * as base64 from "base64-js";
+
+export function encode(data: Buffer | Uint8Array): string {
+  return base64.fromByteArray(data);
+}
+
+export function decode(data: string): Buffer {
+  const buf = base64.toByteArray(data);
+  return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
+}
diff --git a/src/utils/bytes/bs58.ts b/src/utils/bytes/bs58.ts
new file mode 100644
index 0000000000000000000000000000000000000000..79a9eb2bb6ccd7d7bad4bf14058053e6baf14ee7
--- /dev/null
+++ b/src/utils/bytes/bs58.ts
@@ -0,0 +1,10 @@
+import bs58 from "bs58";
+
+export function encode(data: Buffer | number[] | Uint8Array): string {
+  return bs58.encode(data);
+}
+
+export function decode(data: string): Buffer {
+  const buf = bs58.decode(data);
+  return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
+}
diff --git a/src/utils/bytes/buffer.ts b/src/utils/bytes/buffer.ts
new file mode 100644
index 0000000000000000000000000000000000000000..bbf166f4d45c89bc9f13d778d25dd47b41440ecf
--- /dev/null
+++ b/src/utils/bytes/buffer.ts
@@ -0,0 +1,9 @@
+export function toBuffer(arr: Buffer | Uint8Array | Array<number>): Buffer {
+  if (Buffer.isBuffer(arr)) {
+    return arr;
+  } else if (arr instanceof Uint8Array) {
+    return Buffer.from(arr.buffer, arr.byteOffset, arr.byteLength);
+  } else {
+    return Buffer.from(arr);
+  }
+}
diff --git a/src/utils/bytes/hex.ts b/src/utils/bytes/hex.ts
new file mode 100644
index 0000000000000000000000000000000000000000..b15bc39ad4df217880b66666455552653a9de2c3
--- /dev/null
+++ b/src/utils/bytes/hex.ts
@@ -0,0 +1,23 @@
+import { Buffer } from "buffer";
+
+export function encode(data: Buffer | Uint8Array): string {
+  if (Buffer.isBuffer(data)) {
+    return "0x" + data.toString("hex");
+  }
+
+  return data.reduce(
+    (str, byte) => str + byte.toString(16).padStart(2, "0"),
+    "0x"
+  );
+}
+
+export function decode(data: string): Buffer {
+  if (data.indexOf("0x") === 0) {
+    data = data.slice(2);
+  }
+  if (data.length % 2 === 1) {
+    data = "0" + data;
+  }
+
+  return Buffer.from(data, "hex");
+}
diff --git a/src/utils/bytes/index.ts b/src/utils/bytes/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..982a1976b90c2ebf3daf00d049cd2f10aa6298de
--- /dev/null
+++ b/src/utils/bytes/index.ts
@@ -0,0 +1,6 @@
+export * as hex from "./hex.js";
+export * as utf8 from "./utf8.js";
+export * as bs58 from "./bs58.js";
+export * as base64 from "./base64.js";
+
+export * from "./buffer.js";
diff --git a/src/utils/bytes/utf8.ts b/src/utils/bytes/utf8.ts
new file mode 100644
index 0000000000000000000000000000000000000000..4a900152d68770d35166b40d6ebcc9ec6d05032c
--- /dev/null
+++ b/src/utils/bytes/utf8.ts
@@ -0,0 +1,24 @@
+import { isBrowser } from "../common";
+
+let encoder: TextEncoder;
+let decoder: TextDecoder;
+
+if (isBrowser) {
+  // Browser https://caniuse.com/textencoder.
+  encoder = new TextEncoder();
+  decoder = new TextDecoder("utf-8");
+} else {
+  // Node.
+  const util: typeof import("util") = require("util");
+  encoder = new util.TextEncoder();
+  decoder = new util.TextDecoder("utf-8") as TextDecoder;
+}
+
+export function decode(array: Buffer | Uint8Array): string {
+  return decoder.decode(array);
+}
+
+export function encode(input: string): Buffer {
+  const buf = encoder.encode(input);
+  return Buffer.from(buf.buffer, buf.byteOffset, buf.byteLength);
+}
diff --git a/src/utils/common.ts b/src/utils/common.ts
new file mode 100644
index 0000000000000000000000000000000000000000..e59f1b9b71d0c42a6cca84722597588355c7c09d
--- /dev/null
+++ b/src/utils/common.ts
@@ -0,0 +1,20 @@
+/**
+ * Returns true if being run inside a web browser,
+ * false if in a Node process or electron app.
+ */
+export const isBrowser =
+  !!process.env.BROWSER ||
+  (typeof window !== "undefined" && !window.process?.hasOwnProperty("type"));
+
+/**
+ * Splits an array into chunks
+ *
+ * @param array Array of objects to chunk.
+ * @param size The max size of a chunk.
+ * @returns A two dimensional array where each T[] length is < the provided size.
+ */
+export function chunks<T>(array: T[], size: number): T[][] {
+  return Array.apply(0, new Array(Math.ceil(array.length / size))).map(
+    (_, index) => array.slice(index * size, (index + 1) * size)
+  );
+}
diff --git a/src/utils/features.ts b/src/utils/features.ts
new file mode 100644
index 0000000000000000000000000000000000000000..246b2b99aa91dd376b983387f3bd0dd04f02fe56
--- /dev/null
+++ b/src/utils/features.ts
@@ -0,0 +1,14 @@
+const _AVAILABLE_FEATURES = new Set(["anchor-deprecated-state", "debug-logs"]);
+
+const _FEATURES = new Map();
+
+export function set(key: string) {
+  if (!_AVAILABLE_FEATURES.has(key)) {
+    throw new Error("Invalid feature");
+  }
+  _FEATURES.set(key, true);
+}
+
+export function isSet(key: string): boolean {
+  return _FEATURES.get(key) !== undefined;
+}
diff --git a/src/utils/index.ts b/src/utils/index.ts
new file mode 100644
index 0000000000000000000000000000000000000000..86b88955445ce5c3b171913b523a382fc9f1071f
--- /dev/null
+++ b/src/utils/index.ts
@@ -0,0 +1,7 @@
+export * as sha256 from "./sha256.js";
+export * as rpc from "./rpc.js";
+export * as publicKey from "./pubkey.js";
+export * as bytes from "./bytes/index.js";
+export * as token from "./token.js";
+export * as features from "./features.js";
+export * as registry from "./registry.js";
diff --git a/src/utils/pubkey.ts b/src/utils/pubkey.ts
new file mode 100644
index 0000000000000000000000000000000000000000..285f7eb02bbd6e13ead072fcbafc9e1b0ea97793
--- /dev/null
+++ b/src/utils/pubkey.ts
@@ -0,0 +1,84 @@
+import { Buffer } from "buffer";
+import { sha256 } from "js-sha256";
+import { PublicKey } from "@solana/web3.js";
+import { Address, translateAddress } from "../program/common.js";
+import { toBuffer } from "./bytes/buffer.js";
+
+// Sync version of web3.PublicKey.createWithSeed.
+export function createWithSeedSync(
+  fromPublicKey: PublicKey,
+  seed: string,
+  programId: PublicKey
+): PublicKey {
+  const buffer = Buffer.concat([
+    fromPublicKey.toBuffer(),
+    Buffer.from(seed),
+    programId.toBuffer(),
+  ]);
+  return new PublicKey(sha256.digest(buffer));
+}
+
+// Sync version of web3.PublicKey.createProgramAddress.
+export function createProgramAddressSync(
+  seeds: Array<Buffer | Uint8Array>,
+  programId: PublicKey
+): PublicKey {
+  const MAX_SEED_LENGTH = 32;
+
+  let buffer = Buffer.alloc(0);
+  seeds.forEach((seed) => {
+    if (seed.length > MAX_SEED_LENGTH) {
+      throw new TypeError(`Max seed length exceeded`);
+    }
+    buffer = Buffer.concat([buffer, toBuffer(seed)]);
+  });
+  buffer = Buffer.concat([
+    buffer,
+    programId.toBuffer(),
+    Buffer.from("ProgramDerivedAddress"),
+  ]);
+
+  const key = new PublicKey(sha256.digest(buffer));
+  if (PublicKey.isOnCurve(key)) {
+    throw new Error(`Invalid seeds, address must fall off the curve`);
+  }
+  return key;
+}
+
+// Sync version of web3.PublicKey.findProgramAddress.
+export function findProgramAddressSync(
+  seeds: Array<Buffer | Uint8Array>,
+  programId: PublicKey
+): [PublicKey, number] {
+  let nonce = 255;
+  let address: PublicKey | undefined;
+  while (nonce != 0) {
+    try {
+      const seedsWithNonce = seeds.concat(Buffer.from([nonce]));
+      address = createProgramAddressSync(seedsWithNonce, programId);
+    } catch (err) {
+      if (err instanceof TypeError) {
+        throw err;
+      }
+      nonce--;
+      continue;
+    }
+    return [address, nonce];
+  }
+  throw new Error(`Unable to find a viable program address nonce`);
+}
+
+export async function associated(
+  programId: Address,
+  ...args: Array<Address | Buffer>
+): Promise<PublicKey> {
+  let seeds = [Buffer.from([97, 110, 99, 104, 111, 114])]; // b"anchor".
+  args.forEach((arg) => {
+    seeds.push(arg instanceof Buffer ? arg : translateAddress(arg).toBuffer());
+  });
+  const [assoc] = await PublicKey.findProgramAddress(
+    seeds,
+    translateAddress(programId)
+  );
+  return assoc;
+}
diff --git a/src/utils/registry.ts b/src/utils/registry.ts
new file mode 100644
index 0000000000000000000000000000000000000000..6193ccd9a7bb608e9a42a6ffef03c6a09033868f
--- /dev/null
+++ b/src/utils/registry.ts
@@ -0,0 +1,110 @@
+import BN from "bn.js";
+import fetch from "cross-fetch";
+import * as borsh from "@project-serum/borsh";
+import { Connection, PublicKey } from "@solana/web3.js";
+
+/**
+ * Returns a verified build from the anchor registry. null if no such
+ * verified build exists, e.g., if the program has been upgraded since the
+ * last verified build.
+ */
+export async function verifiedBuild(
+  connection: Connection,
+  programId: PublicKey,
+  limit: number = 5
+): Promise<Build | null> {
+  const url = `https://api.apr.dev/api/v0/program/${programId.toString()}/latest?limit=${limit}`;
+  const [programData, latestBuildsResp] = await Promise.all([
+    fetchData(connection, programId),
+    fetch(url),
+  ]);
+
+  // Filter out all non successful builds.
+  const latestBuilds = (await latestBuildsResp.json()).filter(
+    (b: Build) => !b.aborted && b.state === "Built" && b.verified === "Verified"
+  );
+  if (latestBuilds.length === 0) {
+    return null;
+  }
+
+  // Get the latest build.
+  const build = latestBuilds[0];
+
+  // Has the program been upgraded since the last build?
+  if (programData.slot.toNumber() !== build.verified_slot) {
+    return null;
+  }
+
+  // Success.
+  return build;
+}
+
+/**
+ * Returns the program data account for this program, containing the
+ * metadata for this program, e.g., the upgrade authority.
+ */
+export async function fetchData(
+  connection: Connection,
+  programId: PublicKey
+): Promise<ProgramData> {
+  const accountInfo = await connection.getAccountInfo(programId);
+  if (accountInfo === null) {
+    throw new Error("program account not found");
+  }
+  const { program } = decodeUpgradeableLoaderState(accountInfo.data);
+  const programdataAccountInfo = await connection.getAccountInfo(
+    program.programdataAddress
+  );
+  if (programdataAccountInfo === null) {
+    throw new Error("program data account not found");
+  }
+  const { programData } = decodeUpgradeableLoaderState(
+    programdataAccountInfo.data
+  );
+  return programData;
+}
+
+const UPGRADEABLE_LOADER_STATE_LAYOUT = borsh.rustEnum(
+  [
+    borsh.struct([], "uninitialized"),
+    borsh.struct(
+      [borsh.option(borsh.publicKey(), "authorityAddress")],
+      "buffer"
+    ),
+    borsh.struct([borsh.publicKey("programdataAddress")], "program"),
+    borsh.struct(
+      [
+        borsh.u64("slot"),
+        borsh.option(borsh.publicKey(), "upgradeAuthorityAddress"),
+      ],
+      "programData"
+    ),
+  ],
+  undefined,
+  borsh.u32()
+);
+
+export function decodeUpgradeableLoaderState(data: Buffer): any {
+  return UPGRADEABLE_LOADER_STATE_LAYOUT.decode(data);
+}
+
+export type ProgramData = {
+  slot: BN;
+  upgradeAuthorityAddress: PublicKey | null;
+};
+
+export type Build = {
+  aborted: boolean;
+  address: string;
+  created_at: string;
+  updated_at: string;
+  descriptor: string[];
+  docker: string;
+  id: number;
+  name: string;
+  sha256: string;
+  upgrade_authority: string;
+  verified: string;
+  verified_slot: number;
+  state: string;
+};
diff --git a/src/utils/rpc.ts b/src/utils/rpc.ts
new file mode 100644
index 0000000000000000000000000000000000000000..f959bdced80913dd4362c6b0db8e899cd19ee237
--- /dev/null
+++ b/src/utils/rpc.ts
@@ -0,0 +1,99 @@
+import { Buffer } from "buffer";
+import {
+  AccountInfo,
+  AccountMeta,
+  Connection,
+  PublicKey,
+  TransactionSignature,
+  Transaction,
+  TransactionInstruction,
+  Commitment,
+} from "@solana/web3.js";
+import { chunks } from "../utils/common.js";
+import { Address, translateAddress } from "../program/common.js";
+import Provider, { getProvider } from "../provider.js";
+
+/**
+ * Sends a transaction to a program with the given accounts and instruction
+ * data.
+ */
+export async function invoke(
+  programId: Address,
+  accounts?: Array<AccountMeta>,
+  data?: Buffer,
+  provider?: Provider
+): Promise<TransactionSignature> {
+  programId = translateAddress(programId);
+  if (!provider) {
+    provider = getProvider();
+  }
+
+  const tx = new Transaction();
+  tx.add(
+    new TransactionInstruction({
+      programId,
+      keys: accounts ?? [],
+      data,
+    })
+  );
+
+  if (provider.sendAndConfirm === undefined) {
+    throw new Error(
+      "This function requires 'Provider.sendAndConfirm' to be implemented."
+    );
+  }
+
+  return await provider.sendAndConfirm(tx, []);
+}
+
+const GET_MULTIPLE_ACCOUNTS_LIMIT: number = 99;
+
+export async function getMultipleAccounts(
+  connection: Connection,
+  publicKeys: PublicKey[],
+  commitment?: Commitment
+): Promise<
+  Array<null | { publicKey: PublicKey; account: AccountInfo<Buffer> }>
+> {
+  if (publicKeys.length <= GET_MULTIPLE_ACCOUNTS_LIMIT) {
+    return await getMultipleAccountsCore(connection, publicKeys, commitment);
+  } else {
+    const batches = chunks(publicKeys, GET_MULTIPLE_ACCOUNTS_LIMIT);
+    const results = await Promise.all<
+      Array<null | { publicKey: PublicKey; account: AccountInfo<Buffer> }>
+    >(
+      batches.map((batch) =>
+        getMultipleAccountsCore(connection, batch, commitment)
+      )
+    );
+    return results.flat();
+  }
+}
+
+async function getMultipleAccountsCore(
+  connection: Connection,
+  publicKeys: PublicKey[],
+  commitmentOverride?: Commitment
+): Promise<
+  Array<null | { publicKey: PublicKey; account: AccountInfo<Buffer> }>
+> {
+  const commitment = commitmentOverride ?? connection.commitment;
+  const accounts = await connection.getMultipleAccountsInfo(
+    publicKeys,
+    commitment
+  );
+  return accounts.map((account, idx) => {
+    if (account === null) {
+      return null;
+    }
+    return {
+      publicKey: publicKeys[idx],
+      account,
+    };
+  });
+}
+
+export {
+  simulateTransaction,
+  SuccessfulTxSimulationResponse,
+} from "./simulate";
diff --git a/src/utils/sha256.ts b/src/utils/sha256.ts
new file mode 100644
index 0000000000000000000000000000000000000000..660cf036c5a13f8a0dc14886b267e0664dc106ca
--- /dev/null
+++ b/src/utils/sha256.ts
@@ -0,0 +1,9 @@
+import { sha256 } from "js-sha256";
+
+export function hash(data: string): string {
+  return sha256(data);
+}
+
+export function digest(data: string): Array<number> {
+  return sha256.digest(data);
+}
diff --git a/src/utils/simulate.ts b/src/utils/simulate.ts
new file mode 100644
index 0000000000000000000000000000000000000000..3dbeb14b77e4ad4007152d232b2190e9413f8389
--- /dev/null
+++ b/src/utils/simulate.ts
@@ -0,0 +1,176 @@
+import { SendTransactionError, Transaction } from "@solana/web3.js";
+
+import type {
+  Commitment,
+  Connection,
+  PublicKey,
+  RpcResponseAndContext,
+  Signer,
+  SimulatedTransactionResponse,
+} from "@solana/web3.js";
+import {
+  type as pick,
+  number,
+  string,
+  array,
+  boolean,
+  literal,
+  union,
+  optional,
+  nullable,
+  coerce,
+  create,
+  unknown,
+  any,
+  Struct,
+} from "superstruct";
+
+declare module "@solana/web3.js" {
+  interface Transaction {
+    _compile(): Message;
+    _serialize(signData: Buffer): Buffer;
+  }
+  interface Connection {
+    _rpcRequest(method: string, args: Array<unknown>): Promise<unknown>;
+  }
+}
+
+// copy from @solana/web3.js that has a commitment param
+export async function simulateTransaction(
+  connection: Connection,
+  transaction: Transaction,
+  signers?: Array<Signer>,
+  commitment?: Commitment,
+  includeAccounts?: boolean | Array<PublicKey>
+): Promise<RpcResponseAndContext<SimulatedTransactionResponse>> {
+  const tx = new Transaction();
+  tx.feePayer = transaction.feePayer;
+  tx.instructions = transaction.instructions;
+  tx.nonceInfo = transaction.nonceInfo;
+  tx.signatures = transaction.signatures;
+
+  if (signers) {
+    tx.sign(...signers);
+  }
+
+  const message = transaction._compile();
+  const signData = message.serialize();
+  const wireTransaction = transaction._serialize(signData);
+  const encodedTransaction = wireTransaction.toString("base64");
+  const config: Record<string, unknown> = {
+    encoding: "base64",
+    commitment: commitment ?? connection.commitment,
+  };
+
+  if (includeAccounts) {
+    config.accounts = {
+      encoding: "base64",
+      addresses: (Array.isArray(includeAccounts)
+        ? includeAccounts
+        : message.nonProgramIds()
+      ).map((k) => k.toBase58()),
+    };
+  }
+
+  if (signers) {
+    config.sigVerify = true;
+  }
+
+  const args = [encodedTransaction, config];
+  const unsafeRes = await connection._rpcRequest("simulateTransaction", args);
+  const res = create(unsafeRes, SimulatedTransactionResponseStruct);
+
+  if ("error" in res) {
+    let logs: Array<string> | undefined;
+    if (
+      "data" in res.error &&
+      "logs" in res.error.data &&
+      Array.isArray(res.error.data.logs)
+    ) {
+      logs = res.error.data.logs;
+    }
+    throw new SendTransactionError(
+      `failed to simulate transaction: ${res.error.message}`,
+      logs
+    );
+  }
+  return res.result;
+}
+
+// copy from @solana/web3.js
+function jsonRpcResult<T, U>(schema: Struct<T, U>) {
+  return coerce(createRpcResult(schema), UnknownRpcResult, (value) => {
+    if ("error" in value) {
+      return value;
+    } else {
+      return {
+        ...value,
+        result: create(value.result, schema),
+      };
+    }
+  });
+}
+
+// copy from @solana/web3.js
+const UnknownRpcResult = createRpcResult(unknown());
+
+// copy from @solana/web3.js
+function createRpcResult<T, U>(result: Struct<T, U>) {
+  return union([
+    pick({
+      jsonrpc: literal("2.0"),
+      id: string(),
+      result,
+    }),
+    pick({
+      jsonrpc: literal("2.0"),
+      id: string(),
+      error: pick({
+        code: unknown(),
+        message: string(),
+        data: optional(any()),
+      }),
+    }),
+  ]);
+}
+
+// copy from @solana/web3.js
+function jsonRpcResultAndContext<T, U>(value: Struct<T, U>) {
+  return jsonRpcResult(
+    pick({
+      context: pick({
+        slot: number(),
+      }),
+      value,
+    })
+  );
+}
+
+// copy from @solana/web3.js
+const SimulatedTransactionResponseStruct = jsonRpcResultAndContext(
+  pick({
+    err: nullable(union([pick({}), string()])),
+    logs: nullable(array(string())),
+    accounts: optional(
+      nullable(
+        array(
+          nullable(
+            pick({
+              executable: boolean(),
+              owner: string(),
+              lamports: number(),
+              data: array(string()),
+              rentEpoch: optional(number()),
+            })
+          )
+        )
+      )
+    ),
+    unitsConsumed: optional(number()),
+  })
+);
+
+export type SuccessfulTxSimulationResponse = Omit<
+  SimulatedTransactionResponse,
+  "err"
+>;
diff --git a/src/utils/token.ts b/src/utils/token.ts
new file mode 100644
index 0000000000000000000000000000000000000000..0f4d087e5a4555366dcb201768efe9d5b712fd25
--- /dev/null
+++ b/src/utils/token.ts
@@ -0,0 +1,23 @@
+import { PublicKey } from "@solana/web3.js";
+
+export const TOKEN_PROGRAM_ID = new PublicKey(
+  "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"
+);
+export const ASSOCIATED_PROGRAM_ID = new PublicKey(
+  "ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"
+);
+
+export async function associatedAddress({
+  mint,
+  owner,
+}: {
+  mint: PublicKey;
+  owner: PublicKey;
+}): Promise<PublicKey> {
+  return (
+    await PublicKey.findProgramAddress(
+      [owner.toBuffer(), TOKEN_PROGRAM_ID.toBuffer(), mint.toBuffer()],
+      ASSOCIATED_PROGRAM_ID
+    )
+  )[0];
+}
diff --git a/src/wallet.ts b/src/wallet.ts
new file mode 100644
index 0000000000000000000000000000000000000000..d3fc77e4540fc0583661855422575cdd7d546ab7
--- /dev/null
+++ b/src/wallet.ts
@@ -0,0 +1,50 @@
+import { Buffer } from "buffer";
+import { Keypair, PublicKey, Transaction } from "@solana/web3.js";
+import { Wallet as IWallet } from "./provider";
+import { isBrowser } from "./utils/common";
+
+export class Wallet implements IWallet {
+  constructor(readonly payer: Keypair) {}
+
+  static local(): Wallet | never {
+    if (isBrowser) {
+      throw new Error("Local wallet not supported in browser");
+    }
+
+    const process = require("process");
+
+    if (!process.env.ANCHOR_WALLET || process.env.ANCHOR_WALLET === "") {
+      throw new Error(
+        "expected environment variable `ANCHOR_WALLET` is not set."
+      );
+    }
+
+    const payer = Keypair.fromSecretKey(
+      Buffer.from(
+        JSON.parse(
+          require("fs").readFileSync(process.env.ANCHOR_WALLET, {
+            encoding: "utf-8",
+          })
+        )
+      )
+    );
+
+    return new Wallet(payer);
+  }
+
+  async signTransaction(tx: Transaction): Promise<Transaction> {
+    tx.partialSign(this.payer);
+    return tx;
+  }
+
+  async signAllTransactions(txs: Transaction[]): Promise<Transaction[]> {
+    return txs.map((t) => {
+      t.partialSign(this.payer);
+      return t;
+    });
+  }
+
+  get publicKey(): PublicKey {
+    return this.payer.publicKey;
+  }
+}
diff --git a/src/workspace.ts b/src/workspace.ts
new file mode 100644
index 0000000000000000000000000000000000000000..75a3371ed60ba64345d45381e3891cdbbd332625
--- /dev/null
+++ b/src/workspace.ts
@@ -0,0 +1,108 @@
+import { pascalCase } from "@juici/case";
+import * as toml from "toml";
+import { PublicKey } from "@solana/web3.js";
+import { Program } from "./program/index.js";
+import { Idl } from "./idl.js";
+import { isBrowser } from "./utils/common.js";
+
+let _populatedWorkspace = false;
+
+/**
+ * The `workspace` namespace provides a convenience API to automatically
+ * search for and deserialize [[Program]] objects defined by compiled IDLs
+ * in an Anchor workspace.
+ *
+ * This API is for Node only.
+ */
+const workspace = new Proxy({} as any, {
+  get(workspaceCache: { [key: string]: Program }, programName: string) {
+    if (isBrowser) {
+      throw new Error("Workspaces aren't available in the browser");
+    }
+
+    const fs: typeof import("fs") = require("fs");
+    const process: typeof import("process") = require("process");
+
+    if (!_populatedWorkspace) {
+      const path = require("path");
+
+      let projectRoot: string | undefined = process.cwd();
+      while (!fs.existsSync(path.join(projectRoot, "Anchor.toml"))) {
+        const parentDir = path.dirname(projectRoot);
+        if (parentDir === projectRoot) {
+          projectRoot = undefined;
+        }
+        projectRoot = parentDir;
+      }
+
+      if (projectRoot === undefined) {
+        throw new Error("Could not find workspace root.");
+      }
+
+      const idlFolder = `${projectRoot}/target/idl`;
+      if (!fs.existsSync(idlFolder)) {
+        throw new Error(
+          `${idlFolder} doesn't exist. Did you use "anchor build"?`
+        );
+      }
+
+      const idlMap = new Map<string, Idl>();
+      fs.readdirSync(idlFolder)
+        .filter((file) => file.endsWith(".json"))
+        .forEach((file) => {
+          const filePath = `${idlFolder}/${file}`;
+          const idlStr = fs.readFileSync(filePath, "utf-8");
+          const idl = JSON.parse(idlStr);
+          idlMap.set(idl.name, idl);
+          const name = pascalCase(idl.name);
+          if (idl.metadata && idl.metadata.address) {
+            workspaceCache[name] = new Program(
+              idl,
+              new PublicKey(idl.metadata.address)
+            );
+          }
+        });
+
+      // Override the workspace programs if the user put them in the config.
+      const anchorToml = toml.parse(
+        fs.readFileSync(path.join(projectRoot, "Anchor.toml"), "utf-8")
+      );
+      const clusterId = anchorToml.provider.cluster;
+      if (anchorToml.programs && anchorToml.programs[clusterId]) {
+        attachWorkspaceOverride(
+          workspaceCache,
+          anchorToml.programs[clusterId],
+          idlMap
+        );
+      }
+
+      _populatedWorkspace = true;
+    }
+
+    return workspaceCache[programName];
+  },
+});
+
+function attachWorkspaceOverride(
+  workspaceCache: { [key: string]: Program },
+  overrideConfig: { [key: string]: string | { address: string; idl?: string } },
+  idlMap: Map<string, Idl>
+) {
+  Object.keys(overrideConfig).forEach((programName) => {
+    const wsProgramName = pascalCase(programName);
+    const entry = overrideConfig[programName];
+    const overrideAddress = new PublicKey(
+      typeof entry === "string" ? entry : entry.address
+    );
+    let idl = idlMap.get(programName);
+    if (typeof entry !== "string" && entry.idl) {
+      idl = JSON.parse(require("fs").readFileSync(entry.idl, "utf-8"));
+    }
+    if (!idl) {
+      throw new Error(`Error loading workspace IDL for ${programName}`);
+    }
+    workspaceCache[wsProgramName] = new Program(idl, overrideAddress);
+  });
+}
+
+export default workspace;
diff --git a/types/borsh/index.d.ts b/types/borsh/index.d.ts
new file mode 100644
index 0000000000000000000000000000000000000000..8a88192237ec762bd74e3449658320eff74d27f5
--- /dev/null
+++ b/types/borsh/index.d.ts
@@ -0,0 +1,17 @@
+import "@project-serum/borsh";
+
+import { Layout as BaseLayout, UInt } from "@solana/buffer-layout";
+
+declare module "@project-serum/borsh" {
+  export class Layout<T> extends BaseLayout<T> {}
+
+  class OptionLayout<T> extends Layout<T | null> {
+    layout: Layout<T>;
+    discriminator: UInt;
+  }
+
+  export function option<T>(
+    layout: Layout<T>,
+    property?: string
+  ): OptionLayout<T>;
+}
diff --git a/types/buffer-layout/index.d.ts b/types/buffer-layout/index.d.ts
index 4a4e24e43def3d7d4d875854597a1ea1b4b9813b..a0c068a1e0ec4821b2a6d3d6d978e1d6248e44cf 100644
--- a/types/buffer-layout/index.d.ts
+++ b/types/buffer-layout/index.d.ts
@@ -1,88 +1,26 @@
+declare module "buffer-layout" {
+  import {
+    Layout as BaseLayout,
+    LayoutObject,
+    Structure,
+    Union,
+    UnionDiscriminator,
+    UInt,
+    UIntBE,
+  } from "@solana/buffer-layout";
 
-declare module 'buffer-layout' {
-	// TODO: remove `any`.
-  export class Layout<T = any> {
-    span: number;
-    property?: string;
+  export * from "@solana/buffer-layout";
 
-    constructor(span: number, property?: string);
+  export abstract class Layout<T = any> extends BaseLayout<T> {}
 
-    decode(b: Buffer | string, offset?: number): T;
-    encode(src: T, b: Buffer, offset?: number): number;
-    getSpan(b: Buffer, offset?: number): number;
-    replicate(name: string): this;
-  }
-	// TODO: remove any.
-  export class Structure<T = any> extends Layout<T> {
-		span: any;
-	}
-  export function greedy(
-    elementSpan?: number,
-    property?: string,
-  ): Layout<number>;
-  export function offset<T>(
-    layout: Layout<T>,
-    offset?: number,
-    property?: string,
-  ): Layout<T>;
-  export function u8(property?: string): Layout<number>;
-  export function u16(property?: string): Layout<number>;
-  export function u24(property?: string): Layout<number>;
-  export function u32(property?: string): Layout<number>;
-  export function u40(property?: string): Layout<number>;
-  export function u48(property?: string): Layout<number>;
-  export function nu64(property?: string): Layout<number>;
-  export function u16be(property?: string): Layout<number>;
-  export function u24be(property?: string): Layout<number>;
-  export function u32be(property?: string): Layout<number>;
-  export function u40be(property?: string): Layout<number>;
-  export function u48be(property?: string): Layout<number>;
-  export function nu64be(property?: string): Layout<number>;
-  export function s8(property?: string): Layout<number>;
-  export function s16(property?: string): Layout<number>;
-  export function s24(property?: string): Layout<number>;
-  export function s32(property?: string): Layout<number>;
-  export function s40(property?: string): Layout<number>;
-  export function s48(property?: string): Layout<number>;
-  export function ns64(property?: string): Layout<number>;
-  export function s16be(property?: string): Layout<number>;
-  export function s24be(property?: string): Layout<number>;
-  export function s32be(property?: string): Layout<number>;
-  export function s40be(property?: string): Layout<number>;
-  export function s48be(property?: string): Layout<number>;
-  export function ns64be(property?: string): Layout<number>;
-  export function f32(property?: string): Layout<number>;
-  export function f32be(property?: string): Layout<number>;
-  export function f64(property?: string): Layout<number>;
-  export function f64be(property?: string): Layout<number>;
-  export function struct<T>(
-    fields: Layout<any>[],
-    property?: string,
-    decodePrefixes?: boolean,
-  ): Layout<T>;
-  export function bits(
-    word: Layout<number>,
-    msb?: boolean,
-    property?: string,
-  ): any;
-  export function seq<T>(
-    elementLayout: Layout<T>,
-    count: number | Layout<number>,
-    property?: string,
-  ): Layout<T[]>;
-  export function union(
-    discr: Layout<any>,
-    defaultLayout?: any,
-    property?: string,
-  ): any;
-  export function unionLayoutDiscriminator(
-    layout: Layout<any>,
-    property?: string,
-  ): any;
-  export function blob(
-    length: number | Layout<number>,
-    property?: string,
-  ): Layout<Buffer>;
-  export function cstr(property?: string): Layout<string>;
-  export function utf8(maxSpan: number, property?: string): Layout<string>;
+  export const struct: <T = LayoutObject>(
+    fields: Layout<T[keyof T]>[],
+    property?: string | undefined,
+    decodePrefixes?: boolean | undefined
+  ) => Structure<T>;
+  export const union: (
+    discr: Layout<LayoutObject> | UnionDiscriminator | UInt | UIntBE,
+    defaultLayout?: Layout<LayoutObject> | undefined,
+    property?: string | undefined
+  ) => Union;
 }
